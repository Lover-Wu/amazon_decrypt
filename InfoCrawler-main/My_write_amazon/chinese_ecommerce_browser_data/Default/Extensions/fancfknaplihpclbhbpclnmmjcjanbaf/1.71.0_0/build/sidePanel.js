var sidePanel=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function l(e,t){return e===t||(s||(s=document.createElement("a")),s.href=t,e===s.href)}function c(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e,t,n){e.$$.on_destroy.push(c(t,n))}function d(e,t,n,r){if(e){const o=p(e,t,n,r);return e[0](o)}}function p(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function f(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function h(e,t,n,r,o,i){if(o){const a=p(t,n,r,i);e.p(a,o)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(e){return null==e?"":e}function v(e,t,n){return e.set(n),t}function _(t){return t&&i(t.destroy)?t.destroy:e}function y(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const T="undefined"!=typeof window;let S=T?()=>window.performance.now():()=>Date.now(),b=T?e=>requestAnimationFrame(e):e;const w=new Set;function E(e){w.forEach((t=>{t.c(e)||(w.delete(t),t.f())})),0!==w.size&&b(E)}function A(e){let t;return 0===w.size&&b(E),{promise:new Promise((n=>{w.add(t={c:e,f:n})})),abort(){w.delete(t)}}}function I(e,t){e.appendChild(t)}function R(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function O(e){const t=k("style");return t.textContent="/* empty */",function(e,t){I(e.head||e,t),t.sheet}(R(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function P(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function $(){return L(" ")}function D(){return L("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e){return function(t){return t.preventDefault(),e.call(this,t)}}function V(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function G(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e,t){t=""+t,e.data!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function q(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function B(e,t,n){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function H(e,t,n){e.classList.toggle(t,!!n)}function J(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class z{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=C(t.nodeName):this.e=k(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)x(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}function W(e,t){return new e(t)}const Y=new Map;let X,K=0;function Q(e,t,n,r,o,i,a,s=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*i(e);c+=100*e+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,p=R(e),{stylesheet:f,rules:h}=Y.get(p)||function(e,t){const n={stylesheet:O(t),rules:{}};return Y.set(e,n),n}(p,e);h[d]||(h[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${o}ms 1 both`,K+=1,d}function Z(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),K-=o,K||b((()=>{K||(Y.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)})),Y.clear())})))}function ee(e){X=e}function te(){if(!X)throw new Error("Function called outside component initialization");return X}function ne(e){te().$$.on_mount.push(e)}function re(e){te().$$.on_destroy.push(e)}function oe(){const e=te();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=J(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function ie(e,t){return te().$$.context.set(e,t),t}function ae(e){return te().$$.context.get(e)}function se(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const le=[],ce=[];let ue=[];const de=[],pe=Promise.resolve();let fe=!1;function he(e){ue.push(e)}function ge(e){de.push(e)}const me=new Set;let ve,_e=0;function ye(){if(0!==_e)return;const e=X;do{try{for(;_e<le.length;){const e=le[_e];_e++,ee(e),Te(e.$$)}}catch(e){throw le.length=0,_e=0,e}for(ee(null),le.length=0,_e=0;ce.length;)ce.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];me.has(t)||(me.add(t),t())}ue.length=0}while(le.length);for(;de.length;)de.pop()();fe=!1,me.clear(),ee(e)}function Te(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(he)}}function Se(){return ve||(ve=Promise.resolve(),ve.then((()=>{ve=null}))),ve}function be(e,t,n){e.dispatchEvent(J(`${t?"intro":"outro"}${n}`))}const we=new Set;let Ee;function Ae(){Ee={r:0,c:[],p:Ee}}function Ie(){Ee.r||o(Ee.c),Ee=Ee.p}function Re(e,t){e&&e.i&&(we.delete(e),e.i(t))}function Oe(e,t,n,r){if(e&&e.o){if(we.has(e))return;we.add(e),Ee.c.push((()=>{we.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const xe={duration:0};function Ne(n,r,o){const a={direction:"in"};let s,l,c=r(n,o,a),u=!1,d=0;function p(){s&&Z(n,s)}function f(){const{delay:r=0,duration:o=300,easing:i=t,tick:a=e,css:f}=c||xe;f&&(s=Q(n,0,1,o,r,i,f,d++)),a(0,1);const h=S()+r,g=h+o;l&&l.abort(),u=!0,he((()=>be(n,!0,"start"))),l=A((e=>{if(u){if(e>=g)return a(1,0),be(n,!0,"end"),p(),u=!1;if(e>=h){const t=i((e-h)/o);a(t,1-t)}}return u}))}let h=!1;return{start(){h||(h=!0,Z(n),i(c)?(c=c(a),Se().then(f)):f())},invalidate(){h=!1},end(){u&&(p(),u=!1)}}}function Pe(e){return void 0!==e?.length?e:Array.from(e)}function ke(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Ce(e){e&&e.c()}function Le(e,t,r){const{fragment:a,after_update:s}=e.$$;a&&a.m(t,r),he((()=>{const t=e.$$.on_mount.map(n).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),s.forEach(he)}function $e(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];ue.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),ue=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){-1===e.$$.dirty[0]&&(le.push(e),fe||(fe=!0,pe.then(ye)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(t,n,i,a,s,l,c=null,u=[-1]){const d=X;ee(t);const p=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(p.root);let f=!1;if(p.ctx=i?i(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),f&&De(t,e)),n})):[],p.update(),f=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(N)}else p.fragment&&p.fragment.c();n.intro&&Re(t.$$.fragment),Le(t,n.target,n.anchor),ye()}ee(d)}class Ue{$$=void 0;$$set=void 0;$destroy(){$e(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Ve=function(e,t){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ve(e,t)};function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Fe(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function je(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function qe(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function He(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Je(e){return this instanceof Je?(this.v=e,this):new Je(e)}function ze(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof Je?Promise.resolve(e.value.v).then(l,c):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function We(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=qe(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const Ye=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google español",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ES-419",langCodeForSpeech:"es-ES",voice:"Google español",supportsFormality:!0,langCodeForIta:"es-419"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HE",langCodeForSpeech:"he",langCodeForIta:"he"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"VI",langCodeForSpeech:"vi",langCodeForIta:"vi"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],Xe=["EN-GB","FR","DE","IT","PT-PT","ES"],Ke={"EN-US":"EN","EN-GB":"EN","ES-419":"ES","PT-PT":"PT","PT-BR":"PT","ZH-HANT":"ZH"},Qe=[{langCode:"EN",langCodeForIta:"en"},{langCode:"PT",langCodeForIta:"pt"}],Ze=["pt-BR","pt-PT","en-GB","en-US","de","fr","it","es","ja","ko","zh-Hans"],et=0,tt=1,nt=2,rt={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},ot="inline",it="automatic",at="manual",st="input",lt="input_alternatives",ct="side_panel",ut="customization",dt=1,pt=2,ft=3,ht={notLoggedIn:1500,loggedInFree:5e3},gt={notLoggedIn:2e3,loggedInFree:2e3},mt=1,vt=5,_t=1,yt=2,Tt={deepl_inline_ui:{z_index:2147483639}},St="FULL_PAGE_TRANSLATION",bt="NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY",wt="green_theme",Et="INLINE_TRANSLATION_TRIGGER_ICON",At="INLINE_TRANSLATION_SETTINGS_ICON",It="INLINE_TRANSLATION_SETTING_POPUP",Rt="INLINE_TRANSLATION_TOOLBAR_TARGET_LANGUAGE_SELECTOR",Ot="INLINE_TRANSLATION_WRITE_TOOLBAR_LANGUAGE_SELECTOR",xt="INPUT_TRANSLATION_SETTING_USE_ADVANCED_WINDOW",Nt="INPUT_TRANSLATION_TRIGGER_ICON",Pt="INPUT_IMPROVE_TRIGGER_ICON",kt="INPUT_TRANSLATION_SETTINGS_ICON",Ct="INPUT_TRANSLATION_SETTING_POPUP",Lt="INPUT_TRANSLATION_SETTING_LANGUAGE_SELECTOR",$t="SETTINGS_PAGE_FPT",Dt="SETTINGS_PAGE_READING",Mt="SETTINGS_PAGE_WRITING",Ut="SETTINGS_PAGE_INTEGRATIONS",Vt="SETTINGS_PAGE_TRANSLATOR_READING_TARGET_LANGUAGE_SELECTOR",Gt="SETTINGS_PAGE_TRANSLATOR_WRITING_TARGET_LANGUAGE_SELECTOR",Ft="SETTINGS_PAGE_FULL_PAGE_TRANSLATION_TARGET_LANGUAGE_SELECTOR",jt="FPT_HIDE_MODAL",qt="INPUT_TRANSLATION_READ_MORE_LINK",Bt="INLINE_TRANSLATION_READ_MORE_LINK",Ht="FPT_TRANSLATION_READ_MORE_LINK",Jt="FPT_TRANSLATION_POPUP_MENU_OPTION",zt="FPT_TRANSLATION_POPUP_OPEN_SETTINGS",Wt="FPT_TRANSLATION_POPUP_CLOSE_BUTTON",Yt="FPT_TRANSLATION_POPUP_SHOW_ORIGINAL",Xt="FPT_TRANSLATION_POPUP_OPEN_SIDEBAR_BUTTON",Kt="EXTENSION_HUB_TOGGLE_SWITCH",Qt="HUB_CUSTOMIZE_SHORTCUT",Zt="HUB_LOGIN_BUTTON",en="HUB_UPGRADE_TO_PRO_LINK",tn="HUB_TRY_PRO_LINK",nn="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",rn="HUB_FPT_ENABLE_CHECKBOX",on="HUB_FPT_DISABLE_CHECKBOX",an="DEEPL_WRITE_ICON",sn="gmailOnboardingPopup",ln="gmailOnboardingIcon",cn="gmailCharLimitLogin",un="gmailFeedbackSurvey",dn="HUB_VIEW_INTEGRATIONS",pn="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",fn="GSLIDES_FEEDBACK_SURVEY",hn="GSLIDES_CHAR_LIMIT_LOGIN",gn="ZENDESK_TRY_PRO_LINK",mn="ONBOARDING_SIGN_UP",vn="ONBOARDING_SKIP_SIGN_UP",_n="ONBOARDING_LOGIN_LINK",yn="ONBOARDING_SEE_ALL_INTEGRATIONS",Tn="ICON_TOGGLE_IN_HUB_TRANSLATOR",Sn="ICON_TOGGLE_IN_HUB_WRITE",bn="MANAGE_ICON_SETTINGS",wn="WRITE_LANGUAGE_SWITCHED_IN_HUB",En="WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",An="SIDE_PANEL_ICON_ON_WEBSITE",In="HUB_ONBOARDING_LINK",Rn="INLINE_SELECTION_TRANSLATE_ICON",On="INLINE_SELECTION__WRITE_ICON",xn="INPUT_SELECTION_TRANSLATE_ICON",Nn="INPUT_SELECTION__WRITE_ICON",Pn="INLINE_SELECTION_TRIGGER_OFF_ICON",kn="INPUT_SELECTION_TRIGGER_OFF_ICON",Cn="SIDE_PANEL_LOGIN_BUTTON",Ln="SIDE_PANEL_SETTINGS_BUTTON",$n="SIDE_PANEL_LOGOUT_BUTTON",Dn="SIDE_PANEL_UPGRADE_BUTTON",Mn="SIDE_PANEL_TRANSLATOR_TAB",Un="SIDE_PANEL_TRANSLATOR_TARGET_LANG",Vn="SIDE_PANEL_TRANSLATOR_SOURCE_LANG",Gn="SIDE_PANEL_TRANSLATION_DIR_INDICATOR",Fn="SIDE_PANEL_SOURCE_TEXT_FIELD",jn="SIDE_PANEL_TARGET_TEXT_FIELD",qn="REVIEW_WINDOW_CLOSE_ICON",Bn="REVIEW_WINDOW_TRANSLATE_ALTERNATIVES",Hn="REVIEW_WINDOW_WRITE_ALTERNATIVES",Jn="USER_PROFILE_SURVEY_CLOSE_BUTTON",zn="USER_PROFILE_SURVEY_REMIND_LATER_BUTTON",Wn="USER_PROFILE_SURVEY_LAUNCH_BUTTON",Yn="EXPERIENCE_FEEDBACK_AMAZING_BUTTON",Xn="EXPERIENCE_FEEDBACK_NOT_GOOD_BUTTON",Kn="EXPERIENCE_FEEDBACK_CLOSE_BUTTON",Qn="EXPERIENCE_FEEDBACK_REMIND_LATER_BUTTON",Zn="EXPERIENCE_FEEDBACK_WRITE_REVIEW_BUTTON",er="DOWNLOAD_LOGS_BUTTON",tr="SIDE_PANEL_SOURCE_TEXT_FIELD_OCR_ICON",nr="OCR_TRANSLATION_INSTRUCTIONS_OPEN_SHORTCUT_SETTINGS_BUTTON",rr="SIDE_PANEL_VIEW_PORT",or="INPUT_INLINE_HIGHLIGHT",ir="SIDE_PANEL_ENABLE_INLINE_HIGHLIGHTS_BUTTON",ar="SIDE_PANEL_DISABLE_INLINE_HIGHLIGHTS_BUTTON",sr="INLINE_HIGHLIGHT_DISMISS_BUTTON",lr="screenshot-translation",cr=0,ur=1,dr=2,pr=3,fr=4,hr="cofdbpoegempjloogbagkncekinflcnj",gr="fancfknaplihpclbhbpclnmmjcjanbaf",mr="ocpdpnakdghopjcifldjidbdmfobmmoi",vr="firefox-extension@deepl.com";const _r="DEFAULT",yr="GDOCS",Tr="ZENDESK",Sr="WHATSAPP_WEB",br="TWITTER",wr="GMAIL",Er="GSLIDES",Ar="LINKEDIN",Ir="YOUTUBE",Rr="USER",Or="EXTENSION",xr={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},Nr="free",Pr="pro",kr="none",Cr="ANONYMOUS_USER_LIMIT_EXCEEDED",Lr="FREE_ACCOUNT_LIMIT_EXCEEDED",$r="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",Dr="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",Mr="PRO_TRIAL",Ur="LOGIN",Vr="SIGNUP",Gr="None",Fr="Pro",jr="Free",qr=Object.assign(Object.assign({},{simple:"simple",business:"business",academic:"academic",casual:"casual"}),{enthusiastic:"enthusiastic",friendly:"friendly",confident:"confident",diplomatic:"diplomatic"});qr.simple,qr.business,qr.academic,qr.casual,qr.enthusiastic,qr.friendly,qr.confident,qr.diplomatic;const Br="login",Hr="auto_login",Jr="ocr",zr="fpt",Wr="translate",Yr="write",Xr="new_session",Kr="recreated_session",Qr="error",Zr="user_interaction",eo="connection",to="session",no="update_target_language",ro="update_source_language",oo="update_formality",io="update_style",ao="select_alternative",so={dlRequestLogin:"dlRequestLogin",dlRequestSignUp:"dlRequestSignUp",dlRequestLogout:"dlRequestLogout",dlGetUserState:"dlGetUserState",dlGetClientState:"dlGetClientState",dlManipulateGetClientState:"dlManipulateGetClientState",dlGetUsersCharacterLimit:"dlGetUsersCharacterLimit"},lo={dlSendNotification:"dlSendNotification"},co={dlCheckCommandShortcuts:"dlCheckCommandShortcuts",dlGetAppSettings:"dlGetAppSettings",dlUpdateAppSettings:"dlUpdateAppSettings"},uo={dlRequestTermbases:"dlRequestTermbases",dlGetDictionary:"dlGetDictionary"},po={dlTrackInlineSettingOpened:"dlTrackInlineSettingOpened",dlTrackPolicyLoginRequiredNotification:"dlTrackPolicyLoginRequiredNotification",dlTrackUpgradeNotificationAction:"dlTrackUpgradeNotificationAction",dlTrackLogoClickedEvent:"dlTrackLogoClickedEvent",dlTrackDetectLanguage:"dlTrackDetectLanguage",dlTrackSidePanelOpened:"dlTrackSidePanelOpened",dlTrackFormalitySelected:"dlTrackFormalitySelected",dlTrackWriteTextTonesChanged:"dlTrackWriteTextTonesChanged",dlTrackWriteTextStylesApplied:"dlTrackWriteTextStylesApplied",dlTrackWriteTextStylesChanged:"dlTrackWriteTextStylesChanged",dlTrackClicksOnAdsButton:"dlTrackClicksOnAdsButton",dlTrackIframeTranslationFailed:"dlTrackIframeTranslationFailed",dlTrackSeeAlternativesClicked:"dlTrackSeeAlternativesClicked",dlTrackAlternativeSelected:"dlTrackAlternativeSelected",dlTrackLanguageDetectionForTextProcessing:"dlTrackLanguageDetectionForTextProcessing",dlTrackUpgradeNotificationClosed:"dlTrackUpgradeNotificationClosed",dlTrackUpgradeNotificationIsDisplayed:"dlTrackUpgradeNotificationIsDisplayed",dlOnSuccessfulZendeskTranslation:"dlOnSuccessfulZendeskTranslation",dlTrackAlternativesEvent:"dlTrackAlternativesEvent",dlTrackGmailCharLimitReached:"dlTrackGmailCharLimitReached",dlTrackCustomizationEnabledEvent:"dlTrackCustomizationEnabledEvent",dlTrackTranslateAcceptOrRevertEvent:"dlTrackTranslateAcceptOrRevertEvent",dlTrackGDocsReplaceText:"dlTrackGDocsReplaceText",dlTrackLandingOnWebsite:"dlTrackLandingOnWebsite",dlTrackOnboardingOpenExternalLink:"dlTrackOnboardingOpenExternalLink",dlTrackOnboardingStepChange:"dlTrackOnboardingStepChange",dlTrackIconHover:"dlTrackIconHover",dlTrackVoiceOverStops:"dlTrackVoiceOverStops",dlTrackInlineListen:"dlTrackInlineListen",dlTrackInlineCopy:"dlTrackInlineCopy",dlTrackFptHide:"dlTrackFptHide",dlTrackInlineDragStart:"dlTrackInlineDragStart",dlTrackInlinePositionChange:"dlTrackInlinePositionChange",dlTrackRightClick:"dlTrackRightClick",dlTrackRecommendToAFriendClick:"dlTrackRecommendToAFriendClick",dlTrackDocTransClick:"dlTrackDocTransClick",dlTrackExtensionOpenedEvent:"dlTrackExtensionOpenedEvent",dlTrackInputTranslationInjection:"dlTrackInputTranslationInjection",dlTrackUseOfShortcut:"dlTrackUseOfShortcut",dlTrackUiAction:"dlTrackUiAction",dlTrackSettingChanged:"dlTrackSettingChanged",dlTrackOpenInputHighlighter:"dlTrackOpenInputHighlighter",dlTrackOpenInlineHighlighter:"dlTrackOpenInlineHighlighter",dlTrackCloseInputHighlighter:"dlTrackCloseInputHighlighter",dlTrackCloseInlineHighlighter:"dlTrackCloseInlineHighlighter",dlTrackDictionaryStatus:"dlTrackDictionaryStatus",dlTrackOpenDictionarySection:"dlTrackOpenDictionarySection",dlTrackDisabledDictionaryHover:"dlTrackDisabledDictionaryHover",dlTrackZendeskCustomizationEvent:"dlTrackZendeskCustomizationEvent",dlTrackZendeskGlossaryOpened:"dlTrackZendeskGlossaryOpened",dlTrackGlossaryEnabled:"dlTrackGlossaryEnabled",dlTrackGlossaryDisabled:"dlTrackGlossaryDisabled",dlTrackDeeplWriteEvent:"dlTrackDeeplWriteEvent",dlTrackLingueeErrorData:"dlTrackLingueeErrorData",dlTrackGdocsMaxCharExceededShown:"dlTrackGdocsMaxCharExceededShown",dlTrackGDocsMaxCharExceededTryProClicked:"dlTrackGDocsMaxCharExceededTryProClicked",dlTrackOnboardingModalShown:"dlTrackOnboardingModalShown",dlTrackUILocationClicked:"dlTrackUILocationClicked",dlTrackIframeTranslationSuccessful:"dlTrackIframeTranslationSuccessful",dlTrackReplaceInField:"dlTrackReplaceInField",dlTrackFptPopupOpen:"dlTrackFptPopupOpen",dlTrackExperimentTrigger:"dlTrackExperimentTrigger",dlTrackOcrTranslationInstructionsClosed:"dlTrackOcrTranslationInstructionsClosed",dlTrackInlineHighlightsShown:"dlTrackInlineHighlightsShown"},fo={dlGetExperiments:"dlGetExperiments"},ho={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",checkForOpenSidePanel:"checkForOpenSidePanel",dlExternalURLRedirect:"dlExternalURLRedirect",newWebsiteState:"newWebsiteState",resetWebsiteState:"resetWebsiteState",dlOpenSidePanel:"dlOpenSidePanel",dlOpenAllBrowserFeedbackSurvey:"dlOpenAllBrowserFeedbackSurvey",dlGetActionLogs:"dlGetActionLogs",dlGetCleanupStats:"dlGetCleanupStats",dlManualCleanupActionLogs:"dlManualCleanupActionLogs"},go={dlGetCustomLogo:"dlGetCustomLogo"};function mo(e){return function(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){chrome.runtime.lastError&&n(chrome.runtime.lastError.message),e&&"object"==typeof e&&"error"in e&&n(e),t(e)}))}))}(e)}function vo(e){return Fe(this,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}))}const _o="ITA_REQUEST_TRANSLATION",yo={dlTranslate:"dlTranslate",dlTranslateInline:"dlTranslateInline",dlTranslateInput:"dlTranslateInput",dlTranslateSelectionRightClick:"dlTranslateSelectionRightClick",dlTranslateSelectedArea:"dlTranslateSelectedArea",dlTriggerTranslationShortcut:"dlTriggerTranslationShortcut"},To={dlShowOriginal:"dlShowOriginal",dlTabChanged:"dlTabChanged",dlDefaultPopUpMounting:"dlDefaultPopUpMounting",dlGetWebsiteData:"dlGetWebsiteData",dlShowNotification:"dlShowNotification",dlErrorVisibility:"dlErrorVisibility",dlShowAskForAReviewPopup:"dlShowAskForAReviewPopup",dlShowCustomerSegmentationSurvey:"dlShowCustomerSegmentationSurvey",dlShowArabicSurveyPopup:"dlShowArabicSurveyPopup",dlShowAlert:"dlShowAlert",dlSelectCaptureArea:"dlSelectCaptureArea",dlChangeActiveTabStatus:"dlChangeActiveTabStatus",dlShowPageLoadPopup:"dlShowPageLoadPopup",dlTranslateWebPageByRightMenuClick:"dlTranslateWebPageByRightMenuClick",dlChangeLanguageShortcut:"dlChangeLanguageShortcut"},So={ping:"ping"};function bo(e){return new Promise(((t,n)=>{chrome.tabs.query({active:!0,currentWindow:!0},(r=>Fe(this,void 0,void 0,(function*(){if(0===r.length)return void n(new Error("No active tab found."));const o=r[0].id;if(void 0!==o)try{yield function(e){return Fe(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{chrome.tabs.sendMessage(e,{action:So.ping},(e=>{chrome.runtime.lastError?n(new Error("Content script not found or invalid.")):e&&"active"===e.status?t("Content script is active and valid."):n(new Error("No response from content script."))}))}))}))}(o),console.log("Content script is active and valid."),e.fetchCurrentWebsiteSettings(),chrome.tabs.sendMessage(o,{action:To.dlDefaultPopUpMounting}),t("Content script is active and valid.")}catch(e){n(new Error("Content script is not valid or missing.",{cause:e}))}}))))}))}chrome.runtime.onMessage.addListener(((e,t,n)=>{if(e.action===ho.checkForOpenSidePanel)return n(!0),!1}));const wo=[];function Eo(t,n=e){let r;const o=new Set;function i(e){if(a(t,e)&&(t=e,r)){const e=!wo.length;for(const e of o)e[1](),wo.push(e,t);if(e){for(let e=0;e<wo.length;e+=2)wo[e][0](wo[e+1]);wo.length=0}}}function s(e){i(e(t))}return{set:i,update:s,subscribe:function(a,l=e){const c=[a,l];return o.add(c),1===o.size&&(r=n(i,s)||e),a(t),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}function Ao(t,n,r){const a=!Array.isArray(t),s=a?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=n.length<2;return u=(t,r)=>{let u=!1;const d=[];let p=0,f=e;const h=()=>{if(p)return;f();const o=n(a?d[0]:d,t,r);l?t(o):f=i(o)?o:e},g=s.map(((e,t)=>c(e,(e=>{d[t]=e,p&=~(1<<t),u&&h()}),(()=>{p|=1<<t}))));return u=!0,h(),function(){o(g),f(),u=!1}},{subscribe:Eo(r,u).subscribe};var u}const Io=[];for(let e=0;e<256;++e)Io.push((e+256).toString(16).slice(1));let Ro;const Oo=new Uint8Array(16);var xo={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function No(e,t,n){if(xo.randomUUID&&!e)return xo.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!Ro){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ro=crypto.getRandomValues.bind(crypto)}return Ro(Oo)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e,t=0){return(Io[e[t+0]]+Io[e[t+1]]+Io[e[t+2]]+Io[e[t+3]]+"-"+Io[e[t+4]]+Io[e[t+5]]+"-"+Io[e[t+6]]+Io[e[t+7]]+"-"+Io[e[t+8]]+Io[e[t+9]]+"-"+Io[e[t+10]]+Io[e[t+11]]+Io[e[t+12]]+Io[e[t+13]]+Io[e[t+14]]+Io[e[t+15]]).toLowerCase()}(r)}function Po(e){return e.split("-")[0]}const ko=e=>Po(e).toUpperCase(),Co=e=>{let t,n;return(e||Ye).map((e=>{var r;let o;const i=e.langCode in Ke;return i&&(({optionLabel:t,selectedLabel:n}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"ES-419":return{optionLabel:chrome.i18n.getMessage("supported_languages_ES_419"),selectedLabel:chrome.i18n.getMessage("supported_languages_ES_419")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(e)),o=e.langCodeForIta),{value:e.langCode,label:i?t:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:i?n:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),regionalVariant:o,isNew:null!==(r=e.isNew)&&void 0!==r&&r}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function Lo(e){return"EN"===e?["EN-GB","EN-US"]:"ES"===e?["ES","ES-419"]:"PT"===e?["PT-PT","PT-BR"]:"ZH"===e?["ZH","ZH-HANT"]:null}const $o=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur","ckb","kmr"].includes(Po(t).toLowerCase())?"rtl":"ltr"};function Do(e){if(!e.lang)throw new Error("getLanguageInITAFormat - Language is required");const t=(e.languageList&&e.languageList.length>0?[...e.languageList,...Qe]:[...Ye,...Qe]).find((t=>t.langCode===e.lang.toUpperCase()));let n=null==t?void 0:t.langCodeForIta;return e.direction&&"source"===e.direction?"zh-Hans"==(null==t?void 0:t.langCodeForIta)?"zh":null!=n?n:"autodetect":null!=n?n:e.lang}function Mo(e,t){if(!t)return e;const n=e.filter((e=>e!==t));return[t,...n].slice(0,6)}const Uo="production",Vo="development",Go="testing";function Fo(){return Uo}function jo(){return Fo()===Vo}function qo(){return Fo()===Uo}function Bo(...e){jo()&&console.log(...e)}const Ho={accessToken:"a_t",refreshToken:"r_t",idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger",last_login:"last_login",organizationId:"organizationId"},Jo={activeTermbaseId:"activeTermbaseId",isGlossaryEnabled:"isGlossaryEnabled",hasTermbaseService:"hasTermbaseService",canCreateGlossary:"canCreateGlossary"},zo="browserInstanceId",Wo="whiteLabelLogoId",Yo="accountCountry",Xo="translationLanguages",Ko="customTranslatorName";class Qo extends Error{}function Zo(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return atob(t)}}function ei(){const e=new Uint32Array(28);return crypto.getRandomValues(e),Array.from(e,(e=>("0"+e.toString(16)).slice(-2))).join("")}function ti(e){if(void 0!==e)try{return function(e,t){if("string"!=typeof e)throw new Qo("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!=typeof r)throw new Qo(`Invalid token specified: missing part #${n+1}`);let o;try{o=Zo(r)}catch(e){throw new Qo(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(o)}catch(e){throw new Qo(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}(e)}catch(e){return null}}Qo.prototype.name="InvalidTokenError";const ni={brave:"Brave",chrome:"Chrome",edge:"Edge",firefox:"Firefox",opera:"Opera",safari:"Safari"};function ri(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function oi(e,t){let n;try{switch(e){case ni.chrome:case ni.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case ni.edge:n=t.split("Edg/")[1].split(" ")[0];break;case ni.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case ni.opera:n=t.split("OPR/")[1].split(" ")[0];break;case ni.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===ni.chrome||e===ni.edge||e===ni.brave||e===ni.opera}(e)&&(n=ii(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function ii(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const ai="unknown_user_agent",si="unknown_platform",li="unknown_browser",ci="unknown_browser_version",ui="unknown_browser_language";function di(e){return Fe(this,void 0,void 0,(function*(){const e=pi(),{browserInstanceId:t}=yield iA([zo]),n=function(){switch(chrome.runtime.id){case hr:return"chrome_web_store";case gr:return"edge_addon_store";case vr:return"firefox_addon_store";case mr:return"local";default:return"unknown"}}();return{os:`brex_${e.platform}`,osVersion:`brex_${e.browser}_${e.browserVersion}`,appVersion:"1.71.0",appBuild:n,instanceId:null!=t?t:"unknown"}}))}function pi(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||ai,r=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||si;let o=li,i=ci,a=(null===navigator||void 0===navigator?void 0:navigator.language)||ui;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(a=chrome.i18n.getUILanguage());try{o=fi(n),i=oi(o,n)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:n,platform:r,browser:o,browserVersion:i,browserLang:a}}const fi=e=>{let t=li;try{const n=e.match(/chrome|chromium|crios/i),r=e.match(/edg/i)||ii(ni.edge),o=e.match(/firefox|fxios/i),i=e.match(/opr\//i)||ii(ni.opera),a=e.match(/safari/i),s=ii(ni.brave);n?(t=ni.chrome,r&&(t=ni.edge),i&&(t=ni.opera),s&&(t=ni.brave)):r?t=ni.edge:o?t=ni.firefox:i?t=ni.opera:a&&(t=ni.safari)}catch(e){console.error("Could not get the name of the brower",e)}return t};function hi(){if({IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.browserBuild.toLowerCase()===ni.firefox.toLowerCase();const e=chrome.runtime.getURL("");return pi().browser===ni.firefox||/moz-extension:\/\//gm.test(e)}const gi="DEEPL_COM_PRO",mi="DEEPL_COM_PRO_WRITE",vi="DEEPL_COM_HOMEPAGE",_i="SHORTCUT_SETTINGS",yi="DEEPL_SUPPORT",Ti="LEARN_WHY_GEO_BLOCKED",Si=Object.prototype.toString;function bi(e){switch(Si.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ci(e,Error)}}function wi(e,t){return Si.call(e)===`[object ${t}]`}function Ei(e){return wi(e,"ErrorEvent")}function Ai(e){return wi(e,"DOMError")}function Ii(e){return wi(e,"String")}function Ri(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Oi(e){return null===e||Ri(e)||"object"!=typeof e&&"function"!=typeof e}function xi(e){return wi(e,"Object")}function Ni(e){return"undefined"!=typeof Event&&Ci(e,Event)}function Pi(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function ki(e){return"number"==typeof e&&e!=e}function Ci(e,t){try{return e instanceof t}catch(e){return!1}}function Li(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function $i(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Di(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Mi(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{Li(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Ui(e,t,n=!1){return!!Ii(e)&&(wi(t,"RegExp")?t.test(e):!!Ii(t)&&(n?e===t:e.includes(t)))}function Vi(e,t=[],n=!1){return t.some((t=>Ui(e,t,n)))}function Gi(e,t,n=250,r,o,i,a){if(!(i.exception&&i.exception.values&&a&&Ci(a.originalException,Error)))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;s&&(i.exception.values=(l=Fi(e,t,o,a.originalException,r,i.exception.values,s,0),c=n,l.map((e=>(e.value&&(e.value=$i(e.value,c)),e)))))}function Fi(e,t,n,r,o,i,a,s){if(i.length>=n+1)return i;let l=[...i];if(Ci(r[o],Error)){ji(a,s);const i=e(t,r[o]),c=l.length;qi(i,o,c,s),l=Fi(e,t,n,r[o],o,[i,...l],i,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(Ci(r,Error)){ji(a,s);const c=e(t,r),u=l.length;qi(c,`errors[${i}]`,u,s),l=Fi(e,t,n,r,o,[c,...l],c,u)}})),l}function ji(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function qi(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Bi(e){return e&&e.Math==Math?e:void 0}const Hi="object"==typeof globalThis&&Bi(globalThis)||"object"==typeof window&&Bi(window)||"object"==typeof self&&Bi(self)||"object"==typeof global&&Bi(global)||function(){return this}()||{};function Ji(){return Hi}function zi(e,t,n){const r=n||Hi,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const Wi=Ji();function Yi(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,a=0;const s=" > ",l=s.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=Xi(n,u),!("html"===c||i>1&&a+o.length*l+c.length>=d));)o.push(c),a+=c.length,n=n.parentNode;return o.reverse().join(s)}catch(e){return"<unknown>"}}function Xi(e,t){const n=e,r=[];let o,i,a,s,l;if(!n||!n.tagName)return"";if(Wi.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&Ii(o))for(i=o.split(/\s+/),l=0;l<i.length;l++)r.push(`.${i[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)a=u[l],s=n.getAttribute(a),s&&r.push(`[${a}="${s}"]`);return r.join("")}function Ki(){try{return Wi.document.location.href}catch(e){return""}}function Qi(e){return Wi.document&&Wi.document.querySelector?Wi.document.querySelector(e):null}function Zi(e){if(!Wi.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const ea="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ta=["debug","info","warn","error","log","assert","trace"],na={};function ra(e){if(!("console"in Hi))return e();const t=Hi.console,n={},r=Object.keys(na);r.forEach((e=>{const r=na[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const oa=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return ea?ta.forEach((n=>{t[n]=(...t)=>{e&&ra((()=>{Hi.console[n](`Sentry Logger [${n}]:`,...t)}))}})):ta.forEach((e=>{t[e]=()=>{}})),t}(),ia=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function aa(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function sa(e){const t=ia.exec(e);if(!t)return void ra((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",i,a="",s]=t.slice(1);let l="",c=s;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return la({host:i,pass:o,path:l,projectId:c,port:a,protocol:n,publicKey:r})}function la(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ca(e){const t="string"==typeof e?sa(e):la(e);if(t&&function(e){if(!ea)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(oa.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(oa.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(oa.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(oa.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class ua extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function da(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&fa(o,r),e[t]=o}function pa(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){ea&&oa.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function fa(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,pa(e,"__sentry_original__",t)}catch(e){}}function ha(e){return e.__sentry_original__}function ga(e){if(bi(e))return{message:e.message,name:e.name,stack:e.stack,...va(e)};if(Ni(e)){const t={type:e.type,target:ma(e.target),currentTarget:ma(e.currentTarget),...va(e)};return"undefined"!=typeof CustomEvent&&Ci(e,CustomEvent)&&(t.detail=e.detail),t}return e}function ma(e){try{return t=e,"undefined"!=typeof Element&&Ci(t,Element)?Yi(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function va(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function _a(e){return ya(e,new Map)}function ya(e,t){if(function(e){if(!xi(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=ya(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(ya(e,t))})),r}return e}const Ta=/\(error: (.*)\)/,Sa=/captureMessage|captureException/;function ba(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=Ta.test(n)?n.replace(Ta,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),Sa.test(t[t.length-1].function||"")&&(t.pop(),Sa.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const wa="<anonymous>";function Ea(e){try{return e&&"function"==typeof e&&e.name||wa}catch(e){return wa}}const Aa={},Ia={};function Ra(e,t){Aa[e]=Aa[e]||[],Aa[e].push(t)}function Oa(e,t){Ia[e]||(t(),Ia[e]=!0)}function xa(e,t){const n=e&&Aa[e];if(n)for(const r of n)try{r(t)}catch(t){ea&&oa.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Ea(r)}\nError:`,t)}}function Na(e){const t="console";Ra(t,e),Oa(t,Pa)}function Pa(){"console"in Hi&&ta.forEach((function(e){e in Hi.console&&da(Hi.console,e,(function(t){return na[e]=t,function(...t){xa("console",{args:t,level:e});const n=na[e];n&&n.apply(Hi.console,t)}}))}))}function ka(){const e=Hi,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Ca(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function La(e){const{message:t,event_id:n}=e;if(t)return t;const r=Ca(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $a(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Da(e,t){const n=Ca(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function Ma(e){if(e&&e.__sentry_captured__)return!0;try{pa(e,"__sentry_captured__",!0)}catch(e){}return!1}function Ua(e){return Array.isArray(e)?e:[e]}const Va=Hi;let Ga,Fa,ja;function qa(e){Ra("dom",e),Oa("dom",Ba)}function Ba(){if(!Va.document)return;const e=xa.bind(null,"dom"),t=Ha(e,!0);Va.document.addEventListener("click",t,!1),Va.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Va[t]&&Va[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(da(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=i[n]=i[n]||{refCount:0};if(!a.handler){const r=Ha(e);a.handler=r,t.call(this,n,r,o)}a.refCount++}catch(e){}return t.call(this,n,r,o)}})),da(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Ha(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;pa(n,"_sentryCaptured",!0),r&&!r._sentryId&&pa(r,"_sentryId",ka());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Fa)return!1;try{if(!e.target||e.target._sentryId!==ja)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),Fa=n.type,ja=r?r._sentryId:void 0}clearTimeout(Ga),Ga=Va.setTimeout((()=>{ja=void 0,Fa=void 0}),1e3)}}const Ja=Ji();function za(){if(!("fetch"in Ja))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Wa(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ya(){if("string"==typeof EdgeRuntime)return!0;if(!za())return!1;if(Wa(Ja.fetch))return!0;let e=!1;const t=Ja.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Wa(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){ea&&oa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Xa(e){const t="fetch";Ra(t,e),Oa(t,Ka)}function Ka(){Ya()&&da(Hi,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Za(t),method:Qa(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Za(t),method:Qa(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return xa("fetch",{...o}),e.apply(Hi,t).then((e=>(xa("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw xa("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}))}function Qa(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Za(e){return"string"==typeof e?e:e?Qa(e,"url")?e.url:e.toString?e.toString():"":""}let es=null;function ts(e){const t="error";Ra(t,e),Oa(t,ns)}function ns(){es=Hi.onerror,Hi.onerror=function(e,t,n,r,o){return xa("error",{column:r,error:o,line:n,msg:e,url:t}),!(!es||es.__SENTRY_LOADER__)&&es.apply(this,arguments)},Hi.onerror.__SENTRY_INSTRUMENTED__=!0}let rs=null;function os(e){const t="unhandledrejection";Ra(t,e),Oa(t,is)}function is(){rs=Hi.onunhandledrejection,Hi.onunhandledrejection=function(e){return xa("unhandledrejection",e),!(rs&&!rs.__SENTRY_LOADER__)||rs.apply(this,arguments)},Hi.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const as=Ji();const ss=Hi;let ls;function cs(e){const t="history";Ra(t,e),Oa(t,us)}function us(){if(!function(){const e=as.chrome,t=e&&e.app&&e.app.runtime,n="history"in as&&!!as.history.pushState&&!!as.history.replaceState;return!t&&n}())return;const e=ss.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=ls,t=String(n);ls=t;xa("history",{from:e,to:t})}return e.apply(this,t)}}ss.onpopstate=function(...t){const n=ss.location.href,r=ls;ls=n;if(xa("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},da(ss.history,"pushState",t),da(ss.history,"replaceState",t)}const ds=Hi,ps="__sentry_xhr_v3__";function fs(e){Ra("xhr",e),Oa("xhr",hs)}function hs(){if(!ds.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;da(e,"open",(function(e){return function(...t){const n=Date.now(),r=Ii(t[0])?t[0].toUpperCase():void 0,o=function(e){if(Ii(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!o)return e.apply(this,t);this[ps]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[ps];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}xa("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?da(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),da(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[ps];return o&&Ii(n)&&Ii(r)&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),da(e,"send",(function(e){return function(...t){const n=this[ps];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return xa("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function gs(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function ms(){return"undefined"!=typeof window&&(!gs()||void 0!==Hi.process&&"renderer"===Hi.process.type)}function vs(e,t=100,n=1/0){try{return ys("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function _s(e,t=3,n=102400){const r=vs(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?_s(e,t-1,n):r;var o}function ys(e,t,n=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,a]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&!ki(t))return t;const s=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Li(t))return"[VueViewModel]";if(xi(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Ea(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return s.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return ys("",c.toJSON(),l-1,r,o)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=ga(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]="[MaxProperties ~]";break}const t=p[e];u[e]=ys(e,t,l-1,r,o),d++}return a(t),u}const Ts=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Ss(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n="/"===o.charAt(0))}return t=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function bs(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function ws(e,t){return function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Ts.exec(t);return n?n.slice(1):[]}(e)[2]}var Es;function As(e){return new Rs((t=>{t(e)}))}function Is(e){return new Rs(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(Es||(Es={}));class Rs{constructor(e){Rs.prototype.__init.call(this),Rs.prototype.__init2.call(this),Rs.prototype.__init3.call(this),Rs.prototype.__init4.call(this),this._state=Es.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Rs(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Rs(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(Es.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Es.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Es.PENDING&&(Pi(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Es.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Es.RESOLVED&&e[1](this._value),this._state===Es.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Os(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Is(new ua("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new Rs(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{As(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function xs(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Ns=["fatal","error","warning","log","info","debug"];function Ps(e){return"warn"===e?"warning":Ns.includes(e)?e:"log"}function ks(){return Date.now()/1e3}const Cs=function(){const{performance:e}=Hi;if(!e||!e.now)return ks;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),Ls=(()=>{const{performance:e}=Hi;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+n-r):t;return i||s<t?o<=s?e.timeOrigin:a:r})(),$s="baggage",Ds="sentry-",Ms=/^sentry-/;function Us(e){if(!Ii(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=Gs(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=Gs(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Ms)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Vs(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,i=0===r?o:`${e},${o}`;return i.length>8192?(ea&&oa.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):i}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${Ds}${t}`]=n),e)),{}))}function Gs(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const Fs=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function js(e){if(!e)return;const t=e.match(Fs);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function qs(e,t){const n=js(e),r=Us(t),{traceId:o,parentSpanId:i,parentSampled:a}=n||{};return n?{traceId:o||ka(),parentSpanId:i||ka().substring(16),spanId:ka().substring(16),sampled:a,dsc:r||{}}:{traceId:o||ka(),spanId:ka().substring(16)}}function Bs(e=ka(),t=ka().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Hs(e,t=[]){return[e,t]}function Js(e,t){const[n,r]=e;return[n,[...r,t]]}function zs(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Ws(e,t){return(t||new TextEncoder).encode(e)}function Ys(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[Ws(o,t),e]:o.push("string"==typeof e?Ws(e,t):e)}for(const e of r){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(vs(n))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function Xs(e,t){const n="string"==typeof e.data?Ws(e.data,t):e.data;return[_a({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Ks={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Qs(e){return Ks[e]}function Zs(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function el(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:aa(r)},...o&&{trace:_a({...o})}}}function tl(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function nl(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function rl(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,i]=e.split(":",5),a=parseInt(t,10),s=1e3*(isNaN(a)?60:a);if(n)for(const e of n.split(";"))"metric_bucket"===e&&i&&!i.split(";").includes("custom")||(o[e]=r+s);else o.all=r+s}else a?o.all=r+tl(a,r):429===t&&(o.all=r+6e4);return o}function ol(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=function(e,t){return e(t.stack||"",1)}(e,t);return r.length&&(n.stacktrace={frames:r}),n}function il(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const al="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,sl="production";function ll(){return zi("globalEventProcessors",(()=>[]))}function cl(e){ll().push(e)}function ul(e,t,n,r=0){return new Rs(((o,i)=>{const a=e[r];if(null===t||"function"!=typeof a)o(t);else{const s=a({...t},n);al&&a.id&&null===s&&oa.log(`Event processor "${a.id}" dropped event`),Pi(s)?s.then((t=>ul(e,t,n,r+1).then(o))).then(null,i):ul(e,s,n,r+1).then(o).then(null,i)}}))}function dl(e){const t=Cs(),n={sid:ka(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return _a({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&pl(n,e),n}function pl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Cs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ka()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function fl(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),pl(e,n)}function hl(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:a,tags:s,origin:l}=_l(e);return _a({data:r,op:o,parent_span_id:i,span_id:t,status:a,tags:s,trace_id:n,origin:l})}function gl(e){const{traceId:t,spanId:n}=e.spanContext();return Bs(t,n,yl(e))}function ml(e){return"number"==typeof e?vl(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?vl(e.getTime()):Cs()}function vl(e){return e>9999999999?e/1e3:e}function _l(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function yl(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function Tl(e,t,n,r,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,l={...t,event_id:t.event_id||n.event_id||ka(),timestamp:t.timestamp||ks()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:sl);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=$i(e.message,i));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=$i(a.value,i));const s=e.request;s&&s.url&&(s.url=$i(s.url,i))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=Hi._sentryDebugIds;if(!n)return;let r;const o=Sl.get(t);o?r=o:(r=new Map,Sl.set(t,r));const i=Object.keys(n).reduce(((e,o)=>{let i;const a=r.get(o);a?i=a:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(e){}}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new ql;return n.update(t),n}(r,n.captureContext);n.mechanism&&Da(l,n.mechanism);const d=o&&o.getEventProcessors?o.getEventProcessors():[],p=function(){jl||(jl=new ql);return jl}().getScopeData();if(i){Gl(p,i.getScopeData())}if(u){Gl(p,u.getScopeData())}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),Vl(l,p);return ul([...d,...ll(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:vs(e.data,t,n)}})))},...e.user&&{user:vs(e.user,t,n)},...e.contexts&&{contexts:vs(e.contexts,t,n)},...e.extra&&{extra:vs(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=vs(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=_l(e).data;return r&&(e.data=vs(r,t,n)),e})));return r}(e,a,s):e)))}const Sl=new WeakMap;function bl(e){if(e)return function(e){return e instanceof ql||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>wl.includes(e)))}(e)?{captureContext:e}:e}const wl=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function El(e,t){return Kl().captureException(e,bl(t))}function Al(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Kl().captureMessage(e,n,r)}function Il(e,t){return Kl().captureEvent(e,t)}function Rl(e,t){Kl().addBreadcrumb(e,t)}function Ol(e,t){Kl().setContext(e,t)}function xl(...e){const t=Kl();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function Nl(){return Kl().getClient()}function Pl(){return Kl().getScope()}function kl(e){const t=Nl(),n=Ql(),r=Pl(),{release:o,environment:i=sl}=t&&t.getOptions()||{},{userAgent:a}=Hi.navigator||{},s=dl({release:o,environment:i,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),l=n.getSession();return l&&"ok"===l.status&&pl(l,{status:"exited"}),Cl(),n.setSession(s),r.setSession(s),s}function Cl(){const e=Ql(),t=Pl(),n=t.getSession()||e.getSession();n&&fl(n),Ll(),e.setSession(),t.setSession()}function Ll(){const e=Ql(),t=Pl(),n=Nl(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function $l(e=!1){e?Cl():Ll()}function Dl(e){return e.transaction}function Ml(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},a=_a({environment:r.environment||sl,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function Ul(e){const t=Nl();if(!t)return{};const n=Ml(_l(e).trace_id||"",t,Pl()),r=Dl(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:i,source:a}=r.metadata;null!=i&&(n.sample_rate=`${i}`);const s=_l(r);return a&&"url"!==a&&(n.transaction=s.description),n.sampled=String(yl(r)),t.emit&&t.emit("createDsc",n),n}function Vl(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:s}=t,l=_a(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=_a(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const u=_a(o);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=_a(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});a&&(e.level=a);s&&(e.transaction=s)}(e,t),r&&function(e,t){e.contexts={trace:hl(t),...e.contexts};const n=Dl(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ul(t),...e.sdkProcessingMetadata};const r=_l(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?Ua(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function Gl(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:p,transactionName:f,span:h}=t;Fl(e,"extra",n),Fl(e,"tags",r),Fl(e,"user",o),Fl(e,"contexts",i),Fl(e,"sdkProcessingMetadata",s),a&&(e.level=a),f&&(e.transactionName=f),h&&(e.span=h),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Fl(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let jl;class ql{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Bl()}static clone(e){return e?e.clone():new ql}clone(){const e=new ql;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&pl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof ql){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(xi(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Bl(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:ks(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:i,_level:a,_fingerprint:s,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:i,level:a,fingerprint:s||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){Vl(e,this.getScopeData());return ul([...n,...ll(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:ka();if(!this._client)return oa.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:ka();if(!this._client)return oa.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ka();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(oa.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Bl(){return{traceId:ka(),spanId:ka().substring(16)}}const Hl="7.120.3",Jl=parseFloat(Hl),zl=100;class Wl{constructor(e,t,n,r=Jl){let o,i;this._version=r,t?o=t:(o=new ql,o.setClient(e)),n?i=n:(i=new ql,i.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return Pi(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:ka(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:ka(),o=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:ka();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=zl}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const a={timestamp:ks(),...e},s=o?ra((()=>o(a,t))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,t),n.addBreadcrumb(s,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Xl(this);try{e(this)}finally{Xl(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return al&&oa.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(al&&!n){this.getClient()?oa.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):oa.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&fl(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=sl}=n&&n.getOptions()||{},{userAgent:i}=Hi.navigator||{},a=dl({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),s=t.getSession&&t.getSession();return s&&"ok"===s.status&&pl(s,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Yl().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);al&&oa.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Yl(){return Hi.__SENTRY__=Hi.__SENTRY__||{extensions:{},hub:void 0},Hi}function Xl(e){const t=Yl(),n=ec(t);return tc(t,e),n}function Kl(){const e=Yl();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Yl()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!ec(e).isOlderThan(Jl)||tc(e,new Wl);var t;return ec(e)}(e)}function Ql(){return Kl().getIsolationScope()}function Zl(e,t={}){const n=Yl();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function ec(e){return zi("hub",(()=>new Wl),e)}function tc(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function nc(e){return(e||Kl()).getScope().getTransaction()}const rc=js;let oc=!1;function ic(){const e=nc();if(e){const t="internal_error";al&&oa.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var ac;function sc(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}ic.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(ac||(ac={}));const lc=sc;function cc(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=sc(t);"unknown_error"!==n&&e.setStatus(n)}function uc(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(Pi(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function dc(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Nl(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function pc(e){if(!dc())return;const t=gc(e),n=Kl(),r=e.scope?e.scope.getSpan():fc();if(e.onlyIfParent&&!r)return;const o=(e.scope||Pl()).clone();return hc(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function fc(){return Pl().getSpan()}function hc(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!dc())return;const i=Ql();let a;if(t&&!r)a=t.startChild(n);else if(t){const r=Ul(t),{traceId:o,spanId:i}=t.spanContext(),s=yl(t);a=e.startTransaction({traceId:o,parentSpanId:i,parentSampled:s,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:s,sampled:l}={...i.getPropagationContext(),...o.getPropagationContext()};a=e.startTransaction({traceId:t,parentSpanId:s,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return o.setSpan(a),function(e,t,n){e&&(pa(e,vc,n),pa(e,mc,t))}(a,o,i),a}function gc(e){if(e.startTime){const t={...e};return t.startTimestamp=ml(e.startTime),delete t.startTime,t}return e}const mc="_sentryScope",vc="_sentryIsolationScope";let _c;function yc(e){return _c?_c.get(e):void 0}function Tc(e){const t=yc(e);if(!t)return;const n={};for(const[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(_a(r));return n}const Sc="sentry.source",bc="sentry.sample_rate",wc="sentry.op",Ec="sentry.origin";class Ac{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Ic{constructor(e={}){this._traceId=e.traceId||ka(),this._spanId=e.spanId||ka().substring(16),this._startTime=e.startTimestamp||Cs(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Ec]:e.origin||"manual",[wc]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[wc]}set op(e){this.setAttribute(wc,e)}get origin(){return this._attributes[Ec]}set origin(e){this.setAttribute(Ec,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){const t=new Ic({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=Dl(this);if(t.transaction=n,al&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${_l(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;oa.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return cc(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=Dl(this);if(al&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&oa.log(e.replace("Starting","Finishing"))}this._endTime=ml(e)}toTraceparent(){return gl(this)}toContext(){return _a({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return hl(this)}getSpanJSON(){return _a({data:this._getData(),description:this._name,op:this._attributes[wc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ec],_metrics_summary:Tc(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class Rc extends Ic{constructor(e,t){super(e),this._contexts={},this._hub=t||Kl(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Sc]&&{source:this._attributes[Sc]},...this._attributes[bc]&&{sampleRate:this._attributes[bc]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(Sc,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Ac(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=ml(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return _a({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Ul(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(al&&oa.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return al&&oa.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&_l(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>_l(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:o}={scope:(i=this)[mc],isolationScope:i[vc]};var i;const{metadata:a}=this,{source:s}=a,l={contexts:{...this._contexts,trace:hl(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:r,capturedSpanIsolationScope:o,..._a({dynamicSamplingContext:Ul(this)})},_metrics_summary:Tc(this),...s&&{transaction_info:{source:s}}};return Object.keys(this._measurements).length>0&&(al&&oa.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),al&&oa.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Oc={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},xc=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Nc extends Ac{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===_l(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Pc extends Rc{constructor(e,t,n=Oc.idleTimeout,r=Oc.finalTimeout,o=Oc.heartbeatInterval,i=!1,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=xc[4],this._autoFinishAllowed=!a,i&&(al&&oa.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=xc[3],this.end())}),this._finalTimeout)}end(e){const t=ml(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){al&&oa.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;_l(e).timestamp||(e.setStatus("cancelled"),e.end(t),al&&oa.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=_l(e),o=n&&n<t,i=(this._finalTimeout+this._idleTimeout)/1e3,a=r&&n&&r-n<i;if(al){const t=JSON.stringify(e,void 0,2);o?a||oa.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):oa.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return o&&a})),al&&oa.log("[Tracing] flushing IdleTransaction")}else al&&oa.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new Nc(t,n,this.spanContext().spanId,e),al&&oa.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=xc[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(al&&oa.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=xc[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),al&&oa.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,al&&oa.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(al&&oa.log(`[Tracing] popActivity ${e}`),delete this.activities[e],al&&oa.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=Cs();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=xc[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(al&&oa.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=xc[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){al&&oa.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function kc(e,t,n){if(!dc(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(bc,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(bc,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(bc,Number(r))):(r=1,e.setAttribute(bc,r)),Cc(r)?r?(e.sampled=Math.random()<r,e.sampled?(al&&oa.log(`[Tracing] starting ${e.op} transaction - ${_l(e).description}`),e):(al&&oa.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(al&&oa.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(al&&oa.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Cc(e){return ki(e)||"number"!=typeof e&&"boolean"!=typeof e?(al&&oa.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(al&&oa.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function Lc(){const e=this.getScope().getSpan();return e?{"sentry-trace":gl(e)}:{}}function $c(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",i=e.instrumenter||"sentry";o!==i&&(al&&oa.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let a=new Rc(e,this);return a=kc(a,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),a.isRecording()&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function Dc(e,t,n,r,o,i,a,s=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new Pc(t,e,n,r,a,o,s);return u=kc(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function Mc(){const e=Yl();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=$c),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Lc),oc||(oc=!0,ts(ic),os(ic)))}function Uc(e,t,n){const r=nc();r&&r.setMeasurement(e,t,n)}function Vc(e,t,n,r){const o=Zs(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=el(e,o,r,t);delete e.sdkProcessingMetadata;return Hs(a,[[{type:i},e]])}function Gc(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Fc(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function jc(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${Gc(e)}${e.projectId}/envelope/`}(e)}?${Fc(e,r)}`}const qc=[];function Bc(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Ua(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function Hc(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Jc(e,t,n){if(n[t.name])al&&oa.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===qc.indexOf(t.name)&&(t.setupOnce(cl,Kl),qc.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}al&&oa.log(`Integration installed: ${t.name}`)}}function zc(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function Wc(e){return e.replace(/[^\w\-./]+/gi,"")}const Yc=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Xc(e){return[...e].reduce(((e,t)=>e+function(e){for(const[t,n]of Yc)if(e===t)return n;return e}(t)),"")}function Kc(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=aa(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Hs(o,[i])}const Qc="Not capturing exception because it's already been captured.";class Zc{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ca(e.dsn):al&&oa.warn("No DSN provided, client will not send events."),this._dsn){const t=jc(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Ma(e))return void(al&&oa.log(Qc));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=Ri(e)?e:String(e),a=Oi(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(a.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&Ma(t.originalException))return void(al&&oa.log(Qc));let r=t&&t.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?al&&oa.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),pl(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):As(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return al&&oa.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Jc(this,e,this._integrations),t||Hc(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=Vc(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Js(n,Xs(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=Zs(n);return Hs({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:aa(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${e}:${t}`;al&&oa.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(e){al&&oa.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=Kc(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Jc(e,t,n)})),n}(this,e),Hc(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(pl(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Rs((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=Ql()){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),Tl(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:i,dsc:a}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:i},...e.contexts};const s=a||Ml(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(al){const t=e;"log"===t.logLevel?oa.log(t.message):oa.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=tu(e),a=eu(e),s=e.type||"error",l=`before send for type \`${s}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Is(new ua(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const c="replay_event"===s?"replay":s,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new ua("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(eu(t)&&r)return r(t,n);if(tu(t)&&o){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Pi(e))return e.then((e=>{if(!xi(e)&&null!==e)throw new ua(n);return e}),(e=>{throw new ua(`${t} rejected with ${e}`)}));if(!xi(e)&&null!==e)throw new ua(n);return e}(o,l)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",c,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new ua(`${l} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=r.transaction_info;if(i&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof ua)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new ua(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{al&&oa.error("Error while sending event:",e)}));al&&oa.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function eu(e){return void 0===e.type}function tu(e){return"transaction"===e.type}function nu(e){const t=Nl();t&&t.addEventProcessor&&t.addEventProcessor(e)}const ru="c",ou="g",iu="s",au="d";const su={[ru]:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},[ou]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},[au]:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},[iu]:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};function lu(e){const t=Kl().getStackTop();t.client=e,t.scope.setClient(e)}function cu(e,t,n=Os(e.bufferSize||30)){let r={};function o(o){const i=[];if(zs(o,((t,n)=>{const o=Qs(n);if(nl(r,o)){const r=uu(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return As();const a=Hs(o[0],i),s=t=>{zs(a,((n,r)=>{const o=uu(n,r);e.recordDroppedEvent(t,Qs(r),o)}))};return n.add((()=>t({body:Ys(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&al&&oa.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=rl(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof ua)return al&&oa.error("Skipped sending event because buffer is full."),s("queue_overflow"),As();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function uu(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function du(e,t){al&&oa.info(`[Offline]: ${e}`,t)}function pu(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let o,i=5e3;function a(e,n,r){return o=["replay_event","replay_recording","client_report"],!zs(e,((e,t)=>o.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var o}function s(e){r&&(o&&clearTimeout(o),o=setTimeout((async()=>{o=void 0;const e=await r.pop();e&&(du("Attempting to send previously queued event"),c(e).catch((e=>{du("Failed to retry sending",e)})))}),e),"number"!=typeof o&&o.unref&&o.unref())}function l(){o||(s(i),i=Math.min(2*i,36e5))}async function c(e){try{const t=await n.send(e);let r=100;if(t)if(t.headers&&t.headers["retry-after"])r=tl(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return s(r),i=5e3,t}catch(t){if(r&&await a(e,t,i))return await r.insert(e),l(),du("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&l(),{send:c,flush:e=>n.flush(e)}}}function fu(e,t){let n;return zs(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function hu(e){return[{type:"span"},e]}function gu(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return mu(e)===mu(t)}(e,o)}function mu(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const vu=new Map,_u=new Set;function yu(e,t){return function(e){if(Hi._sentryModuleMetadata)for(const t of Object.keys(Hi._sentryModuleMetadata)){const n=Hi._sentryModuleMetadata[t];if(_u.has(t))continue;_u.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){vu.set(e.filename,n);break}}}(e),vu.get(t)}const Tu="ModuleMetadata",Su=()=>({name:Tu,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{zs(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=yu(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)}),bu=zc(Tu,Su),wu=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Eu=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Au="InboundFilters",Iu=(e={})=>({name:Au,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:wu],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Eu],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return al&&oa.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${La(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));al&&0===t.length&&oa.error(`Could not extract message for event ${La(e)}`);return t}(e).some((e=>Vi(e,t)))}(e,t.ignoreErrors))return al&&oa.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${La(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Vi(n,t)}(e,t.ignoreTransactions))return al&&oa.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${La(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Ou(e);return!!n&&Vi(n,t)}(e,t.denyUrls))return al&&oa.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${La(e)}.\nUrl: ${Ou(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Ou(e);return!n||Vi(n,t)}(e,t.allowUrls))return al&&oa.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${La(e)}.\nUrl: ${Ou(e)}`),!0;return!1}(t,i)?null:t}}),Ru=zc(Au,Iu);function Ou(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return al&&oa.error(`Cannot extract url for event ${La(e)}`),null}}let xu;const Nu="FunctionToString",Pu=new WeakMap,ku=()=>({name:Nu,setupOnce(){xu=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ha(this),n=Pu.has(Nl())&&void 0!==t?t:this;return xu.apply(n,e)}}catch(e){}},setup(e){Pu.set(e,!0)}}),Cu=zc(Nu,ku),Lu="LinkedErrors",$u=zc(Lu,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Lu,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();Gi(ol,i.stackParser,i.maxValueLength,n,t,e,r)}}}));var Du=Object.freeze({__proto__:null,FunctionToString:Cu,InboundFilters:Ru,LinkedErrors:$u});class Mu{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",o={},i=Cs()){const a=Math.floor(i),s=t.replace(/[^\w\-.]+/gi,"_");const l=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[Wc(n)]=Xc(String(e[n])));return t}(o),c=function(e){return e.replace(/[^\w]+/gi,"_")}(r),u=function(e,t,n,r){return`${e}${t}${n}${Object.entries(_a(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,s,c,l);let d=this._buckets.get(u);const p=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<a&&(d.timestamp=a)):(d={metric:new su[e](n),timestamp:a,metricType:e,name:s,unit:c,tags:l},this._buckets.set(u,d));!function(e,t,n,r,o,i){const a=fc();if(a){const s=yc(a)||new Map,l=`${e}:${t}@${r}`,c=s.get(i);if(c){const[,e]=c;s.set(i,[l,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else s.set(i,[l,{min:n,max:n,count:1,sum:n,tags:o}]);_c||(_c=new WeakMap),_c.set(a,s)}}(e,s,"string"==typeof n?d.metric.weight-p:n,c,o,u)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Uu="MetricsAggregator",Vu=()=>({name:Uu,setupOnce(){},setup(e){e.metricsAggregator=new Mu(e)}});function Gu(e,t,n,r={}){const o=Nl(),i=Pl();if(o){if(!o.metricsAggregator)return void(al&&oa.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:a,tags:s,timestamp:l}=r,{release:c,environment:u}=o.getOptions(),d=i.getTransaction(),p={};c&&(p.release=c),u&&(p.environment=u),d&&(p.transaction=_l(d).description||""),al&&oa.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,a,{...p,...s},l)}}const Fu={increment:function(e,t=1,n){Gu("c",e,t,n)},distribution:function(e,t,n){Gu("d",e,t,n)},set:function(e,t,n){Gu("s",e,t,n)},gauge:function(e,t,n){Gu("g",e,t,n)},MetricsAggregator:zc(Uu,Vu),metricsAggregatorIntegration:Vu},ju=Du,qu="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Bu=Hi;function Hu(){Bu.document?Bu.document.addEventListener("visibilitychange",(()=>{const e=nc();if(Bu.document.hidden&&e){const t="cancelled",{op:n,status:r}=_l(e);qu&&oa.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):qu&&oa.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Ju=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},zu=()=>Bu.__WEB_VITALS_POLYFILL__?Bu.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Bu.performance.timing,t=Bu.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Bu.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Wu=()=>{const e=zu();return e&&e.activationStart||0},Yu=(e,t)=>{const n=zu();let r="navigate";return n&&(r=Bu.document&&Bu.document.prerendering||Wu()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Xu=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Ku=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Bu.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Bu.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let Qu=-1;const Zu=()=>(Qu<0&&(Bu.document&&Bu.document.visibilityState&&(Qu="hidden"!==Bu.document.visibilityState||Bu.document.prerendering?1/0:0),Ku((({timeStamp:e})=>{Qu=e}),!0)),{get firstHiddenTime(){return Qu}});let ed=0,td=1/0,nd=0;const rd=e=>{e.forEach((e=>{e.interactionId&&(td=Math.min(td,e.interactionId),nd=Math.max(nd,e.interactionId),ed=nd?(nd-td)/7+1:0)}))};let od;const id=()=>{"interactionCount"in performance||od||(od=Xu("event",rd,{type:"event",buffered:!0,durationThreshold:0}))},ad=()=>od?ed:performance.interactionCount||0,sd=[],ld={},cd=e=>{const t=sd[sd.length-1],n=ld[e.interactionId];if(n||sd.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};ld[t.id]=t,sd.push(t)}sd.sort(((e,t)=>t.latency-e.latency)),sd.splice(10).forEach((e=>{delete ld[e.id]}))}},ud=(e,t)=>{t=t||{},id();const n=Yu("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&cd(e),"first-input"===e.entryType){!sd.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&cd(e)}}));const t=(()=>{const e=Math.min(sd.length-1,Math.floor(ad()/50));return sd[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=Xu("event",o,{durationThreshold:t.durationThreshold||40});r=Ju(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Ku((()=>{o(i.takeRecords()),n.value<0&&ad()>0&&(n.value=0,n.entries=[]),r(!0)})))},dd={},pd=e=>{Bu.document&&(Bu.document.prerendering?addEventListener("prerenderingchange",(()=>pd(e)),!0):"complete"!==Bu.document.readyState?addEventListener("load",(()=>pd(e)),!0):setTimeout(e,0))},fd={},hd={};let gd,md,vd,_d,yd;function Td(e,t=!1){return Od("lcp",e,Ad,vd,t)}function Sd(e,t){return xd(e,t),hd[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Xu(e,(t=>{bd(e,{entries:t})}),t)}(e),hd[e]=!0),Nd(e,t)}function bd(e,t){const n=fd[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){qu&&oa.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Ea(r)}\nError:`,t)}}function wd(){return((e,t={})=>{const n=Yu("CLS",0);let r,o=0,i=[];const a=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],a=i[i.length-1];o&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e]),o>n.value&&(n.value=o,n.entries=i,r&&r())}}))},s=Xu("layout-shift",a);if(s){r=Ju(e,n,t.reportAllChanges);const o=()=>{a(s.takeRecords()),r(!0)};return Ku(o),o}})((e=>{bd("cls",{metric:e}),gd=e}),{reportAllChanges:!0})}function Ed(){return(e=>{const t=Zu(),n=Yu("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(o)},a=Xu("first-input",i);r=Ju(e,n),a&&Ku((()=>{i(a.takeRecords()),a.disconnect()}),!0)})((e=>{bd("fid",{metric:e}),md=e}))}function Ad(){return(e=>{const t=Zu(),n=Yu("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-Wu(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},i=Xu("largest-contentful-paint",o);if(i){r=Ju(e,n);const t=()=>{dd[n.id]||(o(i.takeRecords()),i.disconnect(),dd[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{Bu.document&&addEventListener(e,t,{once:!0,capture:!0})})),Ku(t,!0),t}})((e=>{bd("lcp",{metric:e}),vd=e}))}function Id(){return((e,t)=>{t=t||{};const n=Yu("TTFB"),r=Ju(e,n,t.reportAllChanges);pd((()=>{const e=zu();if(e){if(n.value=Math.max(e.responseStart-Wu(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{bd("ttfb",{metric:e}),_d=e}))}function Rd(){return ud((e=>{bd("inp",{metric:e}),yd=e}))}function Od(e,t,n,r,o=!1){let i;return xd(e,t),hd[e]||(i=n(),hd[e]=!0),r&&t({metric:r}),Nd(e,t,o?i:void 0)}function xd(e,t){fd[e]=fd[e]||[],fd[e].push(t)}function Nd(e,t,n){return()=>{n&&n();const r=fd[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}function Pd(e){return"number"==typeof e&&isFinite(e)}function kd(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function Cd(e){return e/1e3}function Ld(){return Bu.addEventListener&&Bu.performance}let $d,Dd,Md=0,Ud={};function Vd(){const e=Ld();if(e&&Ls){e.mark&&Bu.performance.mark("sentry-tracing-init");const t=Od("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Cd(Ls),r=Cd(t.startTime);qu&&oa.log("[Measurements] Adding FID"),Ud.fid={value:e.value,unit:"millisecond"},Ud["mark.fid"]={value:n+r,unit:"second"}}),Ed,md),n=function(e,t=!1){return Od("cls",e,wd,gd,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(qu&&oa.log("[Measurements] Adding CLS"),Ud.cls={value:e.value,unit:""},Dd=t)}),!0),r=Td((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(qu&&oa.log("[Measurements] Adding LCP"),Ud.lcp={value:e.value,unit:"millisecond"},$d=t)}),!0),o=function(e){return Od("ttfb",e,Id,_d)}((({metric:e})=>{e.entries[e.entries.length-1]&&(qu&&oa.log("[Measurements] Adding TTFB"),Ud.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),o()}}return()=>{}}function Gd(){Sd("longtask",(({entries:e})=>{for(const t of e){const e=nc();if(!e)return;const n=Cd(Ls+t.startTime),r=Cd(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}))}function Fd(){Sd("event",(({entries:e})=>{for(const t of e){const e=nc();if(!e)return;if("click"===t.name){const n=Cd(Ls+t.startTime),r=Cd(t.duration),o={description:Yi(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=Zi(t.target);i&&(o.attributes={"ui.component_name":i}),e.startChild(o)}}}))}function jd(e,t){if(Ld()&&Ls){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find((e=>e.duration===n.value&&void 0!==qd[e.name])),o=Nl();if(!r||!o)return;const i=qd[r.name],a=o.getOptions(),s=Cd(Ls+r.startTime),l=Cd(n.value),c=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===c)return;const{routeName:u,parentContext:d,activeTransaction:p,user:f,replayId:h}=c,g=void 0!==f?f.email||f.id||f.ip_address:void 0,m=void 0!==p?p.getProfileId():void 0,v=new Ic({startTimestamp:s,endTimestamp:s+l,op:`ui.interaction.${i}`,name:Yi(r.target),attributes:{release:a.release,environment:a.environment,transaction:u,...void 0!==g&&""!==g?{user:g}:{},...void 0!==m?{profile_id:m}:{},...void 0!==h?{replay_id:h}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),_=function(e,t,n){if(!dc(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Bu.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,Cc(r)?!0===r?n:!1===r?0:r*n:(qu&&oa.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,a,t);if(_&&Math.random()<_){const e=v?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=aa(t)),Hs(n,e.map(hu))}([v],o.getDsn()):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,(e=>{qu&&oa.error("Error while sending interaction:",e)}))}},Od("inp",n,Rd,yd);var n}(e,t);return()=>{n()}}return()=>{}}const qd={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Bd(e){const t=Ld();if(!t||!Bu.performance.getEntries||!Ls)return;qu&&oa.log("[Tracing] Adding & adjusting spans using Performance API");const n=Cd(Ls),r=t.getEntries(),{op:o,start_timestamp:i}=_l(e);if(r.slice(Md).forEach((t=>{const r=Cd(t.startTime),o=Cd(t.duration);if(!("navigation"===e.op&&i&&n+r<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Hd(e,t,r,n)})),Hd(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Hd(e,t,"fetch",n,"cache","domainLookupStart"),Hd(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(kd(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Cd(t.requestStart),endTimestamp:n+Cd(t.responseEnd)}),kd(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Cd(t.responseStart),endTimestamp:n+Cd(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const i=o+n,a=i+r;kd(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,r,o,n);const i=Zu(),a=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&a&&(qu&&oa.log("[Measurements] Adding FP"),Ud.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&a&&(qu&&oa.log("[Measurements] Adding FCP"),Ud.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=xs(n),s={};Jd(s,t,"transferSize","http.response_transfer_size"),Jd(s,t,"encodedBodySize","http.response_content_length"),Jd(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop());a.host&&(s["server.address"]=a.host);s["url.same_origin"]=n.includes(Bu.location.origin);const l=i+r,c=l+o;kd(e,{description:n.replace(Bu.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:s})}(e,t,t.name,r,o,n)}})),Md=Math.max(r.length-1,0),function(e){const t=Bu.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Pd(n.rtt)&&(Ud["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Pd(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);Pd(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=zu();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(qu&&oa.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(Ud),["fcp","fp","lcp"].forEach((e=>{if(!Ud[e]||!i||n>=i)return;const t=Ud[e].value,r=n+Cd(t),o=Math.abs(1e3*(r-i)),a=o-t;qu&&oa.log(`[Measurements] Normalized ${e} from ${t} to ${o} (${a})`),Ud[e].value=o}));const t=Ud["mark.fid"];t&&Ud.fid&&(kd(e,{description:"first input delay",endTimestamp:t.value+Cd(Ud.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Ud["mark.fid"]),"fcp"in Ud||delete Ud.cls,Object.keys(Ud).forEach((e=>{Uc(e,Ud[e].value,Ud[e].unit)})),function(e){$d&&(qu&&oa.log("[Measurements] Adding LCP Data"),$d.element&&e.setTag("lcp.element",Yi($d.element)),$d.id&&e.setTag("lcp.id",$d.id),$d.url&&e.setTag("lcp.url",$d.url.trim().slice(0,200)),e.setTag("lcp.size",$d.size));Dd&&Dd.sources&&(qu&&oa.log("[Measurements] Adding CLS Data"),Dd.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,Yi(t.node)))))}(e)}$d=void 0,Dd=void 0,Ud={}}function Hd(e,t,n,r,o,i){const a=i?t[i]:t[`${n}End`],s=t[`${n}Start`];s&&a&&kd(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+Cd(s),endTimestamp:r+Cd(a)})}function Jd(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}function zd(e,t,n,r,o="auto.http.browser"){if(!dc()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){cc(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const a=Pl(),s=Nl(),{method:l,url:c}=e.fetchData,u=function(e){try{return new URL(e).href}catch(e){return}}(c),d=u?xs(u).host:void 0,p=i?pc({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[Ec]:o},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&s){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const i=o||n.getSpan(),a=Ql(),{traceId:s,spanId:l,sampled:c,dsc:u}={...a.getPropagationContext(),...n.getPropagationContext()},d=i?gl(i):Bs(s,l,c),p=Vs(u||(i?Ul(i):Ml(s,t,n))),f=r.headers||("undefined"!=typeof Request&&Ci(e,Request)?e.headers:void 0);if(f){if("undefined"!=typeof Headers&&Ci(f,Headers)){const e=new Headers(f);return e.append("sentry-trace",d),p&&e.append($s,p),e}if(Array.isArray(f)){const e=[...f,["sentry-trace",d]];return p&&e.push([$s,p]),e}{const e="baggage"in f?f.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...f,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,s,a,n,p)}return p}const Wd=["localhost",/^\/(?!\/)/],Yd={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Wd,tracePropagationTargets:Wd};function Xd(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:a}={traceFetch:Yd.traceFetch,traceXHR:Yd.traceXHR,...e},s="function"==typeof i?i:e=>!0,l=e=>function(e,t){return Vi(e,t||Wd)}(e,r||o),c={};t&&Xa((e=>{const t=zd(e,s,l,c);if(t){const n=Zd(e.fetchData.url),r=n?xs(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}a&&t&&Kd(t)})),n&&fs((e=>{const t=function(e,t,n,r){const o=e.xhr,i=o&&o[ps];if(!dc()||!o||o.__sentry_own_request__||!i)return;const a=t(i.url);if(e.endTimestamp&&a){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(cc(t,i.status_code),t.end(),delete r[e]))}const s=Pl(),l=Ql(),c=Zd(i.url),u=c?xs(c).host:void 0,d=a?pc({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":c,url:i.url,"server.address":u,[Ec]:"auto.http.browser"},op:"http.client"}):void 0;d&&(o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d);const p=Nl();if(o.setRequestHeader&&n(i.url)&&p){const{traceId:e,spanId:t,sampled:n,dsc:r}={...l.getPropagationContext(),...s.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader($s,n)}catch(e){}}(o,d?gl(d):Bs(e,t,n),Vs(r||(d?Ul(d):Ml(e,p,s))))}return d}(e,s,l,c);a&&t&&Kd(t)}))}function Kd(e){const{url:t}=_l(e).data||{};if(!t||"string"!=typeof t)return;const n=Sd("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!Ls)return r;return[...r,["http.request.redirect_start",Qd(e.redirectStart)],["http.request.fetch_start",Qd(e.fetchStart)],["http.request.domain_lookup_start",Qd(e.domainLookupStart)],["http.request.domain_lookup_end",Qd(e.domainLookupEnd)],["http.request.connect_start",Qd(e.connectStart)],["http.request.secure_connection_start",Qd(e.secureConnectionStart)],["http.request.connection_end",Qd(e.connectEnd)],["http.request.request_start",Qd(e.requestStart)],["http.request.response_start",Qd(e.responseStart)],["http.request.response_end",Qd(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function Qd(e=0){return((Ls||performance.timeOrigin)+e)/1e3}function Zd(e){try{return new URL(e,Bu.location.origin).href}catch(e){return}}const ep={...Oc,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Bu||!Bu.location)return void(qu&&oa.warn("Could not initialize routing instrumentation due to invalid location"));let r,o=Bu.location.href;t&&(r=e({name:Bu.location.pathname,startTimestamp:Ls?Ls/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&cs((({to:t,from:n})=>{void 0===n&&o&&-1!==o.indexOf(t)?o=void 0:n!==t&&(o=void 0,r&&(qu&&oa.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:Bu.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Yd};function tp(e){const t=Qi(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function np(e){const t=e.attributes&&e.attributes[Sc],n=e.data&&e.data[Sc],r=e.metadata&&e.metadata.source;return t||n||r}const rp={...Oc,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Yd};function op(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=fc();return"pageload"===(n&&_l(n).op)?n:void 0}function ip(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=fc();return"navigation"===(n&&_l(n).op)?n:void 0}function ap(e){const t=Qi(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const sp=10;function lp(e){const t=e.attributes&&e.attributes[Sc],n=e.data&&e.data[Sc],r=e.metadata&&e.metadata.source;return t||n||r}const cp=Hi;let up=0;function dp(){return up>0}function pp(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(ha(e))return e}catch(t){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map((e=>pp(e,t)));return e.apply(this,r)}catch(e){throw up++,setTimeout((()=>{up--})),xl((r=>{r.addEventProcessor((e=>(t.mechanism&&($a(e,void 0),Da(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),El(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}fa(r,e),pa(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const fp="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function hp(e,t){const n=mp(e,t),r={type:t&&t.name,value:_p(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function gp(e,t){return{exception:{values:[hp(e,t)]}}}function mp(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(vp.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const vp=/Minified React error #\d+;/i;function _p(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function yp(e,t,n,r){const o=Sp(e,t,n&&n.syntheticException||void 0,r);return Da(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),As(o)}function Tp(e,t,n="info",r,o){const i=bp(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),As(i)}function Sp(e,t,n,r,o){let i;if(Ei(t)&&t.error){return gp(e,t.error)}if(Ai(t)||wi(t,"DOMException")){const o=t;if("stack"in t)i=gp(e,t);else{const t=o.name||(Ai(o)?"DOMError":"DOMException"),a=o.message?`${t}: ${o.message}`:t;i=bp(e,a,n,r),$a(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(bi(t))return gp(e,t);if(xi(t)||Ni(t)){return i=function(e,t,n,r){const o=Nl(),i=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:Ni(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:wp(t,{isUnhandledRejection:r})}]},extra:{__serialized__:_s(t,i)}};if(n){const t=mp(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,o),Da(i,{synthetic:!0}),i}return i=bp(e,t,n,r),$a(i,`${t}`),Da(i,{synthetic:!0}),i}function bp(e,t,n,r){const o={};if(r&&n){const r=mp(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(Ri(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function wp(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(ga(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return $i(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:$i(r,t)}return""}(e),r=t?"promise rejection":"exception";if(Ei(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(Ni(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function Ep(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:aa(r)}},i=function(e){return[{type:"user_report"},e]}(e);return Hs(o,[i])}class Ap extends Zc{constructor(e){!function(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Hl}))),version:Hl}),e._metadata=o}(e,"browser",["browser"],cp.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&cp.document&&cp.document.addEventListener("visibilitychange",(()=>{"hidden"===cp.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return yp(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Tp(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(fp&&oa.warn("SDK not enabled, will not capture user feedback."));const t=Ep(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(fp&&oa.log("No outcomes to send"));if(!this._dsn)return void(fp&&oa.log("No dsn provided, will not send outcomes"));fp&&oa.log("Sending outcomes:",e);const t=(n=e,Hs((r=this._options.tunnel&&aa(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:ks(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}let Ip;function Rp(e,t=function(){if(Ip)return Ip;if(Wa(cp.fetch))return Ip=cp.fetch.bind(cp);const e=cp.document;let t=cp.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){fp&&oa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Ip=t.bind(cp)}()){let n=0,r=0;return cu(e,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Ip=void 0,n-=i,r--,Is(e)}}))}function Op(e){return cu(e,(function(t){return new Rs(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const xp="?";function Np(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Pp=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,kp=/\((\S*)(?::(\d+))(?::(\d+))\)/,Cp=[30,e=>{const t=Pp.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=kp.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Hp(t[1]||xp,t[2]);return Np(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Lp=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,$p=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Dp=[50,e=>{const t=Lp.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=$p.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||xp;return[n,e]=Hp(n,e),Np(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Mp=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Up=[40,e=>{const t=Mp.exec(e);return t?Np(t[2],t[1]||xp,+t[3],t[4]?+t[4]:void 0):void 0}],Vp=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Gp=[10,e=>{const t=Vp.exec(e);return t?Np(t[2],t[3]||xp,+t[1]):void 0}],Fp=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,jp=[20,e=>{const t=Fp.exec(e);return t?Np(t[5],t[3]||t[4]||xp,+t[1],+t[2]):void 0}],qp=[Cp,Dp,Up],Bp=ba(...qp),Hp=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:xp,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Jp=1024,zp="Breadcrumbs",Wp=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:zp,setupOnce(){},setup(e){t.console&&Na(function(e){return function(t){if(Nl()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Ps(t.level),message:Mi(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Mi(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Rl(n,{input:t.args,level:t.level})}}(e)),t.dom&&qa(function(e,t){return function(n){if(Nl()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>Jp&&(fp&&oa.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Jp),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Yi(t,{keyAttrs:i,maxStringLength:a}),o=Zi(t)}catch(e){r="<unknown>"}if(0===r.length)return;const s={category:`ui.${n.name}`,message:r};o&&(s.data={"ui.component_name":o}),Rl(s,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&fs(function(e){return function(t){if(Nl()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[ps];if(!n||!r||!o)return;const{method:i,url:a,status_code:s,body:l}=o;Rl({category:"xhr",data:{method:i,url:a,status_code:s},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&Xa(function(e){return function(t){if(Nl()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Rl({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;Rl({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&cs(function(e){return function(t){if(Nl()!==e)return;let n=t.from,r=t.to;const o=xs(cp.location.href);let i=n?xs(n):void 0;const a=xs(r);i&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Rl({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Nl()===e&&Rl({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:La(t)},{event:t})}}(e))}}},Yp=zc(zp,Wp);const Xp="Dedupe",Kp=()=>{let e;return{name:Xp,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!ef(e,t))return!1;if(!Zp(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=tf(t),r=tf(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!ef(e,t))return!1;if(!Zp(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return fp&&oa.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},Qp=zc(Xp,Kp);function Zp(e,t){let n=nf(e),r=nf(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function ef(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function tf(e){return e.exception&&e.exception.values&&e.exception.values[0]}function nf(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const rf="GlobalHandlers",of=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:rf,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){ts((t=>{const{stackParser:n,attachStacktrace:r}=cf();if(Nl()!==e||dp())return;const{msg:o,url:i,line:a,column:s,error:l}=t,c=void 0===l&&Ii(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Ei(e)?e.message:e,a="Error";const s=i.match(o);s&&(a=s[1],i=s[2]);const l={exception:{values:[{type:a,value:i}]}};return sf(l,t,n,r)}(o,i,a,s):sf(Sp(n,l||o,void 0,r,!1),i,a,s);c.level="error",Il(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),lf("onerror")),t.onunhandledrejection&&(!function(e){os((t=>{const{stackParser:n,attachStacktrace:r}=cf();if(Nl()!==e||dp())return;const o=function(e){if(Oi(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),i=Oi(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Sp(n,o,void 0,r,!0);i.level="error",Il(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),lf("onunhandledrejection"))}}},af=zc(rf,of);function sf(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ii(t)&&t.length>0?t:Ki();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function lf(e){fp&&oa.log(`Global Handler attached: ${e}`)}function cf(){const e=Nl();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const uf="HttpContext",df=()=>({name:uf,setupOnce(){},preprocessEvent(e){if(!cp.navigator&&!cp.location&&!cp.document)return;const t=e.request&&e.request.url||cp.location&&cp.location.href,{referrer:n}=cp.document||{},{userAgent:r}=cp.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}),pf=zc(uf,df),ff="LinkedErrors",hf=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:ff,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();Gi(hp,i.stackParser,i.maxValueLength,n,t,e,r)}}},gf=zc(ff,hf),mf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vf="TryCatch",_f=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:vf,setupOnce(){t.setTimeout&&da(cp,"setTimeout",Tf),t.setInterval&&da(cp,"setInterval",Tf),t.requestAnimationFrame&&da(cp,"requestAnimationFrame",Sf),t.XMLHttpRequest&&"XMLHttpRequest"in cp&&da(XMLHttpRequest.prototype,"send",bf);const e=t.eventTarget;if(e){(Array.isArray(e)?e:mf).forEach(wf)}}}},yf=zc(vf,_f);function Tf(e){return function(...t){const n=t[0];return t[0]=pp(n,{mechanism:{data:{function:Ea(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Sf(e){return function(t){return e.apply(this,[pp(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ea(e)},handled:!1,type:"instrument"}})])}}function bf(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&da(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Ea(t)},handled:!1,type:"instrument"}},r=ha(t);return r&&(n.mechanism.data.handler=Ea(r)),pp(t,n)}))})),e.apply(this,t)}}function wf(e){const t=cp,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(da(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=pp(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ea(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,pp(r,{mechanism:{data:{function:"addEventListener",handler:Ea(r),target:e},handled:!1,type:"instrument"}}),o])}})),da(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}const Ef=[Iu(),ku(),_f(),Wp(),of(),hf(),Kp(),df()];function Af(e){return[...Ef]}function If(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=Af()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),cp.SENTRY_RELEASE&&cp.SENTRY_RELEASE.id&&(e.release=cp.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Bp,Array.isArray(n)?ba(...n):n),integrations:Bc(e),transport:e.transport||(za()?Rp:Op)};var n;!function(e,t){!0===t.debug&&(al?oa.enable():ra((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),Pl().update(t.initialScope);const n=new e(t);lu(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}(Ap,t),e.autoSessionTracking&&function(){if(void 0===cp.document)return void(fp&&oa.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));kl({ignoreDuration:!0}),$l(),cs((({from:e,to:t})=>{void 0!==e&&e!==t&&(kl({ignoreDuration:!0}),$l())}))}()}var Rf=Object.freeze({__proto__:null,Breadcrumbs:Yp,Dedupe:Qp,GlobalHandlers:af,HttpContext:pf,LinkedErrors:gf,TryCatch:yf});const Of=Hi,xf="sentryReplaySession",Nf="Unable to send Replay",Pf=15e4,kf=5e3,Cf=2e7,Lf=36e5;function $f(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}var Df;function Mf(e){const t=$f([e,"optionalAccess",e=>e.host]);return Boolean($f([t,"optionalAccess",e=>e.shadowRoot])===e)}function Uf(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Vf(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Gf).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function Gf(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Vf(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Df||(Df={}));class Ff{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=$f([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function jf({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function qf({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Bf(e){return e.toLowerCase()}function Hf(e){return e.toUpperCase()}const Jf="__rrweb_original__";function zf(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Bf(t):null}function Wf(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Yf=1;const Xf=new RegExp("[^a-z0-9-_:]");function Kf(){return Yf++}let Qf,Zf;const eh=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,th=/^(?:[a-z+]+:)?\/\//i,nh=/^www\..*/i,rh=/^(data:)([^,]*),(.*)/i;function oh(e,t){return(e||"").replace(eh,((e,n,r,o,i,a)=>{const s=r||i||a,l=n||o||"";if(!s)return e;if(th.test(s)||nh.test(s))return`url(${l}${s}${l})`;if(rh.test(s))return`url(${l}${s}${l})`;if("/"===s[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+s}${l})`;const c=t.split("/"),u=s.split("/");c.pop();for(const e of u)"."!==e&&(".."===e?c.pop():c.push(e));return`url(${l}${c.join("/")}${l})`}))}const ih=/^[^ \t\n\r\u000c]+/,ah=/^[, \t\n\r\u000c]+/;function sh(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function lh(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function ch(){const e=document.createElement("a");return e.href="",e.href}function uh(e,t,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?sh(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(ah),!(n>=t.length);){let i=r(ih);if(","===i.slice(-1))i=sh(e,i.substring(0,i.length-1)),o.push(i);else{let r="";i=sh(e,i);let a=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((i+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,o.push((i+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?oh(r,ch()):"object"===t&&"data"===n?sh(e,r):"function"==typeof i?i(n,r,o):r:sh(e,r):r}function dh(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function ph(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ph(e.parentNode,t,n,r+1):-1}function fh(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function hh(e,t,n,r,o,i){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let s=-1,l=-1;if(i){if(l=ph(a,fh(r,o)),l<0)return!0;s=ph(a,fh(t,n),l>=0?l:1/0)}else{if(s=ph(a,fh(t,n)),s<0)return!1;l=ph(a,fh(r,o),s>=0?s:1/0)}return s>=0?!(l>=0)||s<=l:!(l>=0)&&!!i}catch(e){}return!!i}function gh(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:h={},maskTextFn:g,maskInputFn:m,dataURLOptions:v={},inlineImages:_,recordCanvas:y,keepIframeSrcFn:T,newlyAddedElement:S=!1}=t,b=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Df.Document,childNodes:[],compatMode:e.compatMode}:{type:Df.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Df.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:h=!1,rootId:g,maskAllText:m,maskTextClass:v,unmaskTextClass:_,maskTextSelector:y,unmaskTextSelector:T}=t,S=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,o,i),b=function(e){if(e instanceof HTMLFormElement)return"form";const t=Bf(e.tagName);return Xf.test(t)?"div":t}(e);let w={};const E=e.attributes.length;for(let t=0;t<E;t++){const r=e.attributes[t];r.name&&!dh(b,r.name,r.value)&&(w[r.name]=uh(n,b,Bf(r.name),r.value,e,l))}if("link"===b&&a){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=Vf(t)),r&&(delete w.rel,delete w.href,w._cssText=oh(r,t.href))}if("style"===b&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Vf(e.sheet);t&&(w._cssText=oh(t,ch()))}if("input"===b||"textarea"===b||"select"===b||"option"===b){const t=e,n=zf(t),r=Wf(t,Hf(b),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=hh(t,v,y,_,T,jf({type:n,tagName:Hf(b),maskInputOptions:s}));w.value=qf({isMasked:e,element:t,value:r,maskInputFn:c})}o&&(w.checked=o)}"option"===b&&(e.selected&&!s.select?w.selected=!0:delete w.selected);if("canvas"===b&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,i=Jf in o?o[Jf]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(w.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(w.rr_dataURL=t)}if("img"===b&&d){Qf||(Qf=n.createElement("canvas"),Zf=Qf.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const o=()=>{t.removeEventListener("load",o);try{Qf.width=t.naturalWidth,Qf.height=t.naturalHeight,Zf.drawImage(t,0,0),w.rr_dataURL=Qf.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?w.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==b&&"video"!==b||(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime);h||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();w={class:w.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==b||f(w.src)||(e.contentDocument||(w.rr_src=w.src),delete w.src);let A;try{customElements.get(b)&&(A=!0)}catch(e){}return{type:Df.Element,tagName:b,attributes:w,childNodes:[],isSVG:lh(e)||void 0,needBlock:S,rootId:g,isCustom:A}}(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:a,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:h,maskInputFn:m,dataURLOptions:v,inlineImages:_,recordCanvas:y,keepIframeSrcFn:T,newlyAddedElement:S,rootId:b,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const f="STYLE"===d||void 0,h="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(f&&p){try{e.nextSibling||e.previousSibling||$f([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=Vf(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=oh(p,ch())}h&&(p="SCRIPT_PLACEHOLDER");const m=hh(e,r,i,o,a,n);f||h||g||!p||!m||(p=s?s(p,e.parentElement):p.replace(/[\S]/g,"*"));g&&p&&(l.textarea||m)&&(p=c?c(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=qf({isMasked:hh(e,r,i,o,a,jf({type:null,tagName:d,maskInputOptions:l})),element:e,value:p,maskInputFn:c})}return{type:Df.Text,textContent:p||"",isStyle:f,rootId:u}}(e,{maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:h,maskInputFn:m,rootId:b});case e.CDATA_SECTION_NODE:return{type:Df.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:Df.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function mh(e){return null==e?"":e.toLowerCase()}function vh(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:_,dataURLOptions:y={},inlineImages:T=!1,recordCanvas:S=!1,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:E=5e3,onStylesheetLoad:A,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:R=()=>!1,newlyAddedElement:O=!1}=t;let{preserveWhiteSpace:x=!0}=t;const N=gh(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,dataURLOptions:y,inlineImages:T,recordCanvas:S,keepIframeSrcFn:R,newlyAddedElement:O});if(!N)return console.warn(e,"not serialized"),null;let P;P=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===Df.Comment)return!0;if(e.type===Df.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(mh(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===mh(e.attributes.name)||"icon"===mh(e.attributes.rel)||"apple-touch-icon"===mh(e.attributes.rel)||"shortcut icon"===mh(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&mh(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(mh(e.attributes.property).match(/^(og|twitter|fb):/)||mh(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===mh(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===mh(e.attributes.name)||"googlebot"===mh(e.attributes.name)||"bingbot"===mh(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===mh(e.attributes.name)||"generator"===mh(e.attributes.name)||"framework"===mh(e.attributes.name)||"publisher"===mh(e.attributes.name)||"progid"===mh(e.attributes.name)||mh(e.attributes.property).match(/^article:/)||mh(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===mh(e.attributes.name)||"yandex-verification"===mh(e.attributes.name)||"csrf-token"===mh(e.attributes.name)||"p:domain_verify"===mh(e.attributes.name)||"verify-v1"===mh(e.attributes.name)||"verification"===mh(e.attributes.name)||"shopify-checkout-api-token"===mh(e.attributes.name)))return!0}}return!1}(N,_)&&(x||N.type!==Df.Text||N.isStyle||N.textContent.replace(/^\s+|\s+$/gm,"").length)?Kf():-2;const k=Object.assign(N,{id:P});if(r.add(e,k),-2===P)return null;b&&b(e);let C=!p;if(k.type===Df.Element){C=C&&!k.needBlock,delete k.needBlock;const t=e.shadowRoot;t&&Uf(t)&&(k.isShadowHost=!0)}if((k.type===Df.Document||k.type===Df.Element)&&C){_.headWhitespace&&k.type===Df.Element&&"head"===k.tagName&&(x=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:_,dataURLOptions:y,inlineImages:T,recordCanvas:S,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:R};for(const n of Array.from(e.childNodes)){const e=vh(n,t);e&&k.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=vh(n,t);r&&(Uf(e.shadowRoot)&&(r.isShadow=!0),k.childNodes.push(r))}}return e.parentNode&&Mf(e.parentNode)&&Uf(e.parentNode)&&(k.isShadow=!0),k.type===Df.Element&&"iframe"===k.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(e){return}if("complete"!==o){const r=setTimeout((()=>{i||(t(),i=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),i=!0,t()}))}const a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&w){const n=vh(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:_,dataURLOptions:y,inlineImages:T,recordCanvas:S,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:R});n&&w(e,n)}}),E),k.type===Df.Element&&"link"===k.tagName&&"stylesheet"===k.attributes.rel&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(e){return}if(r)return;const i=setTimeout((()=>{o||(t(),o=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(i),o=!0,t()}))}(e,(()=>{if(A){const t=vh(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:_,dataURLOptions:y,inlineImages:T,recordCanvas:S,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:R});t&&A(e,t)}}),I),k}function _h(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function yh(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Th="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Sh={map:{},getId:()=>(console.error(Th),-1),getNode:()=>(console.error(Th),null),removeNodeFromMap(){console.error(Th)},has:()=>(console.error(Th),!1),reset(){console.error(Th)}};function bh(e,t,n={}){let r=null,o=0;return function(...i){const a=Date.now();o||!1!==n.leading||(o=a);const s=t-(a-o),l=this;s<=0||s>t?(r&&(!function(...e){jh("clearTimeout")(...e)}(r),r=null),o=a,e.apply(l,i)):r||!1===n.trailing||(r=qh((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(l,i)}),s))}}function wh(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){qh((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>wh(e,t,i||{},!0)}function Eh(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Sh=new Proxy(Sh,{get:(e,t,n)=>("map"===t&&console.error(Th),Reflect.get(e,t,n))}));let Ah=Date.now;function Ih(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:_h([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||_h([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||_h([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:_h([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||_h([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||_h([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function Rh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Oh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function xh(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function Nh(e,t,n,r,o){if(!e)return!1;const i=xh(e);if(!i)return!1;const a=fh(t,n);if(!o){const e=r&&i.matches(r);return a(i)&&!e}const s=ph(i,a);let l=-1;return!(s<0)&&(r&&(l=ph(i,fh(null,r))),s>-1&&l<0||s<l)}function Ph(e,t){return-2===t.getId(e)}function kh(e,t){if(Mf(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||kh(e.parentNode,t))}function Ch(e){return Boolean(e.changedTouches)}function Lh(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function $h(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Dh(e){return Boolean(_h([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(Ah=()=>(new Date).getTime());class Mh{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Uh(e){let t=null;return _h([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Vh(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Uh(n);)n=t;return n}(e);return t.contains(n)}function Gh(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Vh(e))}const Fh={};function jh(e){const t=Fh[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return Fh[e]=r.bind(window)}function qh(...e){return jh("setTimeout")(...e)}var Bh=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Bh||{}),Hh=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Hh||{}),Jh=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Jh||{}),zh=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(zh||{});function Wh(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function Yh(e){return"__ln"in e}class Xh{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Wh([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Yh(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Yh(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Kh=(e,t)=>`${e}@${t}`;class Qh{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Xh,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!Gh(o))return;const i=Mf(o.parentNode)?this.mirror.getId(Uh(o)):this.mirror.getId(o.parentNode),a=r(o);if(-1===i||-1===a)return n.addNode(o);const s=vh(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Lh(e,this.mirror)&&this.iframeManager.addIframe(e),$h(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Dh(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});s&&(e.push({parentId:i,nextId:a,node:s}),t.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)eg(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||o(e);for(const e of this.addedSet)ng(this.droppedSet,e)||eg(this.removes,e,this.mirror)?ng(this.movedSet,e)?o(e):this.droppedSet.add(e):o(e);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),o(e.value)}const a={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!Ph(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;Nh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:hh(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,xh(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=zf(t),o=t.tagName;r=Wf(t,o,n);const i=jf({maskInputOptions:this.maskInputOptions,tagName:o,type:n});r=qf({isMasked:hh(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:t,value:r,maskInputFn:this.maskInputFn})}if(Nh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!dh(t.tagName,n)&&(o.attributes[n]=uh(this.doc,Bf(t.tagName),Bf(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?r:[r,i]:o._unchangedStyles[e]=[r,i]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(Nh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=Mf(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Nh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ph(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Zh(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||kh(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Kh(n,r)]?Zh(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Mf(e.target)||!Uf(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Ph(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Kh(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Nh(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Dh(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Zh(e,t){e.delete(t),t.childNodes.forEach((t=>Zh(e,t)))}function eg(e,t,n){return 0!==e.length&&tg(e,t,n)}function tg(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return!!e.some((e=>e.id===o))||tg(e,r,n)}function ng(e,t){return 0!==e.size&&rg(e,t)}function rg(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||rg(e,n))}let og;const ig=e=>{if(!og)return e;return(...t)=>{try{return e(...t)}catch(e){if(og&&!0===og(e))return()=>{};throw e}}};function ag(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const sg=[];function lg(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function cg(e,t){const n=new Qh;sg.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=ag([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);o&&window[o]&&(r=window[o]);const i=new r(ig((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function ug({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:a}){if(!1===a.mouseInteraction)return()=>{};const s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,l=[];let c=null;return Object.keys(Jh).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((a=>{let s=Bf(a);const u=(t=>a=>{const s=lg(a);if(Nh(s,r,o,i,!0))return;let l=null,u=t;if("pointerType"in a){switch(a.pointerType){case"mouse":l=zh.Mouse;break;case"touch":l=zh.Touch;break;case"pen":l=zh.Pen}l===zh.Touch?Jh[t]===Jh.MouseDown?u="TouchStart":Jh[t]===Jh.MouseUp&&(u="TouchEnd"):zh.Pen}else Ch(a)&&(l=zh.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===zh.Touch||u.startsWith("Mouse")&&l===zh.Mouse)&&(l=null)):Jh[t]===Jh.Click&&(l=c,c=null);const d=Ch(a)?a.changedTouches[0]:a;if(!d)return;const p=n.getId(s),{clientX:f,clientY:h}=d;ig(e)({type:Jh[u],id:p,x:f,y:h,...null!==l&&{pointerType:l}})})(a);if(window.PointerEvent)switch(Jh[a]){case Jh.MouseDown:case Jh.MouseUp:s=s.replace("mouse","pointer");break;case Jh.TouchStart:case Jh.TouchEnd:return}l.push(yh(s,u,t))})),ig((()=>{l.forEach((e=>e()))}))}function dg({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:a}){return yh("scroll",ig(bh(ig((a=>{const s=lg(a);if(!s||Nh(s,r,o,i,!0))return;const l=n.getId(s);if(s===t&&t.defaultView){const n=Ih(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:s.scrollLeft,y:s.scrollTop})})),a.scroll||100)),t)}const pg=["INPUT","TEXTAREA","SELECT"],fg=new WeakMap;function hg({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:a,ignoreSelector:s,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:g}){function m(e){let n=lg(e);const u=e.isTrusted,m=n&&Hf(n.tagName);if("OPTION"===m&&(n=n.parentElement),!n||!m||pg.indexOf(m)<0||Nh(n,r,o,i,!0))return;const _=n;if(_.classList.contains(a)||s&&_.matches(s))return;const y=zf(n);let T=Wf(_,m,y),S=!1;const b=jf({maskInputOptions:l,tagName:m,type:y}),w=hh(n,p,h,f,g,b);"radio"!==y&&"checkbox"!==y||(S=n.checked),T=qf({isMasked:w,element:n,value:T,maskInputFn:c}),v(n,d?{text:T,isChecked:S,userTriggered:u}:{text:T,isChecked:S});const E=n.name;"radio"===y&&E&&S&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach((e=>{if(e!==n){const t=qf({isMasked:w,element:e,value:Wf(e,m,y),maskInputFn:c});v(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}}))}function v(t,r){const o=fg.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){fg.set(t,r);const o=n.getId(t);ig(e)({...r,id:o})}}const _=("last"===u.input?["change"]:["input","change"]).map((e=>yh(e,ig(m),t))),y=t.defaultView;if(!y)return()=>{_.forEach((e=>e()))};const T=y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype,"value"),S=[[y.HTMLInputElement.prototype,"value"],[y.HTMLInputElement.prototype,"checked"],[y.HTMLSelectElement.prototype,"value"],[y.HTMLTextAreaElement.prototype,"value"],[y.HTMLSelectElement.prototype,"selectedIndex"],[y.HTMLOptionElement.prototype,"selected"]];return T&&T.set&&_.push(...S.map((e=>wh(e[0],e[1],{set(){ig(m)({target:this,isTrusted:!1})}},!1,y)))),ig((()=>{_.forEach((e=>e()))}))}function gg(e){return function(e,t){if(yg("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||yg("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||yg("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||yg("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function mg(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function vg({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const o="#document"===n.nodeName?ag([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):ag([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),i=ag([o,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(ag([o,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&o&&i?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return ag([i,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=ag([i,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),ig((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))):()=>{}}function _g(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=cg(e,e.doc),o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let a,s=[];const l=bh(ig((t=>{const n=Date.now()-a;e(s.map((e=>(e.timeOffset-=n,e))),t),s=[],a=null})),i),c=ig(bh(ig((e=>{const t=lg(e),{clientX:n,clientY:o}=Ch(e)?e.changedTouches[0]:e;a||(a=Ah()),s.push({x:n,y:o,id:r.getId(t),timeOffset:Ah()-a}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?Hh.Drag:e instanceof MouseEvent?Hh.MouseMove:Hh.TouchMove)})),o,{trailing:!1})),u=[yh("mousemove",c,n),yh("touchmove",c,n),yh("drag",c,n)];return ig((()=>{u.forEach((e=>e()))}))}(e),i=ug(e),a=dg(e),s=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return yh("resize",ig(bh(ig((()=>{const t=Rh(),o=Oh();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)})),200)),t)}(e,{win:n}),l=hg(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:a}){const s=ig((a=>bh(ig((i=>{const s=lg(i);if(!s||Nh(s,t,n,r,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:d}=s;e({type:a,id:o.getId(s),currentTime:l,volume:c,muted:u,playbackRate:d})})),i.media||500))),l=[yh("play",s(0),a),yh("pause",s(1),a),yh("seeked",s(2),a),yh("volumechange",s(3),a),yh("ratechange",s(4),a)];return ig((()=>{l.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:ig(((r,o,i)=>{const[a,s]=i,{id:l,styleId:c}=mg(o,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:a,index:s}]}),r.apply(o,i)}))});const i=r.CSSStyleSheet.prototype.deleteRule;let a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:ig(((r,o,i)=>{const[a]=i,{id:s,styleId:l}=mg(o,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,removes:[{index:a}]}),r.apply(o,i)}))}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:ig(((r,o,i)=>{const[a]=i,{id:s,styleId:l}=mg(o,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,replace:a}),r.apply(o,i)}))})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:ig(((r,o,i)=>{const[a]=i,{id:s,styleId:l}=mg(o,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,replaceSync:a}),r.apply(o,i)}))}));const l={};Tg("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(Tg("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),Tg("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),Tg("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach((([r,o])=>{c[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(c[r].insertRule,{apply:ig(((r,o,i)=>{const[a,s]=i,{id:l,styleId:c}=mg(o.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:a,index:[...gg(o),s||0]}]}),r.apply(o,i)}))}),o.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:ig(((r,o,i)=>{const[a]=i,{id:s,styleId:l}=mg(o.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,removes:[{index:[...gg(o),a]}]}),r.apply(o,i)}))})})),ig((()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),d=vg(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:ig(((o,a,s)=>{const[l,c,u]=s;if(n.has(l))return i.apply(a,[l,c,u]);const{id:d,styleId:p}=mg(ag([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:l,value:c,priority:u},index:gg(a.parentRule)}),o.apply(a,s)}))});const a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:ig(((o,i,s)=>{const[l]=s;if(n.has(l))return a.apply(i,[l]);const{id:c,styleId:u}=mg(ag([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,remove:{property:l},index:gg(i.parentRule)}),o.apply(i,s)}))}),ig((()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=a}))}(e,{win:n}),f=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,n){const r=new i(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=Eh(t.fonts,"add",(function(t){return function(n){return qh(ig((()=>{const t=o.get(n);t&&(e(t),o.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=i})),r.push(a),ig((()=>{r.forEach((e=>e()))}))}(e):()=>{},h=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:a}=e;let s=!0;const l=ig((()=>{const e=t.getSelection();if(!e||s&&ag([e,"optionalAccess",e=>e.isCollapsed]))return;s=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const a=e.getRangeAt(t),{startContainer:s,startOffset:c,endContainer:u,endOffset:d}=a;Nh(s,r,o,i,!0)||Nh(u,r,o,i,!0)||l.push({start:n.getId(s),startOffset:c,end:n.getId(u),endOffset:d})}a({ranges:l})}));return l(),yh("selectionchange",l)}(e),g=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?Eh(n.customElements,"define",(function(e){return function(n,r,o){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,o])}})):()=>{}}(e),m=[];for(const t of e.plugins)m.push(t.observer(t.callback,n,t.options));return ig((()=>{sg.forEach((e=>e.reset())),r.disconnect(),o(),i(),a(),s(),l(),c(),u(),d(),p(),f(),h(),g(),m.forEach((e=>e()))}))}function yg(e){return void 0!==window[e]}function Tg(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Sg{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let a=o.get(t);return a||(a=this.generateIdFn(),o.set(t,a),i.set(a,t)),a}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function bg(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}class wg{constructor(){this.crossOriginIframeMirror=new Sg(Kf),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Eg{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Sg(Kf),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Sg(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),bg([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Bh.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Bh.IncrementalSnapshot,data:{source:Hh.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Bh.Meta:case Bh.Load:case Bh.DomContentLoaded:return!1;case Bh.Plugin:return t;case Bh.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Bh.IncrementalSnapshot:switch(t.data.source){case Hh.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Hh.Drag:case Hh.TouchMove:case Hh.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Hh.ViewportResize:return!1;case Hh.MediaInteraction:case Hh.MouseInteraction:case Hh.Scroll:case Hh.CanvasMutation:case Hh.Input:return this.replaceIds(t.data,e,["id"]),t;case Hh.StyleSheetRule:case Hh.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Hh.Font:return t;case Hh.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Hh.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),bg([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===Df.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Ag{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ig{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Uf(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=cg({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(dg({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),qh((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(vg({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Eh(e.prototype,"attachShadow",(function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&Gh(this)&&n.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Rg{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Og{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Mh,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:Gf(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class xg{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){jh("requestAnimationFrame")(...e)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Ng,Pg;const kg=new Ff;function Cg(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:m,slimDOMOptions:v,maskAttributeFn:_,maskInputFn:y,maskTextFn:T,maxCanvasSize:S=null,packFn:b,sampling:w={},dataURLOptions:E={},mousemoveWait:A,recordCanvas:I=!1,recordCrossOriginIframes:R=!1,recordAfter:O=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:x=!1,collectFonts:N=!1,inlineImages:P=!1,plugins:k,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:$,onMutation:D,getCanvasManager:M}=e;og=$;const U=!R||window.parent===window;let V=!1;if(!U)try{window.parent.document&&(V=!1)}catch(e){V=!0}if(U&&!t)throw new Error("emit function is required");void 0!==A&&void 0===w.mousemove&&(w.mousemove=A),kg.reset();const G=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==m?m:{},F=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let j;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let q=0;const B=e=>{for(const t of k||[])t.eventProcessor&&(e=t.eventProcessor(e));return b&&!V&&(e=b(e)),e};Ng=(e,o)=>{const i=e;if(i.timestamp=Ah(),!il([sg,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||i.type===Bh.FullSnapshot||i.type===Bh.IncrementalSnapshot&&i.data.source===Hh.Mutation||sg.forEach((e=>e.unfreeze())),U)il([t,"optionalCall",e=>e(B(i),o)]);else if(V){const e={type:"rrweb",event:B(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(i.type===Bh.FullSnapshot)j=i,q=0;else if(i.type===Bh.IncrementalSnapshot){if(i.data.source===Hh.Mutation&&i.data.isAttachIframe)return;q++;const e=r&&q>=r,t=n&&j&&i.timestamp-j.timestamp>n;(e||t)&&Z(!0)}};const H=e=>{Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.Mutation,...e}})},J=e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.Scroll,...e}}),z=e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.CanvasMutation,...e}}),W=new Og({mutationCb:H,adoptedStyleSheetCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.AdoptedStyleSheet,...e}})}),Y="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new wg:new Eg({mirror:kg,mutationCb:H,stylesheetManager:W,recordCrossOriginIframes:R,wrappedEmit:Ng});for(const e of k||[])e.getMirror&&e.getMirror({nodeMirror:kg,crossOriginIframeMirror:Y.crossOriginIframeMirror,crossOriginIframeStyleMirror:Y.crossOriginIframeStyleMirror});const X=new xg,K=function(e,t){try{return e?e(t):new Rg}catch(e){return console.warn("Unable to initialize CanvasManager"),new Rg}}(M,{mirror:kg,win:window,mutationCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.CanvasMutation,...e}}),recordCanvas:I,blockClass:o,blockSelector:i,unblockSelector:a,maxCanvasSize:S,sampling:w.canvas,dataURLOptions:E,errorHandler:$}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ag:new Ig({mutationCb:H,scrollCb:J,bypassOptions:{onMutation:D,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:G,dataURLOptions:E,maskAttributeFn:_,maskTextFn:T,maskInputFn:y,recordCanvas:I,inlineImages:P,sampling:w,slimDOMOptions:F,iframeManager:Y,stylesheetManager:W,canvasManager:K,keepIframeSrcFn:C,processedNodeManager:X},mirror:kg}),Z=(e=!1)=>{Ng({type:Bh.Meta,data:{href:window.location.href,width:Oh(),height:Rh()}},e),W.reset(),Q.init(),sg.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new Ff,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:_=!1,dataURLOptions:y,preserveWhiteSpace:T,onSerialize:S,onIframeLoad:b,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:I=()=>!1}=t;return vh(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:s,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===h?{}:h,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:y,inlineImages:p,recordCanvas:f,preserveWhiteSpace:T,onSerialize:S,onIframeLoad:b,iframeLoadTimeout:w,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:I,newlyAddedElement:!1})}(document,{mirror:kg,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskAllInputs:G,maskAttributeFn:_,maskInputFn:y,maskTextFn:T,slimDOM:F,dataURLOptions:E,recordCanvas:I,inlineImages:P,onSerialize:e=>{Lh(e,kg)&&Y.addIframe(e),$h(e,kg)&&W.trackLinkElement(e),Dh(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Y.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{W.attachLinkElement(e,t)},keepIframeSrcFn:C});if(!t)return console.warn("Failed to snapshot the document");Ng({type:Bh.FullSnapshot,data:{node:t,initialOffset:Ih(window)}}),sg.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&W.adoptStyleSheets(document.adoptedStyleSheets,kg.getId(document))};Pg=Z;try{const e=[],t=e=>ig(_g)({onMutation:D,mutationCb:H,mousemoveCb:(e,t)=>Ng({type:Bh.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.MouseInteraction,...e}}),scrollCb:J,viewportResizeCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.ViewportResize,...e}}),inputCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.Input,...e}}),mediaInteractionCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.MediaInteraction,...e}}),styleSheetRuleCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.StyleSheetRule,...e}}),styleDeclarationCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.StyleDeclaration,...e}}),canvasMutationCb:z,fontCb:e=>Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.Font,...e}}),selectionCb:e=>{Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.Selection,...e}})},customElementCb:e=>{Ng({type:Bh.IncrementalSnapshot,data:{source:Hh.CustomElement,...e}})},blockClass:o,ignoreClass:s,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:G,inlineStylesheet:h,sampling:w,recordCanvas:I,inlineImages:P,userTriggeredOnInput:x,collectFonts:N,doc:e,maskAttributeFn:_,maskInputFn:y,maskTextFn:T,keepIframeSrcFn:C,blockSelector:i,unblockSelector:a,slimDOMOptions:F,dataURLOptions:E,mirror:kg,iframeManager:Y,stylesheetManager:W,shadowDomManager:Q,processedNodeManager:X,canvasManager:K,ignoreCSSAttributes:L,plugins:il([k,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>Ng({type:Bh.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});Y.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Z(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(yh("DOMContentLoaded",(()=>{Ng({type:Bh.DomContentLoaded,data:{}}),"DOMContentLoaded"===O&&n()}))),e.push(yh("load",(()=>{Ng({type:Bh.Load,data:{}}),"load"===O&&n()}),window))),()=>{e.forEach((e=>e())),X.destroy(),Pg=void 0,og=void 0}}catch(e){console.warn(e)}}Cg.mirror=kg,Cg.takeFullSnapshot=function(e){if(!Pg)throw new Error("please take full snapshot after start recording");Pg(e)};function Lg(e){return e>9999999999?e:1e3*e}function $g(e){return e>9999999999?e/1e3:e}function Dg(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Bh.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:vs(t,10,1e3)}}),"console"===t.category))))}function Mg(e){return e.closest("button,a")||e}function Ug(e){const t=Vg(e);return t&&t instanceof Element?Mg(t):t}function Vg(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Gg;function Fg(e){return Gg||(Gg=[],da(Of,"open",(function(e){return function(...t){if(Gg)try{Gg.forEach((e=>e()))}catch(e){}return e.apply(Of,t)}}))),Gg.push(e),()=>{const t=Gg?Gg.indexOf(e):-1;t>-1&&Gg.splice(t,1)}}class jg{constructor(e,t,n=Dg){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Fg((()=>{this._lastMutation=Bg()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!qg.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:$g(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=$g(e)}registerScroll(e=Date.now()){this._lastScroll=$g(e)}registerClick(e){const t=Mg(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Bg();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:i,clickBreadcrumb:a}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Of.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,o)}else if(i>1){const e={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Of.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const qg=["A","BUTTON","INPUT"];function Bg(){return Date.now()/1e3}function Hg(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===Hh.Mutation&&e.registerMutation(t.timestamp),n===Hh.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Hh.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=Cg.mirror.getNode(r);o instanceof HTMLElement&&n===Jh.Click&&e.registerClick(o)}}catch(e){}}function Jg(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var zg;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(zg||(zg={}));const Wg=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Yg(e){const t={};for(const n in e)if(Wg.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Xg=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Ug(e.event):Vg(e.event),n=Yi(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Jg({category:`ui.${e.name}`,...Kg(t,n)})}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;var i,a,s;!(r&&e.clickDetector&&o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||(i=e.clickDetector,a=n,s=Ug(t.event),i.handleClick(a,s)),Dg(e,n)};function Kg(e,t){const n=Cg.mirror.getId(e),r=n&&Cg.mirror.getNode(n),o=r&&Cg.mirror.getMeta(r),i=o&&function(e){return e.type===zg.Element}(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((e=>e.type===zg.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Yg(i.attributes)}}:{}}}function Qg(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!i)return null;const s=t||r||o,l=1===i.length;if(!s&&l)return null;const c=Yi(a,{maxStringLength:200})||"<unknown>",u=Kg(a,c);return Jg({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}(t);n&&Dg(e,n)}const Zg={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:a,encodedBodySize:s,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:tm(i),end:tm(o),name:r,data:{size:c,statusCode:l,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=tm(o);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:f,transferSize:h,type:g}=e;if(0===o)return null;return{type:`${t}.${g}`,start:tm(f),end:tm(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:a,duration:o,domInteractive:c,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:p}}}};function em(e){return Zg[e.entryType]?Zg[e.entryType](e):null}function tm(e){return((Ls||Of.performance.timeOrigin)+e)/1e3}function nm(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(Sd(e,n))})),r.push(Td((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,i=tm(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:o,size:o,nodeId:r?Cg.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const rm="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function om(e,t){rm&&(oa.info(e),t&&am(e))}function im(e,t){rm&&(oa.info(e),t&&setTimeout((()=>{am(e)}),0))}function am(e){Rl({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class sm extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class lm{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Cf)throw new sm;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?Lg(e):null}}class cm{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){om("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const i=({data:t})=>{const a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success)return rm&&oa.error("[Replay]",a.response),void o(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class um{constructor(e){this._worker=new cm(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Lg(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Cf?Promise.reject(new sm):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{rm&&oa.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class dm{constructor(e){this._fallback=new lm,this._compression=new um(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void om("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){rm&&oa.warn("[Replay] Failed to add events when switching buffers.",e)}}}function pm({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;om("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new dm(n)}catch(e){om("[Replay] Failed to create compression worker")}}(t);if(e)return e}return om("[Replay] Using simple buffer"),new lm}function fm(){try{return"sessionStorage"in Of&&!!Of.sessionStorage}catch(e){return!1}}function hm(e){!function(){if(!fm())return;try{Of.sessionStorage.removeItem(xf)}catch(e){}}(),e.session=void 0}function gm(e){return void 0!==e&&Math.random()<e}function mm(e){const t=Date.now();return{id:e.id||ka(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function vm(e){if(fm())try{Of.sessionStorage.setItem(xf,JSON.stringify(e))}catch(e){}}function _m({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=function(e,t){return gm(e)?"session":!!t&&"buffer"}(e,t),i=mm({sampled:o,previousSessionId:r});return n&&vm(i),i}function ym(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function Tm(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ym(e.started,t,r)||ym(e.lastActivity,n,r)}function Sm(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!Tm(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function bm({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){const i=o.stickySession&&function(e){if(!fm())return null;try{const t=Of.sessionStorage.getItem(xf);if(!t)return null;const n=JSON.parse(t);return im("[Replay] Loading existing session",e),mm(n)}catch(e){return null}}(e);return i?Sm(i,{sessionIdleExpire:t,maxReplayDuration:n})?(im("[Replay] Session in sessionStorage is expired, creating new one..."),_m(o,{previousSessionId:i.id})):i:(im("[Replay] Creating new session",e),_m(o,{previousSessionId:r}))}function wm(e,t,n){return!!Am(e,t)&&(Em(e,t,n),!0)}async function Em(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Bh.Custom}(e))return t(e)}catch(e){return rm&&oa.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof sm?"addEventSizeExceeded":"addEvent";rm&&oa.error(t),await e.stop({reason:n});const r=Nl();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Am(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Lg(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(om(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function Im(e){return!e.type}function Rm(e){return"transaction"===e.type}function Om(e){return"feedback"===e.type}function xm(e){const t=function(){const e=Nl();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!Im(n)&&!Rm(n))return;const o=r&&r.statusCode;t&&(!o||o<200||o>=300)||(Rm(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function Nm(e){return t=>{e.isEnabled()&&Im(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Dg(e,Jg({category:"replay.hydrate-error"}))}}(e,t)}}function Pm(e,t=!1){const n=t?xm(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Im(t)&&!Rm(t)&&!Om(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(Om(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Bh.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return rm&&oa.log("[Replay] Ignoring error from rrweb internals",t),null;const o=function(e,t){return"buffer"===e.recordingMode&&t.message!==Nf&&!(!t.exception||t.type)&&gm(e.getOptions().errorSampleRate)}(e,t);return(o||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function km(e,t){return t.map((({type:t,start:n,end:r,name:o,data:i})=>{const a=e.throttledAddEvent({type:Bh.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:o,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof a?Promise.resolve(null):a}))}function Cm(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(km(e,[n]),!1))))}}function Lm(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!rm||!e.getOptions()._experiments.traceInternals)&&gu(t,Nl())}(e,t.name)||e.addUpdate((()=>(km(e,[t]),!0))))}function $m(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[ps];if(!t||!n||!o)return null;const{method:i,url:a,status_code:s}=o;return void 0===a?null:{type:"resource.xhr",name:a,start:t/1e3,end:n/1e3,data:{method:i,statusCode:s}}}(t);Lm(e,n)}}function Dm(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Bm(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Mm(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Um(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Bm(e)];if(!e)return[void 0]}catch(t){return rm&&oa.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return rm&&oa.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Vm(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Gm(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:a,request:s,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:_a({method:i,statusCode:a,request:s,response:l})}}function Fm(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function jm(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>Pf,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,Pf);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function qm(e,t){return Object.keys(e).reduce(((n,r)=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n}),{})}function Bm(e){return new URLSearchParams(e).toString()}function Hm(e,t){const n=function(e,t=Of.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Of.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return Vi(n,t)}async function Jm(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:a,method:s,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=Hm(a,n.networkDetailAllowUrls)&&!Hm(a,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Ym(e[0],t);if(2===e.length)return Ym(e[1],t);return{}}(n,t):{};if(!e)return jm(o,r,void 0);const i=zm(n),[a,s]=Um(i),l=jm(o,r,a);if(s)return Vm(l,s);return l}(n,t.input,c):Fm(c),f=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,i){if(!e&&void 0!==i)return Fm(i);const a=o?Wm(o.headers,r):{};if(!o||!t&&void 0!==i)return jm(a,i,void 0);const[s,l]=await async function(e){const t=function(e){try{return e.clone()}catch(e){rm&&oa.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return rm&&oa.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(o),c=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:i}){try{const a=e&&e.length&&void 0===r?Dm(e,n):r;return o?jm(i,a,t?e:void 0):Fm(a)}catch(e){return rm&&oa.warn("[Replay] Failed to serialize response body",e),jm(i,r,void 0)}}(s,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:a});if(l)return Vm(c,l);return c}(d,n,t.response,u);return{startTimestamp:o,endTimestamp:i,url:a,method:s,statusCode:l,request:p,response:f}}(e,t,n),o=Gm("resource.fetch",r);Lm(n.replay,o)}catch(e){rm&&oa.error("[Replay] Failed to capture fetch breadcrumb",e)}}function zm(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Wm(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Ym(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Wm(n,t):Array.isArray(n)?{}:qm(n,t):{}}async function Xm(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:a,xhr:s}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:p}=e.data;if(!l)return null;if(!s||!Hm(l,n.networkDetailAllowUrls)||Hm(l,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:i,url:l,method:c,statusCode:u,request:Fm(d),response:Fm(p)}}const f=s[ps],h=f?qm(f.request_headers,n.networkRequestHeaders):{},g=qm(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(s),n.networkResponseHeaders),[m,v]=n.networkCaptureBodies?Um(a):[void 0],[_,y]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return rm&&oa.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return rm&&oa.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return rm&&oa.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(s):[void 0],T=jm(h,d,m),S=jm(g,p,_);return{startTimestamp:o,endTimestamp:i,url:l,method:c,statusCode:u,request:v?Vm(T,v):T,response:y?Vm(S,y):S}}(e,t,n),o=Gm("resource.xhr",r);Lm(n.replay,o)}catch(e){rm&&oa.error("[Replay] Failed to capture xhr breadcrumb",e)}}function Km(e,t,n){const{xhr:r,input:o}=t;if(!r)return;const i=Dm(o,n.textEncoder),a=r.getResponseHeader("content-length")?Mm(r.getResponseHeader("content-length")):function(e,t,n){try{return Dm("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}function Qm(e){const t=Nl();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s}=e.getOptions(),l={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Km(t,n,e),Xm(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:o}=t,i=Dm(r?zm(r):void 0,n.textEncoder),a=o?Mm(o.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n,e),Jm(t,n,e))}catch(e){rm&&oa.warn("Error when enriching network breadcrumb")}}(l,e,t))):(Xa(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;const{method:i,url:a}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:a,data:{method:i,statusCode:o?o.status:void 0}}}(t);Lm(e,n)}}(e)),fs($m(e)))}catch(e){}}let Zm=null;const ev=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Zm===t||!t)return null;if(Zm=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Jg(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>kf?(n=!0,`${e.slice(0,kf)}…`):e;if("object"==typeof e)try{const t=vs(e,7);return JSON.stringify(t).length>kf?(n=!0,`${JSON.stringify(t,null,2).slice(0,kf)}…`):t}catch(e){}return e}));return Jg({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Jg(t)}(t);n&&Dg(e,n)};function tv(e){return!(!e||!e.on)}function nv(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function rv(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(rm&&oa.warn("[Replay] Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&Hg(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!wm(e,n,o))return!0;if(!o)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;wm(e,function(e){const t=e.getOptions();return{type:Bh.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(om(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&vm(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function ov({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){const a=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:l,traceIds:c,initialTimestamp:u}=r,d=Nl(),p=Pl(),f=d&&d.getTransport(),h=d&&d.getDsn();if(!(d&&f&&h&&i.sampled))return;const g={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:o/1e3,error_ids:l,trace_ids:c,urls:s,replay_id:t,segment_id:n,replay_type:i.sampled},m=await async function({client:e,scope:t,replayId:n,event:r}){const o={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,o);const i=await Tl(e.getOptions(),r,o,t,e,Ql());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:s,version:l}=a&&a.sdk||{};return i.sdk={...i.sdk,name:s||"sentry.javascript.unknown",version:l||"0.0.0"},i}({scope:p,client:d,replayId:t,event:g});if(!m)return d.recordDroppedEvent("event_processor","replay",g),void om("An event processor returned `null`, will not send event.");delete m.sdkProcessingMetadata;const v=function(e,t,n,r){return Hs(el(e,Zs(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(m,a,h,d.getOptions().tunnel);let _;try{_=await f.send(v)}catch(e){const t=new Error(Nf);try{t.cause=e}catch(e){}throw t}if(!_)return _;if("number"==typeof _.statusCode&&(_.statusCode<200||_.statusCode>=300))throw new iv(_.statusCode);const y=rl({},_);if(nl(y,"replay"))throw new av(y);return _}class iv extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class av extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function sv(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await ov(e),!0}catch(n){if(n instanceof iv||n instanceof av)throw n;if(Ol("Replays",{_retryCount:t.count}),rm&&r._experiments&&r._experiments.captureExceptions&&El(n),t.count>=3){const e=new Error(`${Nf} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await sv(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const lv="__THROTTLED";function cv(e,t,n){const r=new Map;let o=!1;return(...i)=>{const a=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(a),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=o;return o=!0,e?"__SKIPPED":lv}o=!1;const s=r.get(a)||0;return r.set(a,s+1),e(...i)}}class uv{constructor({options:e,recordingOptions:t}){uv.prototype.__init.call(this),uv.prototype.__init2.call(this),uv.prototype.__init3.call(this),uv.prototype.__init4.call(this),uv.prototype.__init5.call(this),uv.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,o,i;const a=n.maxWait?Math.max(n.maxWait,t):0;function s(){return l(),r=e(),r}function l(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function c(){return o&&clearTimeout(o),o=setTimeout(s,t),a&&void 0===i&&(i=setTimeout(s,a)),r}return c.cancel=l,c.flush=function(){return void 0!==o||void 0!==i?s():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=cv(((e,t)=>function(e,t,n){return Am(e,t)?Em(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;o&&(this.clickDetector=new jg(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",im(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");im("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=bm({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");im("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=bm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Cg({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:rv(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{om("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,hm(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),om("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),om("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();om("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&ym(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${Of.location.pathname}${Of.location.hash}${Of.location.search}`,t=`${Of.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===lv){const e=Jg({category:"replay.throttled"});this.addUpdate((()=>!wm(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||Pl().getTransaction(),t=(e&&_l(e).data||{})[Sc];if(e&&t&&["route","custom"].includes(t))return _l(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=pm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){rm&&oa.error("[Replay]",e),rm&&this._options._experiments&&this._options._experiments.captureExceptions&&El(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=bm({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!Sm(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Of.document.addEventListener("visibilitychange",this._handleVisibilityChange),Of.addEventListener("blur",this._handleWindowBlur),Of.addEventListener("focus",this._handleWindowFocus),Of.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=Pl(),n=Nl();t.addScopeListener(ev(e)),qa(Xg(e)),cs(Cm(e)),Qm(e);const r=Pm(e,!tv(n));n&&n.addEventProcessor?n.addEventProcessor(r):nu(r),tv(n)&&(n.on("beforeSendEvent",Nm(e)),n.on("afterSendEvent",xm(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=nm(this)}_removeListeners(){try{Of.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Of.removeEventListener("blur",this._handleWindowBlur),Of.removeEventListener("focus",this._handleWindowFocus),Of.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===Of.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Jg({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Jg({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Qg(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;Tm(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):om("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Bh.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=function(e){return e.map(em).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(km(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(km(e,[nv(Of.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await sv({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=Nl();t&&t.recordDroppedEvent("send_error","replay")}}else rm&&oa.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(rm&&oa.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return om(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&om("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){rm&&oa.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&vm(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Jg({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function dv(e,t,n,r){const o=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&o.push(`.${n}`),ra((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}const pv='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',fv=["content-length","content-type","accept"];let hv=!1;class gv{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:s={},sessionSampleRate:l,errorSampleRate:c,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:f=750,mutationLimit:h=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:_=[],networkCaptureBodies:y=!0,networkRequestHeaders:T=[],networkResponseHeaders:S=[],mask:b=[],maskAttributes:w=["title","placeholder"],unmask:E=[],block:A=[],unblock:I=[],ignore:R=[],maskFn:O,beforeAddRecordingEvent:x,beforeErrorSampling:N,blockClass:P,blockSelector:k,maskInputOptions:C,maskTextClass:L,maskTextSelector:$,ignoreClass:D}={}){this.name=gv.id;const M=function({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:l,ignoreClass:c}){const u={maskTextSelector:dv(e,[".sentry-mask","[data-sentry-mask]"],s,l),unmaskTextSelector:dv(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:dv(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,a),unblockSelector:dv(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:dv(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],c)};return i instanceof RegExp&&(u.blockClass=i),s instanceof RegExp&&(u.maskTextClass=s),u}({mask:b,unmask:E,block:A,unblock:I,ignore:R,blockClass:P,blockSelector:k,maskTextClass:L,maskTextSelector:$,ignoreClass:D});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...C||{},password:!0},maskTextFn:O,maskInputFn:O,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return r?o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:w,maskAllText:u,privacyOptions:M,key:e,value:t,el:n}),...M,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,Lf),stickySession:o,sessionSampleRate:l,errorSampleRate:c,useCompression:i,workerUrl:a,blockAllMedia:p,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:h,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:v,networkDetailDenyUrls:_,networkCaptureBodies:y,networkRequestHeaders:mv(T),networkResponseHeaders:mv(S),beforeAddRecordingEvent:x,beforeErrorSampling:N,_experiments:s},"number"==typeof l&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${l} })`),this._initialOptions.sessionSampleRate=l),"number"==typeof c&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${c} })`),this._initialOptions.errorSampleRate=c),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${pv}`:pv),this._isInitialized&&ms())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return hv}set _isInitialized(e){hv=e}setupOnce(){ms()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=Nl(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,..._a(e)};if(!n)return ra((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&ra((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new uv({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=Nl().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function mv(e){return[...fv,...e.map((e=>e.toLowerCase()))]}var vv;function _v(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:_v(e.parentNode,t,n,r+1):-1}function yv(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}gv.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(vv||(vv={}));const Tv="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Sv={map:{},getId:()=>(console.error(Tv),-1),getNode:()=>(console.error(Tv),null),removeNodeFromMap(){console.error(Tv)},has:()=>(console.error(Tv),!1),reset(){console.error(Tv)}};function bv(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){Ov((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>bv(e,t,i||{},!0)}function wv(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}function Ev(e,t,n,r,o){if(!e)return!1;const i=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}(e);if(!i)return!1;const a=_v(i,yv(t,n));let s=-1;return!(a<0)&&(r&&(s=_v(i,yv(null,r))),a>-1&&s<0||a<s)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Sv=new Proxy(Sv,{get:(e,t,n)=>("map"===t&&console.error(Tv),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const Av={};function Iv(e){const t=Av[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return Av[e]=r.bind(window)}function Rv(...e){return Iv("requestAnimationFrame")(...e)}function Ov(...e){return Iv("setTimeout")(...e)}var xv=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(xv||{});let Nv;function Pv(e){Nv=e}const kv=e=>{if(!Nv)return e;return(...t)=>{try{return e(...t)}catch(e){if(Nv&&!0===Nv(e))return()=>{};throw e}}};for(var Cv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lv="undefined"==typeof Uint8Array?[]:new Uint8Array(256),$v=0;$v<64;$v++)Lv[Cv.charCodeAt($v)]=$v;const Dv=new Map;const Mv=(e,t,n)=>{if(!e||!Gv(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=Dv.get(e);return n||(n=new Map,Dv.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let o=r.indexOf(e);return-1===o&&(o=r.length,r.push(e)),o};function Uv(e,t,n){if(e instanceof Array)return e.map((e=>Uv(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=Cv[n[t]>>2],o+=Cv[(3&n[t])<<4|n[t+1]>>4],o+=Cv[(15&n[t+1])<<2|n[t+2]>>6],o+=Cv[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Uv(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Uv(e.data,t,n),e.width,e.height]}}if(Gv(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:Mv(e,t,n)}}return e}const Vv=(e,t,n)=>e.map((e=>Uv(e,t,n))),Gv=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Fv(e,t,n,r,o){const i=[];try{const a=wv(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...a){if(!Ev(this,t,n,r)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),o&&["webgl","webgl2"].includes(e))if(a[0]&&"object"==typeof a[0]){const e=a[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...a])}}));i.push(a)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}function jv(e,t,n,r,o,i,a,s){const l=[],c=Object.getOwnPropertyNames(e);for(const a of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof e[a])continue;const c=wv(e,a,(function(e){return function(...l){const c=e.apply(this,l);if(Mv(c,s,this),"tagName"in this.canvas&&!Ev(this.canvas,r,o,i)){const e=Vv(l,s,this),r={type:t,property:a,args:e};n(this.canvas,r)}return c}}));l.push(c)}catch(r){const o=bv(e,a,{set(e){n(this.canvas,{type:t,property:a,args:[e],setter:!0})}});l.push(o)}return l}class qv{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:s,dataURLOptions:l,errorHandler:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&Pv(c),e.enableManualSnapshot||kv((()=>{s&&"all"===t&&this.initCanvasMutationObserver(n,r,o,i),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,o,i,a,{dataURLOptions:l})}))()}initCanvasFPSObserver(e,t,n,r,o,i,a){const s=Fv(t,n,r,o,!0),l=this.takeSnapshot(!1,e,t,n,r,o,i,a.dataURLOptions);this.resetObservers=()=>{s(),cancelAnimationFrame(l)}}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=Fv(e,t,n,r,!1),i=function(e,t,n,r,o){const i=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of a)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[s])continue;const a=wv(t.CanvasRenderingContext2D.prototype,s,(function(i){return function(...a){return Ev(this.canvas,n,r,o)||Ov((()=>{const n=Vv(a,t,this);e(this.canvas,{type:xv["2D"],property:s,args:n})}),0),i.apply(this,a)}}));i.push(a)}catch(n){const r=bv(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:xv["2D"],property:s,args:[t],setter:!0})}});i.push(r)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r),a=function(e,t,n,r,o){const i=[];return i.push(...jv(t.WebGLRenderingContext.prototype,xv.WebGL,e,n,r,o,0,t)),void 0!==t.WebGL2RenderingContext&&i.push(...jv(t.WebGL2RenderingContext.prototype,xv.WebGL2,e,n,r,o,0,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.resetObservers=()=>{o(),i(),a()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,r,o,i,a,s,l){const c=new Map,u=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());u.onmessage=e=>{const t=e.data,{id:n}=t;if(c.set(n,!1),!("base64"in t))return;const{base64:r,type:o,width:i,height:a}=t;this.mutationCb({id:n,type:xv["2D"],commands:[{property:"clearRect",args:[0,0,i,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:o}]},0,0,i,a]}]})};const d=1e3/t;let p,f=0;const h=t=>{f&&t-f<d||(f=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{Ev(e,r,o,i)||t.push(e)})),t})(l).forEach((t=>{const n=this.mirror.getId(t);if(!c.get(n)&&t.width&&t.height){if(c.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===il([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{u.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:s,maxCanvasSize:a},[e])})).catch((e=>{kv((()=>{throw e}))()}))}}))),p=Rv(h)};return p=Rv(h),p}startPendingCanvasMutationFlusher(){Rv((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,Rv(e)};Rv(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),Rv((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const{type:t,...n}=e;return n})),{type:o}=n[0];this.mutationCb({id:t,type:o,commands:r}),this.pendingCanvasMutations.delete(e)}}const Bv={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Hv="ReplayCanvas",Jv=1280,zv=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Jv):Jv,n?Math.min(n,Jv):Jv]};let o;const i=new Promise((e=>o=e));return{name:Hv,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const r=new qv({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return o(r),r},...Bv[e||"medium"]||Bv.medium}},async snapshot(e){(await i).snapshot(e)}}},Wv=zc(Hv,zv),Yv=Hi,Xv="#ffffff",Kv="inherit",Qv="rgba(108, 95, 199, 1)",Zv={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Xv,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Qv,submitBorder:Qv,submitOutlineFocus:"#29232f",submitForeground:Xv,submitForegroundHover:Xv,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Kv,inputForeground:Kv,inputBorder:"var(--border)",inputOutlineFocus:Qv,formBorderRadius:"20px",formContentBorderRadius:"6px"},e_=Zv,t_={...Zv,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},n_="widget",r_="api";async function o_({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:i=!0}={}){const a=Nl(),s=a&&a.getTransport(),l=a&&a.getDsn();if(!a||!s||!l)return;const c={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return xl((async e=>{e.clearBreadcrumbs(),[r_,n_].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const o=await Tl(e.getOptions(),n,r,t,e,Ql());return null===o?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}({scope:e,client:a,event:c});if(!t)return;a.emit&&a.emit("beforeSendFeedback",t,{includeReplay:Boolean(i)});const n=Vc(t,l,a.getOptions()._metadata,a.getOptions().tunnel);let o;try{o=await s.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(o){if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new Error("Unable to send Feedback");return o}}))}function i_({name:e,email:t,message:n,source:r=r_,url:o=Ki()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return o_({feedback:{name:e,email:t,message:n,url:o,source:r}},i)}const a_="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function s_(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function l_(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function c_({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const o=Yv.document,i=o.createElement("div");i.id=e;const a=i.attachShadow({mode:"open"});return a.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${l_("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${l_(n.dark)}\n  }\n}`:""}\n}`,r}(o,t,{dark:n,light:r})),a.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(o)),{shadow:a,host:i}}catch(e){throw oa.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function u_(e,t,n){if(!e)return;e.hideError();try{return await i_({...t,source:n_},n)}catch(t){a_&&oa.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function d_(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function p_(e,t,...n){const r=Yv.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)f_(r,e);return r}function f_(e,t){const n=Yv.document;if(null!=t)if(Array.isArray(t))for(const n of t)f_(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function h_({buttonLabel:e,onClick:t}){const n=p_("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>Yv.document.createElementNS("http://www.w3.org/2000/svg",e),t=d_(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),n=d_(e("g"),{clipPath:"url(#clip0_57_80)"}),r=d_(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),i=d_(e("clipPath"),{id:"clip0_57_80"}),a=d_(e("rect"),{width:"20",height:"20",fill:"white"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}().el,e?p_("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function g_(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function m_({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:i,isRequiredLabel:a,cancelButtonLabel:s,submitButtonLabel:l,showName:c,showEmail:u,isNameRequired:d,isEmailRequired:p,defaultName:f,defaultEmail:h,onCancel:g,onSubmit:m}){const{el:v}=function({label:e}){return{el:p_("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:l});const _=p_("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const y=p_("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:f}),T=p_("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:p,className:"form__input",placeholder:r,value:h}),S=p_("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),b=p_("button",{type:"button",className:"btn btn--default","aria-label":s,onClick:e=>{g&&g(e)}},s),w=p_("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(m){const t=new FormData(e.target),n={name:g_(t,"name"),email:g_(t,"email"),message:g_(t,"message")};m(n)}}catch(e){}}},[_,c&&p_("label",{htmlFor:"name",className:"form__label"},[p_("span",{className:"form__label__text"},e,d&&p_("span",{className:"form__label__text--required"},` ${a}`)),y]),!c&&y,u&&p_("label",{htmlFor:"email",className:"form__label"},[p_("span",{className:"form__label__text"},n,p&&p_("span",{className:"form__label__text--required"},` ${a}`)),T]),!u&&T,p_("label",{htmlFor:"message",className:"form__label"},[p_("span",{className:"form__label__text"},o,p_("span",{className:"form__label__text--required"},` ${a}`)),S]),p_("div",{className:"btn-group"},[v,b])]);return{get el(){return w},showError:function(e){_.textContent=e,_.classList.remove("form__error-container--hidden"),_.setAttribute("aria-hidden","false")},hideError:function(){_.textContent="",_.classList.add("form__error-container--hidden"),_.setAttribute("aria-hidden","true")}}}function v_({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:i,colorScheme:a,defaultName:s,defaultEmail:l,onClosed:c,onCancel:u,onSubmit:d,...p}){let f=null;function h(){f&&(f.open=!1)}const{el:g,showError:m,hideError:v}=m_({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:o,defaultName:s,defaultEmail:l,onSubmit:d,onCancel:u,...p});return f=p_("dialog",{className:"dialog",open:!0,onClick:function(){h(),c&&c()}},p_("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},p_("h2",{className:"dialog__header"},e,t&&p_("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>Yv.document.createElementNS("http://www.w3.org/2000/svg",e),n=d_(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=d_(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const o=t("defs"),i=t("style");return i.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(i.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),o.append(i),n.append(o),{get el(){return n}}}({colorScheme:a}).el)),g)),{get el(){return f},showError:m,hideError:v,open:function(){f&&(f.open=!0)},close:h,checkIsOpen:function(){return f&&!0===f.open||!1}}}function __({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=p_("div",{className:"success-message",onClick:n},function(){const e=e=>Yv.document.createElementNS("http://www.w3.org/2000/svg",e),t=d_(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),n=d_(e("g"),{clipPath:"url(#clip0_57_156)"}),r=d_(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=d_(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const i=e("defs"),a=d_(e("clipPath"),{id:"clip0_57_156"}),s=d_(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),i.appendChild(a),t.appendChild(i).appendChild(a).appendChild(s),{get el(){return t}}}().el,e);return{el:r,remove:n}}function y_({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,i,a=!1;async function s(t){if(!i)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void i.showError(`Please enter in the following required fields: ${r.join(", ")}`);await u_(i,t)?(f(),function(){if(e)try{const t=__({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),c()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){oa.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function l(){const e=Nl(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{a_&&oa.error(e)}))}function c(){o&&o.show()}function u(){o&&o.hide()}function d(){try{if(i)return i.open(),a=!0,n.onFormOpen&&n.onFormOpen(),void l();const t=n.useSentryUser,r=Pl(),o=r&&r.getUser();if(i=v_({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:t&&o&&o[t.name]||"",defaultEmail:t&&o&&o[t.email]||"",onClosed:()=>{c(),a=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),c()},onSubmit:s}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),u(),n.onFormOpen&&n.onFormOpen(),l()}catch(e){oa.error(e)}}function p(){i&&(i.close(),a=!1,n.onFormClose&&n.onFormClose())}function f(){if(i){p();const e=i.el;e&&e.remove(),i=void 0}}function h(){a||d(),u()}return r?r.addEventListener("click",h):t&&(o=h_({buttonLabel:n.buttonLabel,onClick:h}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return i},showActor:c,hideActor:u,removeActor:function(){o&&o.el&&o.el.remove()},openDialog:d,closeDialog:p,removeDialog:f}}const T_=Yv.document;class S_{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:r=!1,showBranding:o=!0,showEmail:i=!0,showName:a=!0,useSentryUser:s={email:"email",name:"username"},themeDark:l,themeLight:c,colorScheme:u="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:f="Send Bug Report",formTitle:h="Report a Bug",emailPlaceholder:g="your.email@example.org",emailLabel:m="Email",messagePlaceholder:v="What's the bug? What did you expect?",messageLabel:_="Description",namePlaceholder:y="Your Name",nameLabel:T="Name",isRequiredLabel:S="(required)",successMessageText:b="Thank you for your report!",onFormClose:w,onFormOpen:E,onSubmitError:A,onSubmitSuccess:I}={}){this.name=S_.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:o,id:t,isEmailRequired:n,isNameRequired:r,showEmail:i,showName:a,useSentryUser:s,colorScheme:u,themeDark:{...t_,...l},themeLight:{...e_,...c},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:f,formTitle:h,emailLabel:m,emailPlaceholder:g,messageLabel:_,messagePlaceholder:v,nameLabel:T,namePlaceholder:y,isRequiredLabel:S,successMessageText:b,onFormClose:w,onFormOpen:E,onSubmitError:A,onSubmitSuccess:I}}setupOnce(){if(ms())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){a_&&oa.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=s_(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?T_.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return a_&&oa.error("[Feedback] Unable to attach to target element"),null;const o=y_({shadow:t,options:n,attachTo:r});return this._widgets.add(o),this._widget||(this._widget=o),o}))}catch(e){return a_&&oa.error(e),null}}createWidget(e){try{return this._createWidget(s_(this.options,e||{}))}catch(e){return a_&&oa.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){a_&&oa.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=T_.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=y_({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(T_)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:o,themeDark:i}=e,{shadow:a,host:s}=c_({id:t,colorScheme:r,themeLight:o,themeDark:i});this._shadow=a,this._host=s,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&T_.body.appendChild(this._host),r}}S_.__initStatic();const b_="CaptureConsole",w_=(e={})=>{const t=e.levels||ta;return{name:b_,setupOnce(){},setup(e){"console"in Hi&&Na((({args:n,level:r})=>{Nl()===e&&t.includes(r)&&function(e,t){const n={level:Ps(t),extra:{arguments:e}};xl((r=>{if(r.addEventProcessor((e=>(e.logger="console",Da(e,{handled:!1,type:"console"}),e))),"assert"===t&&!1===e[0]){const t=`Assertion failed: ${Mi(e.slice(1)," ")||"console.assert"}`;return r.setExtra("arguments",e.slice(1)),void Al(t,n)}const o=e.find((e=>e instanceof Error));if("error"===t&&o)return void El(o,n);Al(Mi(e," "),n)}))}(n,r)}))}}};zc(b_,w_);const E_="Debug",A_=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:E_,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",((e,n)=>{t.debugger,ra((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}};zc(E_,A_);const I_="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,R_="Dedupe",O_=()=>{let e;return{name:R_,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!N_(e,t))return!1;if(!x_(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=P_(t),r=P_(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!N_(e,t))return!1;if(!x_(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return I_&&oa.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function x_(e,t){let n=k_(e),r=k_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function N_(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function P_(e){return e.exception&&e.exception.values&&e.exception.values[0]}function k_(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}zc(R_,O_);const C_="ExtraErrorData",L_=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:C_,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!bi(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const o=e[t];r[t]=bi(o)?o.toString():o}if(t&&void 0!==e.cause&&(r.cause=bi(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=bi(n)?n.toString():n}}return r}catch(e){I_&&oa.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r);if(i){const t={...e.contexts},r=vs(i,n);return xi(r)&&(pa(r,"__sentry_skip_normalization__",!0),t[o]=r),{...e,contexts:t}}return e}(e,r,t,n)}};zc(C_,L_);var $_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};const D_=Hi,M_="ReportingObserver",U_=new WeakMap,V_=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(e){if(U_.has(Nl()))for(const t of e)xl((e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let r="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;r=[e.crashId||"",e.reason||""].join(" ").trim()||r}else{r=t.body.message||r}}Al(`${n}: ${r}`)}))}return{name:M_,setupOnce(){if(!("ReportingObserver"in Ja))return;new D_.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){U_.set(e,!0)}}};zc(M_,V_);const G_="RewriteFrames",F_=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;const r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),o=/^\//.test(e.filename);if(r||o){const o=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,i=t?function(e,t){e=Ss(e).slice(1),t=Ss(t).slice(1);const n=bs(e.split("/")),r=bs(t.split("/")),o=Math.min(n.length,r.length);let i=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){i=e;break}let a=[];for(let e=i;e<n.length;e++)a.push("..");return a=a.concat(r.slice(i)),a.join("/")}(t,o):ws(o);e.filename=`${n}${i}`}return e});return{name:G_,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>r(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}};zc(G_,F_);const j_="SessionTiming",q_=()=>{const e=Date.now();return{name:j_,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}};zc(j_,q_);const B_="HttpClient",H_=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:B_,setupOnce(){},setup(e){!function(e,t){if(!Ya())return;Xa((n=>{if(Nl()!==e)return;const{response:r,args:o}=n,[i,a]=o;r&&function(e,t,n,r){if(W_(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,r);let o,i,a,s;X_()&&([{headers:o,cookies:a},{headers:i,cookies:s}]=[{cookieHeader:"Cookie",obj:e},{cookieHeader:"Set-Cookie",obj:n}].map((({cookieHeader:e,obj:t})=>{const n=function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(t.headers);let r;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=z_(t))}catch(t){I_&&oa.log(`Could not extract cookies from header ${e}`)}return{headers:n,cookies:r}})));Il(Y_({url:e.url,method:e.method,status:n.status,requestHeaders:o,responseHeaders:i,requestCookies:a,responseCookies:s}))}}(t,i,r,a)}))}(e,t),function(e,t){if(!("XMLHttpRequest"in Hi))return;fs((n=>{if(Nl()!==e)return;const r=n.xhr,o=r[ps];if(!o)return;const{method:i,request_headers:a}=o;try{!function(e,t,n,r){if(W_(e,t.status,t.responseURL)){let e,o,i;if(X_()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(o=z_(e))}catch(e){I_&&oa.log("Could not extract cookies from response headers")}try{i=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n]=r,e}),{})}(t)}catch(e){I_&&oa.log("Could not extract headers from response")}e=r}Il(Y_({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:i,responseCookies:o}))}}(t,r,i,a)}catch(e){I_&&oa.warn("Error while extracting response event form XHR response",e)}}))}(e,t)}}};function J_(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function z_(e){return e.split("; ").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}function W_(e,t,n){return function(e,t){return e.some((e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]))}(e.failedRequestStatusCodes,t)&&(r=e.failedRequestTargets,o=n,r.some((e=>"string"==typeof e?o.includes(e):e.test(o))))&&!gu(n,Nl());var r,o}function Y_(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:J_(e.responseHeaders)}}};return Da(n,{type:"http.client",handled:!1}),n}function X_(){const e=Nl();return!!e&&Boolean(e.getOptions().sendDefaultPii)}zc(B_,H_);const K_=Hi,Q_="ContextLines",Z_=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:Q_,setupOnce(){},processEvent:e=>function(e,t){const n=K_.document,r=K_.location&&(o=K_.location.href,o.split(/[\?#]/,1)[0]);var o;if(!n||!r)return e;const i=e.exception&&e.exception.values;if(!i||!i.length)return e;const a=n.documentElement.innerHTML;if(!a)return e;const s=["<!DOCTYPE html>","<html>",...a.split("\n"),"</html>"];return i.forEach((e=>{const n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map((e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>Di(e,0))),t.context_line=Di(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>Di(e,0)))}(t,e,r),e}(e,s,r,t))))})),e}(e,t)}};function ey(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function ty(e){return ey(e.getAllKeys())}function ny(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=ey(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await Ys(t,e.textEncoder);await function(e,t,n){return e((e=>ty(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),ey(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>ty(e).then((t=>{if(0!==t.length)return ey(e.get(t[0])).then((n=>(e.delete(t[0]),ey(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function o(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function i(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(o(e)))}const a=i(),s=[];for(;r.length;){const e=i(),t="number"==typeof e.length?e.length:void 0;s.push([e,t?o(t):i()])}return[a,s]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}zc(Q_,Z_);const ry=1e6,oy=String(0),iy="main";let ay="",sy="",ly="",cy=cp.navigator&&cp.navigator.userAgent||"",uy="";const dy=cp.navigator&&cp.navigator.language||cp.navigator&&cp.navigator.languages&&cp.navigator.languages[0]||"";const py=cp.navigator&&cp.navigator.userAgentData;var fy;function hy(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[oy]:{name:iy}}};if(!e.samples.length)return r;const o=e.samples[0].timestamp,i="number"==typeof performance.timeOrigin?performance.timeOrigin:Ls||0,a=i-(Ls||i);for(let i=0;i<e.samples.length;i++){const s=e.samples[i];if(void 0===s.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[i]={elapsed_since_start_ns:((s.timestamp+a-o)*ry).toFixed(0),stack_id:t,thread_id:oy};continue}let l=e.stacks[s.stackId];const c=[];for(;l;){c.push(l.frameId);const t=e.frames[l.frameId];void 0===r.frames[l.frameId]&&(r.frames[l.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),l=void 0===l.parentId?void 0:e.stacks[l.parentId]}const u={elapsed_since_start_ns:((s.timestamp+a-o)*ry).toFixed(0),stack_id:n,thread_id:oy};r.stacks[n]=c,r.samples[i]=u,n++}return r}(e):e}function gy(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&fp&&oa.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),i=hy(n),a=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),s="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||sl,runtime:{name:"javascript",version:cp.navigator.userAgent},os:{name:ay,version:sy,build_number:cy},device:{locale:dy,model:uy,manufacturer:cy,architecture:ly,is_emulator:!1},debug_meta:{images:_y(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||ka(),trace_id:o,active_thread_id:oy,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]}}function my(e){return"pageload"===e.op}"object"==typeof(fy=py)&&null!==fy&&"getHighEntropyValues"in fy&&py.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(ay=e.platform||"",ly=e.architecture||"",uy=e.model||"",sy=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];cy=`${t.brand} ${t.version}`}})).catch((e=>{}));const vy=new WeakMap;function _y(e){const t=Hi._sentryDebugIds;if(!t)return[];const n=Nl(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i;const a=vy.get(o);a?i=a:(i=new Map,vy.set(o,i));const s=Object.keys(t).reduce(((e,n)=>{let r;const a=i.get(n);a?r=a:(r=o(n),i.set(n,r));for(let o=r.length-1;o>=0;o--){const i=r[o],a=i&&i.filename;if(i&&a){e[a]=t[n];break}}return e}),{}),l=[];for(const t of e)t&&s[t]&&l.push({type:"sourcemap",code_file:t,debug_id:s[t]});return l}let yy=!1;function Ty(e){if(yy)return fp&&oa.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return fp&&oa.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=Nl(),n=t&&t.getOptions();if(!n)return fp&&oa.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(o=r)&&"boolean"!=typeof o||"number"==typeof o&&isNaN(o)?(fp&&oa.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),0):!0===o||!1===o||!(o<0||o>1)||(fp&&oa.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${o}.`),0)))return fp&&oa.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var o;if(!r)return fp&&oa.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(fp&&oa.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Sy(e,t,n,r){return function(e){return e.samples.length<2?(fp&&oa.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(fp&&oa.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?gy(e,t,n,r):null}const by=new Map;function wy(e){const t=by.get(e);return t&&by.delete(e),t}function Ey(e){let t;my(e)&&(t=1e3*Cs());const n=function(){const e=cp.Profiler;if("function"!=typeof e)return void(fp&&oa.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){fp&&(oa.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),oa.log("[Profiling] Disabling profiling for current user session.")),yy=!0}}();if(!n)return e;fp&&oa.log(`[Profiling] started profiling transaction: ${_l(e).description}`);const r=ka();async function o(){return e&&n?n.stop().then((t=>(i&&(cp.clearTimeout(i),i=void 0),fp&&oa.log(`[Profiling] stopped profiling of transaction: ${_l(e).description}`),t?(function(e,t){if(by.set(e,t),by.size>30){const e=by.keys().next().value;by.delete(e)}}(r,t),null):(fp&&oa.log(`[Profiling] profiler returned null profile for: ${_l(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(fp&&oa.log("[Profiling] error while stopping profiler:",e),null))):null}let i=cp.setTimeout((()=>{fp&&oa.log("[Profiling] max profile duration elapsed, stopping profiling for:",_l(e).description),o()}),3e4);const a=e.end.bind(e);return e.end=function(){return e?(o().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),a()}),(()=>{a()})),e):a()},e}const Ay="BrowserProfiling",Iy=()=>({name:Ay,setupOnce(){},setup(e){const t=Pl().getTransaction();t&&my(t)&&Ty(t)&&Ey(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{Ty(e)&&Ey(e)})),e.on("beforeEnvelope",(e=>{if(!by.size)return;const t=function(e){const t=[];return zs(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,o=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){fp&&oa.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){fp&&oa.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const i=wy(r);if(!i){fp&&oa.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const a=Sy(r,o,i,e);a&&n.push(a)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):oa.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),Ry=zc(Ay,Iy);let Oy={};cp.Sentry&&cp.Sentry.Integrations&&(Oy=cp.Sentry.Integrations);const xy={...Oy,...ju,...Rf};var Ny=Object.freeze({__proto__:null,Breadcrumbs:Yp,BrowserClient:Ap,BrowserProfilingIntegration:Ry,BrowserTracing:class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Mc(),qu&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...ep,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Vd(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&jd(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Gd(),this.options._experiments.enableInteractions&&Fd(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:i,startTransactionOnPageLoad:a,markBackgroundTransactions:s,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=this.options,f=r&&r.tracePropagationTargets,h=f||this.options.tracePropagationTargets;qu&&this._hasSetTracePropagationTargets&&f&&oa.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),a,i),s&&Hu(),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Xd({traceFetch:l,traceXHR:c,tracePropagationTargets:h,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(qu&&oa.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=this.options,a="pageload"===e.op;let s;if(a){const t=a?tp("sentry-trace"):"",n=a?tp("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:l}=qs(t,n);s={traceId:r,parentSpanId:i,parentSampled:l,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else s={trimEnd:!0,...e};const l="function"==typeof n?n(s):s,c=void 0===l?{...s,sampled:!1}:l;c.metadata=c.name!==s.name?{...c.metadata,source:"custom"}:c.metadata,this._latestRoute.name=c.name,this._latestRoute.context=c,!1===c.sampled&&qu&&oa.log(`[Tracing] Will not send ${c.op} transaction because of beforeNavigate.`),qu&&oa.log(`[Tracing] Starting ${c.op} transaction on scope`);const{location:u}=Bu,d=Dc(t,c,r,o,!0,{location:u},i,a);return a&&Bu.document&&(Bu.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Bu.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(Bu.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),Bd(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,o="ui.action.click",i=nc();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(qu&&oa.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(qu&&oa.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(qu&&oa.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:s}=Bu,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[Sc]:this._latestRoute.context?np(this._latestRoute.context):"url"}};e=Dc(a,l,t,n,!0,{location:s},r)};["click"].forEach((e=>{Bu.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=({entries:e})=>{const t=Nl(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,o=nc(),i=Pl(),a=void 0!==i?i.getUser():void 0;e.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],i=e.duration,s=e.startTime,l=Object.keys(this._interactionIdToRouteNameMapping),c=l.length>0?l.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){if(l.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===i&&e.startTime===s)))return}if(!t)return;if(n)n.duration=Math.max(n.duration,i);else if(l.length<10||void 0===c||i>this._interactionIdToRouteNameMapping[c].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(c&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[c],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:i,parentContext:n,user:a,activeTransaction:o,replayId:r,startTime:s})}}}))};Sd("event",e),Sd("first-input",e)}},Dedupe:Qp,Feedback:S_,FunctionToString:Cu,GlobalHandlers:af,HttpContext:pf,Hub:Wl,InboundFilters:Ru,Integrations:xy,LinkedErrors:gf,ModuleMetadata:bu,Replay:gv,ReplayCanvas:Wv,SDK_VERSION:Hl,SEMANTIC_ATTRIBUTE_SENTRY_OP:wc,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:Ec,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:bc,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:Sc,Scope:ql,TryCatch:yf,WINDOW:cp,addBreadcrumb:Rl,addEventProcessor:nu,addGlobalEventProcessor:cl,addIntegration:function(e){const t=Nl();t&&t.addIntegration?t.addIntegration(e):al&&oa.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},addTracingExtensions:Mc,breadcrumbsIntegration:Wp,browserApiErrorsIntegration:_f,browserProfilingIntegration:Iy,browserTracingIntegration:(e={})=>{const t=!!qu&&!(!e.tracePropagationTargets&&!e.tracingOrigins);Mc(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...rp,...e},r=Vd(),o={};n.enableInp&&jd(o,n.interactionsSampleRate),n.enableLongTask&&Gd(),n._experiments.enableInteractions&&Fd();const i={name:void 0,context:void 0};function a(e){const t=Kl(),{beforeStartSpan:o,idleTimeout:a,finalTimeout:s,heartbeatInterval:l}=n,c="pageload"===e.op;let u;if(c){const t=c?ap("sentry-trace"):"",n=c?ap("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:a}=qs(t,n);u={traceId:r,parentSpanId:i,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else u={trimEnd:!0,...e};const d=o?o(u):u;d.metadata=d.name!==u.name?{...d.metadata,source:"custom"}:d.metadata,i.name=d.name,i.context=d,!1===d.sampled&&qu&&oa.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),qu&&oa.log(`[Tracing] Starting ${d.op} transaction on scope`);const{location:p}=Bu,f=Dc(t,d,a,s,!0,{location:p},l,c);return c&&Bu.document&&(Bu.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Bu.document.readyState)&&f.sendAutoFinishSignal()})),["interactive","complete"].includes(Bu.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback((e=>{r(),Bd(e)})),f}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const r=e.getOptions(),{markBackgroundSpan:s,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=n,f=r&&r.tracePropagationTargets,h=f||n.tracePropagationTargets;let g;qu&&t&&f&&oa.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let m=Bu.location&&Bu.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{g&&(qu&&oa.log(`[Tracing] Finishing current transaction with op: ${_l(g).op}`),g.end()),g=a({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{g&&(qu&&oa.log(`[Tracing] Finishing current transaction with op: ${_l(g).op}`),g.end()),g=a({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&Bu.location){const t={name:Bu.location.pathname,startTimestamp:Ls?Ls/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Sc]:"url"}};op(e,t)}n.instrumentNavigation&&e.emit&&Bu.location&&cs((({to:t,from:n})=>{if(void 0===n&&m&&-1!==m.indexOf(t))m=void 0;else if(n!==t){m=void 0;const t={name:Bu.location.pathname,origin:"auto.navigation.browser",attributes:{[Sc]:"url"}};ip(e,t)}})),s&&Hu(),p.enableInteractions&&function(e,t){let n;const r=()=>{const{idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=e,a="ui.action.click",s=nc();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void(qu&&oa.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(qu&&oa.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`));const{location:l}=Bu,c={name:t.name,op:a,trimEnd:!0,data:{[Sc]:t.context?lp(t.context):"url"}};n=Dc(Kl(),c,r,o,!0,{location:l},i)};["click"].forEach((e=>{Bu.document&&addEventListener(e,r,{once:!1,capture:!0})}))}(n,i),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=Nl(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,i=void 0!==o?o.getReplayId():void 0,a=nc(),s=Pl(),l=void 0!==s?s.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],s=n.duration,c=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===s&&e.startTime===c)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,s);else if(u.length<sp||void 0===d||s>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=sp&&delete e[d],e[r]={routeName:n,duration:s,parentContext:o,user:l,activeTransaction:a,replayId:i,startTime:c})}}}))};Sd("event",n),Sd("first-input",n)}(o,i),Xd({traceFetch:l,traceXHR:c,tracePropagationTargets:h,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:n}},captureConsoleIntegration:w_,captureEvent:Il,captureException:El,captureMessage:Al,captureSession:$l,captureUserFeedback:function(e){const t=Nl();t&&t.captureUserFeedback(e)},chromeStackLineParser:Cp,close:async function(e){const t=Nl();return t?t.close(e):(al&&oa.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},configureScope:function(e){Kl().configureScope(e)},contextLinesIntegration:Z_,continueTrace:({sentryTrace:e,baggage:t},n)=>{const r=Pl(),{traceparentData:o,dynamicSamplingContext:i,propagationContext:a}=function(e,t){const n=js(e),r=Us(t),{traceId:o,parentSpanId:i,parentSampled:a}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:o||ka(),parentSpanId:i||ka().substring(16),spanId:ka().substring(16),sampled:a,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:o||ka(),spanId:ka().substring(16)}}}(e,t);r.setPropagationContext(a),al&&o&&oa.log(`[Tracing] Continuing trace ${o.traceId}.`);const s={...o,metadata:_a({dynamicSamplingContext:i})};return n?Zl((()=>n(s))):s},createTransport:cu,createUserFeedbackEnvelope:Ep,debugIntegration:A_,dedupeIntegration:O_,defaultIntegrations:Ef,defaultRequestInstrumentationOptions:Yd,defaultStackLineParsers:qp,defaultStackParser:Bp,endSession:Cl,eventFromException:yp,eventFromMessage:Tp,exceptionFromError:hp,extraErrorDataIntegration:L_,extractTraceparentData:rc,feedbackIntegration:e=>new S_(e),flush:async function(e){const t=Nl();return t?t.flush(e):(al&&oa.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},forceLoad:function(){},functionToStringIntegration:ku,geckoStackLineParser:Dp,getActiveSpan:fc,getActiveTransaction:nc,getClient:Nl,getCurrentHub:Kl,getCurrentScope:Pl,getDefaultIntegrations:Af,getHubFromCarrier:ec,getReplay:function(){const e=Nl();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")},getSpanStatusFromHttpCode:sc,globalHandlersIntegration:of,httpClientIntegration:H_,httpContextIntegration:df,inboundFiltersIntegration:Iu,init:If,instrumentOutgoingRequests:Xd,isInitialized:function(){return!!Nl()},lastEventId:function(){return Kl().lastEventId()},linkedErrorsIntegration:hf,makeBrowserOfflineTransport:function(e){return function(e){return t=>e({...t,createStore:ny})}(pu(e))},makeFetchTransport:Rp,makeMain:Xl,makeMultiplexedTransport:function(e,t){return n=>{const r=e(n),o=new Map;function i(t,r){const i=r?`${t}:${r}`:t;let a=o.get(i);if(!a){const s=sa(t);if(!s)return;const l=jc(s,n.tunnel);a=r?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=fu(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,r)({...n,url:l}):e({...n,url:l}),o.set(i,a)}return[t,a]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return fu(e,n)}}).map((e=>"string"==typeof e?i(e,void 0):i(e.dsn,e.release))).filter((e=>!!e));0===n.length&&n.push(["",r]);return(await Promise.all(n.map((([t,n])=>n.send(function(e,t){return Hs(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[await r.flush(e)];for(const[,n]of o)t.push(await n.flush(e));return t.every((e=>e))}}}},makeXHRTransport:Op,metrics:Fu,moduleMetadataIntegration:Su,onLoad:function(e){e()},onProfilingStartRouteTransaction:function(e){return e?Ty(e)?Ey(e):e:(fp&&oa.log("[Profiling] Transaction is undefined, skipping profiling"),e)},opera10StackLineParser:Gp,opera11StackLineParser:jp,parameterize:function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n},replayCanvasIntegration:zv,replayIntegration:e=>new gv(e),reportingObserverIntegration:V_,rewriteFramesIntegration:F_,sendFeedback:i_,sessionTimingIntegration:q_,setContext:Ol,setCurrentClient:lu,setExtra:function(e,t){Kl().setExtra(e,t)},setExtras:function(e){Kl().setExtras(e)},setHttpStatus:cc,setMeasurement:Uc,setTag:function(e,t){Kl().setTag(e,t)},setTags:function(e){Kl().setTags(e)},setUser:function(e){Kl().setUser(e)},showReportDialog:(e={},t=Kl())=>{if(!cp.document)return void(fp&&oa.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o)return void(fp&&oa.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=cp.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(e,t){const n=ca(e);if(!n)return"";const r=`${Gc(n)}embed/error-page/`;let o=`dsn=${aa(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${o}`}(o,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:a}=e;if(a){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{a()}finally{cp.removeEventListener("message",e)}};cp.addEventListener("message",e)}const s=cp.document.head||cp.document.body;s?s.appendChild(i):fp&&oa.error("Not injecting report dialog. No injection point found in HTML")},spanStatusfromHttpCode:lc,startBrowserTracingNavigationSpan:ip,startBrowserTracingPageLoadSpan:op,startInactiveSpan:pc,startSession:kl,startSpan:function(e,t){const n=gc(e);return Zl((()=>xl(e.scope,(r=>{const o=Kl(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:hc(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return uc((()=>t(a)),(()=>{if(a){const{status:e}=_l(a);e&&"ok"!==e||a.setStatus("internal_error")}}),(()=>a&&a.end()))}))))},startSpanManual:function(e,t){const n=gc(e);return Zl((()=>xl(e.scope,(r=>{const o=Kl(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:hc(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function s(){a&&a.end()}return uc((()=>t(a,s)),(()=>{if(a&&a.isRecording()){const{status:e}=_l(a);e&&"ok"!==e||a.setStatus("internal_error")}}))}))))},startTransaction:function(e,t){return Kl().startTransaction({...e},t)},trace:function(e,t,n=()=>{},r=()=>{}){const o=Kl(),i=Pl(),a=i.getSpan(),s=gc(e),l=hc(o,{parentSpan:a,spanContext:s,forceTransaction:!1,scope:i});return i.setSpan(l),uc((()=>t(l)),(e=>{l&&l.setStatus("internal_error"),n(e,l)}),(()=>{l&&l.end(),i.setSpan(a),r()}))},winjsStackLineParser:Up,withActiveSpan:function(e,t){return xl((n=>(n.setSpan(e),t(n))))},withIsolationScope:function(e){return Zl((()=>e(Ql())))},withScope:xl,wrap:function(e){return pp(e)()}});const Py="Unidentified service name supplied to getServiceType",ky=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(xr).includes(t))throw new Error(Py);if(!e.isLoggedIn)return Nr;switch(t){case xr.TRANSLATOR:return e.translatorServiceType;case xr.WRITE:return e.writeServiceType;case xr.API:return e.apiServiceType;case xr.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(Py)},Cy=(e,t)=>ky(e,t)===Pr,Ly=e=>!!e.isLoggedIn&&((e,t)=>ky(e,t)===Nr)(e,xr.WRITE),$y=e=>e.isLoggedIn&&e.hasTermbaseService,Dy=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/,/The message port closed before a response was received/,/NetworkError when attempting to fetch resource/,/JSON.parse: unexpected character at line 1 column 1 of the JSON data/].some((t=>t.test(e))),My={dsn:"https://0d368beeb4bc3e66f983b2c83eb342dc@o4509354486530048.ingest.de.sentry.io/4509882758201424",release:"deepl-browser-extension@1.71.0",environment:Fo(),tracesSampleRate:qo()?.001:1,sampleRate:qo()?.001:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/,/The message port closed before a response was received/,/NetworkError when attempting to fetch resource/,/JSON.parse: unexpected character at line 1 column 1 of the JSON data/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return Dy(t)?null:(jo()&&console.error(e),e)}};const Uy=e=>{chrome.storage.sync.get(["installationId","session",Ho.isLoggedIn,Ho.translatorServiceType,Ho.writeServiceType],(function(t){var n;e.setTag("internal_session_id",null===(n=null==t?void 0:t.session)||void 0===n?void 0:n.id),e.setTag("is_translator_pro",Cy(t,xr.TRANSLATOR)),e.setTag("is_write_pro",Cy(t,xr.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>{var n,r,o,i;return(null===(n=null==t?void 0:t.session)||void 0===n?void 0:n.newValue)&&e.setTag("internal_session_id",t.session.newValue.id),(null===(r=null==t?void 0:t.installationId)||void 0===r?void 0:r.newValue)&&e.setUser({id:t.installationId.newValue}),(null==t?void 0:t.browser_instance_id)&&e.setTag("browser_instance_id",t.browserInstanceId.newValue),!0!==(null===(o=t.isLoggedIn)||void 0===o?void 0:o.newValue)&&!1!==(null===(i=t.isLoggedIn)||void 0===i?void 0:i.newValue)||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.local.get([Ho.isLoggedIn],(n=>e.setTag("is_translator_pro",Cy(Object.assign(Object.assign({},n),{translatorServiceType:t.translatorServiceType.newValue}),xr.TRANSLATOR)))),t.writeServiceType&&chrome.storage.local.get([Ho.isLoggedIn],(n=>e.setTag("is_write_pro",Cy(Object.assign(Object.assign({},n),{writeServiceType:t.writeServiceType.newValue}),xr.WRITE)))),!0}))};function Vy(e,t){null==t||t.captureException(e)}const Gy="NETWORK_ERROR",Fy="RECOGNITION_ERROR",jy="GEO_BLOCKED",qy="PROTOCOL_ERROR",By="NETWORK_ERROR",Hy="FULL_PAGE_SERVER_ERROR",Jy="-32003",zy="429",Wy="403",Yy="1045601",Xy="1042902",Ky={INSTALLATION_ERROR:"INSTALLATION_ERROR",TRANSLATED_INPUT_NOT_SET:"TRANSLATED_INPUT_NOT_SET",HTML_NODE_CHAR_LENGTH_TOO_LONG:"HTML_NODE_CHAR_LENGTH_TOO_LONG",OCR_ERROR:"OCR_ERROR",OCR_TRANSLATE_IS_DISABLED:"OCR_TRANSLATE_IS_DISABLED",OCR_ERROR_OPENING_SIDE_PANEL:"OCR_ERROR_OPENING_SIDE_PANEL",OCR_ERROR_IN_TRANSLATE_CAPTURE:"OCR_ERROR_IN_TRANSLATE_CAPTURE",OCR_WORKER_INITIALIZATION_FAILED:"OCR_WORKER_INITIALIZATION_FAILED",OCR_IMAGE_PREPROCESSING_FAILED:"OCR_IMAGE_PREPROCESSING_FAILED",OCR_NO_TEXT_RECOGNIZED:"OCR_NO_TEXT_RECOGNIZED",OCR_CONFIDENCE_THRESHOLD_NOT_MET:"OCR_CONFIDENCE_THRESHOLD_NOT_MET",SSO_ENFORCED_AUTO_LOGIN_ERROR:"SSO_ENFORCED_AUTO_LOGIN_ERROR"},Qy="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",Zy="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",eT="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",tT="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",nT="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED",rT="LOGIN_REQUIRED",oT="NO_TEXT_DETECTED";class iT extends Error{constructor(e){super(e),this.name=rT,e&&(this.message=e)}}class aT extends Error{constructor(e,t){super(t),this.name=Qy,this.limit=e,t&&(this.message=t)}}class sT extends Error{constructor(e,t){super(t),this.name=Zy,this.limit=e,t&&(this.message=t)}}class lT extends Error{constructor(e,t){super(t),this.name=tT,this.limit=e,t&&(this.message=t)}}class cT extends Error{constructor(e,t){super(t),this.name=nT,this.limit=e,t&&(this.message=t)}}class uT extends Error{constructor(e,t){super(t),this.name=eT,this.limit=e,t&&(this.message=t)}}const dT={EVENT_ID_UNSPECIFIED:0,EVENT_ID_TRANSLATION_REQUEST:60001,EVENT_ID_ERROR:60002,EVENT_ID_TRANSLATION_ERROR:60003,EVENT_ID_CONTENT_SCRIPT_ERROR:60004,EVENT_ID_INPUT_INJECTION_DATA:60005,EVENT_ID_FPT_BLOCK_SIZE_EXCEEDED:60006,EVENT_ID_EXTENSION_OPENED:60007,EVENT_ID_LOGO_CLICKED:60008,EVENT_ID_NOTIFICATION_VIEWED:60009,EVENT_ID_SHORTCUT_USED:60010,EVENT_ID_UI_ACTION_CLICK_ON_SHORTCUT_NOTIFICATION:60011,EVENT_ID_DOC_TRANS_CLICKED:60012,EVENT_ID_RECOMMEND_TO_A_FRIEND_CLICKED:60013,EVENT_ID_INLINE_SETTING_OPENED:60014,EVENT_ID_SETTING_CHANGED:60015,EVENT_ID_AUTO_DETECT_LANG:60016,EVENT_ID_RIGHT_CLICK:60017,EVENT_ID_INLINE_POSITION_CHANGE:60018,EVENT_ID_INLINE_DRAG_START:60019,EVENT_ID_WHATSAPP_MESSAGE_TRANSLATED:60020,EVENT_ID_WHATSAPP_MESSAGE_TRANSLATION_FAILED:60021,EVENT_ID_FPT_HIDE:60022,EVENT_ID_INLINE_COPY:60023,EVENT_ID_INLINE_LISTEN:60024,EVENT_ID_ICON_HOVER:60025,EVENT_ID_UI_ACTION_CLICK_ON_INLINE_SHOW_ALTERNATIVES:60026,EVENT_ID_UI_ACTION_CLICK_ON_INLINE_TRANSLATION_CLOSE:60027,EVENT_ID_UI_ACTION_CLICK_ON_LOGOUT_MENU_ENTRY:60028,EVENT_ID_ONBOARDING_STEP_CHANGE:60029,EVENT_ID_ONBOARDING_OPEN_EXTERNAL_PAGE:60030,EVENT_ID_READ_MORE_CLICKED:60031,EVENT_ID_LAND_ON_WEBSITE:60032,EVENT_ID_CLOSE_VOICE_OVER:60033,EVENT_ID_OPEN_INPUT_HIGHLIGHTER:60034,EVENT_ID_CLOSE_INPUT_HIGHLIGHTER:60035,EVENT_ID_GDOCS_REPLACE_TEXT:60036,EVENT_ID_INSTALL_SUCCESS:60037,EVENT_ID_OPEN_INLINE_HIGHLIGHTER:60038,EVENT_ID_CLOSE_INLINE_HIGHLIGHTER:60039,EVENT_ID_DICTIONARY_STATUS:60040,EVENT_ID_OPEN_DICTIONARY_SECTION:60041,EVENT_ID_HOVER_DISABLED_DICTIONARY:60042,EVENT_ID_DICTIONARY_ERROR:60043,EVENT_ID_ZENDESK_CUSTOMIZATION_OPEN_TICKET:60044,EVENT_ID_ZENDESK_CUSTOMIZATION_DETECT_TICKET_LANGUAGE:60045,EVENT_ID_ZENDESK_CUSTOMIZATION_SWITCH_TICKET_LANGUAGE:60046,EVENT_ID_ZENDESK_CUSTOMIZATION_ENABLE_AUTOTRANSLATE:60047,EVENT_ID_ZENDESK_CUSTOMIZATION_DISABLE_AUTOTRANSLATE:60048,EVENT_ID_ZENDESK_CUSTOMIZATION_TRANSLATE_MESSAGE:60049,EVENT_ID_ZENDESK_CUSTOMIZATION_TRANSLATE_INPUT:60050,EVENT_ID_ZENDESK_CUSTOMIZATION_ERROR:60051,EVENT_ID_GDOCS_MAX_CHAR_EXCEEDED_SHOWN:60052,EVENT_ID_GDOCS_MAX_CHAR_EXCEEDED_TRY_PRO_CLICKED:60053,EVENT_ID_LOGIN:60054,EVENT_ID_LOGOUT:60055,EVENT_ID_SESSION_TYPE:60056,EVENT_ID_TWITTER_TWEET_TRANSLATION_FAILED:60057,EVENT_ID_ONBOARDING_MODAL_SHOWN:60058,EVENT_ID_UI_LOCATION_CLICKED:60059,EVENT_ID_INSTALLATION_ID_CREATED:60060,EVENT_ID_BROWSER_INSTANCE_ID_CREATED:60061,EVENT_ID_DEEPL_WRITE_TEXT_REFINEMENT_REQUEST:60062,EVENT_ID_DEEPL_WRITE_GDOCS_INSERT_COPY:60063,EVENT_ID_DEEPL_WRITE_GDOCS_DISCARD_COPY:60064,EVENT_ID_DEEPL_WRITE_GDOCS_CHAR_LIMIT_REACHED:60065,EVENT_ID_DEEPL_WRITE_ERROR:60066,EVENT_ID_SESSION_STARTED:60067,EVENT_ID_LOGGED_IN:60068,EVENT_ID_LOGGED_OUT:60069,EVENT_ID_CUSTOMIZATION_ON_OFF:60070,EVENT_ID_WRITE_RESULT_ACCEPTED:60071,EVENT_ID_WRITE_RESULT_REVERTED:60072,EVENT_ID_TRANSLATION_RESULT_ACCEPTED:60073,EVENT_ID_TRANSLATION_RESULT_REVERTED:60074,EVENT_ID_GMAIL_CHAR_LIMIT_REACHED:60075,EVENT_ID_UPGRADE_NOTIFICATION_DISPLAYED:60076,EVENT_ID_UPGRADE_NOTIFICATION_CLOSED:60077,EVENT_ID_UPGRADE_NOTIFICATION_ACTION:60078,EVENT_ID_ALTERNATIVES_ALTERNATIVES_OPENED:60079,EVENT_ID_ALTERNATIVES_SEGMENTATION_SELECTED:60080,EVENT_ID_ALTERNATIVES_ALTERNATIVE_SELECTED:80081,EVENT_ID_GLOSSARY_ENABLED:60082,EVENT_ID_GLOSSARY_DISABLED:60083,EVENT_ID_ZENDESK_GLOSSARY_TAB_OPENED_FREE_USER:60084,EVENT_ID_ZENDESK_GLOSSARY_TAB_OPENED_NO_GLOSSARIES:60085,EVENT_ID_LANGUAGE_DETECTION_FOR_TEXT_PROCESSING:60086,EVENT_ID_SEE_ALTERNATIVES_FOR_INPUT_CLICKED:60087,EVENT_ID_DEEPL_WRITE_GET_ALTERNATIVES_FOR_INPUT:60088,EVENT_ID_ALTERNATIVE_SELECTED:60089,EVENT_ID_IFRAME_TRANSLATION_SUCCESSFUL:60090,EVENT_ID_IFRAME_TRANSLATION_FAILED:60091,EVENT_ID_ADS_BUTTON_CLICKED:60092,EVENT_ID_ADS_SHOWN:60093,EVENT_ID_YOUTUBE_COMMENT_TRANSLATION_FAILED:60094,EVENT_ID_EXTENSION_INSTALL_WITH_WEBSITE_USER_LOGIN_STATUS_CHECK:60095,EVENT_ID_DAILY_WEBSITE_USER_LOGIN_STATUS_CHECK:60096,EVENT_ID_GET_WEBSITE_USER_DATA_FAILED:60097,EVENT_ID_WRITE_TEXT_STYLES_CHANGED:60098,EVENT_ID_WRITE_TEXT_STYLES_APPLIED:60099,EVENT_ID_WRITE_TEXT_TONES_CHANGED:60100,EVENT_ID_EXPERIMENT_TRIGGER:60101,EVENT_ID_TRANSLATION_FORMALITY_CHANGED:60102,EVENT_ID_SIDE_PANEL_OPENED:60103,EVENT_ID_UI_INTERACTION_SIDE_PANEL:60104,EVENT_ID_UI_INTERACTION_SIDE_PANEL_FAILS:60105,EVENT_ID_SIDE_PANEL_TRANSLATOR_TARGET_LANG_CHANGED:60106,EVENT_ID_SEND_EXTENSION_INFO_DATA:60107,EVENT_ID_REPLACE_INPUT_FIELD_SELECTION:60108,EVENT_ID_ITA_SESSION:60109,EVENT_ID_SCREEN_CAPTURE_OCR_ERROR:60110,EVENT_ID_FPT_POPUP_OPEN:60111,EVENT_ID_NATIVE_MESSAGE_RECEIVED_FROM_DESKTOP_APP:60112,EVENT_ID_OCR_TRANSLATION_INSTRUCTIONS_CLOSED:60113,EVENT_ID_VIEW_PORT_DIMENSION:60114,EVENT_ID_INLINE_HIGHLIGHTS_SHOWN:60115,EVENT_ID_OPTIONAL_PERMISSION:60116},pT=0,fT=1,hT=2,gT=0,mT=1,vT=2,_T=3,yT=4,TT=0,ST=1,bT=2,wT=0,ET=1,AT=2,IT=3,RT=4,OT=5;function xT(e){switch(e){case at:return 1;case it:return 2;case ot:return 3;case st:return 4;case lt:return 5;case ct:return 6;case ut:return 7;default:return 0}}function NT(e){switch(e){case Nt:return 1;case Et:return 2;case It:return 3;case Ct:return 4;case $t:return 5;case Dt:return 6;case Mt:return 7;case jt:return 8;case kt:return 9;case At:return 10;case qt:return 11;case Bt:return 12;case Ht:return 13;case Kt:return 14;case Qt:return 15;case Zt:return 16;case en:return 17;case tn:return 18;case nn:return 19;case rn:return 20;case on:return 21;case an:return 22;case dn:return 23;case pn:return 24;case sn:return 25;case ln:return 26;case cn:return 27;case un:return 28;case fn:return 29;case hn:return 30;case gn:return 31;case Ut:return 32;case mn:return 33;case vn:return 34;case _n:return 35;case yn:return 36;case Pt:return 37;case Tn:return 38;case Sn:return 39;case bn:return 40;case wn:return 41;case En:return 42;case An:return 43;case In:return 44;case Rn:return 45;case On:return 46;case xn:return 47;case Nn:return 48;case Pn:return 49;case kn:return 50;case Cn:return 51;case Ln:return 52;case $n:return 53;case Dn:return 54;case Mn:return 55;case Un:return 56;case Vn:return 57;case Gn:return 58;case Fn:return 59;case jn:return 60;case xt:return 61;case qn:return 62;case Bn:return 63;case Hn:return 64;case Jn:return 65;case zn:return 66;case Wn:return 67;case Yn:return 68;case Xn:return 69;case Jt:return 70;case zt:return 71;case Wt:return 72;case Yt:return 73;case Xt:return 74;case Rt:return 75;case Ot:return 76;case Lt:return 77;case Vt:return 78;case Gt:return 79;case Ft:return 80;case Kn:return 81;case Qn:return 82;case Zn:return 83;case er:return 84;case tr:return 85;case nr:return 86;case rr:return 87;case or:return 88;case ir:return 89;case ar:return 90;case sr:return 96;default:return 0}}function PT(e){switch(e){case hr:return ur;case gr:return dr;case vr:return fr;case mr:return pr;default:return cr}}function kT(e){switch(e){case _r:return 1;case yr:return 2;case Sr:return 3;case br:return 4;case Tr:return 5;case wr:return 6;case Er:return 7;case Ar:return 8;case Ir:return 9;default:return 0}}function CT(e){switch(e){case Rr:return 1;case Or:return 2;default:return 0}}function LT(e){switch(e){case Nr:return 1;case Pr:return 2;case kr:return 3;default:return 0}}function $T(e){switch(e){case Gr:return 1;case Fr:return 2;case jr:return 3;default:return 0}}function DT(e){switch(e){case Br:return 1;case Hr:return 2;case Jr:return 3;case zr:return 4;default:return 0}}function MT(e){switch(e){case Wr:return fT;case Yr:return hT;default:return pT}}function UT(e){switch(e){case Xr:return mT;case Kr:return vT;case Qr:return _T;case Zr:return yT;default:return gT}}function VT(e){switch(e){case eo:return ST;case to:return bT;default:return TT}}function GT(e){switch(e){case no:return ET;case ro:return AT;case oo:return IT;case io:return RT;case ao:return OT;default:return wT}}const FT=["accountData","domainName"],jT=[dT.EVENT_ID_SESSION_STARTED,dT.EVENT_ID_LOGGED_IN,dT.EVENT_ID_LOGGED_OUT],qT=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>qT(e,t))):Object.keys(e).reduce(((n,r)=>(t.includes(r)||(n[r]=qT(e[r],t)),n)),{}):e,BT=(e,t=!1,n=!1)=>e?n&&t?e:!n&&jT.includes(null==e?void 0:e.eventId)?null:qT(e,FT):null,HT=(e=!1,t=!1)=>!(!e&&!t)&&(!(!e&&t)&&(!(!e||t)||(!(!e||!t)||void 0)));function JT(e){return Fe(this,void 0,void 0,(function*(){let t,n,r,o,i,a,s,l,c,u,d,p,f=!1;try{const e=yield iA(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);n=e.session.id,t=e.installationId,u=e.firefoxAnonPermissionGranted,d=e.firefoxPersonalPermissionGranted}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{p=yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Ho.organizationId]);return null==e?void 0:e.organizationId}))}()}catch(e){console.error(e)}try{const e=yield pA();f=!!e.accountId,r=LT(e.translatorServiceType),o=LT(e.apiServiceType),i=LT(e.docTranslatorServiceType),c=LT(e.writeServiceType),s=f?2===r||2===o||2===c||2===i?pt:ft:dt,l=e.sessionType?$T(e.sessionType):$T(Gr)}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{a=yield function(){return Fe(this,void 0,void 0,(function*(){return(yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}))}()}catch(e){console.error(e)}const h=pi(),g=yield function(){return Fe(this,void 0,void 0,(function*(){let e=[];try{e=yield fS()}catch(e){}if(!e||0===e.length)return[];const t=e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})));return t}))}();let m,v;try{m=yield fA()}catch(e){console.error(e)}try{v=yield function(){return Fe(this,void 0,void 0,(function*(){if(hi())return;const e=yield chrome.cookies.get({name:"dapUid",url:"https://www.deepl.com"});return e?e.value:void 0}))}()}catch(e){console.error(e)}const _=Object.assign({eventId:void 0,extensionVersion:"1.71.0",sessionId:n,sessionType:l,installationId:t,browserInstanceId:a,originStore:PT(chrome.runtime.id),userInfos:Object.assign(Object.assign({},m&&{accountData:Object.assign({accountId:m},p&&{organizationId:p})}),{userType:s,translatorServiceType:r,apiServiceType:o,docTranslatorServiceType:i,writeServiceType:c}),userAgent:h.userAgent,platform:h.platform,browser:h.browser,browserVersion:h.browserVersion,browserLang:h.browserLang,clientExperiments:g},v&&{webInstanceId:v});let y=e?e(_):_;if(hi()){if(!HT(u,d))return;if(y=BT(y,u,d),!y)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${y.eventId} request failed: ${e}`)}))}))}function zT(e){return Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_TRANSLATION_ERROR,translationErrorData:{errorData:{extensionVersion:"1.71.0",errorCode:e.errorCode,errorMessage:e.errorMessage},targetLang:e.targetLang,domainName:e.domainName,websiteLanguage:e.websiteLanguage,sourceLength:e.characterCount,translationTrigger:xT(e.trigger),nicheIntegration:kT(e.nicheIntegration||_r)}})))}))}function WT(e){return Fe(this,void 0,void 0,(function*(){const t=Math.round((yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Ho.last_login]);return e&&e.last_login?(Date.now()-e.last_login)/1e3:0}))}())/60);return JT((n=>Object.assign(Object.assign({},n),{eventId:dT.EVENT_ID_LOGOUT,logoutData:{trigger:CT(e.trigger),minutesSinceLastLogin:t,reason:e.reason}})))}))}function YT(e){return Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_UI_LOCATION_CLICKED,UILocationClickedData:{uiLocation:NT(e)}})))}))}function XT(e){return Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_ITA_SESSION,itaSessionData:Object.assign(Object.assign(Object.assign({itaSessionType:MT(e.itaSessionType),itaSessionEventType:UT(e.itaSessionEventType)},e.itaErrorType&&{itaErrorType:VT(e.itaErrorType)}),e.itaErrorMessage&&{itaErrorMessage:e.itaErrorMessage}),e.itaUserInteractionType&&{itaUserInteractionType:GT(e.itaUserInteractionType)})})))}))}function KT(e){return Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_SCREEN_CAPTURE_OCR_ERROR,errorData:{extensionVersion:"1.71.0",errorCode:e.errorCode,errorMessage:e.errorMessage,errorCategory:DT(Jr)}})))}))}function QT(e){return Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_VIEW_PORT_DIMENSION,viewPortDimensionData:{uiLocation:NT(e.location),width:e.width,height:e.height}})))}))}const ZT="PT-247",eS="PT-1003",tS="PT-972",nS="PT-1295",rS=(e,t)=>{const n=((e,t)=>{if(!e||!Array.isArray(e)||0===e.length)return 1;const n=e.find((e=>e.name===t));return n?n.variant:1})(e,t);return 2===n};let oS;const iS="dlBrowserExtension",aS="dlCache",sS="actionLogs",lS="dlclientstate",cS="dlexperiments";function uS(){return new Promise(((e,t)=>{let n=indexedDB.open(iS,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){oS=t.target.result,e()},n.onupgradeneeded=function(t){if(oS=t.target.result,oS.objectStoreNames.contains(aS)||oS.createObjectStore(aS,{keyPath:"id"}),!oS.objectStoreNames.contains(sS)){oS.createObjectStore(sS,{keyPath:"id"}).createIndex("action","action",{unique:!1})}e()}}))}function dS(e,t,n){return Fe(this,void 0,void 0,(function*(){return oS||(yield uS()),new Promise(((r,o)=>{let i=oS.transaction(n,"readwrite").objectStore(n).put({id:e,data:t,meta:{createdAt:Date.now()}});i.onsuccess=function(){r()},i.onerror=function(e){o(e)}}))}))}function pS(e,t){return Fe(this,void 0,void 0,(function*(){return oS||(yield uS()),new Promise(((n,r)=>{let o=oS.transaction(t,"readonly").objectStore(t).get(e);o.onerror=function(e){r(e)},o.onsuccess=function(){o.result?n(o.result):n(null)}}))}))}function fS(){return Fe(this,void 0,void 0,(function*(){const e=yield pS(cS,aS);if(!e||!e.meta)return[];return(Date.now()-e.meta.createdAt)/6e4>9?[]:e.data&&0!==e.data.length?e.data:[]}))}function hS(e){return Fe(this,void 0,void 0,(function*(){if(oS||(yield uS()),!function(){if(!oS)return!1;if(null===oS.version)return!1;if(hi())try{return"readonly"===oS.transaction(aS,"readonly").mode}catch(e){return!1}return!0}())return void Bo("Database not ready for mutations, skipping action log");if(!oS.objectStoreNames.contains(sS))return;const t=Date.now(),n={id:`${t}-${Math.random().toString(36).substring(2,11)}`,action:e.action,timestamp:t,error:e.error};return new Promise(((e,t)=>{const r=oS.transaction(sS,"readwrite").objectStore(sS).put(n);r.onsuccess=function(){e()},r.onerror=function(e){t(e)}}))}))}function gS(e){return Fe(this,void 0,void 0,(function*(){try{if(e.error&&(t=e.error,[/Could not establish connection\. Receiving end does not exist\./,/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((e=>e.test(t)))))return;const n=yield fS();if(!rS(n,eS))return}catch(e){return void Bo("Failed to get experiment data for action logging feature:",e)}var t;try{yield hS(e)}catch(e){Vy(e,Ny)}}))}function mS(){return Fe(this,arguments,void 0,(function*(e=!1){if(!e){let e;try{e=yield fS()}catch(e){}if(e&&e.length)return e}const t=yield function(){return Fe(this,void 0,void 0,(function*(){return(yield chrome.storage.sync.get(["installationId"])).installationId}))}();if(!t)throw new Error("Installation ID is not valid");let n=[];try{n=yield fS()}catch(e){}const r=`https://experimentation.deepl.com/experiments/${t}`;let o;try{const e=yield fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(n),credentials:"omit"});if(o=(yield e.json()).client_experiments,!o)return[];const t=yield function(){return Fe(this,void 0,void 0,(function*(){if(hi())return[];const e=yield chrome.cookies.get({name:"dl_experiment_override",url:"https://www.deepl.com"});if(!e)return[];return e.value.split("|").map((e=>{const[t,n]=e.split("-");return{id:parseInt(t),variant:parseInt(n)}})).filter((e=>!isNaN(e.id)&&!isNaN(e.variant)))}))}();return t.length&&(o=o.map((e=>{const n=t.find((t=>t.id===e.id));return n?Object.assign(Object.assign({},e),{variant:n.variant}):e}))),yield function(e){return Fe(this,void 0,void 0,(function*(){try{yield dS(cS,e,aS)}catch(e){Vy(e,Ny)}}))}(o),o}catch(e){return[]}}))}const vS="ACCESS_DENIED",_S="INVALID_REQUEST",yS="INVALID_GRANT",TS="GET_TOKEN_ERROR",SS="INVALID_NONCE",bS="TOO_MANY_REQUESTS",wS="REGION_UNAVAILABLE";class ES extends Error{constructor(e,t){super(e),this.httpStatusCode=t,this.name=vS}}class AS extends Error{constructor(e,t){super(e),this.httpStatusCode=t,this.name=_S}}class IS extends Error{constructor(e,t){super(e),this.httpStatusCode=t,this.name=yS}}class RS extends Error{constructor(e,t){super(e),this.httpStatusCode=t,this.name=bS}}class OS extends Error{constructor(e,t){super(e),this.httpStatusCode=t,this.name=TS}}class xS extends Error{constructor(e){super(e),this.name=SS}}class NS extends Error{constructor(e,t){super(e),this.httpStatusCode=t,this.name=wS}}function PS(e,t,n){if(200!==e){if(451===e)throw new NS(`dl-oidc (get tokens): region unavailable - http status: ${e}`,e);if("invalid_request"===t.error)throw new AS(`dl-oidc (get tokens): invalid request - http status: ${e}`,e);if("invalid_grant"===t.error)throw new IS(`dl-oidc (get tokens): invalid grant - http status: ${e}`,e);if("too_many_requests"===t.error)throw new RS(`dl-oidc (get tokens): too many requests - http status: ${e}`,e);throw new OS(`dl-oidc (get tokens): http status: ${e}`,e)}if(null==n?void 0:n.scopes){if(n.scopes.split(" ").includes("openid")){if(!t||!t.id_token)throw new AS("dl-oidc (get tokens): missing id_token in response",400);const e=ti(t.id_token);if(!e)throw new AS("dl-oidc (get tokens): invalid id_token payload",400);if(n.nonce&&(null==e?void 0:e.nonce)!==n.nonce)throw new xS("dl-oidc (get tokens): invalid nonce")}}}function kS(e,t){const n=e.split("?")[1];if(!n)return;const r=n.split("&");for(let e=0;e<r.length;e++){const n=r[e].split("=");if(decodeURIComponent(n[0])===t)return decodeURIComponent(n[1])}}let CS;function LS(e){return Fe(this,void 0,void 0,(function*(){if(CS)return CS;try{const t=yield fetch(`${e}/.well-known/openid-configuration`);if(!t.ok)throw t;const n=yield t.json();return CS=((e,t,n)=>{const r=new URL(t),o=new URL(e);return r.origin===o.origin?n:{authorization_endpoint:n.authorization_endpoint,token_endpoint:n.token_endpoint.replace(r.origin,o.href),introspection_endpoint:n.introspection_endpoint.replace(r.origin,o.href),end_session_endpoint:n.end_session_endpoint,revocation_endpoint:n.revocation_endpoint.replace(r.origin,o.href),userinfo_endpoint:n.userinfo_endpoint.replace(r.origin,o.href),jwks_uri:n.jwks_uri.replace(r.origin,o.href)}})(e,n.issuer,n),CS}catch(t){return console.error("Error while fetching OIDC endpoints",t,e),{authorization_endpoint:`${e}/authorize`,token_endpoint:`${e}/token`,introspection_endpoint:`${e}/introspect`,end_session_endpoint:`${e}/endsession`,revocation_endpoint:`${e}/revoke`,userinfo_endpoint:`${e}/userinfo`,jwks_uri:`${e}/.well-known/jwks`}}}))}const $S=["email","idp","offline_access","openid","profile","service_level","organization"].join(" ");function DS(e,t){return Fe(this,arguments,void 0,(function*(e,t,n=void 0){const{authorization_endpoint:r}=yield LS(e.authURL),o=ei(),i=ei(),a=yield function(e){return Fe(this,void 0,void 0,(function*(){const t=yield crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e));return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}))}(i),s=new URLSearchParams([["client_id",e.clientId],["response_type","code"],["redirect_uri",t],["scope",$S],["code_challenge",a],["code_challenge_method","S256"],["nonce",o]]);n&&s.append("identity_provider",n),e.isSignUp?s.append("prompt","create"):s.append("prompt","select_account");const l=new URL(r);return l.search=s.toString(),{url:l.toString(),nonce:o,codeVerifier:i}}))}const MS=new class{get state(){return this._state}constructor(e,t,n){this.failureCountThreshold=e,this.openTimeRange=t,this.openDefaultErrorGenerator=n,this._state="CLOSED",this._failureCount=0,this._failureTripTimeoutHandle=void 0}execute(e){return Fe(this,void 0,void 0,(function*(){if("OPEN"===this._state)throw this.openDefaultErrorGenerator();try{return yield e()}catch(e){throw this.handleFailure(),e}}))}handleFailure(){if(this._failureCount++,this._failureCount<this.failureCountThreshold)return;this._state="OPEN",void 0!==this._failureTripTimeoutHandle&&clearTimeout(this._failureTripTimeoutHandle);const e=Math.random()*(this.openTimeRange.maxMs-this.openTimeRange.minMs)+this.openTimeRange.minMs;this._failureTripTimeoutHandle=setTimeout((()=>{this._state="CLOSED",this._failureCount=0}),e)}}(1,{minMs:2e4,maxMs:4e4},(()=>new OS("dl-oidc (get tokens): circuit breaker open")));function US(e){return Fe(this,arguments,void 0,(function*(e,t=!1,n=2e3,r=!0){const o=yield e.storage.getTokens();if(!o)return null;const{token_endpoint:i}=yield LS(e.authURL),a=()=>Fe(this,void 0,void 0,(function*(){const n=yield fetch(i,{method:"POST",credentials:"omit",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(Object.assign({client_id:e.clientId},t?{grant_type:"legacy_session",scope:$S,id_token:o.id_token}:{grant_type:"refresh_token",refresh_token:o.refresh_token}))}),r=yield n.json();PS(n.status,r,{scopes:$S});const{access_token:a,refresh_token:s,id_token:l}=r;return{access_token:a,refresh_token:s,id_token:l}})),s=()=>new Promise(((e,t)=>{let r=0;const o=()=>Fe(this,void 0,void 0,(function*(){try{const t=yield a();e(t)}catch(e){if(e instanceof AS||e instanceof IS||e instanceof ES)return void t(e);if(r>=2)return void t(e);r++,setTimeout(o,r*n)}}));o()}));return yield r?MS.execute((()=>s())):s()}))}const VS=(e,...t)=>Fe(void 0,[e,...t],void 0,(function*(e,t=!1,n=6e4){const r=yield e.storage.getTokens();if(!r)return;const o=function(e){var t;const n=ti(e);return 1e3*(null!==(t=null==n?void 0:n.exp)&&void 0!==t?t:0)}(r.access_token)-Date.now()<n,i=((e,t)=>{if(!e)return!1;const n=ti(e);return(null==n?void 0:n.iss)===t})(r.id_token,e.legacyAuthURL);if(t||o||i){const t=yield US(e,i);return t&&(yield e.storage.saveTokens(t)),null==t?void 0:t.access_token}return r.access_token}));function GS(e,t){return Fe(this,arguments,void 0,(function*(e,t,n={},r){var{omitCookies:o}=n,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["omitCookies"]);function a(t){return Fe(this,void 0,void 0,(function*(){return yield fetch(e,Object.assign(Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign({},i.headers),{Authorization:t?`Bearer ${t}`:"None"})}),o&&{credentials:"omit"}))}))}void 0===r&&(r=!1);const s=yield VS(t,r);let l=yield a(s);if(401===l.status||403===l.status){if(!s)throw l;const e=yield US(t);if(!e)throw l;yield t.storage.saveTokens(e),l=yield a(e.access_token)}if(451===l.status)throw new NS(`dl-oidc (auth fetch): region unavailable - http status: ${l.status}`,l.status);return l}))}const FS=(e=>({fetch:(t,n={},r=!1)=>GS(t,e,n,r),getAccessToken:(...t)=>Fe(void 0,[...t],void 0,(function*(t=!1,n=6e4){return VS(e,t,n)})),initTokens:(t,n=!0)=>function(e,t){return Fe(this,arguments,void 0,(function*(e,{redirect_uri:t,response_url:n,nonce:r,code_verifier:o},i=!0){const{token_endpoint:a}=yield LS(e.authURL),s=kS(n,"code");if(!s){const e=kS(n,"error");if("access_denied"===e)throw new ES("dl-oidc (get tokens): access denied - undefined code",401);if("invalid_request"===e)throw new AS("dl-oidc (get tokens): invalid request - undefined code",400)}let l={client_id:e.clientId,code_verifier:o,grant_type:"authorization_code",redirect_uri:t};s&&(l.code=s);const c=yield fetch(a,{method:"POST",credentials:"omit",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(l)}),u=yield c.json();return PS(c.status,u,{nonce:r,scopes:$S}),i&&(yield e.storage.saveTokens(u)),u}))}(e,t,n),createLoginParameters:(t,n)=>DS(e,t,n),createSignUpParameters:(t,n)=>DS(Object.assign(Object.assign({},e),{isSignUp:!0}),t,n),createLogoutParameters:t=>function(e,t){return Fe(this,void 0,void 0,(function*(){const n=yield e.storage.getTokens();if(!n)return;const r=n.id_token,{end_session_endpoint:o}=yield LS(e.authURL),i=new URLSearchParams([["client_id",e.clientId],["id_token_hint",r],["post_logout_redirect_uri",t]]),a=new URL(o);return a.search=i.toString(),{url:a.toString()}}))}(e,t)}))({clientId:"chromeExtension",authURL:"https://auth.deepl.com",legacyAuthURL:"https://www.deepl.com",storage:{getTokens:()=>Fe(void 0,void 0,void 0,(function*(){const e=yield cA();return e.access_token&&e.refresh_token&&e.id_token?e:null})),saveTokens:e=>Fe(void 0,void 0,void 0,(function*(){sA(e.access_token,e.refresh_token,e.id_token)}))}});function jS(){return Fe(this,arguments,void 0,(function*(e=!1,t=!0){if(!e){const e=yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield pS(lS,aS);if(e&&e.meta)return(Date.now()-e.meta.createdAt)/6e4>20?void 0:e.data}))}();if(e)return e}const n=(r="getClientState",o={v:"20180814"},i=function(){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}(),{jsonrpc:"2.0",method:r,params:o,id:i});var r,o,i;const a=yield FS.fetch("https://w.deepl.com/web",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(n),credentials:"omit"},t),s=(yield a.json()).result;return s&&(function(e){Fe(this,void 0,void 0,(function*(){try{yield dS(lS,e,aS)}catch(e){Vy(e,Ny)}}))}(s),function(e){Fe(this,void 0,void 0,(function*(){var t,n,r,o,i;const a=e.featureSet.translator.service,s=e.featureSet.write.service,l=e.featureSet.api.service,c=e.featureSet.documentTranslation.service,u=e.featureSet.glossary.termbaseService,d=e.featureSet.glossary.maxGlossaries,p=e.featureSet.glossary.creation;let f,h;(null===(t=e.loginState)||void 0===t?void 0:t.accountId)&&(f=e.loginState.accountId),(null===(r=null===(n=e.featureSet)||void 0===n?void 0:n.integrations)||void 0===r?void 0:r.browserExtension)&&(h=null===(i=null===(o=e.featureSet)||void 0===o?void 0:o.integrations)||void 0===i?void 0:i.browserExtension);let g=null==e?void 0:e.menuTranslatePageHead;yield chrome.storage.local.set({translatorServiceType:a,writeServiceType:s,apiServiceType:l,docTranslatorServiceType:c,accountId:f||"",featureSet:h,hasTermbaseService:u&&d>0,customTranslatorName:null!=g?g:"",canCreateGlossary:p}),g?function(e){Fe(this,void 0,void 0,(function*(){yield chrome.action.setTitle({title:e})}))}(g):nA()}))}(s)),s}))}function qS(e){return Fe(this,void 0,void 0,(function*(){const t=yield cA(),n=yield FS.createLogoutParameters(chrome.identity.getRedirectURL());if(!n)return;const r=()=>Fe(this,void 0,void 0,(function*(){try{yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield fA();return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_LOGGED_OUT,accountData:{accountUuid:e}})))}))}()}catch(e){console.error(e)}yield Promise.all([dA(),lA(),vA(),tA(),nA()]),yield chrome.storage.local.set({[Ho.lastLogoutTrigger]:e.trigger});try{yield WT({trigger:e.trigger,reason:e.reason}),gS({action:`LOGOUT_${e.trigger}-TRIGGER_${e.reason}-REASON`})}catch(e){console.error(e)}yield jS(!0),function(){Fe(this,void 0,void 0,(function*(){yield chrome.storage.sync.remove(["activeTermbaseId","isGlossaryEnabled"]),yield chrome.storage.sync.set({activeTermbaseId:"",isGlossaryEnabled:!1})}))}(),e.showAlert&&chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:To.dlShowAlert,payload:{error:e.reason}})})),oA()}));t.id_token?chrome.identity.launchWebAuthFlow({url:n.url,interactive:!0},(()=>{r(),gS({action:"LOGOUT_SUCCESS"})})):yield r()}))}const BS="PROTOCOL_ERROR",HS="NETWORK_ERROR",JS="FULL_PAGE_SERVER_ERROR",zS="-32003",WS="429",YS="403",XS="401",KS="1045601",QS="1042902";class ZS extends Error{constructor(e){super(e),this.name=BS,this.message=e}}class eb extends Error{constructor(e,t){super(t),this.name=e,this.message=t}}class tb extends Error{constructor(e){super(e),this.name=JS,this.message=e}}function nb(){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}const rb="translate",ob="write",ib="pro",ab="getTermbases",sb=async({config:e})=>{const t=`${await cb({...e,isTermbase:!0})}&method=${ab}`,n={jsonrpc:"2.0",method:ab,params:{},id:nb()};return await lb(t,{method:"POST",headers:{"Content-Type":"application/json"},body:ub(n)},e)},lb=async(e,t,n)=>{const r=await GS(e,{authURL:n.auth.authUrl,legacyAuthURL:n.auth.legacyAuthUrl,clientId:n.auth.clientId,storage:{getTokens:()=>n.auth.getAuthTokens(),saveTokens:async e=>{await n.auth.setAuthTokens(e.access_token,e.refresh_token,e.id_token)}}},{...t,omitCookies:n.omitCookies});return await db({response:r,isHtml:!1})},cb=async({auth:e,baseUrls:t,isTermbase:n},r=void 0)=>{const o=await e.getAuthTokens(),i=r===ob?t.write:t.translate;if(n)return t.glossary;if(!o||!o.access_token)return i.free;if(!e.getServiceLevels){const e=(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}})(o.access_token),t=e&&"Pro"===e.sessionType;return o.access_token&&t?i.pro:i.free}{const t=await e.getServiceLevels();switch(r){case ob:return t.write===ib?i.pro:i.free;case rb:return t.translator===ib?i.pro:i.free;default:return i.free}}},ub=e=>{let t=JSON.stringify(e);return t=(e.id+3)%13==0||(e.id+5)%29==0?t.replace('"method":"','"method" : "'):t.replace('"method":"','"method": "'),t},db=async({response:e,isHtml:t})=>{let n;try{if(403===e.status)throw new eb(e.status.toString(),`Translation failed: Http status code ${e.status} forbidden request. re-authenticating makes no difference.`);if(401===e.status)throw new eb(e.status.toString(),`Translation failed: Http status code ${e.status} unauthorized request.`);n=JSON.parse(await e.text())}catch(n){throw 200===e.status?new ZS("JSON_RPC: Parsing of response object failed"):e.status>=500&&t?new tb(`FPT failed: Http status code ${e.status}`):new eb(e.status.toString(),`Translation failed: Http status code ${e.status}`)}if("2.0"!==n.jsonrpc||void 0!==n.result&&200!==e.status||void 0===n.result&&void 0===n.error)throw new ZS("JSON_RPC: missing field, wrong id, proper result without 200 status, or missing data");if(n.error){if(void 0===n.error.code)throw new ZS('JSON_RPC: Missing field "code" in error response');throw new eb(n.error.code.toString(),n.error.message)}if(200!==e.status)throw new eb(e.status.toString(),`Http status code ${e.status}`);return n};let pb;const fb=e=>Fe(void 0,void 0,void 0,(function*(){try{return yield e(hb())}catch(e){if(e.name===vS||e.name===_S||e.name===yS||e.name===zS||e.name===YS||e.name===XS){if(pb)throw e;pb=setTimeout((()=>Fe(void 0,void 0,void 0,(function*(){try{yield qS({trigger:Or,reason:e.name})}finally{clearTimeout(pb),pb=void 0}}))),5e3)}throw e}})),hb=()=>({baseUrls:{translate:{free:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",pro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0"},write:{free:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",pro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0"},glossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0"},auth:{clientId:"chromeExtension",authUrl:"https://auth.deepl.com",legacyAuthUrl:"https://www.deepl.com",getAuthTokens:cA,setAuthTokens:sA,getServiceLevels:()=>Fe(void 0,void 0,void 0,(function*(){const e=yield mA();return{translator:e.translatorServiceType,write:e.writeServiceType}})),tokenUrl:"https://w.deepl.com/oidc/token"},omitCookies:!0}),gb=e=>Fe(void 0,void 0,void 0,(function*(){const t=e.nicheIntegration===_r||e.nicheIntegration===wr||e.nicheIntegration===Er||!e.nicheIntegration,n=yield gA(xr.TRANSLATOR),r=yield gA(xr.WRITE);if(!((!n||!r)&&t))return;const o=e.sourceTexts.reduce(((e,t)=>e+t.length),0),i=e.isWriteRequest?Ho.writeServiceType:Ho.translatorServiceType,a=yield function(){return Fe(this,arguments,void 0,(function*(e=Ho.translatorServiceType){const t=yield hA(e);let n;switch(e){case Ho.translatorServiceType:n=ht;break;case Ho.writeServiceType:n=gt;break;default:n=ht}switch(t){case dt:return n.notLoggedIn;case ft:return n.loggedInFree;case pt:return;default:return n.notLoggedIn}}))}(i);if(e.isWriteRequest){if(n&&!r&&o>a)throw new cT(a,"Char limit exceeded (Translator Pro, Write Free)");if(!r&&o>a)throw new lT(a,"Char limit exceeded (Write Free Or Anonymous)")}else{let e;try{e=yield hA()}catch(t){e=dt,console.log(t)}if(e===ft&&r&&o>a)throw new uT(a,"Char limit exceeded (Free or Anon Translator, Write Pro)");if(e===ft&&o>a)throw new aT(a,"Char limit exceeded (Translator Free)");if(e===dt&&o>a)throw new sT(a,"Char limit exceeded (Translator Anon)")}})),mb=e=>{if(!(null==e?void 0:e.includes(">")))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} → ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`};var vb,_b,yb={},Tb={},Sb={},bb={};function wb(){return vb||(vb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Log=e.LogLevel=void 0;function t(e){return e.unshift("[Statsig]"),e}e.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class n{static info(...r){n.level>=e.LogLevel.Info&&console.info("  INFO ",...t(r))}static debug(...r){n.level>=e.LogLevel.Debug&&console.debug(" DEBUG ",...t(r))}static warn(...r){n.level>=e.LogLevel.Warn&&console.warn("  WARN ",...t(r))}static error(...r){n.level>=e.LogLevel.Error&&console.error(" ERROR ",...t(r))}}e.Log=n,n.level=e.LogLevel.Warn}(bb)),bb}function Eb(){return _b||(_b=1,function(e){var t,n,r;Object.defineProperty(e,"__esModule",{value:!0}),e._getInstance=e._getStatsigGlobalFlag=e._getStatsigGlobal=void 0;const o=wb();e._getStatsigGlobal=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:c}catch(e){return c}};e._getStatsigGlobalFlag=t=>(0,e._getStatsigGlobal)()[t];e._getInstance=t=>{const n=(0,e._getStatsigGlobal)();return t?n.instances&&n.instances[t]:(n.instances&&Object.keys(n.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),n.firstInstance)};const i="__STATSIG__",a="undefined"!=typeof window?window:{},s=void 0!==$_?$_:{},l="undefined"!=typeof globalThis?globalThis:{},c=null!==(r=null!==(n=null!==(t=a[i])&&void 0!==t?t:s[i])&&void 0!==n?n:l[i])&&void 0!==r?r:{instance:e._getInstance};a[i]=c,s[i]=c,l[i]=c}(Sb)),Sb}var Ab,Ib={};function Rb(){return Ab||(Ab=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Diagnostics=void 0;const t=new Map,n="start",r="end",o="statsig::diagnostics";function i(e,t,n,r){return Object.assign({key:n,action:t,step:r,timestamp:Date.now()},e)}function a(e,n){var r;const o=null!==(r=t.get(e))&&void 0!==r?r:[];o.push(n),t.set(e,o)}function s(e,t){if(t in e)return e[t]}e.Diagnostics={_getMarkers:e=>t.get(e),_markInitOverallStart:e=>{a(e,i({},n,"overall"))},_markInitOverallEnd:(e,t,n)=>{a(e,i({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:n},r,"overall"))},_markInitNetworkReqStart:(e,t)=>{a(e,i(t,n,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{a(e,i(t,r,"initialize","network_request"))},_markInitProcessStart:e=>{a(e,i({},n,"initialize","process"))},_markInitProcessEnd:(e,t)=>{a(e,i(t,r,"initialize","process"))},_clearMarkers:e=>{t.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:s(e,"code"),name:s(e,"name"),message:s(e,"message")}},_getDiagnosticsData(t,n,r,o){var i;return{success:!0===(null==t?void 0:t.ok),statusCode:null==t?void 0:t.status,sdkRegion:null===(i=null==t?void 0:t.headers)||void 0===i?void 0:i.get("x-statsig-region"),isDelta:!0===r.includes('"is_delta":true')||void 0,attempt:n,error:e.Diagnostics._formatError(o)}},_enqueueDiagnosticsEvent(t,n,r,i){const a=e.Diagnostics._getMarkers(r);if(null==a||a.length<=0)return-1;const s=a[a.length-1].timestamp-a[0].timestamp;e.Diagnostics._clearMarkers(r);const l=function(e,t){const n={eventName:o,user:e,value:null,metadata:t,time:Date.now()};return n}(t,{context:"initialize",markers:a.slice(),statsigOptions:i});return n.enqueue(l),s}}}(Ib)),Ib}var Ob,xb,Nb,Pb={},kb={},Cb={},Lb={};function $b(){if(Ob)return Lb;return Ob=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb._isTypeMatch=Lb._typeOf=void 0,Lb._typeOf=function(e){return Array.isArray(e)?"array":typeof e},Lb._isTypeMatch=function(e,t){const n=e=>Array.isArray(e)?"array":null===e?"null":typeof e;return n(e)===n(t)},Lb}function Db(){return xb||(xb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._getSortedObject=e._DJB2Object=e._DJB2=void 0;const t=$b();e._DJB2=e=>{let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return String(t>>>0)};e._DJB2Object=(t,n)=>(0,e._DJB2)(JSON.stringify((0,e._getSortedObject)(t,n)));e._getSortedObject=(n,r)=>{if(null==n)return null;const o=Object.keys(n).sort(),i={};return o.forEach((o=>{const a=n[o];0!==r&&"object"===(0,t._typeOf)(a)?i[o]=(0,e._getSortedObject)(a,null!=r?r-1:r):i[o]=a})),i}}(Cb)),Cb}function Mb(){if(Nb)return kb;Nb=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb._getStorageKey=kb._getUserStorageKey=void 0;const e=Db();function t(t,n,r){var o;if(r)return r(t,n);const i=n&&n.customIDs?n.customIDs:{},a=[`uid:${null!==(o=null==n?void 0:n.userID)&&void 0!==o?o:""}`,`cids:${Object.keys(i).sort(((e,t)=>e.localeCompare(t))).map((e=>`${e}-${i[e]}`)).join(",")}`,`k:${t}`];return(0,e._DJB2)(a.join("|"))}return kb._getUserStorageKey=t,kb._getStorageKey=function(n,r,o){return r?t(n,r,o):(0,e._DJB2)(`k:${n}`)},kb}var Ub,Vb={};function Gb(){return Ub||(Ub=1,e=Vb,Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkParam=e.NetworkDefault=e.Endpoint=void 0,e.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},e.NetworkDefault={[e.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[e.Endpoint._initialize]:"https://featureassets.org/v1",[e.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},e.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}),Vb;var e}var Fb,jb={};function qb(){return Fb||(Fb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._getUnloadEvent=e._getCurrentPageUrlSafe=e._addDocumentEventListenerSafe=e._addWindowEventListenerSafe=e._isServerEnv=e._getDocumentSafe=e._getWindowSafe=void 0;e._getWindowSafe=()=>"undefined"!=typeof window?window:null;e._getDocumentSafe=()=>{var t;const n=(0,e._getWindowSafe)();return null!==(t=null==n?void 0:n.document)&&void 0!==t?t:null};e._isServerEnv=()=>{if(null!==(0,e._getDocumentSafe)())return!1;const t="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||t};e._addWindowEventListenerSafe=(t,n)=>{const r=(0,e._getWindowSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(t,n)};e._addDocumentEventListenerSafe=(t,n)=>{const r=(0,e._getDocumentSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(t,n)};e._getCurrentPageUrlSafe=()=>{var t;try{return null===(t=(0,e._getWindowSafe)())||void 0===t?void 0:t.location.href.split(/[?#]/)[0]}catch(e){return}};e._getUnloadEvent=()=>{const t=(0,e._getWindowSafe)();if(!t)return"beforeunload";return"onpagehide"in t?"pagehide":"beforeunload"}}(jb)),jb}var Bb,Hb={};function Jb(){if(Bb)return Hb;Bb=1,Object.defineProperty(Hb,"__esModule",{value:!0}),Hb._createLayerParameterExposure=Hb._createConfigExposure=Hb._mapExposures=Hb._createGateExposure=Hb._isExposureEvent=void 0;const e="statsig::config_exposure",t="statsig::gate_exposure",n="statsig::layer_exposure",r=(e,t,n,r,o)=>(n.bootstrapMetadata&&(r.bootstrapMetadata=n.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:i(n,r),secondaryExposures:o,time:Date.now()});Hb._isExposureEvent=({eventName:r})=>r===t||r===e||r===n;function o(e,t){return e.map((e=>"string"==typeof e?(null!=t?t:{})[e]:e)).filter((e=>null!=e))}Hb._createGateExposure=(e,n,i)=>{var a,s,l;const c={gate:n.name,gateValue:String(n.value),ruleID:n.ruleID};return null!=(null===(a=n.__evaluation)||void 0===a?void 0:a.version)&&(c.configVersion=n.__evaluation.version),r(t,e,n.details,c,o(null!==(l=null===(s=n.__evaluation)||void 0===s?void 0:s.secondary_exposures)&&void 0!==l?l:[],i))},Hb._mapExposures=o;Hb._createConfigExposure=(t,n,i)=>{var a,s,l,c;const u={config:n.name,ruleID:n.ruleID};return null!=(null===(a=n.__evaluation)||void 0===a?void 0:a.version)&&(u.configVersion=n.__evaluation.version),null!=(null===(s=n.__evaluation)||void 0===s?void 0:s.passed)&&(u.rulePassed=String(n.__evaluation.passed)),r(e,t,n.details,u,o(null!==(c=null===(l=n.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==c?c:[],i))};Hb._createLayerParameterExposure=(e,t,i,a)=>{var s,l,c,u,d,p,f;const h=t.__evaluation,g=!0===(null===(s=null==h?void 0:h.explicit_parameters)||void 0===s?void 0:s.includes(i));let m="",v=null!==(l=null==h?void 0:h.undelegated_secondary_exposures)&&void 0!==l?l:[];g&&(m=null!==(c=h.allocated_experiment_name)&&void 0!==c?c:"",v=null!==(u=h.secondary_exposures)&&void 0!==u?u:[]);const _=null===(d=t.__evaluation)||void 0===d?void 0:d.parameter_rule_ids,y={config:t.name,parameterName:i,ruleID:null!==(p=null==_?void 0:_[i])&&void 0!==p?p:t.ruleID,allocatedExperiment:m,isExplicitParameter:String(g)};return null!=(null===(f=t.__evaluation)||void 0===f?void 0:f.version)&&(y.configVersion=t.__evaluation.version),r(n,e,t.details,y,o(v,a))};const i=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t);return Hb}var zb,Wb={};function Yb(){return zb||(zb=1,Object.defineProperty(Wb,"__esModule",{value:!0}),Wb.LoggingEnabledOption=Wb.LogEventCompressionMode=void 0,Wb.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},Wb.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}),Wb}var Xb,Kb={};function Qb(){return Xb||(Xb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._setObjectInStorage=e._getObjectFromStorage=e.Storage=void 0;const t=wb(),n=qb(),r={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>r[e]?r[e]:null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]},getAllKeys:()=>Object.keys(r)};let i=null;try{const e=(0,n._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(i={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,n)=>e.localStorage.setItem(t,n),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){t.Log.warn("Failed to setup localStorageProvider.")}let a=null!=i?i:o,s=a;function l(t){try{return t()}catch(t){if(t instanceof Error&&"SecurityError"===t.name)return e.Storage._setProvider(o),null;throw t}}e.Storage={isReady:()=>s.isReady(),isReadyResolver:()=>s.isReadyResolver(),getProviderName:()=>s.getProviderName(),getItem:e=>l((()=>s.getItem(e))),setItem:(e,t)=>l((()=>s.setItem(e,t))),removeItem:e=>s.removeItem(e),getAllKeys:()=>s.getAllKeys(),_setProvider:e=>{a=e,s=e},_setDisabled:e=>{s=e?o:a}},e._getObjectFromStorage=function(t){const n=e.Storage.getItem(t);return JSON.parse(null!=n?n:"null")},e._setObjectInStorage=function(t,n){e.Storage.setItem(t,JSON.stringify(n))}}(Kb)),Kb}var Zb,ew={};function tw(){if(Zb)return ew;Zb=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.UrlConfiguration=void 0;const e=Db(),t=Gb(),n={[t.Endpoint._initialize]:"i",[t.Endpoint._rgstr]:"e",[t.Endpoint._download_config_specs]:"d"};return ew.UrlConfiguration=class{constructor(e,r,o,i){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=n[e],r&&(this.customUrl=r),!r&&o&&(this.customUrl=o.endsWith("/")?`${o}${e}`:`${o}/${e}`),i&&(this.fallbackUrls=i);const a=t.NetworkDefault[e];this.defaultUrl=`${a}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}getChecksum(){var t;const n=(null!==(t=this.fallbackUrls)&&void 0!==t?t:[]).sort().join(",");return(0,e._DJB2)(this.customUrl+n)}},ew}var nw,rw,ow={};function iw(){return nw||(nw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._notifyVisibilityChanged=e._subscribeToVisiblityChanged=e._isUnloading=e._isCurrentlyVisible=void 0;const t=qb(),n="foreground",r="background",o=[];let i=n,a=!1;e._isCurrentlyVisible=()=>i===n;e._isUnloading=()=>a;e._subscribeToVisiblityChanged=e=>{o.unshift(e)};e._notifyVisibilityChanged=e=>{e!==i&&(i=e,o.forEach((t=>t(e))))},(0,t._addWindowEventListenerSafe)("focus",(()=>{a=!1,(0,e._notifyVisibilityChanged)(n)})),(0,t._addWindowEventListenerSafe)("blur",(()=>(0,e._notifyVisibilityChanged)(r))),(0,t._addDocumentEventListenerSafe)("visibilitychange",(()=>{(0,e._notifyVisibilityChanged)("visible"===document.visibilityState?n:r)})),(0,t._addWindowEventListenerSafe)((0,t._getUnloadEvent)(),(()=>{a=!0,(0,e._notifyVisibilityChanged)(r)}))}(ow)),ow}function aw(){if(rw)return Pb;rw=1;var e=Pb.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.EventLogger=void 0;const t=Mb(),n=Db(),r=wb(),o=Gb(),i=qb(),a=Jb(),s=Yb(),l=Qb(),c=tw(),u=iw(),d={};return Pb.EventLogger=class p{static _safeFlushAndForget(e){var t;null===(t=d[e])||void 0===t||t.flush().catch((()=>{}))}static _safeRetryFailedLogs(e){var t;null===(t=d[e])||void 0===t||t._retryFailedLogs()}constructor(e,t,n,i){var a,l;this._sdkKey=e,this._emitter=t,this._network=n,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(a=null==i?void 0:i.loggingEnabled)&&void 0!==a?a:!0===(null==i?void 0:i.disableLogging)?s.LoggingEnabledOption.disabled:s.LoggingEnabledOption.browserOnly,(null==i?void 0:i.loggingEnabled)&&void 0!==i.disableLogging&&r.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(l=null==i?void 0:i.loggingBufferMaxSize)&&void 0!==l?l:100;const u=null==i?void 0:i.networkConfig;this._logEventUrlConfig=new c.UrlConfiguration(o.Endpoint._rgstr,null==u?void 0:u.logEventUrl,null==u?void 0:u.api,null==u?void 0:u.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){if("disabled"===this._loggingEnabled&&"disabled"!==e){const e=this._getStorageKey(),t=(0,l._getObjectFromStorage)(e);t&&this._queue.push(...t),l.Storage.removeItem(e)}this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&p._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;const n=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=n+1}reset(){this.flush().catch((()=>{})),this._lastExposureTimeMap={}}start(){var e;const t=(0,i._isServerEnv)();t&&"always"!==(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)||(d[this._sdkKey]=this,t||(0,u._subscribeToVisiblityChanged)((e=>{"background"===e?p._safeFlushAndForget(this._sdkKey):"foreground"===e&&p._safeRetryFailedLogs(this._sdkKey)})),this._retryFailedLogs(),this._startBackgroundFlushInterval())}stop(){return e(this,void 0,void 0,(function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete d[this._sdkKey],yield this.flush()}))}flush(){return e(this,void 0,void 0,(function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)}))}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout((()=>p._safeFlushAndForget(this._sdkKey)),200))}_shouldLogEvent(e){var n;if("always"!==(null===(n=this._options)||void 0===n?void 0:n.loggingEnabled)&&(0,i._isServerEnv)())return!1;if(!(0,a._isExposureEvent)(e))return!0;const r=e.user?e.user:{statsigEnvironment:void 0},o=(0,t._getUserStorageKey)(this._sdkKey,r),s=e.metadata?e.metadata:{},l=[e.eventName,o,s.gate,s.config,s.ruleID,s.allocatedExperiment,s.parameterName,String(s.isExplicitParameter),s.reason].join("|"),c=this._lastExposureTimeMap[l],u=Date.now();return!(c&&u-c<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[l]=u,!0)}_sendEvents(t){return e(this,void 0,void 0,(function*(){var e,n;if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(t),!1;try{const o=(0,u._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(n=null===(e=this._options)||void 0===e?void 0:e.networkConfig)||void 0===n?void 0:n.networkOverrideFunc);this._emitter({name:"pre_logs_flushed",events:t});return(o?this._sendEventsViaBeacon(t):yield this._sendEventsViaPost(t)).success?(this._emitter({name:"logs_flushed",events:t}),!0):(r.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(t),!1)}catch(e){return r.Log.warn("Failed to flush events."),!1}}))}_sendEventsViaPost(t){return e(this,void 0,void 0,(function*(){var e;const n=yield this._network.post(this._getRequestData(t)),r=null!==(e=null==n?void 0:n.code)&&void 0!==e?e:-1;return{success:r>=200&&r<300}}))}_sendEventsViaBeacon(e){return{success:this._network.beacon(this._getRequestData(e))}}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[o.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();const t=this._getStorageKey();try{const n=this._getFailedLogsFromStorage(t);(0,l._setObjectInStorage)(t,[...n,...e])}catch(e){r.Log.warn("Unable to save failed logs to storage")}}_getFailedLogsFromStorage(e){let t=[];try{const n=(0,l._getObjectFromStorage)(e);return Array.isArray(n)&&(t=n),t}catch(e){return[]}}_retryFailedLogs(){const t=this._getStorageKey();(()=>e(this,void 0,void 0,(function*(){l.Storage.isReady()||(yield l.Storage.isReadyResolver());const e=(0,l._getObjectFromStorage)(t);e&&(l.Storage.removeItem(t),yield this._sendEvents(e))})))().catch((()=>{r.Log.warn("Failed to flush stored logs")}))}_getStorageKey(){return`statsig.failed_logs.${(0,n._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const t={},n=this._getCurrentPageUrl();n&&(t.statsigMetadata={currentPage:n});const o=Object.assign(Object.assign({},e),t);r.Log.debug("Enqueued Event:",o),this._queue.push(o)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,i._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;const n=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4,r=setInterval((()=>{const e=d[this._sdkKey];e&&e._flushIntervalId===r?p._safeFlushAndForget(this._sdkKey):clearInterval(r)}),n);this._flushIntervalId=r}},Pb}var sw,lw={};function cw(){return sw||(sw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigMetadataProvider=e.SDK_VERSION=void 0,e.SDK_VERSION="3.30.0";let t={sdkVersion:e.SDK_VERSION,sdkType:"js-mono"};e.StatsigMetadataProvider={get:()=>t,add:e=>{t=Object.assign(Object.assign({},t),e)}}}(lw)),lw}var uw,dw={};var pw,fw,hw={},gw={},mw={};function vw(){if(pw)return mw;return pw=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.getUUID=void 0,mw.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,(n=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:7&r|8).toString(16)}))},mw}function _w(){if(fw)return gw;fw=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.getCookieName=gw.StableID=void 0;const e=Mb(),t=wb(),n=qb(),r=Qb(),o=vw(),i={},a={},s={};function l(t){return`statsig.stable_id.${(0,e._getStorageKey)(t)}`}function c(e,n){const o=l(n);try{(0,r._setObjectInStorage)(o,e)}catch(e){t.Log.warn("Failed to save StableID to storage")}}function u(e,t){if(!a[t]||null==(0,n._getDocumentSafe)())return;const r=new Date;r.setFullYear(r.getFullYear()+1),document.cookie=`${d(t)}=${encodeURIComponent(e)}; expires=${r.toUTCString()}; path=/`}function d(t){return`statsig.stable_id.${(0,e._getStorageKey)(t)}`}return gw.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{if(s[e])return null;if(null!=i[e])return i[e];let t=null;return t=function(e){if(!a[e]||null==(0,n._getDocumentSafe)())return null;const t=document.cookie.split(";");for(const n of t){const[t,r]=n.trim().split("=");if(t===d(e))return decodeURIComponent(r)}return null}(e),null!=t?(i[e]=t,c(t,e),t):(t=function(e){const t=l(e);return(0,r._getObjectFromStorage)(t)}(e),null==t&&(t=(0,o.getUUID)()),c(t,e),u(t,e),i[e]=t,t)},setOverride:(e,t)=>{i[t]=e,c(e,t),u(e,t)},_setCookiesEnabled:(e,t)=>{a[e]=t},_setDisabled:(e,t)=>{s[e]=t}},gw.getCookieName=d,gw}var yw,Tw={};function Sw(){if(yw)return Tw;yw=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw._getFullUserHash=Tw._normalizeUser=void 0;const e=Db(),t=wb();return Tw._normalizeUser=function(e,n,r){try{const t=JSON.parse(JSON.stringify(e));return null!=n&&null!=n.environment?t.statsigEnvironment=n.environment:null!=r&&(t.statsigEnvironment={tier:r}),t}catch(e){return t.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},Tw._getFullUserHash=function(t){return t?(0,e._DJB2Object)(t):null},Tw}var bw,ww,Ew={};function Aw(){if(bw)return Ew;bw=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew._typedJsonParse=void 0;const e=wb();return Ew._typedJsonParse=function(t,n,r){try{const e=JSON.parse(t);if(e&&"object"==typeof e&&n in e)return e}catch(e){}return e.Log.error(`Failed to parse ${r}`),null},Ew}function Iw(){if(ww)return hw;ww=1;var e=hw.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(hw,"__esModule",{value:!0}),hw._makeDataAdapterResult=hw.DataAdapterCore=void 0;const t=wb(),n=_w(),r=Sw(),o=Qb(),i=Aw();function a(e,t,n,o){return{source:e,data:t,receivedAt:Date.now(),stableID:n,fullUserHash:(0,r._getFullUserHash)(o)}}hw.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._cacheLimit=10,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new s}attach(e,t,n){this._sdkKey=e,this._options=t}getDataSync(e){const t=e&&(0,r._normalizeUser)(e,this._options),n=this._getCacheKey(t),o=this._inMemoryCache.get(n,t);if(o&&this._getIsCacheValueValid(o))return o;const i=this._loadFromCache(n);return i&&this._getIsCacheValueValid(i)?(this._inMemoryCache.add(n,i,this._cacheLimit),this._inMemoryCache.get(n,t)):null}setData(e,t){const n=t&&(0,r._normalizeUser)(t,this._options),o=this._getCacheKey(n);this._inMemoryCache.add(o,a("Bootstrap",e,null,n),this._cacheLimit)}_getIsCacheValueValid(e){return null==e.stableID||e.stableID===n.StableID.get(this._getSdkKey())}_getDataAsyncImpl(n,r,i){return e(this,void 0,void 0,(function*(){o.Storage.isReady()||(yield o.Storage.isReadyResolver());const e=null!=n?n:this.getDataSync(r),a=[this._fetchAndPrepFromNetwork(e,r,i)];return(null==i?void 0:i.timeoutMs)&&a.push(new Promise((e=>setTimeout(e,i.timeoutMs))).then((()=>(t.Log.debug("Fetching latest value timed out"),null)))),yield Promise.race(a)}))}_prefetchDataImpl(t,n){return e(this,void 0,void 0,(function*(){const e=t&&(0,r._normalizeUser)(t,this._options),o=this._getCacheKey(e),i=yield this._getDataAsyncImpl(null,e,n);i&&this._inMemoryCache.add(o,Object.assign(Object.assign({},i),{source:"Prefetch"}),this._cacheLimit)}))}_fetchAndPrepFromNetwork(r,o,s){return e(this,void 0,void 0,(function*(){var e;const l=null!==(e=null==r?void 0:r.data)&&void 0!==e?e:null,c=null!=r&&this._isCachedResultValidFor204(r,o),u=yield this._fetchFromNetwork(l,o,s,c);if(!u)return t.Log.debug("No response returned for latest value"),null;const d=(0,i._typedJsonParse)(u,"has_updates","Response"),p=this._getSdkKey(),f=n.StableID.get(p);let h=null;if(!0===(null==d?void 0:d.has_updates))h=a("Network",u,f,o);else{if(!l||!1!==(null==d?void 0:d.has_updates))return null;h=a("NetworkNotModified",l,f,o)}const g=this._getCacheKey(o);return this._inMemoryCache.add(g,h,this._cacheLimit),this._writeToCache(g,h),h}))}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(t.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;const n=null===(t=o.Storage.getItem)||void 0===t?void 0:t.call(o.Storage,e);if(null==n)return null;const r=(0,i._typedJsonParse)(n,"source","Cached Result");return r?Object.assign(Object.assign({},r),{source:"Cache"}):null}_writeToCache(e,t){const n=JSON.stringify(t);for(let t=0;t<8;t++)try{o.Storage.setItem(e,n);break}catch(t){if(!(t instanceof Error)||!t.toString().includes("QuotaExceededError")&&!t.toString().includes("QUOTA_EXCEEDED_ERR")||this._cacheLimit<=1)throw t;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(e,this._cacheLimit-1)}this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e,t=this._cacheLimit){var n;const r=null!==(n=(0,o._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==n?n:{};r[e]=Date.now();const i=l(r,t);for(const e of i)delete r[e],o.Storage.removeItem(e);(0,o._setObjectInStorage)(this._lastModifiedStoreKey,r)}},hw._makeDataAdapterResult=a;class s{constructor(){this._data={}}get(e,n){var r;const o=this._data[e],i=null==o?void 0:o.stableID,a=null===(r=null==n?void 0:n.customIDs)||void 0===r?void 0:r.stableID;return a&&i&&a!==i?(t.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):o}add(e,t,n){const r=l(this._data,n-1);for(const e of r)delete this._data[e];this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function l(e,t){const n=Object.keys(e);return n.length<=t?[]:0===t?n:n.sort(((t,n)=>{const r=e[t],o=e[n];return"object"==typeof r&&"object"==typeof o?r.receivedAt-o.receivedAt:r-o})).slice(0,n.length-t)}return hw}var Rw,Ow={};var xw,Nw,Pw={},kw={};function Cw(){if(xw)return kw;xw=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.SDKType=void 0;const e={};let t;return kw.SDKType={_get:n=>{var r;return(null!==(r=e[n])&&void 0!==r?r:"js-mono")+(null!=t?t:"")},_setClientType(t,n){e[t]=n},_setBindingType(e){t&&"-react"!==t||(t="-"+e)}},kw}function Lw(){return Nw||(Nw=1,function(e){var t=Pw.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorBoundary=e.EXCEPTION_ENDPOINT=void 0;const n=wb(),r=Cw(),o=cw();e.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const i="[Statsig] UnknownError";function a(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred.")}function s(e){if(!e)return{};const t={};return Object.keys(e).forEach((n=>{const r=n,o=e[r];switch(typeof o){case"number":case"bigint":case"boolean":t[String(r)]=o;break;case"string":o.length<50?t[String(r)]=o:t[String(r)]="set";break;case"object":"environment"===r?t.environment=o:"networkConfig"===r?t.networkConfig=o:t[String(r)]=null!=o?"set":"unset"}})),t}e.ErrorBoundary=class{constructor(e,t,n,r){this._sdkKey=e,this._options=t,this._emitter=n,this._lastSeenError=r,this._seen=new Set}wrap(e,t){try{const n=e;(function(e){const t=new Set;let n=Object.getPrototypeOf(e);for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).filter((e=>"function"==typeof(null==n?void 0:n[e]))).forEach((e=>t.add(e))),n=Object.getPrototypeOf(n);return Array.from(t)})(n).forEach((r=>{const o=n[r];"$EB"in o||(n[r]=(...n)=>this._capture(t?`${t}:${r}`:r,(()=>o.apply(e,n))),n[r].$EB=!0)}))}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){const e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=a(e))}_capture(e,t){try{const n=t();return n&&n instanceof Promise?n.catch((t=>this._onError(e,t))):n}catch(t){return this._onError(e,t),null}}_onError(l,c){try{n.Log.warn(`Caught error in ${l}`,{error:c});const u=()=>t(this,void 0,void 0,(function*(){var t,n,u,d,p,f,h;const g=c||Error(i),m=g instanceof Error,v=m?g.name:"No Name",_=a(g);if(this._lastSeenError=_,this._seen.has(v))return;if(this._seen.add(v),null===(n=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic)return void(null===(u=this._emitter)||void 0===u||u.call(this,{name:"error",error:c,tag:l}));const y=r.SDKType._get(this._sdkKey),T=o.StatsigMetadataProvider.get(),S=m?g.stack:function(e){try{return JSON.stringify(e)}catch(e){return i}}(g),b=Object.assign({tag:l,exception:v,info:S,statsigOptions:s(this._options)},Object.assign(Object.assign({},T),{sdkType:y})),w=null!==(f=null===(p=null===(d=this._options)||void 0===d?void 0:d.networkConfig)||void 0===p?void 0:p.networkOverrideFunc)&&void 0!==f?f:fetch;yield w(e.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(y),"STATSIG-SDK-VERSION":String(T.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(b)}),null===(h=this._emitter)||void 0===h||h.call(this,{name:"error",error:c,tag:l})}));u().then((()=>{})).catch((()=>{}))}catch(e){}}}}(Pw)),Pw}var $w,Dw={};var Mw,Uw={};var Vw,Gw={};var Fw,jw={};function qw(){if(Fw)return jw;Fw=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.createMemoKey=jw.MemoPrefix=void 0,jw.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const e=new Set([]),t=new Set(["userPersistedValues"]);return jw.createMemoKey=function(n,r,o){let i=`${n}|${r}`;if(!o)return i;for(const n of Object.keys(o)){if(t.has(n))return;e.has(n)?i+=`|${n}=true`:i+=`|${n}=${o[n]}`}return i},jw}var Bw,Hw,Jw={},zw={},Ww={};function Yw(){if(Bw)return Ww;Bw=1;var e=Ww.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(Ww,"__esModule",{value:!0}),Ww._fetchTxtRecords=void 0;const t=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),n=["i","e","d"];return Ww._fetchTxtRecords=function(r){return e(this,void 0,void 0,(function*(){const e=yield r("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:t});if(!e.ok){const e=new Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}const o=yield e.arrayBuffer();return function(e){const t=e.findIndex(((t,r)=>r<200&&"="===String.fromCharCode(t)&&n.includes(String.fromCharCode(e[r-1]))));if(-1===t){const e=new Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let n=t-1;n<e.length;n++)r+=String.fromCharCode(e[n]);return r.split(",")}(new Uint8Array(o))}))},Ww}function Xw(){if(Hw)return zw;Hw=1;var e=zw.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(zw,"__esModule",{value:!0}),zw._isDomainFailure=zw.NetworkFallbackResolver=void 0;const t=Yw(),n=Db(),r=wb(),o=Qb(),i=6048e5;function a(e,t){var n;const r=null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:"";return t||r.includes("uncaught exception")||r.includes("failed to fetch")||r.includes("networkerror when attempting to fetch resource")}function s(e){return`statsig.network_fallback.${(0,n._DJB2)(e)}`}function l(e,t){const n=s(e);t&&0!==Object.keys(t).length?o.Storage.setItem(n,JSON.stringify(t)):o.Storage.removeItem(n)}return zw.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var n;const r=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t.endpoint];r&&(r.expiryTime=Date.now()+i,l(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:r})))}getActiveFallbackUrl(e,t){var n,i;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let a=this._fallbackInfo;null==a&&(a=null!==(n=function(e){const t=s(e),n=o.Storage.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return r.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==n?n:{},this._fallbackInfo=a);const c=a[t.endpoint];return!c||Date.now()>(null!==(i=c.expiryTime)&&void 0!==i?i:0)||t.getChecksum()!==c.urlConfigChecksum?(delete a[t.endpoint],this._fallbackInfo=a,l(e,this._fallbackInfo),null):c.url?c.url:null}tryFetchUpdatedFallbackInfo(t,n,r,o){return e(this,void 0,void 0,(function*(){var e,i;try{if(!a(r,o))return!1;const i=null==n.customUrl&&null==n.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(n):n.fallbackUrls,s=this._pickNewFallbackUrl(null===(e=this._fallbackInfo)||void 0===e?void 0:e[n.endpoint],i);return!!s&&(this._updateFallbackInfoWithNewUrl(t,n,s),!0)}catch(e){return null===(i=this._errorBoundary)||void 0===i||i.logError("tryFetchUpdatedFallbackInfo",e),!1}}))}_updateFallbackInfoWithNewUrl(e,t,n){var r,o,a;const s={urlConfigChecksum:t.getChecksum(),url:n,expiryTime:Date.now()+i,previous:[]},c=t.endpoint,u=null===(r=this._fallbackInfo)||void 0===r?void 0:r[c];u&&s.previous.push(...u.previous),s.previous.length>10&&(s.previous=[]);const d=null===(a=null===(o=this._fallbackInfo)||void 0===o?void 0:o[c])||void 0===a?void 0:a.url;null!=d&&s.previous.push(d),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[c]:s}),l(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(n){return e(this,void 0,void 0,(function*(){var e;const r=this._dnsQueryCooldowns[n.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[n.endpoint]=Date.now()+144e5;const o=[],i=yield(0,t._fetchTxtRecords)(null!==(e=this._networkOverrideFunc)&&void 0!==e?e:fetch),a=function(e){try{return new URL(e).pathname}catch(e){return null}}(n.defaultUrl);for(const e of i){if(!e.startsWith(n.endpointDnsKey+"="))continue;const t=e.split("=");if(t.length>1){let e=t[1];e.endsWith("/")&&(e=e.slice(0,-1)),o.push(`https://${e}${a}`)}}return o}))}_pickNewFallbackUrl(e,t){var n;if(null==t)return null;const r=new Set(null!==(n=null==e?void 0:e.previous)&&void 0!==n?n:[]),o=null==e?void 0:e.url;let i=null;for(const e of t){const t=e.endsWith("/")?e.slice(0,-1):e;if(!r.has(e)&&t!==o){i=t;break}}return i}},zw._isDomainFailure=a,zw}var Kw,Qw={};function Zw(){if(Kw)return Qw;Kw=1,Object.defineProperty(Qw,"__esModule",{value:!0}),Qw.SDKFlags=void 0;const e={};return Qw.SDKFlags={setFlags:(t,n)=>{e[t]=n},get:(t,n)=>{var r,o;return null!==(o=null===(r=e[t])||void 0===r?void 0:r[n])&&void 0!==o&&o}},Qw}var eE,tE={};function nE(){return eE||(eE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigSession=e.SessionID=void 0;const t=Eb(),n=Mb(),r=wb(),o=Qb(),i=vw(),a=18e5,s=144e5,l={};function c(e,n){return setTimeout((()=>{var n;const r=null===(n=(0,t._getStatsigGlobal)())||void 0===n?void 0:n.instance(e);r&&r.$emt({name:"session_expired"})}),n)}function u(e){return`statsig.session_id.${(0,n._getStorageKey)(e)}`}e.SessionID={get:t=>e.StatsigSession.get(t).data.sessionID},e.StatsigSession={get:e=>{null==l[e]&&(l[e]=function(e){let t=function(e){const t=u(e);return(0,o._getObjectFromStorage)(t)}(e);const n=Date.now();t||(t={sessionID:(0,i.getUUID)(),startTime:n,lastUpdate:n});return{data:t,sdkKey:e}}(e));return function(e){const t=Date.now(),n=e.data,l=e.sdkKey;if(function({lastUpdate:e}){return Date.now()-e>a}(n)||function({startTime:e}){return Date.now()-e>s}(n)){n.sessionID=(0,i.getUUID)(),n.startTime=t;const e=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(l);e&&e.$emt({name:"session_expired"})}n.lastUpdate=t,function(e,t){const n=u(t);try{(0,o._setObjectInStorage)(n,e)}catch(e){r.Log.warn("Failed to save SessionID")}}(n,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);const d=t-n.startTime;return e.idleTimeoutID=c(l,a),e.ageTimeoutID=c(l,s-d),e}(l[e])},overrideInitialSessionID:(e,t)=>{l[t]=function(e,t){const n=Date.now();return{data:{sessionID:e,startTime:n,lastUpdate:n},sdkKey:t}}(e,t)}}}(tE)),tE}var rE,oE,iE={};function aE(){return rE||(rE=1,Object.defineProperty(iE,"__esModule",{value:!0}),iE.ErrorTag=void 0,iE.ErrorTag={NetworkError:"NetworkError"}),iE}function sE(){if(oE)return Jw;oE=1;var e=Jw.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.NetworkCore=void 0,Eb();const t=Eb(),n=Rb(),r=wb(),o=Gb(),i=Xw(),a=Zw(),s=Cw(),l=qb(),c=nE(),u=_w(),d=aE(),p=cw(),f=Yb(),h=iw(),g=new Set([408,500,502,503,504,522,524,599]);Jw.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new i.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){if(!m(e))return!1;const t=this._getInternalRequestArgs("POST",e),n=this._getPopulatedURL(t),r=navigator;return r.sendBeacon.bind(r)(n,t.body)}post(t){return e(this,void 0,void 0,(function*(){const e=this._getInternalRequestArgs("POST",t);return this._tryEncodeBody(e),yield this._tryToCompressBody(e),this._sendRequest(e)}))}get(e){const t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(t){return e(this,void 0,void 0,(function*(){var i,a,s,l;if(!m(t))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:c,body:u,retries:p,attempt:f}=t,v=t.urlConfig.endpoint;if(this._isRateLimited(v))return r.Log.warn(`Request to ${v} was blocked because you are making requests too frequently.`),null;const y=null!=f?f:1;let T=!1;const S=this._getPopulatedURL(t);let b=null;const w=(0,h._isUnloading)();try{const e={method:c,body:u,headers:Object.assign({},t.headers),priority:t.priority,keepalive:w};!function(e,t){if(e.urlConfig.endpoint!==o.Endpoint._initialize)return;n.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:t})}(t,y);const r=this._leakyBucket[v];r&&(r.lastRequestTime=Date.now(),this._leakyBucket[v]=r);const a=null!==(i=this._netConfig.networkOverrideFunc)&&void 0!==i?i:fetch;let s;if(b=yield Promise.race([a(S,e).finally((()=>clearTimeout(s))),new Promise(((e,t)=>{s=setTimeout((()=>{T=!0,t(new Error(`Timeout of ${this._timeout}ms expired.`))}),this._timeout)}))]),!b.ok){const e=yield b.text().catch((()=>"No Text")),t=new Error(`NetworkError: ${S} ${e}`);throw t.name="NetworkError",t}const l=yield b.text();return _(t,b,y,l),this._fallbackResolver.tryBumpExpiryTime(t.sdkKey,t.urlConfig),{body:l,code:b.status}}catch(n){const o=function(e){if("string"==typeof e)return e;if(e instanceof Error)return`${e.name}: ${e.message}`;return"Unknown Error"}(n),i=(E=T,(null!=o?o:"").includes("Timeout")||E);_(t,b,y,"",n);if((yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(t.sdkKey,t.urlConfig,o,i))&&(t.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig)),!p||y>p||!g.has(null!==(a=null==b?void 0:b.status)&&void 0!==a?a:500)){null===(s=this._emitter)||void 0===s||s.call(this,{name:"error",error:n,tag:d.ErrorTag.NetworkError,requestArgs:t});const e=`A networking error occurred during ${c} request to ${S}.`;return r.Log.error(e,o,n),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(e),null}return yield function(t){return e(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,Math.min(t*t*500,3e4))))}))}(y),this._sendRequest(Object.assign(Object.assign({},t),{retries:p,attempt:y+1}))}var E}))}_getLogEventCompressionMode(e){let t=null==e?void 0:e.logEventCompressionMode;return t||!0!==(null==e?void 0:e.disableCompression)||(t=f.LogEventCompressionMode.Disabled),t||(t=f.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;const n=Date.now(),r=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:n},o=n-r.lastRequestTime,i=Math.floor(.05*o);return r.count=Math.max(0,r.count-i),r.count>=50||(r.count+=1,r.lastRequestTime=n,this._leakyBucket[e]=r,!1)}_getPopulatedURL(e){var t;const n=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();e.urlConfig.endpoint!==o.Endpoint._initialize&&e.urlConfig.endpoint!==o.Endpoint._download_config_specs||(this._lastUsedInitUrl=n);const r=Object.assign({[o.NetworkParam.SdkKey]:e.sdkKey,[o.NetworkParam.SdkType]:s.SDKType._get(e.sdkKey),[o.NetworkParam.SdkVersion]:p.SDK_VERSION,[o.NetworkParam.Time]:String(Date.now()),[o.NetworkParam.SessionID]:c.SessionID.get(e.sdkKey)},e.params),i=Object.keys(r).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)).join("&");return`${n}${i?`?${i}`:""}`}_tryEncodeBody(e){var n;const i=(0,l._getWindowSafe)(),a=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof a&&null==(0,t._getStatsigGlobalFlag)("no-encode")&&(null==i?void 0:i.btoa))try{e.body=i.btoa(a).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(n=e.params)&&void 0!==n?n:{}),{[o.NetworkParam.StatsigEncoded]:"1"})}catch(t){r.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(n){return e(this,void 0,void 0,(function*(){var e;const i=n.body;if("string"==typeof i&&function(e,n){if(!e.isCompressable)return!1;if(null!=(0,t._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;const r=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,o=!0===a.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(n.logEventCompressionMode){case f.LogEventCompressionMode.Disabled:return!1;case f.LogEventCompressionMode.Enabled:return!(r&&!o);case f.LogEventCompressionMode.Forced:return!0;default:return!1}}(n,this._options))try{const t=(new TextEncoder).encode(i),a=new CompressionStream("gzip"),s=a.writable.getWriter();s.write(t).catch(r.Log.error),s.close().catch(r.Log.error);const l=a.readable.getReader(),c=[];let u;for(;!(u=yield l.read()).done;)c.push(u.value);const d=c.reduce(((e,t)=>e+t.length),0),p=new Uint8Array(d);let f=0;for(const e of c)p.set(e,f),f+=e.length;n.body=p,n.params=Object.assign(Object.assign({},null!==(e=n.params)&&void 0!==e?e:{}),{[o.NetworkParam.IsGzipped]:"1"})}catch(e){r.Log.warn(`Request compression failed for ${n.urlConfig.getUrl()}`,e)}}))}_getInternalRequestArgs(e,t){const n=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),r=Object.assign(Object.assign({},t),{method:e,fallbackUrl:n});return"data"in t&&v(r,t.data),r}};const m=e=>!!e.sdkKey||(r.Log.warn("Unable to make request without an SDK key"),!1),v=(e,t)=>{const{sdkKey:n,fallbackUrl:r}=e,o=u.StableID.get(n),i=c.SessionID.get(n),a=s.SDKType._get(n);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},p.StatsigMetadataProvider.get()),{stableID:o,sessionID:i,sdkType:a,fallbackUrl:r})}))};function _(e,t,r,i,a){e.urlConfig.endpoint===o.Endpoint._initialize&&n.Diagnostics._markInitNetworkReqEnd(e.sdkKey,n.Diagnostics._getDiagnosticsData(t,r,i,a))}return Jw}var lE,cE={};var uE,dE={};var pE,fE={};var hE,gE={};function mE(){if(hE)return gE;hE=1;var e=gE.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(gE,"__esModule",{value:!0}),gE.StatsigClientBase=void 0,Eb();const t=Eb(),n=Lw(),r=aw(),o=wb(),i=qw(),a=qb(),s=nE(),l=_w(),c=Yb(),u=Qb();return gE.StatsigClientBase=class{constructor(e,i,c,d){var p,f,h,g;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const m=this.$emt.bind(this);null!=(null==d?void 0:d.logLevel)&&(o.Log.level=d.logLevel),(null==d?void 0:d.disableStorage)&&u.Storage._setDisabled(!0),(null==d?void 0:d.initialSessionID)&&s.StatsigSession.overrideInitialSessionID(d.initialSessionID,e),(null==d?void 0:d.storageProvider)&&u.Storage._setProvider(d.storageProvider),(null==d?void 0:d.enableCookies)&&l.StableID._setCookiesEnabled(e,d.enableCookies),(null==d?void 0:d.disableStableID)&&l.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=d?d:{},this._memoCache={},this.overrideAdapter=null!==(p=null==d?void 0:d.overrideAdapter)&&void 0!==p?p:null,this._logger=new r.EventLogger(e,m,c,d),this._errorBoundary=new n.ErrorBoundary(e,d,m),this._errorBoundary.wrap(this),this._errorBoundary.wrap(i),this._errorBoundary.wrap(this._logger),c.setErrorBoundary(this._errorBoundary),this.dataAdapter=i,this.dataAdapter.attach(e,d,c),this.storageProvider=u.Storage,null===(g=null===(h=null===(f=this.overrideAdapter)||void 0===f?void 0:f.loadFromStorage)||void 0===h?void 0:h.call(f))||void 0===g||g.catch((e=>this._errorBoundary.logError("OA::loadFromStorage",e))),this._primeReadyRipcord(),function(e,n){var r;if((0,a._isServerEnv)())return;const i=(0,t._getStatsigGlobal)(),s=null!==(r=i.instances)&&void 0!==r?r:{},l=n;null!=s[e]&&o.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");s[e]=l,i.firstInstance||(i.firstInstance=l);i.instances=s,__STATSIG__=i}(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,u.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,l.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(c.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return e(this,void 0,void 0,(function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()}))}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){const n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;const n=t=>{try{t(e)}catch(n){if(!0===t.__isInternal)return void this._errorBoundary.logError(`__emit:${e.name}`,n);o.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach((e=>n(e))),null===(t=this._listeners["*"])||void 0===t||t.forEach(n)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,n){!0!==(null==n?void 0:n.disableExposureLog)?this._logger.enqueue(t):this._logger.incrementNonExposureCount(e)}_memoize(e,t){return(n,r)=>{if(this._options.disableEvaluationMemoization)return t(n,r);const o=(0,i.createMemoKey)(e,n,r);return o?(o in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[o]=t(n,r)),this._memoCache[o]):t(n,r)}}},gE}var vE,_E={};var yE,TE={};var SE,bE={};var wE,EE={};var AE,IE,RE={};function OE(){return IE||(IE=1,function(e){var t=Tb.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=Tb.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Log=e.EventLogger=e.Diagnostics=void 0,Eb();const r=Eb(),o=Rb();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return o.Diagnostics}});const i=aw();Object.defineProperty(e,"EventLogger",{enumerable:!0,get:function(){return i.EventLogger}});const a=wb();Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return a.Log}});const s=cw(),l=Qb();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return l.Storage}}),n(Eb(),e),n(Mb(),e),n((uw||(uw=1,Object.defineProperty(dw,"__esModule",{value:!0})),dw),e),n(Iw(),e),n(Rb(),e),n((Rw||(Rw=1,Object.defineProperty(Ow,"__esModule",{value:!0})),Ow),e),n(Lw(),e),n(($w||($w=1,Object.defineProperty(Dw,"__esModule",{value:!0})),Dw),e),n((Mw||(Mw=1,Object.defineProperty(Uw,"__esModule",{value:!0})),Uw),e),n(Db(),e),n((Vw||(Vw=1,Object.defineProperty(Gw,"__esModule",{value:!0})),Gw),e),n(wb(),e),n(qw(),e),n(Gb(),e),n(sE(),e),n((lE||(lE=1,Object.defineProperty(cE,"__esModule",{value:!0})),cE),e),n((uE||(uE=1,Object.defineProperty(dE,"__esModule",{value:!0})),dE),e),n(qb(),e),n(Cw(),e),n(nE(),e),n((pE||(pE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._fastApproxSizeOf=void 0,e._fastApproxSizeOf=(t,n)=>{let r=0;const o=Object.keys(t);for(let i=0;i<o.length;i++){const a=o[i],s=t[a];if(r+=a.length,r+="object"==typeof s&&null!==s?(0,e._fastApproxSizeOf)(s,n)+2:String(s).length+1,r>=n)return r}return r}}(fE)),fE),e),n(_w(),e),n(mE(),e),n(aE(),e),n((vE||(vE=1,Object.defineProperty(_E,"__esModule",{value:!0}),_E.DataAdapterCachePrefix=void 0,_E.DataAdapterCachePrefix="statsig.cached"),_E),e),n(Jb(),e),n(cw(),e),n(Yb(),e),n((yE||(yE=1,Object.defineProperty(TE,"__esModule",{value:!0})),TE),e),n(function(){if(SE)return bE;SE=1,Object.defineProperty(bE,"__esModule",{value:!0}),bE._makeTypedGet=bE._mergeOverride=bE._makeLayer=bE._makeExperiment=bE._makeDynamicConfig=bE._makeFeatureGate=void 0;const e=wb(),t=$b();function n(e,t,n,r){var o;return{name:e,details:t,ruleID:null!==(o=null==n?void 0:n.rule_id)&&void 0!==o?o:"",__evaluation:n,value:r}}function r(e,t,r){var i,a;const s=null!==(i=null==r?void 0:r.value)&&void 0!==i?i:{};return Object.assign(Object.assign({},n(e,t,r,s)),{idType:null!==(a=null==r?void 0:r.id_type)&&void 0!==a?a:null,get:o(e,null==r?void 0:r.value)})}function o(n,r,o){return(i,a)=>{var s;const l=null!==(s=null==r?void 0:r[i])&&void 0!==s?s:null;return null==l?null!=a?a:null:null==a||(0,t._isTypeMatch)(l,a)?(null==o||o(i),l):(e.Log.warn(`Parameter type mismatch. '${n}.${i}' was found to be type '${typeof l}' but fallback/return type is '${typeof a}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=a?a:null)}}return bE._makeFeatureGate=function(e,t,r){var o;return Object.assign(Object.assign({},n(e,t,r,!0===(null==r?void 0:r.value))),{idType:null!==(o=null==r?void 0:r.id_type)&&void 0!==o?o:null})},bE._makeDynamicConfig=r,bE._makeExperiment=function(e,t,n){var o;const i=r(e,t,n);return Object.assign(Object.assign({},i),{groupName:null!==(o=null==n?void 0:n.group_name)&&void 0!==o?o:null})},bE._makeLayer=function(e,t,r,i){var a,s;return Object.assign(Object.assign({},n(e,t,r,void 0)),{get:o(e,null==r?void 0:r.value,i),groupName:null!==(a=null==r?void 0:r.group_name)&&void 0!==a?a:null,__value:null!==(s=null==r?void 0:r.value)&&void 0!==s?s:{}})},bE._mergeOverride=function(e,t,n,r){return Object.assign(Object.assign(Object.assign({},e),t),{get:o(e.name,n,r)})},bE._makeTypedGet=o,bE}(),e),n((wE||(wE=1,Object.defineProperty(EE,"__esModule",{value:!0})),EE),e),n(Sw(),e),n(Qb(),e),n(Aw(),e),n($b(),e),n(tw(),e),n(vw(),e),n(iw(),e),n((AE||(AE=1,Object.defineProperty(RE,"__esModule",{value:!0}),RE.UPDATE_DETAIL_ERROR_MESSAGES=RE.createUpdateDetails=void 0,RE.createUpdateDetails=(e,t,n,r,o,i)=>({duration:n,source:t,success:e,error:r,sourceUrl:o,warnings:i}),RE.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}),RE),e),n(Zw(),e),Object.assign((0,r._getStatsigGlobal)(),{Log:a.Log,SDK_VERSION:s.SDK_VERSION})}(Tb)),Tb}var xE,NE={},PE={},kE={};var CE,LE,$E={};function DE(){if(LE)return PE;LE=1,Object.defineProperty(PE,"__esModule",{value:!0});const e=OE(),t=function(){if(xE)return kE;xE=1,Object.defineProperty(kE,"__esModule",{value:!0}),kE.V1InitializeContainer=void 0;const e=OE();return kE.V1InitializeContainer=class{constructor(e){this._values=e}getGate(e){return this._getResultFromLookup(this._values.feature_gates,e)}getConfig(e){return this._getResultFromLookup(this._values.dynamic_configs,e)}getLayer(e){return this._getResultFromLookup(this._values.layer_configs,e)}getParamStore(e){return this._getResultFromLookup(this._values.param_stores,e)}getConfigList(){return Object.keys(this._values.dynamic_configs)}getExposureMapping(){return this._values.exposures}_getResultFromLookup(t,n){var r,o;return t&&null!==(o=null!==(r=t[n])&&void 0!==r?r:t[(0,e._DJB2)(n)])&&void 0!==o?o:null}},kE}(),n=function(){if(CE)return $E;CE=1,Object.defineProperty($E,"__esModule",{value:!0}),$E.V2InitializeContainer=void 0;const e=OE();return $E.V2InitializeContainer=class{constructor(e){this._values=e}getGate(e){var t,n,r;const o=this._getResultFromLookup(this._values.feature_gates,e);return o?{name:e,value:!0===o.v,rule_id:null!==(t=o.r)&&void 0!==t?t:"default",secondary_exposures:null!==(n=o.s)&&void 0!==n?n:[],id_type:null!==(r=o.i)&&void 0!==r?r:""}:null}getConfig(e){var t,n,r,o;const i=this._getResultFromLookup(this._values.dynamic_configs,e);return i?{name:e,value:null!==(t=this._values.values[i.v])&&void 0!==t?t:{},rule_id:i.r,secondary_exposures:null!==(n=i.s)&&void 0!==n?n:[],id_type:null!==(r=i.i)&&void 0!==r?r:"",is_user_in_experiment:!0===i.ue,passed:!0===i.p,group_name:null!==(o=i.gn)&&void 0!==o?o:void 0,is_experiment_active:!0===i.ea,group:i.r,is_device_based:"stableID"===i.i}:null}getLayer(e){var t,n,r,o,i,a;const s=this._getResultFromLookup(this._values.layer_configs,e);return s?{name:e,value:null!==(t=this._values.values[s.v])&&void 0!==t?t:{},rule_id:s.r,secondary_exposures:null!==(n=s.s)&&void 0!==n?n:[],is_user_in_experiment:!0===s.ue,group_name:null!==(r=s.gn)&&void 0!==r?r:void 0,is_experiment_active:!0===s.ea,group:s.r,is_device_based:"stableID"===s.i,allocated_experiment_name:null!==(o=s.ae)&&void 0!==o?o:"",explicit_parameters:null!==(i=s.ep)&&void 0!==i?i:[],undelegated_secondary_exposures:null!==(a=s.us)&&void 0!==a?a:[],parameter_rule_ids:s.pr}:null}getParamStore(e){return this._getResultFromLookup(this._values.param_stores,e)}getConfigList(){return Object.keys(this._values.dynamic_configs)}getExposureMapping(){return this._values.exposures}_getResultFromLookup(t,n){var r,o;return t&&null!==(o=null!==(r=t[n])&&void 0!==r?r:t[(0,e._DJB2)(n)])&&void 0!==o?o:null}},$E}();return PE.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,o){var i,a;if(!r)return!1;const s=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");if(null==s)return!1;if(this._source=r.source,!0!==(null==s?void 0:s.has_updates))return!0;return(null!==(i=s.time)&&void 0!==i?i:0)<this._lcut||(this._rawValues=r.data,this._lcut=s.time,this._receivedAt=r.receivedAt,"init-v2"===s.response_format?this._values=new n.V2InitializeContainer(s):this._values=new t.V1InitializeContainer(s),this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,s),r.source&&s.user&&this._setWarningState(o,s),e.SDKFlags.setFlags(this._sdkKey,null!==(a=s.sdk_flags)&&void 0!==a?a:{})),!0}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){const t=this._values?this._values.getGate(e):null;return this._getDetailedStoreResult(t)}getConfig(e){const t=this._values?this._values.getConfig(e):null;return this._getDetailedStoreResult(t)}getConfigList(){return this._values?this._values.getConfigList():[]}getLayer(e){const t=this._values?this._values.getLayer(e):null;return this._getDetailedStoreResult(t)}getParamStore(e){const t=this._values?this._values.getParamStore(e):null;return this._getDetailedStoreResult(t)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.getExposureMapping()}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;const n={};return t.user&&(n.user=t.user),t.sdkInfo&&(n.generatorSDKInfo=t.sdkInfo),n.lcut=t.time,n}_getDetailedStoreResult(e){return{result:e,details:this._getDetails(null==e)}}_setWarningState(t,n){var r,o;const i=e.StableID.get(this._sdkKey);if((null===(r=t.customIDs)||void 0===r?void 0:r.stableID)===i||!(null===(o=t.customIDs)||void 0===o?void 0:o.stableID)&&!i){if("user"in n){const r=n.user,o=Object.assign(Object.assign({},t),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(o)!==(0,e._getFullUserHash)(r)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,n;const r=this.getCurrentSourceDetails();let o=r.reason;const i=null!==(t=r.warnings)&&void 0!==t?t:[];if("Bootstrap"===this._source&&i.length>0&&(o+=i[0]),"Uninitialized"!==o&&"NoValues"!==o){o=`${o}:${e?"Unrecognized":"Recognized"}`}const a="Bootstrap"===this._source&&null!==(n=this._bootstrapMetadata)&&void 0!==n?n:void 0;return a&&(r.bootstrapMetadata=a),Object.assign(Object.assign({},r),{reason:o})}},PE}var ME,UE,VE={},GE={};function FE(){if(ME)return GE;ME=1,Object.defineProperty(GE,"__esModule",{value:!0}),GE._resolveDeltasResponse=void 0;const e=OE();function t(e,t){null==e||e.forEach((e=>{delete t[e]}))}return GE._resolveDeltasResponse=function(n,r){const o=(0,e._typedJsonParse)(r,"checksum","DeltasEvaluationResponse");if(!o)return{hadBadDeltaChecksum:!0};const i=function(e){const n=e;return t(e.deleted_gates,n.feature_gates),delete n.deleted_gates,t(e.deleted_configs,n.dynamic_configs),delete n.deleted_configs,t(e.deleted_layers,n.layer_configs),delete n.deleted_layers,n}(function(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{feature_gates:Object.assign(Object.assign({},e.feature_gates),t.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),t.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),t.dynamic_configs)})}(n,o)),a=(0,e._DJB2Object)({feature_gates:i.feature_gates,dynamic_configs:i.dynamic_configs,layer_configs:i.layer_configs},2);return a===o.checksumV2?JSON.stringify(i):{hadBadDeltaChecksum:!0,badChecksum:a,badMergedConfigs:i,badFullResponse:o.deltas_full_response}},GE}function jE(){if(UE)return VE;UE=1;var e=VE.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(VE,"__esModule",{value:!0});const t=OE(),n=FE();class r extends t.NetworkCore{constructor(e,n){super(e,n);const r=null==e?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(n,r,o,i,a){return e(this,void 0,void 0,(function*(){var e,s,l,c,u,d;const p=r?(0,t._typedJsonParse)(r,"has_updates","InitializeResponse"):null;let f={user:i,hash:null!==(l=null===(s=null===(e=this._option)||void 0===e?void 0:e.networkConfig)||void 0===s?void 0:s.initializeHashAlgorithm)&&void 0!==l?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==p?void 0:p.has_updates){const e=(null==p?void 0:p.hash_used)!==(null!==(d=null===(u=null===(c=this._option)||void 0===c?void 0:c.networkConfig)||void 0===u?void 0:u.initializeHashAlgorithm)&&void 0!==d?d:"djb2");f=Object.assign(Object.assign({},f),{sinceTime:a&&!e?p.time:0,previousDerivedFields:"derived_fields"in p&&a?p.derived_fields:{},deltasResponseRequested:!0,full_checksum:p.full_checksum,partialUserMatchSinceTime:e?0:p.time})}return this._fetchEvaluations(n,p,f,o)}))}_fetchEvaluations(t,r,o,i){return e(this,void 0,void 0,(function*(){var e,a;const s=yield this.post({sdkKey:t,urlConfig:this._initializeUrlConfig,data:o,retries:2,isStatsigEncodable:!0,priority:i});if(204===(null==s?void 0:s.code))return'{"has_updates": false}';if(200!==(null==s?void 0:s.code))return null!==(e=null==s?void 0:s.body)&&void 0!==e?e:null;if(!0!==(null==r?void 0:r.has_updates)||!0!==(null===(a=s.body)||void 0===a?void 0:a.includes('"is_delta":true'))||!0!==o.deltasResponseRequested)return s.body;const l=(0,n._resolveDeltasResponse)(r,s.body);return"string"==typeof l?l:this._fetchEvaluations(t,r,Object.assign(Object.assign(Object.assign({},o),l),{deltasResponseRequested:!1}),i)}))}}return VE.default=r,VE}var qE,BE={};function HE(){if(qE)return BE;qE=1,Object.defineProperty(BE,"__esModule",{value:!0}),BE._makeParamStoreGetter=void 0;const e=OE(),t={disableExposureLog:!0};function n(e){return null==e||!1===e.disableExposureLog}function r(t,n){return null!=n&&!(0,e._isTypeMatch)(t,n)}return BE._makeParamStoreGetter=function(o,i,a){return(s,l)=>{if(null==i)return l;const c=i[s];if(null==c||null!=l&&(0,e._typeOf)(l)!==c.param_type)return l;switch(c.ref_type){case"static":return function(e){return e.value}(c);case"gate":return function(e,r,o){return e.getFeatureGate(r.gate_name,n(o)?void 0:t).value?r.pass_value:r.fail_value}(o,c,a);case"dynamic_config":return function(e,o,i,a){const s=e.getDynamicConfig(o.config_name,n(a)?void 0:t).get(o.param_name);return r(s,i)?i:s}(o,c,l,a);case"experiment":return function(e,o,i,a){const s=e.getExperiment(o.experiment_name,n(a)?void 0:t).get(o.param_name);return r(s,i)?i:s}(o,c,l,a);case"layer":return function(e,o,i,a){const s=e.getLayer(o.layer_name,n(a)?void 0:t).get(o.param_name);return r(s,i)?i:s}(o,c,l,a);default:return l}}},BE}var JE,zE,WE,YE={};function XE(){if(JE)return YE;JE=1;var e=YE.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(YE,"__esModule",{value:!0}),YE.StatsigEvaluationsDataAdapter=void 0;const t=OE(),n=jE();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t,r){super.attach(e,t,r),null!==r&&r instanceof n.default?this._network=r:this._network=new n.default(null!=t?t:{})}getDataAsync(e,n,r){return this._getDataAsyncImpl(e,(0,t._normalizeUser)(n,this._options),r)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){const n=(0,t._typedJsonParse)(e,"has_updates","data");n&&"user"in n?super.setData(e,n.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(t,n,r,o){return e(this,void 0,void 0,(function*(){var e;const i=yield null===(e=this._network)||void 0===e?void 0:e.fetchEvaluations(this._getSdkKey(),t,null==r?void 0:r.priority,n,o);return null!=i?i:null}))}_getCacheKey(e){var n;const r=(0,t._getStorageKey)(this._getSdkKey(),e,null===(n=this._options)||void 0===n?void 0:n.customUserCacheKeyFunc);return`${t.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(e,n){return null!=e.fullUserHash&&e.fullUserHash===(0,t._getFullUserHash)(n)}};return YE.StatsigEvaluationsDataAdapter=r,YE}function KE(){if(zE)return NE;zE=1;var e=NE.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(NE,"__esModule",{value:!0});const t=OE(),n=DE(),r=jE(),o=HE(),i=XE();let a=class a extends t.StatsigClientBase{static instance(e){const n=(0,t._getStatsigGlobal)().instance(e);return n instanceof a?n:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new a(null!=e?e:"",{}))}constructor(e,o,a=null){var s,l;t.SDKType._setClientType(e,"javascript-client");const c=new r.default(a,(e=>{this.$emt(e)}));super(e,null!==(s=null==a?void 0:a.dataAdapter)&&void 0!==s?s:new i.StatsigEvaluationsDataAdapter,c,a),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(t.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(e),this._network=c,this._user=this._configureUser(o,a),this._sdkInstanceID=(0,t.getUUID)();const u=null!==(l=null==a?void 0:a.plugins)&&void 0!==l?l:[];for(const e of u)e.bind(this)}initializeSync(e){var n;return"Uninitialized"!==this.loadingStatus?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(n=this._store.getWarnings())&&void 0!==n?n:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(t){return e(this,void 0,void 0,(function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(t)),this._initializePromise}))}updateUserSync(e,t){const n=performance.now();try{return this._updateUserSyncImpl(e,t,n)}catch(e){const t=e instanceof Error?e:new Error(String(e));return this._createErrorUpdateDetails(t,n)}}_updateUserSyncImpl(e,n,r){var o;const i=[...null!==(o=this._store.getWarnings())&&void 0!==o?o:[]];this._resetForUser(e);const a=this.dataAdapter.getDataSync(this._user);null==a&&i.push("NoCachedValues"),this._store.setValues(a,this._user),this._finalizeUpdate(a);const s=null==n?void 0:n.disableBackgroundCacheRefresh;return!0===s||null==s&&"Bootstrap"===(null==a?void 0:a.source)||this._runPostUpdate(null!=a?a:null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-r,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),i)}updateUserAsync(t,n){return e(this,void 0,void 0,(function*(){const e=performance.now();try{return yield this._updateUserAsyncImpl(t,n)}catch(t){const n=t instanceof Error?t:new Error(String(t));return this._createErrorUpdateDetails(n,e)}}))}_updateUserAsyncImpl(n,r){return e(this,void 0,void 0,(function*(){this._resetForUser(n);const e=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let o=this.dataAdapter.getDataSync(e);if(this._store.setValues(o,this._user),this._setStatus("Loading",o),o=yield this.dataAdapter.getDataAsync(o,e,r),e!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let i=!1;null!=o&&(t.Diagnostics._markInitProcessStart(this._sdkKey),i=this._store.setValues(o,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:i})),this._finalizeUpdate(o),i||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,i,this._store.getCurrentSourceDetails());const a=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(i,this._store.getSource(),a,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())}))}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,n){const r="string"==typeof e?{eventName:e,value:t,metadata:n}:e;this.$emt({name:"log_event_called",event:r}),this._logger.enqueue(Object.assign(Object.assign({},r),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}_primeReadyRipcord(){this.$on("error",(()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)}))}_initializeAsyncImpl(n){return e(this,void 0,void 0,(function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,n)}))}_createErrorUpdateDetails(e,n){var r;return(0,t.createUpdateDetails)(!1,this._store.getSource(),performance.now()-n,e,null,[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]])}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,n){this.dataAdapter.getDataAsync(e,n,{priority:"low"}).catch((e=>{t.Log.error("An error occurred after update.",e)}))}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,n){var r,o,i;const a=(0,t._normalizeUser)(e,n),s=null===(r=a.customIDs)||void 0===r?void 0:r.stableID;if(s){const e=null===(i=(o=this.storageProvider).isReadyResolver)||void 0===i?void 0:i.call(o);e?e.then((()=>t.StableID.setOverride(s,this._sdkKey)),(()=>t.StableID.setOverride(s,this._sdkKey))):t.StableID.setOverride(s,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(a.analyticsOnlyMetadata=Object.assign(Object.assign({},a.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),a}_getFeatureGateImpl(e,n){var r,o;const{result:i,details:a}=this._store.getGate(e),s=(0,t._makeFeatureGate)(e,a,i),l=null===(o=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getGateOverride)||void 0===o?void 0:o.call(r,s,this._user,n),c=null!=l?l:s;return this._enqueueExposure(e,(0,t._createGateExposure)(this._user,c,this._store.getExposureMapping()),n),this.$emt({name:"gate_evaluation",gate:c}),c}_getDynamicConfigImpl(e,n){var r,o;const{result:i,details:a}=this._store.getConfig(e),s=(0,t._makeDynamicConfig)(e,a,i),l=null===(o=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getDynamicConfigOverride)||void 0===o?void 0:o.call(r,s,this._user,n),c=null!=l?l:s;return this._enqueueExposure(e,(0,t._createConfigExposure)(this._user,c,this._store.getExposureMapping()),n),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:c}),c}_getExperimentImpl(e,n){var r,o,i,a;const{result:s,details:l}=this._store.getConfig(e),c=(0,t._makeExperiment)(e,l,s);null!=c.__evaluation&&(c.__evaluation.secondary_exposures=(0,t._mapExposures)(null!==(o=null===(r=c.__evaluation)||void 0===r?void 0:r.secondary_exposures)&&void 0!==o?o:[],this._store.getExposureMapping()));const u=null===(a=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getExperimentOverride)||void 0===a?void 0:a.call(i,c,this._user,n),d=null!=u?u:c;return this._enqueueExposure(e,(0,t._createConfigExposure)(this._user,d,this._store.getExposureMapping()),n),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(e,n){var r,o,i;const{result:a,details:s}=this._store.getLayer(e),l=(0,t._makeLayer)(e,s,a),c=null===(o=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getLayerOverride)||void 0===o?void 0:o.call(r,l,this._user,n);(null==n?void 0:n.disableExposureLog)&&this._logger.incrementNonExposureCount(e);const u=(0,t._mergeOverride)(l,c,null!==(i=null==c?void 0:c.__value)&&void 0!==i?i:l.__value,(r=>{(null==n?void 0:n.disableExposureLog)||this._enqueueExposure(e,(0,t._createLayerParameterExposure)(this._user,u,r,this._store.getExposureMapping()),n)}));return this.$emt({name:"layer_evaluation",layer:u}),u}_getParameterStoreImpl(e,t){var n,r;const{result:i,details:a}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);const s={name:e,details:a,__configuration:i,get:(0,o._makeParamStoreGetter)(this,i,t)},l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getParamStoreOverride)||void 0===r?void 0:r.call(n,s,t);return null!=l&&(s.__configuration=l.config,s.details=l.details,s.get=(0,o._makeParamStoreGetter)(this,l.config,t)),s}};return NE.default=a,NE}function QE(){return Fe(this,void 0,void 0,(function*(){let e,t,n=[];try{e=yield function(){return Fe(this,void 0,void 0,(function*(){const e=yield pA();return{isLoggedIn:e.isLoggedIn,translatorServiceType:e.translatorServiceType,writeServiceType:e.writeServiceType,hasTermbaseService:e.hasTermbaseService}}))}()}catch(e){t=e.message}if(!(null==e?void 0:e.isLoggedIn)||t)return[[],t];try{const e=yield Fe(void 0,void 0,void 0,(function*(){return fb((e=>Fe(void 0,void 0,void 0,(function*(){return yield sb({config:e})}))))}));n=e.result||[]}catch(e){t=e.message}return[n,t]}))}function ZE(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.sync.get(["isReviewPopupShown","successfulTranslations","reviewPopupRemindAt"]),t=e.successfulTranslations+1;if(t<(yield function(){return Fe(this,arguments,void 0,(function*(e=!1){return e?2:10}))}(Fo()===Go)))return void(yield chrome.storage.sync.set({successfulTranslations:t}));const n=yield chrome.tabs.query({active:!0,currentWindow:!0});let r=e.isReviewPopupShown;if(!r&&(null===e.reviewPopupRemindAt||e.reviewPopupRemindAt<Date.now())){(yield bA())||(chrome.tabs.sendMessage(n[0].id,{action:To.dlShowAskForAReviewPopup}),r=!0)}yield chrome.storage.sync.set({isReviewPopupShown:r,successfulTranslations:t})}))}function eA(){return Fe(this,void 0,void 0,(function*(){const e=new URLSearchParams,t=function(){const{browser:e}=pi(),t={chrome:"0",firefox:"1",edge:"2",opera:"3",brave:"4",other:"5"};let n=t.other;switch(e){case ni.chrome:n=t.chrome;break;case ni.firefox:n=t.firefox;break;case ni.edge:n=t.edge;break;case ni.opera:n=t.opera;break;case ni.brave:n=t.brave;break;default:n=t.other}return{key:"br",value:n}}();e.set(t.key,t.value);const n=yield function(){return Fe(this,void 0,void 0,(function*(){const{accountCountry:e}=yield chrome.storage.local.get([Yo]);return e?{key:"c",value:e}:null}))}();n&&e.set(n.key,n.value);const r={key:"il",value:chrome.i18n.getUILanguage()};e.set(r.key,r.value);const o=yield function(){return Fe(this,void 0,void 0,(function*(){const e={anon:"0",free:"1",pro:"2"},t=yield uA(),n=(yield gA(xr.TRANSLATOR))||(yield gA(xr.WRITE));return{key:"ut",value:t?n?e.pro:e.free:e.anon}}))}();return e.set(o.key,o.value),e}))}function tA(){return Fe(this,void 0,void 0,(function*(){yield chrome.action.setIcon({path:"images/deepl_32.png"})}))}function nA(){return Fe(this,void 0,void 0,(function*(){yield chrome.action.setTitle({title:chrome.i18n.getMessage("appName")})}))}function rA(){return Fe(this,void 0,void 0,(function*(){if((yield gA(xr.TRANSLATOR))||(yield gA(xr.WRITE)))return!0;const e=yield function(){return Fe(this,arguments,void 0,(function*(e=!1){const t=yield mS(e);return chrome.runtime.sendMessage({action:"dlExperimentsUpdated",payload:{experiments:[...t]}}),t}))}();return rS(e,ZT)}))}WE||(WE=1,function(e){var t=yb.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=yb.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=OE(),o=KE();e.StatsigClient=o.default,n(OE(),e);const i=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:o.default});e.default=i}(yb));const oA=()=>Fe(void 0,void 0,void 0,(function*(){const e=new URL("https://www.deepl.com/extension-uninstall");try{const{installationId:t}=yield chrome.storage.sync.get(["installationId"]),n=new URLSearchParams({installation_id:t||"",utm_source:"browser_extension",utm_content:"uninstall_event"});if(yield rA()){n.set("survey","1");(yield eA()).forEach(((e,t)=>{n.set(t,e)}))}e.search=n.toString()}catch(e){console.error("Error setting query parameters on uninstall URL:",e)}chrome.runtime.setUninstallURL(e.toString())}));function iA(e){return Fe(this,void 0,void 0,(function*(){if(e.includes("session")){const e=yield chrome.storage.sync.get(["session"]);e&&!e.session&&(yield aA())}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(r=>{r?t(r):n(`Can not get ${e}`)}))}))}))}function aA(){return Fe(this,void 0,void 0,(function*(){const e=crypto.randomUUID?crypto.randomUUID():No();yield chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{yield function(){return Fe(this,void 0,void 0,(function*(){if(!(yield uA()))return;const e=yield fA();return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_SESSION_STARTED,accountData:{accountUuid:e}})))}))}()}catch(e){console.error(e)}}))}function sA(e,t,n){return Fe(this,void 0,void 0,(function*(){const r=ti(e);return yield chrome.storage.local.set({a_t:e,r_t:t,[Ho.idToken]:n,isLoggedIn:!(!e||!t),isProUser:!(!r||"Pro"!==r.sessionType),sessionType:null==r?void 0:r.sessionType,organizationId:null==r?void 0:r.organizationId}),null==r?void 0:r.sessionType}))}function lA(){return Fe(this,void 0,void 0,(function*(){yield chrome.storage.local.remove([Ho.accessToken,Ho.refreshToken,Ho.idToken,"delegatedLoginMapping",Ho.organizationId]),yield chrome.storage.local.set({isLoggedIn:!1,isProUser:!1,sessionType:""})}))}function cA(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Ho.accessToken,Ho.refreshToken,Ho.idToken]);return{access_token:e?e[Ho.accessToken]:void 0,refresh_token:e?e[Ho.refreshToken]:void 0,id_token:e?e[Ho.idToken]:void 0}}))}function uA(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Ho.isLoggedIn]);return!(!e||!e.isLoggedIn)}))}function dA(){return Fe(this,void 0,void 0,(function*(){yield chrome.storage.local.remove([Ho.last_login])}))}function pA(){return Fe(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([Ho.isLoggedIn,"isProUser","sessionType",Ho.translatorServiceType,Ho.writeServiceType,Ho.apiServiceType,Ho.docTranslatorServiceType,Ho.accountId,Jo.hasTermbaseService,Ho.organizationId])}))}function fA(){return Fe(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Ho.accountId,Ho.accessToken,Ho.idToken]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=ti(e.a_t),n=ti(e[Ho.idToken]);return(null==t?void 0:t.sub)||(null==n?void 0:n.sub)}}))}function hA(){return Fe(this,arguments,void 0,(function*(e=Ho.translatorServiceType){const t=yield pA(),n=!!t.accountId,r=t[e];return n?r===Pr?pt:ft:dt}))}function gA(e){return Fe(this,void 0,void 0,(function*(){const t=yield chrome.storage.local.get([Ho.translatorServiceType,Ho.writeServiceType,Ho.apiServiceType,Ho.docTranslatorServiceType,Ho.isLoggedIn]);return Cy(t,e)}))}function mA(){return Fe(this,void 0,void 0,(function*(){var e;const t=yield chrome.storage.local.get([Ho.translatorServiceType,Ho.writeServiceType,Ho.apiServiceType,Ho.docTranslatorServiceType,Ho.isLoggedIn]);return Object.assign(Object.assign({},t),{isLoggedIn:null!==(e=t.isLoggedIn)&&void 0!==e&&e})}))}function vA(){return Fe(this,void 0,void 0,(function*(){yield chrome.storage.local.remove([Wo]),yield chrome.storage.local.remove([Yo])}))}const _A=["requireLogin","suggestIdp","customExtensionIcon","enforceSsoAutologin","skipOnboarding","preventFeedbackSurvey","hideWrite"],yA=["suggestIdp"],TA=()=>Fe(void 0,void 0,void 0,(function*(){try{return yield chrome.storage.managed.get(_A)}catch(e){return}})),SA=()=>Fe(void 0,void 0,void 0,(function*(){const e=yield TA();if(void 0===e)return;const{isLoggedIn:t}=yield pA();if(e.requireLogin&&!t)throw new iT})),bA=()=>Fe(void 0,void 0,void 0,(function*(){var e;const t=yield TA();return null!==(e=null==t?void 0:t.preventFeedbackSurvey)&&void 0!==e&&e}));const wA=function(){const{subscribe:e,set:t,update:n}=Eo({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",Ho.translatorServiceType,Ho.writeServiceType,Ho.apiServiceType,Ho.docTranslatorServiceType,Wo,Jo.canCreateGlossary,Jo.hasTermbaseService,zo,Ko,Xo,"featureSet"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))})),chrome.storage.managed.get(_A).then((e=>{const t=Object.fromEntries(Object.entries(e).filter((([e])=>!yA.includes(e))));n((e=>Object.assign(Object.assign({},e),t)))})).catch((()=>{}))})),chrome.storage.onChanged.addListener(((e,t)=>{const r=[Ho.accessToken,Ho.refreshToken,Ho.idToken,Ho.accountId,Ho.organizationId],o={};if("sync"===t)for(const[t,n]of Object.entries(e))!1===r.includes(t)&&"translationLanguages"!==t&&(o[t]=n.newValue);if("local"===t)for(const[t,n]of Object.entries(e))!1===r.includes(t)&&(o[t]=n.newValue);if("managed"===t)for(const[t,n]of Object.entries(e))_A.includes(t)&&!1===yA.includes(t)&&(o[t]=n.newValue);if(Object.keys(o).length>0){if(jo()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}n((e=>Object.assign(Object.assign({},e),o)))}return!0})),{subscribe:e,set:e=>{e.translationLanguages=void 0,chrome.storage.sync.set(e)}}}(),EA=function(){const{subscribe:e,update:t}=Eo({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case ho.newWebsiteState:return e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})}))),!1;case ho.resetWebsiteState:return e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)}))),!1}return!1})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:To.dlGetWebsiteData},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}(),AA=Ao(EA,((e,t,n)=>{if(!chrome.tabs)return;chrome.tabs.query({active:!0,currentWindow:!0}).then((n=>t(e[n[0].id])))}));const IA=function(){const{subscribe:e,set:t}=Eo([]);return mo({action:fo.dlGetExperiments,payload:{forceFetch:!1}}).then(t),chrome.runtime.onMessage.addListener((function(e){return"dlExperimentsUpdated"===e.action&&(e.payload&&t(e.payload.experiments),!1)})),{subscribe:e}}(),RA=Ao(wA,(e=>{var t;return(null==e?void 0:e.translationLanguages)&&(null===(t=null==e?void 0:e.translationLanguages)||void 0===t?void 0:t.length)>0?e.translationLanguages:Ye}));function OA(e){const t=e-1;return t*t*t+1}function xA(e,{delay:t=0,duration:n=400,easing:r=OA,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(e),l=+s.opacity,c="none"===s.transform?"":s.transform,u=l*(1-a),[d,p]=y(o),[f,h]=y(i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*d}${p}, ${(1-e)*f}${h});\n\t\t\topacity: ${l-u*t}`}}function NA(e,{isShadow:t=!1,exceptions:n=[]}={}){const r=r=>{const o=t?r.composedPath()[0]:r.target;!e||e.contains(o)||r.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(o,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}}function PA(e){document.addEventListener("deepl-reset-event",e)}const kA="full-page-translation",CA="DEVELOPER_TOOLS",LA="SETTINGS_PAGE",$A="SETTINGS_GLOSSARY",DA=()=>ae("deepl_settings"),MA=()=>ae("deepl_website_settings"),UA=()=>ae("deepl_experiments");function VA(e){let t,n,r,o;return{c(){t=k("button"),G(t,"style",e[1]),G(t,"data-testid",e[0]),G(t,"aria-label",n=e[3]||chrome.i18n.getMessage("deepl_logo")),G(t,"class","svelte-1rkiqjb"),H(t,"dl-logo-with-text",e[2]),H(t,"dl-logo",!e[2]),H(t,"disabled",e[5])},m(n,i){x(n,t,i),r||(o=M(t,"click",e[9]),r=!0)},p(e,r){2&r&&G(t,"style",e[1]),1&r&&G(t,"data-testid",e[0]),8&r&&n!==(n=e[3]||chrome.i18n.getMessage("deepl_logo"))&&G(t,"aria-label",n),4&r&&H(t,"dl-logo-with-text",e[2]),4&r&&H(t,"dl-logo",!e[2]),32&r&&H(t,"disabled",e[5])},d(e){e&&N(t),r=!1,o()}}}function GA(e){let t,n;return{c(){t=k("img"),G(t,"style",e[4]),l(t.src,n=e[6])||G(t,"src",n),G(t,"alt",chrome.i18n.getMessage("deepl_logo")),G(t,"data-testid",e[0]),G(t,"class","svelte-1rkiqjb")},m(e,n){x(e,t,n)},p(e,r){16&r&&G(t,"style",e[4]),64&r&&!l(t.src,n=e[6])&&G(t,"src",n),1&r&&G(t,"data-testid",e[0])},d(e){e&&N(t)}}}function FA(t){let n;function r(e,t){return e[6]?GA:VA}let o=r(t),i=o(t);return{c(){i.c(),n=D()},m(e,t){i.m(e,t),x(e,n,t)},p(e,[t]){o===(o=r(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){e&&N(n),i.d(e)}}}function jA(e,t,n){let r;u(e,wA,(e=>n(8,r=e)));var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};let i,{testId:a="deepl-logo"}=t,{style:s}=t,{hasText:l=!1}=t,{ariaLabel:c}=t,{whiteLabelStyle:d}=t,{disabled:p=!1}=t,{skipPolicyCheck:f=!1}=t;function h(){return o(this,void 0,void 0,(function*(){const e=yield Fe(void 0,void 0,void 0,(function*(){var e;const t=yield TA();return void 0!==t&&null!==(e=t.customExtensionIcon)&&void 0!==e&&e}));(f||e)&&(null==r?void 0:r.whiteLabelLogoId)&&function(e){return Fe(this,void 0,void 0,(function*(){const t=yield mo({action:go.dlGetCustomLogo,payload:{logoId:e}});if(t&&t.logoUrl)return t.logoUrl}))}(r.whiteLabelLogoId).then((e=>n(6,i=e))).catch((()=>n(6,i=void 0)))}))}return e.$$set=e=>{"testId"in e&&n(0,a=e.testId),"style"in e&&n(1,s=e.style),"hasText"in e&&n(2,l=e.hasText),"ariaLabel"in e&&n(3,c=e.ariaLabel),"whiteLabelStyle"in e&&n(4,d=e.whiteLabelStyle),"disabled"in e&&n(5,p=e.disabled),"skipPolicyCheck"in e&&n(7,f=e.skipPolicyCheck)},e.$$.update=()=>{256&e.$$.dirty&&(r&&r.isLoggedIn?h():n(6,i=void 0))},[a,s,l,c,d,p,i,f,r,function(t){se.call(this,e,t)}]}class qA extends Ue{constructor(e){super(),Me(this,e,jA,FA,a,{testId:0,style:1,hasText:2,ariaLabel:3,whiteLabelStyle:4,disabled:5,skipPolicyCheck:7})}}function BA(e){let t,n;return{c(){t=C("svg"),n=C("path"),G(n,"fill-rule","evenodd"),G(n,"clip-rule","evenodd"),G(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),G(n,"fill","#007E5E"),G(t,"width","16"),G(t,"height","17"),G(t,"viewBox","0 0 16 17"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){x(e,t,r),I(t,n)},d(e){e&&N(t)}}}function HA(e){let t,n;return{c(){t=C("svg"),n=C("path"),G(n,"fill-rule","evenodd"),G(n,"clip-rule","evenodd"),G(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),G(n,"fill","white"),G(t,"width","16"),G(t,"height","17"),G(t,"viewBox","0 0 16 17"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){x(e,t,r),I(t,n)},d(e){e&&N(t)}}}function JA(t){let n;function r(e,t){return e[0]?HA:BA}let o=r(t),i=o(t);return{c(){i.c(),n=D()},m(e,t){i.m(e,t),x(e,n,t)},p(e,[t]){o!==(o=r(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){e&&N(n),i.d(e)}}}function zA(e,t,n){let{isActive:r}=t;return e.$$set=e=>{"isActive"in e&&n(0,r=e.isActive)},[r]}class WA extends Ue{constructor(e){super(),Me(this,e,zA,JA,a,{isActive:0})}}function YA(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,G(n,"class","svelte-cybzsj")},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function XA(e){let t,n,r=e[1].customTranslatorName+"";return{c(){t=k("span"),n=L(r),G(t,"class","svelte-cybzsj")},m(e,r){x(e,t,r),I(t,n)},p(e,t){2&t&&r!==(r=e[1].customTranslatorName+"")&&F(n,r)},d(e){e&&N(t)}}}function KA(e){let t,n;return t=new WA({}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function QA(e){let t,n,r,o,i;function a(e,t){return e[1]?.customTranslatorName?XA:YA}let s=a(e),l=s(e),c=e[0]&&KA();return{c(){t=k("div"),l.c(),n=$(),c&&c.c(),G(t,"class","container svelte-cybzsj")},m(a,s){x(a,t,s),l.m(t,null),I(t,n),c&&c.m(t,null),r=!0,o||(i=M(t,"click",e[2]),o=!0)},p(e,[r]){s===(s=a(e))&&l?l.p(e,r):(l.d(1),l=s(e),l&&(l.c(),l.m(t,n))),e[0]?c?1&r&&Re(c,1):(c=KA(),c.c(),Re(c,1),c.m(t,null)):c&&(Ae(),Oe(c,1,1,(()=>{c=null})),Ie())},i(e){r||(Re(c),r=!0)},o(e){Oe(c),r=!1},d(e){e&&N(t),l.d(),c&&c.d(),o=!1,i()}}}function ZA(e,t,n){let r;u(e,wA,(e=>n(1,r=e)));let{isProTranslator:o=!1}=t;return e.$$set=e=>{"isProTranslator"in e&&n(0,o=e.isProTranslator)},[o,r,()=>YT(Mn)]}class eI extends Ue{constructor(e){super(),Me(this,e,ZA,QA,a,{isProTranslator:0})}}function tI(t){let n,r,i;return{c(){n=k("button"),n.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,G(n,"class","user-action-button svelte-4zccls")},m(e,o){x(e,n,o),r||(i=[M(n,"mousedown",U(t[11])),M(n,"click",t[12])],r=!0)},p:e,d(e){e&&N(n),r=!1,o(i)}}}function nI(t){let n,r,o,i,a,s,l,c=t[1]&&rI(t),u=t[0]&&oI(t);return{c(){n=k("div"),c&&c.c(),r=$(),o=k("button"),o.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,i=$(),u&&u.c(),G(o,"data-testid","settings-menu-item"),G(o,"class","settings-menu-item settings-menu-item-link svelte-4zccls"),G(n,"class","settings-menu svelte-4zccls")},m(e,a){x(e,n,a),c&&c.m(n,null),I(n,r),I(n,o),I(n,i),u&&u.m(n,null),s||(l=M(o,"click",t[5]),s=!0)},p(e,t){e[1]?c?c.p(e,t):(c=rI(e),c.c(),c.m(n,r)):c&&(c.d(1),c=null),e[0]?u?u.p(e,t):(u=oI(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i(e){a||he((()=>{a=Ne(n,xA,{y:-5,duration:500}),a.start()}))},o:e,d(e){e&&N(n),c&&c.d(),u&&u.d(),s=!1,l()}}}function rI(t){let n,r,i;return{c(){n=k("button"),n.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,G(n,"class","settings-menu-item svelte-4zccls")},m(e,o){x(e,n,o),r||(i=[M(n,"mousedown",U(t[10])),M(n,"click",t[13])],r=!0)},p:e,d(e){e&&N(n),r=!1,o(i)}}}function oI(t){let n,r,o,i,a;return{c(){n=k("div"),r=$(),o=k("button"),o.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,G(n,"class","divider svelte-4zccls"),G(o,"class","settings-menu-item svelte-4zccls")},m(e,s){x(e,n,s),x(e,r,s),x(e,o,s),i||(a=M(o,"click",t[7]),i=!0)},p:e,d(e){e&&(N(n),N(r),N(o)),i=!1,a()}}}function iI(e){let t,n,r,i,a,s,l,c,u,d,p,f,h;i=new qA({props:{skipPolicyCheck:!0,style:"width: 70px; height:24px;",hasText:!0,testId:"deepl-logo"}}),i.$on("click",e[4]),s=new eI({props:{isProTranslator:e[2]}});let g=!e[0]&&tI(e),m=e[3]&&nI(e);return{c(){t=k("div"),n=k("div"),r=k("div"),Ce(i.$$.fragment),a=$(),Ce(s.$$.fragment),l=$(),c=k("div"),g&&g.c(),u=$(),d=k("button"),m&&m.c(),G(r,"class","dl-logo-wrapper svelte-4zccls"),G(n,"class","dl-header-left svelte-4zccls"),H(n,"logged-out",!e[0]),G(d,"class","settings-icon svelte-4zccls"),G(d,"data-qa","deepl-layour-header-settings-link"),G(d,"data-testid","settings-icon-button"),G(d,"aria-label",chrome.i18n.getMessage("menu_open_settings")),H(d,"highlighted",e[3]),G(c,"class","action-container svelte-4zccls"),G(t,"class","dl-header svelte-4zccls")},m(o,v){x(o,t,v),I(t,n),I(n,r),Le(i,r,null),I(n,a),Le(s,n,null),I(t,l),I(t,c),g&&g.m(c,null),I(c,u),I(c,d),m&&m.m(d,null),p=!0,f||(h=[_(NA.call(null,d)),M(d,"click_outside",e[14]),M(d,"mousedown",V(U(e[9]))),M(d,"click",e[15])],f=!0)},p(e,[t]){const r={};4&t&&(r.isProTranslator=e[2]),s.$set(r),(!p||1&t)&&H(n,"logged-out",!e[0]),e[0]?g&&(g.d(1),g=null):g?g.p(e,t):(g=tI(e),g.c(),g.m(c,u)),e[3]?m?(m.p(e,t),8&t&&Re(m,1)):(m=nI(e),m.c(),Re(m,1),m.m(d,null)):m&&(m.d(1),m=null),(!p||8&t)&&H(d,"highlighted",e[3])},i(e){p||(Re(i.$$.fragment,e),Re(s.$$.fragment,e),Re(m),p=!0)},o(e){Oe(i.$$.fragment,e),Oe(s.$$.fragment,e),p=!1},d(e){e&&N(t),$e(i),$e(s),g&&g.d(),m&&m.d(),f=!1,o(h)}}}function aI(e,t,n){let{isLoggedIn:r=!1}=t,{showUpgradeButton:o=!1}=t,{isProTranslator:i=!1}=t,a=!1;function s(){mo({action:so.dlRequestLogin}),YT(Cn)}function l(){const e=i?mi:gi;mo({action:ho.dlExternalURLRedirect,payload:{destination:e,utmContent:"sidePanel"}}),YT(Dn)}DA();return e.$$set=e=>{"isLoggedIn"in e&&n(0,r=e.isLoggedIn),"showUpgradeButton"in e&&n(1,o=e.showUpgradeButton),"isProTranslator"in e&&n(2,i=e.isProTranslator)},[r,o,i,a,function(){let e=vi;mo({action:po.dlTrackLogoClickedEvent,payload:{extensionContext:vt}}),mo({action:ho.dlExternalURLRedirect,payload:{destination:e,utmContent:"sidePanel"}})},function(){mo({action:ho.dlOpenInternalPage,payload:{destination:LA}}),YT(Ln)},s,function(){mo({action:so.dlRequestLogout}),YT($n)},l,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},()=>{s()},()=>{l()},()=>n(3,a=!1),()=>n(3,a=!a)]}class sI extends Ue{constructor(e){super(),Me(this,e,aI,iI,a,{isLoggedIn:0,showUpgradeButton:1,isProTranslator:2})}}const lI=e=>({}),cI=e=>({}),uI=e=>({}),dI=e=>({}),pI=e=>({}),fI=e=>({});function hI(e){let t,n,r,o,i,a,s,l,c,u;r=new sI({props:{isLoggedIn:e[1],showUpgradeButton:e[2],isProTranslator:e[0]}});const p=e[5]["fpt-container"],m=d(p,e,e[4],fI),v=e[5]["main-content"],_=d(v,e,e[4],dI),y=e[5].footer,T=d(y,e,e[4],cI);return{c(){t=k("div"),n=k("header"),Ce(r.$$.fragment),o=$(),m&&m.c(),i=$(),a=k("div"),s=k("main"),_&&_.c(),l=$(),c=k("footer"),T&&T.c(),G(n,"class","header svelte-29epsp"),G(s,"class","main-content svelte-29epsp"),G(c,"class","footer svelte-29epsp"),G(a,"class","core-content-container svelte-29epsp"),G(t,"class","layout svelte-29epsp"),H(t,"isFirefox",e[3])},m(e,d){x(e,t,d),I(t,n),Le(r,n,null),I(t,o),m&&m.m(t,null),I(t,i),I(t,a),I(a,s),_&&_.m(s,null),I(a,l),I(a,c),T&&T.m(c,null),u=!0},p(e,[t]){const n={};2&t&&(n.isLoggedIn=e[1]),4&t&&(n.showUpgradeButton=e[2]),1&t&&(n.isProTranslator=e[0]),r.$set(n),m&&m.p&&(!u||16&t)&&h(m,p,e,e[4],u?f(p,e[4],t,pI):g(e[4]),fI),_&&_.p&&(!u||16&t)&&h(_,v,e,e[4],u?f(v,e[4],t,uI):g(e[4]),dI),T&&T.p&&(!u||16&t)&&h(T,y,e,e[4],u?f(y,e[4],t,lI):g(e[4]),cI)},i(e){u||(Re(r.$$.fragment,e),Re(m,e),Re(_,e),Re(T,e),u=!0)},o(e){Oe(r.$$.fragment,e),Oe(m,e),Oe(_,e),Oe(T,e),u=!1},d(e){e&&N(t),$e(r),m&&m.d(e),_&&_.d(e),T&&T.d(e)}}}function gI(e,t,n){let{$$slots:r={},$$scope:o}=t,{isProTranslator:i=!1}=t,{isLoggedIn:a=!1}=t,{showUpgradeButton:s=!1}=t;const l=hi();return e.$$set=e=>{"isProTranslator"in e&&n(0,i=e.isProTranslator),"isLoggedIn"in e&&n(1,a=e.isLoggedIn),"showUpgradeButton"in e&&n(2,s=e.showUpgradeButton),"$$scope"in e&&n(4,o=e.$$scope)},[i,a,s,l,o,r]}class mI extends Ue{constructor(e){super(),Me(this,e,gI,hI,a,{isProTranslator:0,isLoggedIn:1,showUpgradeButton:2})}}function vI(t){let n;return{c(){n=k("div"),n.innerHTML='<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" aria-label="Loading"><path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10ZM4 12a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z" fill="#f1f1f1" stroke-width="1.5" vector-effect="non-scaling-stroke"></path><path d="M12 2a10 10 0 0 1 10 10h-2a7.999 7.999 0 0 0-8-8V2Z" fill="#0f2b46" stroke-width="1.5" vector-effect="non-scaling-stroke"></path></svg>',G(n,"class","loader svelte-1g6k7ws"),H(n,"small",t[0]),H(n,"tiny",t[1])},m(e,t){x(e,n,t)},p(e,[t]){1&t&&H(n,"small",e[0]),2&t&&H(n,"tiny",e[1])},i:e,o:e,d(e){e&&N(n)}}}function _I(e,t,n){let{small:r=!1}=t,{tiny:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,r=e.small),"tiny"in e&&n(1,o=e.tiny)},[r,o]}class yI extends Ue{constructor(e){super(),Me(this,e,_I,vI,a,{small:0,tiny:1})}}const TI="ITA_RATE_LIMITED",SI="ITA_RATE_LIMITED_RESTRICTED",bI="ITA_WRITE_LANGUAGE_NOT_SUPPORTED",wI="ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",EI="ITA_WRITE_GENERIC_ERROR",AI="ITA_TRANSLATE_GENERIC_ERROR",II="ITA_TOKEN_EXPIRED",RI="ITA_GEO_BLOCKED",OI="802_quota_exceeded",xI="800_rate_limited",NI="801_rate_limited_restricted",PI="1300_session_ended_internal_error",kI="1301_session_ended_manual_eviction",CI="1600_session_ended_authentication_token_expired",LI="1601_missing_or_invalid_authentication",$I="300_unsupported_session_mode",DI="1200_obsolete_version_unavailable",MI="1302_unhandled_internal_error",UI="301_invalid_session_token",VI="302_invalid_session_version",GI="303_unknown_session",FI="305_invalid_participant_id",jI="700_service_level_mismatch",qI="900_multiple_invocations_forbidden",BI="304_message_validation_failed";function HI(){return!!chrome&&!!chrome.tabs}const JI=Eo(!1);function zI(e){let t,n,r;return{c(){t=k("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',G(t,"class","dl-close-icon svelte-nsrzuc")},m(o,a){x(o,t,a),n||(r=M(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&N(t),n=!1,r()}}}function WI(e){let t,n,r,o,i,a;const s=e[2].default,l=d(s,e,e[1],null);let c=e[0]&&zI(e);return{c(){t=k("div"),n=k("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=$(),o=k("div"),l&&l.c(),i=$(),c&&c.c(),G(n,"class","icon-container svelte-nsrzuc"),G(o,"class","message svelte-nsrzuc"),G(t,"class","error-msg svelte-nsrzuc")},m(e,s){x(e,t,s),I(t,n),I(t,r),I(t,o),l&&l.m(o,null),I(t,i),c&&c.m(t,null),a=!0},p(e,[n]){l&&l.p&&(!a||2&n)&&h(l,s,e,e[1],a?f(s,e[1],n,null):g(e[1]),null),e[0]?c?c.p(e,n):(c=zI(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(Re(l,e),a=!0)},o(e){Oe(l,e),a=!1},d(e){e&&N(t),l&&l.d(e),c&&c.d()}}}function YI(e,t,n){let{$$slots:r={},$$scope:o}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class XI extends Ue{constructor(e){super(),Me(this,e,YI,WI,a,{close:0})}}function KI(e){let t,n,r;return{c(){t=k("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',G(t,"class","dl-close-icon svelte-kyufep")},m(o,a){x(o,t,a),n||(r=M(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&N(t),n=!1,r()}}}function QI(e){let t,n,r,o,i,a;const s=e[2].default,l=d(s,e,e[1],null);let c=e[0]&&KI(e);return{c(){t=k("div"),n=k("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=$(),o=k("div"),l&&l.c(),i=$(),c&&c.c(),G(n,"class","icon-container svelte-kyufep"),G(o,"class","message svelte-kyufep"),G(t,"class","warn-msg svelte-kyufep")},m(e,s){x(e,t,s),I(t,n),I(t,r),I(t,o),l&&l.m(o,null),I(t,i),c&&c.m(t,null),a=!0},p(e,[n]){l&&l.p&&(!a||2&n)&&h(l,s,e,e[1],a?f(s,e[1],n,null):g(e[1]),null),e[0]?c?c.p(e,n):(c=KI(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(Re(l,e),a=!0)},o(e){Oe(l,e),a=!1},d(e){e&&N(t),l&&l.d(e),c&&c.d()}}}function ZI(e,t,n){let{$$slots:r={},$$scope:o}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class eR extends Ue{constructor(e){super(),Me(this,e,ZI,QI,a,{close:0})}}function tR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,G(n,"data-qa","error-message-generic")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function nR(e){return[]}class rR extends Ue{constructor(e){super(),Me(this,e,nR,tR,a,{})}}function oR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_generic_write_error")}`,G(n,"data-qa","error-message-generic")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function iR(e){return[]}class aR extends Ue{constructor(e){super(),Me(this,e,iR,oR,a,{})}}function sR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function lR(e){return[]}class cR extends Ue{constructor(e){super(),Me(this,e,lR,sR,a,{})}}function uR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function dR(e){return[]}class pR extends Ue{constructor(e){super(),Me(this,e,dR,uR,a,{})}}function fR(t){let n,r,o,i,a,s;return{c(){n=k("div"),r=k("div"),r.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=$(),i=k("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,G(i,"class","link svelte-1mpkjv7"),G(n,"class","container svelte-1mpkjv7")},m(e,l){x(e,n,l),I(n,r),I(n,o),I(n,i),a||(s=M(i,"click",t[0]),a=!0)},p:e,i:e,o:e,d(e){e&&N(n),a=!1,s()}}}function hR(e){return[function(){mo({action:ho.dlExternalURLRedirect,payload:{destination:gi,utmContent:"warning_user_unauthorised"}})}]}class gR extends Ue{constructor(e){super(),Me(this,e,hR,fR,a,{})}}function mR(t){let n,r,o,i,a,s;return{c(){n=k("div"),r=k("div"),r.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=$(),i=k("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,G(i,"class","link svelte-1mpkjv7"),G(n,"class","container svelte-1mpkjv7")},m(e,l){x(e,n,l),I(n,r),I(n,o),I(n,i),a||(s=M(i,"click",t[0]),a=!0)},p:e,i:e,o:e,d(e){e&&N(n),a=!1,s()}}}function vR(e){return[function(){mo({action:ho.dlExternalURLRedirect,payload:{destination:gi,utmContent:"warning_user_blocked"}})}]}class _R extends Ue{constructor(e){super(),Me(this,e,vR,mR,a,{})}}function yR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function TR(e){return[]}class SR extends Ue{constructor(e){super(),Me(this,e,TR,yR,a,{})}}function bR(e,t,n){let r={block:"end",position:e.length};return t.forEach((t=>{const o=e.indexOf(`<${t}>`,n);o>-1&&o<r.position&&(r={block:t,position:o})})),[r.block,r.position]}function wR(e,t=[]){const n=[];let r=0,o=!1;for(;!o;){const[i,a]=bR(e,t,r);if("end"===i&&(o=!0),r<a&&n.push({block:"main",text:e.substring(r,a)}),o)break;const s=e.indexOf(`</${i}>`,a);-1===s?(n.push({block:i,text:e.substring(a+`<${i}>`.length)}),o=!0):(n.push({block:i,text:e.substring(a+`<${i}>`.length,s)}),r=s+`</${i}>`.length)}return n}function ER(e,t,n){const r=e.slice();return r[1]=t[n],r}function AR(t){let n,r=t[1].text+"";return{c(){n=L(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function IR(t){let n,r,o;return{c(){n=k("span"),n.textContent=`${t[1].text} `,G(n,"class","link svelte-1mpkjv7")},m(e,i){x(e,n,i),r||(o=M(n,"click",t[0]),r=!0)},p:e,d(e){e&&N(n),r=!1,o()}}}function RR(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?IR:AR}(e),r=n(e);return{c(){r.c(),t=D()},m(e,n){r.m(e,n),x(e,t,n)},p(e,t){r.p(e,t)},d(e){e&&N(t),r.d(e)}}}function OR(t){let n,r=Pe(wR(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let e=0;e<r.length;e+=1)o[e]=RR(ER(t,r,e));return{c(){n=k("div");for(let e=0;e<o.length;e+=1)o[e].c();G(n,"class","container svelte-1mpkjv7")},m(e,t){x(e,n,t);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,[t]){if(1&t){let i;for(r=Pe(wR(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),i=0;i<r.length;i+=1){const a=ER(e,r,i);o[i]?o[i].p(a,t):(o[i]=RR(a),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){e&&N(n),P(o,e)}}}function xR(e){return[function(){mo({action:ho.dlExternalURLRedirect,payload:{destination:yi}})}]}class NR extends Ue{constructor(e){super(),Me(this,e,xR,OR,a,{})}}function PR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function kR(e){return[]}class CR extends Ue{constructor(e){super(),Me(this,e,kR,PR,a,{})}}function LR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function $R(e){return[]}class DR extends Ue{constructor(e){super(),Me(this,e,$R,LR,a,{})}}function MR(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function UR(e){return[]}class VR extends Ue{constructor(e){super(),Me(this,e,UR,MR,a,{})}}function GR(e,t,n){const r=e.slice();return r[5]=t[n],r}function FR(e){let t,n=e[5].text+"";return{c(){t=L(n)},m(e,n){x(e,t,n)},p(e,r){4&r&&n!==(n=e[5].text+"")&&F(t,n)},d(e){e&&N(t)}}}function jR(e){let t,n,r=e[5].text+"";return{c(){t=k("strong"),n=L(r)},m(e,r){x(e,t,r),I(t,n)},p(e,t){4&t&&r!==(r=e[5].text+"")&&F(n,r)},d(e){e&&N(t)}}}function qR(e){let t;function n(e,t){return"strong"===e[5].block?jR:FR}let r=n(e),o=r(e);return{c(){o.c(),t=D()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&N(t),o.d(e)}}}function BR(e){let t,n,r,o;return{c(){t=C("svg"),n=C("path"),G(n,"d","M4 12L12 4M4 4L12 12"),G(n,"stroke","white"),G(n,"stroke-width","1.5"),G(n,"stroke-linecap","round"),G(n,"stroke-linejoin","round"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"class","svelte-1mvy8b2")},m(a,s){x(a,t,s),I(t,n),r||(o=M(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&N(t),r=!1,o()}}}function HR(t){let n,r,i,a,s,l,c,u,d,p,f,h,g,m=Pe(wR(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",t[2]),["strong"])),v=[];for(let e=0;e<m.length;e+=1)v[e]=qR(GR(t,m,e));let _=t[1]&&BR(t);return{c(){n=k("div"),r=k("div"),i=k("h1"),i.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,a=$(),s=k("p");for(let e=0;e<v.length;e+=1)v[e].c();l=$(),c=k("div"),u=k("button"),u.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,d=$(),p=k("button"),p.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,f=$(),_&&_.c(),G(i,"class","svelte-1mvy8b2"),G(s,"class","description svelte-1mvy8b2"),G(r,"class","messages svelte-1mvy8b2"),H(r,"small",t[0].small),G(u,"class","log-in svelte-1mvy8b2"),G(p,"class","sign-up svelte-1mvy8b2"),G(c,"class","actions svelte-1mvy8b2"),H(c,"small",t[0].small),G(n,"class","container svelte-1mvy8b2"),G(n,"data-testid","error-message-anonymous-limit-exceeded"),H(n,"small",t[0].small)},m(e,o){x(e,n,o),I(n,r),I(r,i),I(r,a),I(r,s);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(s,null);I(n,l),I(n,c),I(c,u),I(c,d),I(c,p),I(n,f),_&&_.m(n,null),h||(g=[M(u,"click",t[3]),M(p,"click",t[4])],h=!0)},p(e,[t]){if(4&t){let n;for(m=Pe(wR(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),n=0;n<m.length;n+=1){const r=GR(e,m,n);v[n]?v[n].p(r,t):(v[n]=qR(r),v[n].c(),v[n].m(s,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=m.length}1&t&&H(r,"small",e[0].small),1&t&&H(c,"small",e[0].small),e[1]?_?_.p(e,t):(_=BR(e),_.c(),_.m(n,null)):_&&(_.d(1),_=null),1&t&&H(n,"small",e[0].small)},i:e,o:e,d(e){e&&N(n),P(v,e),_&&_.d(),h=!1,o(g)}}}function JR(e,t,n){let{config:r}=t,{close:o}=t,i="";return ne((()=>{mo({action:so.dlGetUsersCharacterLimit}).then((e=>n(2,i=e.toString()))),mo({action:po.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Cr}})})),re((()=>{mo({action:po.dlTrackUpgradeNotificationClosed,payload:{type:Cr}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,i,function(){mo({action:so.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:Cr,cta:Ur}})},function(){mo({action:so.dlRequestSignUp}),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:Cr,cta:Vr}})}]}class zR extends Ue{constructor(e){super(),Me(this,e,JR,HR,a,{config:0,close:1})}}function WR(e,t,n){const r=e.slice();return r[4]=t[n],r}function YR(e){let t,n=e[4].text+"";return{c(){t=L(n)},m(e,n){x(e,t,n)},p(e,r){4&r&&n!==(n=e[4].text+"")&&F(t,n)},d(e){e&&N(t)}}}function XR(e){let t,n,r=e[4].text+"";return{c(){t=k("strong"),n=L(r)},m(e,r){x(e,t,r),I(t,n)},p(e,t){4&t&&r!==(r=e[4].text+"")&&F(n,r)},d(e){e&&N(t)}}}function KR(e){let t;function n(e,t){return"strong"===e[4].block?XR:YR}let r=n(e),o=r(e);return{c(){o.c(),t=D()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&N(t),o.d(e)}}}function QR(e){let t,n,r,o;return{c(){t=C("svg"),n=C("path"),G(n,"d","M4 12L12 4M4 4L12 12"),G(n,"stroke","white"),G(n,"stroke-width","1.5"),G(n,"stroke-linecap","round"),G(n,"stroke-linejoin","round"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"class","svelte-1i5r4eu")},m(a,s){x(a,t,s),I(t,n),r||(o=M(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&N(t),r=!1,o()}}}function ZR(t){let n,r,o,i,a,s,l,c,u,d,p,f=Pe(wR(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",t[2]),["strong"])),h=[];for(let e=0;e<f.length;e+=1)h[e]=KR(WR(t,f,e));let g=t[1]&&QR(t);return{c(){n=k("div"),r=k("div"),o=k("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=$(),a=k("p");for(let e=0;e<h.length;e+=1)h[e].c();s=$(),l=k("div"),c=k("button"),c.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,u=$(),g&&g.c(),G(o,"class","svelte-1i5r4eu"),G(a,"class","description svelte-1i5r4eu"),G(r,"class","messages svelte-1i5r4eu"),H(r,"small",t[0].small),G(c,"class","sign-up svelte-1i5r4eu"),G(l,"class","actions svelte-1i5r4eu"),H(l,"small",t[0].small),G(n,"class","container svelte-1i5r4eu"),G(n,"data-testid","error-message-limit-exceeded-free-account"),H(n,"small",t[0].small)},m(e,f){x(e,n,f),I(n,r),I(r,o),I(r,i),I(r,a);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(a,null);I(n,s),I(n,l),I(l,c),I(n,u),g&&g.m(n,null),d||(p=M(c,"click",t[3]),d=!0)},p(e,[t]){if(4&t){let n;for(f=Pe(wR(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),n=0;n<f.length;n+=1){const r=WR(e,f,n);h[n]?h[n].p(r,t):(h[n]=KR(r),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}1&t&&H(r,"small",e[0].small),1&t&&H(l,"small",e[0].small),e[1]?g?g.p(e,t):(g=QR(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null),1&t&&H(n,"small",e[0].small)},i:e,o:e,d(e){e&&N(n),P(h,e),g&&g.d(),d=!1,p()}}}function eO(e,t,n){let{config:r}=t,{close:o}=t,i="";return ne((()=>{mo({action:so.dlGetUsersCharacterLimit}).then((e=>n(2,i=e.toString()))),mo({action:po.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Lr}})})),re((()=>{mo({action:po.dlTrackUpgradeNotificationClosed,payload:{type:Lr}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,i,function(){mo({action:ho.dlExternalURLRedirect,payload:{destination:gi,utmContent:"notification_free_account_limit_exceeded"}}),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:Lr,cta:Mr}})}]}class tO extends Ue{constructor(e){super(),Me(this,e,eO,ZR,a,{config:0,close:1})}}function nO(e){let t,n,r,o;return{c(){t=C("svg"),n=C("path"),G(n,"d","M4 12L12 4M4 4L12 12"),G(n,"stroke","white"),G(n,"stroke-width","1.5"),G(n,"stroke-linecap","round"),G(n,"stroke-linejoin","round"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"class","svelte-1uko7yn")},m(a,s){x(a,t,s),I(t,n),r||(o=M(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&N(t),r=!1,o()}}}function rO(t){let n,r,o,i,a,s,l,c,u,d,p,f=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",h=t[1]&&nO(t);return{c(){n=k("div"),r=k("div"),o=k("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=$(),a=k("p"),s=$(),l=k("div"),c=k("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,u=$(),h&&h.c(),G(o,"class","svelte-1uko7yn"),G(a,"class","description svelte-1uko7yn"),G(r,"class","messages small svelte-1uko7yn"),H(r,"small",t[0].small),G(c,"class","sign-up svelte-1uko7yn"),G(l,"class","actions svelte-1uko7yn"),H(l,"small",t[0].small),G(n,"class","container svelte-1uko7yn"),G(n,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),H(n,"small",t[0].small)},m(e,g){x(e,n,g),I(n,r),I(r,o),I(r,i),I(r,a),a.innerHTML=f,I(n,s),I(n,l),I(l,c),I(n,u),h&&h.m(n,null),d||(p=M(c,"click",t[2]),d=!0)},p(e,[t]){1&t&&H(r,"small",e[0].small),1&t&&H(l,"small",e[0].small),e[1]?h?h.p(e,t):(h=nO(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null),1&t&&H(n,"small",e[0].small)},i:e,o:e,d(e){e&&N(n),h&&h.d(),d=!1,p()}}}function oO(e,t,n){let{config:r}=t,{close:o}=t;return ne((()=>{mo({action:po.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Lr}})})),re((()=>{mo({action:po.dlTrackUpgradeNotificationClosed,payload:{type:Lr}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,function(){mo({action:ho.dlExternalURLRedirect,payload:{destination:gi,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:Lr,cta:Mr}})}]}class iO extends Ue{constructor(e){super(),Me(this,e,oO,rO,a,{config:0,close:1})}}function aO(t){let n,r,o;return{c(){n=k("button"),n.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,G(n,"class","log-in svelte-1tmoo4x")},m(e,i){x(e,n,i),r||(o=M(n,"click",t[4]),r=!0)},p:e,d(e){e&&N(n),r=!1,o()}}}function sO(e){let t,n,r,o;return{c(){t=C("svg"),n=C("path"),G(n,"d","M4 12L12 4M4 4L12 12"),G(n,"stroke","white"),G(n,"stroke-width","1.5"),G(n,"stroke-linecap","round"),G(n,"stroke-linejoin","round"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"class","svelte-1tmoo4x")},m(a,s){x(a,t,s),I(t,n),r||(o=M(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&N(t),r=!1,o()}}}function lO(t){let n,r,o,i,a,s,l,c,u,d,p,f,h=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!t[2]&&aO(t),m=t[1]&&sO(t);return{c(){n=k("div"),r=k("div"),o=k("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=$(),a=k("p"),s=$(),l=k("div"),g&&g.c(),c=$(),u=k("button"),u.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=$(),m&&m.c(),G(o,"class","svelte-1tmoo4x"),G(a,"class","description svelte-1tmoo4x"),G(r,"class","messages svelte-1tmoo4x"),H(r,"small",t[0].small),G(u,"class","sign-up svelte-1tmoo4x"),G(l,"class","actions svelte-1tmoo4x"),H(l,"small",t[0].small),G(n,"class","container svelte-1tmoo4x"),G(n,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),H(n,"small",t[0].small)},m(e,v){x(e,n,v),I(n,r),I(r,o),I(r,i),I(r,a),a.innerHTML=h,I(n,s),I(n,l),g&&g.m(l,null),I(l,c),I(l,u),I(n,d),m&&m.m(n,null),p||(f=M(u,"click",t[3]),p=!0)},p(e,[t]){1&t&&H(r,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,t):(g=aO(e),g.c(),g.m(l,c)),1&t&&H(l,"small",e[0].small),e[1]?m?m.p(e,t):(m=sO(e),m.c(),m.m(n,null)):m&&(m.d(1),m=null),1&t&&H(n,"small",e[0].small)},i:e,o:e,d(e){e&&N(n),g&&g.d(),m&&m.d(),p=!1,f()}}}function cO(e,t,n){let r,o;u(e,wA,(e=>n(5,o=e)));let{config:i}=t,{close:a}=t;return ne((()=>{mo({action:po.dlTrackUpgradeNotificationIsDisplayed,payload:{type:r?Dr:$r}})})),re((()=>{mo({action:po.dlTrackUpgradeNotificationClosed,payload:{type:r?Dr:$r}})})),e.$$set=e=>{"config"in e&&n(0,i=e.config),"close"in e&&n(1,a=e.close)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=Ly(o))},[i,a,r,function(){let e="notification_free_account_limit_exceeded_write";if(i&&i.nicheIntegration)switch(i.nicheIntegration){case wr:e="gmail_customization_write";break;case Er:e="gslides_customization_write"}mo({action:ho.dlExternalURLRedirect,payload:{destination:mi,utmContent:e}}),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:r?Dr:$r,cta:Mr}})},function(){mo({action:so.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:r?Dr:$r,cta:Ur}})},o]}class uO extends Ue{constructor(e){super(),Me(this,e,cO,lO,a,{config:0,close:1})}}function dO(e){let t,n,r,o;return{c(){t=C("svg"),n=C("path"),G(n,"d","M4 12L12 4M4 4L12 12"),G(n,"stroke","white"),G(n,"stroke-width","1.5"),G(n,"stroke-linecap","round"),G(n,"stroke-linejoin","round"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"class","svelte-1i5r4eu")},m(a,s){x(a,t,s),I(t,n),r||(o=M(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&N(t),r=!1,o()}}}function pO(t){let n,r,o,i,a,s,l,c,u,d,p,f=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",h=t[1]&&dO(t);return{c(){n=k("div"),r=k("div"),o=k("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=$(),a=k("p"),s=$(),l=k("div"),c=k("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,u=$(),h&&h.c(),G(o,"class","svelte-1i5r4eu"),G(a,"class","description svelte-1i5r4eu"),G(r,"class","messages svelte-1i5r4eu"),H(r,"small",t[0].small),G(c,"class","sign-up svelte-1i5r4eu"),G(l,"class","actions svelte-1i5r4eu"),H(l,"small",t[0].small),G(n,"class","container svelte-1i5r4eu"),G(n,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),H(n,"small",t[0].small)},m(e,g){x(e,n,g),I(n,r),I(r,o),I(r,i),I(r,a),a.innerHTML=f,I(n,s),I(n,l),I(l,c),I(n,u),h&&h.m(n,null),d||(p=M(c,"click",t[2]),d=!0)},p(e,[t]){1&t&&H(r,"small",e[0].small),1&t&&H(l,"small",e[0].small),e[1]?h?h.p(e,t):(h=dO(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null),1&t&&H(n,"small",e[0].small)},i:e,o:e,d(e){e&&N(n),h&&h.d(),d=!1,p()}}}function fO(e,t,n){let r,o;u(e,wA,(e=>n(3,o=e)));let{config:i}=t,{close:a}=t;return ne((()=>{mo({action:po.dlTrackUpgradeNotificationIsDisplayed,payload:{type:r?Dr:$r}})})),re((()=>{mo({action:po.dlTrackUpgradeNotificationClosed,payload:{type:r?Dr:$r}})})),e.$$set=e=>{"config"in e&&n(0,i=e.config),"close"in e&&n(1,a=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(r=Ly(o))},[i,a,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(i&&i.nicheIntegration)switch(i.nicheIntegration){case wr:e="gmail_customization_write";break;case Er:e="gslides_customization_write"}mo({action:ho.dlExternalURLRedirect,payload:{destination:mi,utmContent:e}}),mo({action:po.dlTrackUpgradeNotificationAction,payload:{type:r?Dr:$r,cta:Mr}})},o]}class hO extends Ue{constructor(e){super(),Me(this,e,fO,pO,a,{config:0,close:1})}}function gO(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("write_language_not_supported")}`,G(n,"data-qa","error-message-write-language-not-supported")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function mO(e){return[]}class vO extends Ue{constructor(e){super(),Me(this,e,mO,gO,a,{})}}function _O(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("translate_language_not_supported")}`,G(n,"data-qa","error-message-translate-language-not-supported")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function yO(e){return[]}class TO extends Ue{constructor(e){super(),Me(this,e,yO,_O,a,{})}}function SO(e){let t,n,r,o;return{c(){t=C("svg"),n=C("path"),G(n,"d","M4 12L12 4M4 4L12 12"),G(n,"stroke","white"),G(n,"stroke-width","1.5"),G(n,"stroke-linecap","round"),G(n,"stroke-linejoin","round"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"class","svelte-1mvy8b2")},m(a,s){x(a,t,s),I(t,n),r||(o=M(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&N(t),r=!1,o()}}}function bO(t){let n,r,o,i,a,s,l,c,u,d,p,f=t[1]&&SO(t);return{c(){n=k("div"),r=k("div"),o=k("h1"),o.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,i=$(),a=k("p"),a.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,s=$(),l=k("div"),c=k("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_login_cta")}`,u=$(),f&&f.c(),G(o,"class","svelte-1mvy8b2"),G(a,"class","description svelte-1mvy8b2"),G(r,"class","messages svelte-1mvy8b2"),H(r,"small",t[0].small),G(c,"class","sign-up svelte-1mvy8b2"),G(l,"class","actions svelte-1mvy8b2"),H(l,"small",t[0].small),G(n,"class","container svelte-1mvy8b2"),G(n,"data-testid","error-message-policy-login-required"),H(n,"small",t[0].small)},m(e,h){x(e,n,h),I(n,r),I(r,o),I(r,i),I(r,a),I(n,s),I(n,l),I(l,c),I(n,u),f&&f.m(n,null),d||(p=M(c,"click",t[2]),d=!0)},p(e,[t]){1&t&&H(r,"small",e[0].small),1&t&&H(l,"small",e[0].small),e[1]?f?f.p(e,t):(f=SO(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),1&t&&H(n,"small",e[0].small)},i:e,o:e,d(e){e&&N(n),f&&f.d(),d=!1,p()}}}function wO(e,t,n){let{config:r}=t,{close:o}=t;return ne((()=>{mo({action:po.dlTrackPolicyLoginRequiredNotification,payload:{notificationType:bt}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,function(){mo({action:so.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)}))}]}class EO extends Ue{constructor(e){super(),Me(this,e,wO,bO,a,{config:0,close:1})}}function AO(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_text_not_recognized_error")}`,G(n,"data-qa","error-message-generic")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function IO(e){return[]}class RO extends Ue{constructor(e){super(),Me(this,e,IO,AO,a,{})}}function OO(t){let n;return{c(){n=k("span"),n.textContent=`${chrome.i18n.getMessage("error_message_rate_limiting")}`},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&N(n)}}}function xO(e){return[]}class NO extends Ue{constructor(e){super(),Me(this,e,xO,OO,a,{})}}function PO(t){let n,r,o,i,a,s,l,c,u,d,p,f;return{c(){n=k("div"),r=k("div"),o=k("div"),i=k("div"),i.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_13095_271)"><path d="M9.99966 0.916504C15.0161 0.916504 19.0835 4.98307 19.0836 9.99951C19.0836 15.0161 15.0163 19.0835 9.99966 19.0835C4.98323 19.0833 0.916656 15.016 0.916656 9.99951C0.916832 4.98318 4.98334 0.91668 9.99966 0.916504ZM9.99966 2.4165C5.81176 2.41668 2.41683 5.81161 2.41666 9.99951C2.41666 14.1876 5.81165 17.5833 9.99966 17.5835C14.1878 17.5835 17.5836 14.1877 17.5836 9.99951C17.5835 5.8115 14.1877 2.4165 9.99966 2.4165ZM10.0085 12.3335C10.5607 12.3336 11.0085 12.7813 11.0085 13.3335C11.0083 13.8856 10.5606 14.3334 10.0085 14.3335H9.99966C9.44765 14.3333 8.99986 13.8855 8.99966 13.3335C8.99966 12.7813 9.44753 12.3337 9.99966 12.3335H10.0085ZM9.99966 5.9165C10.4139 5.9165 10.7497 6.25229 10.7497 6.6665V9.99951C10.7497 10.4137 10.4139 10.7495 9.99966 10.7495C9.5856 10.7493 9.24966 10.4136 9.24966 9.99951V6.6665C9.24966 6.2524 9.5856 5.91668 9.99966 5.9165Z" fill="#C34331"></path></g><defs><clipPath id="clip0_13095_271"><rect width="20" height="20" rx="10" fill="white"></rect></clipPath></defs></svg>',a=$(),s=k("div"),l=k("span"),l.textContent=`${chrome.i18n.getMessage("geo_block_message")}`,c=$(),u=k("div"),d=k("button"),d.textContent=`${chrome.i18n.getMessage("geo_block_cta")}`,G(i,"class","icon-container svelte-s4seg4"),G(l,"data-qa","error-message-geo-blocked"),G(s,"class","message svelte-s4seg4"),G(o,"class","content-row svelte-s4seg4"),G(d,"class","learn-why-link svelte-s4seg4"),G(u,"class","learn-why-container svelte-s4seg4"),G(r,"class","geo-blocked-error svelte-s4seg4"),G(n,"class","geo-blocked-wrapper svelte-s4seg4")},m(e,h){x(e,n,h),I(n,r),I(r,o),I(o,i),I(o,a),I(o,s),I(s,l),I(r,c),I(r,u),I(u,d),p||(f=M(d,"click",t[0]),p=!0)},p:e,i:e,o:e,d(e){e&&N(n),p=!1,f()}}}function kO(e,t,n){return[function(){mo({action:ho.dlExternalURLRedirect,payload:{destination:Ti}})},{}]}class CO extends Ue{constructor(e){super(),Me(this,e,kO,PO,a,{config:1})}get config(){return this.$$.ctx[1]}}function LO(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1],close:e[0]}}}return o&&(t=W(o,i(e))),{c(){t&&Ce(t.$$.fragment),n=D()},m(e,o){t&&Le(t,e,o),x(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Ae();const e=t;Oe(e.$$.fragment,1,0,(()=>{$e(e,1)})),Ie()}o?(t=W(o,i(e)),Ce(t.$$.fragment),Re(t.$$.fragment,1),Le(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),1&r&&(n.close=e[0]),t.$set(n)}},i(e){r||(t&&Re(t.$$.fragment,e),r=!0)},o(e){t&&Oe(t.$$.fragment,e),r=!1},d(e){e&&N(n),t&&$e(t,e)}}}function $O(e){let t,n;return t=new eR({props:{close:e[0],$$slots:{default:[MO]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.close=e[0]),518&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function DO(e){let t,n;return t=new XI({props:{close:e[0],$$slots:{default:[UO]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.close=e[0]),518&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function MO(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1]}}}return o&&(t=W(o,i(e))),{c(){t&&Ce(t.$$.fragment),n=D()},m(e,o){t&&Le(t,e,o),x(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Ae();const e=t;Oe(e.$$.fragment,1,0,(()=>{$e(e,1)})),Ie()}o?(t=W(o,i(e)),Ce(t.$$.fragment),Re(t.$$.fragment,1),Le(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),t.$set(n)}},i(e){r||(t&&Re(t.$$.fragment,e),r=!0)},o(e){t&&Oe(t.$$.fragment,e),r=!1},d(e){e&&N(n),t&&$e(t,e)}}}function UO(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1]}}}return o&&(t=W(o,i(e))),{c(){t&&Ce(t.$$.fragment),n=D()},m(e,o){t&&Le(t,e,o),x(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Ae();const e=t;Oe(e.$$.fragment,1,0,(()=>{$e(e,1)})),Ie()}o?(t=W(o,i(e)),Ce(t.$$.fragment),Re(t.$$.fragment,1),Le(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),t.$set(n)}},i(e){r||(t&&Re(t.$$.fragment,e),r=!0)},o(e){t&&Oe(t.$$.fragment,e),r=!1},d(e){e&&N(n),t&&$e(t,e)}}}function VO(e){let t,n,r,o;const i=[DO,$O,LO],a=[];function s(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=s(e))&&(n=a[t]=i[t](e)),{c(){n&&n.c(),r=D()},m(e,n){~t&&a[t].m(e,n),x(e,r,n),o=!0},p(e,[o]){let l=t;t=s(e),t===l?~t&&a[t].p(e,o):(n&&(Ae(),Oe(a[l],1,1,(()=>{a[l]=null})),Ie()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Re(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(Re(n),o=!0)},o(e){Oe(n),o=!1},d(e){e&&N(r),~t&&a[t].d(e)}}}function GO(e,t,n){let r,o,i,{error:a}=t,{close:s}=t,{config:l={}}=t;const c={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},u={[qy]:rR,[By]:cR,[Hy]:pR,[Wy]:SR,[vS]:DR,[yS]:DR,[_S]:DR,[SS]:DR,[zy]:_R,[Xy]:_R,[Ky.HTML_NODE_CHAR_LENGTH_TOO_LONG]:VR,[Jy]:gR,[Yy]:NR,[Ky.TRANSLATED_INPUT_NOT_SET]:CR,[Qy]:tO,[Zy]:zR,[eT]:iO,[tT]:uO,[nT]:hO,[BS]:rR,[HS]:cR,[JS]:pR,[YS]:gR,[WS]:_R,[QS]:_R,[zS]:gR,[KS]:NR,[XS]:SR,[TI]:NO,[SI]:NO,[bI]:vO,[wI]:TO,[AI]:rR,[EI]:aR,[II]:DR,[rT]:EO,[Fy]:RO,[RI]:CO,[jy]:CO};return ne((()=>{HI()?vo({action:To.dlErrorVisibility,payload:{state:!0}}):JI.set(!0)})),re((()=>{HI()?vo({action:To.dlErrorVisibility,payload:{state:!1}}):JI.set(!1)})),e.$$set=e=>{"error"in e&&n(5,a=e.error),"close"in e&&n(0,s=e.close),"config"in e&&n(1,l=e.config)},e.$$.update=()=>{96&e.$$.dirty&&(n(6,o=a?a.error||a.name||a.toString():""),n(3,i=function(e){switch(e){case qy:case By:case Hy:case Wy:case BS:case HS:case JS:case YS:case vS:case yS:case _S:case SS:case Ky.TRANSLATED_INPUT_NOT_SET:case AI:case EI:case Gy:return c.SERIOUS;case zy:case Xy:case WS:case QS:case Ky.HTML_NODE_CHAR_LENGTH_TOO_LONG:case Jy:case Yy:case zS:case KS:case TI:case SI:case bI:case wI:return c.WARNING;case RI:case jy:case Qy:case Zy:case tT:case nT:case eT:case rT:return c.CUSTOM;default:return c.UNKNOWN}}(o)),n(2,r=o&&u[o]||rR))},[s,l,r,i,c,a,o]}class FO extends Ue{constructor(e){super(),Me(this,e,GO,VO,a,{error:5,close:0,config:1})}}function jO(t){let n,r;return{c(){n=k("div"),r=L(t[0]),G(n,"class","info-msg svelte-17qaccl")},m(e,t){x(e,n,t),I(n,r)},p(e,[t]){1&t&&F(r,e[0])},i:e,o:e,d(e){e&&N(n)}}}function qO(e,t,n){let{message:r}=t;return e.$$set=e=>{"message"in e&&n(0,r=e.message)},[r]}class BO extends Ue{constructor(e){super(),Me(this,e,qO,jO,a,{message:0})}}function HO(e){let t,n,r,i,a;const s=e[7].default,l=d(s,e,e[6],null);return{c(){t=k("button"),l&&l.c(),G(t,"type","button"),G(t,"class",n=m(e[0])+" svelte-1otdxop"),t.disabled=e[1],G(t,"id",e[5]),G(t,"data-testid",e[4]),H(t,"disabled",e[1]),H(t,"font-size-sm","sm"===e[2]),H(t,"padding-x-md","md"===e[3]),H(t,"padding-x-none","none"===e[3])},m(n,o){x(n,t,o),l&&l.m(t,null),r=!0,i||(a=[M(t,"click",e[8]),M(t,"mousedown",V(U(e[9])))],i=!0)},p(e,[o]){l&&l.p&&(!r||64&o)&&h(l,s,e,e[6],r?f(s,e[6],o,null):g(e[6]),null),(!r||1&o&&n!==(n=m(e[0])+" svelte-1otdxop"))&&G(t,"class",n),(!r||2&o)&&(t.disabled=e[1]),(!r||32&o)&&G(t,"id",e[5]),(!r||16&o)&&G(t,"data-testid",e[4]),(!r||3&o)&&H(t,"disabled",e[1]),(!r||5&o)&&H(t,"font-size-sm","sm"===e[2]),(!r||9&o)&&H(t,"padding-x-md","md"===e[3]),(!r||9&o)&&H(t,"padding-x-none","none"===e[3])},i(e){r||(Re(l,e),r=!0)},o(e){Oe(l,e),r=!1},d(e){e&&N(t),l&&l.d(e),i=!1,o(a)}}}function JO(e,t,n){let{$$slots:r={},$$scope:o}=t,{className:i="button-primary"}=t,{disabled:a=!1}=t,{fontSize:s="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:u=""}=t;return e.$$set=e=>{"className"in e&&n(0,i=e.className),"disabled"in e&&n(1,a=e.disabled),"fontSize"in e&&n(2,s=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,u=e.id),"$$scope"in e&&n(6,o=e.$$scope)},[i,a,s,l,c,u,o,r,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)}]}class zO extends Ue{constructor(e){super(),Me(this,e,JO,HO,a,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function WO(t){let n,r,o,i;return{c(){n=C("svg"),r=C("g"),o=C("path"),G(o,"id","Vector (Stroke)"),G(o,"fill-rule","evenodd"),G(o,"clip-rule","evenodd"),G(o,"d","M4.55806 7.05806C4.80214 6.81398 5.19786 6.81398 5.44194 7.05806L10 11.6161L14.5581 7.05806C14.8021 6.81398 15.1979 6.81398 15.4419 7.05806C15.686 7.30214 15.686 7.69786 15.4419 7.94194L10.4419 12.9419C10.1979 13.186 9.80214 13.186 9.55806 12.9419L4.55806 7.94194C4.31398 7.69786 4.31398 7.30214 4.55806 7.05806Z"),G(o,"fill","currentColor"),G(r,"id","chevron-down"),G(n,"width","20"),G(n,"height","20"),G(n,"viewBox","0 0 20 20"),G(n,"fill","none"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(n,"transform",i=t[1]?"rotate(180)":"rotate(0)"),q(n,"color",t[0],1)},m(e,t){x(e,n,t),I(n,r),I(r,o)},p(e,[t]){2&t&&i!==(i=e[1]?"rotate(180)":"rotate(0)")&&G(n,"transform",i),1&t&&q(n,"color",e[0],1)},i:e,o:e,d(e){e&&N(n)}}}function YO(e,t,n){let{fill:r="#FFFFFF"}=t,{flipped:o=!1}=t;return e.$$set=e=>{"fill"in e&&n(0,r=e.fill),"flipped"in e&&n(1,o=e.flipped)},[r,o]}class XO extends Ue{constructor(e){super(),Me(this,e,YO,WO,a,{fill:0,flipped:1})}}function KO(t){let n,r,i,a,s,l,c,u;return{c(){n=k("div"),r=k("div"),i=C("svg"),a=C("path"),s=$(),l=k("input"),G(a,"fill-rule","evenodd"),G(a,"clip-rule","evenodd"),G(a,"d","M9.16667 3.125C5.82995 3.125 3.125 5.82995 3.125 9.16667C3.125 12.5034 5.82995 15.2083 9.16667 15.2083C12.5034 15.2083 15.2083 12.5034 15.2083 9.16667C15.2083 5.82995 12.5034 3.125 9.16667 3.125ZM1.875 9.16667C1.875 5.13959 5.13959 1.875 9.16667 1.875C13.1937 1.875 16.4583 5.13959 16.4583 9.16667C16.4583 10.9552 15.8144 12.5933 14.7457 13.8619L17.9419 17.0581C18.186 17.3021 18.186 17.6979 17.9419 17.9419C17.6979 18.186 17.3021 18.186 17.0581 17.9419L13.8619 14.7457C12.5933 15.8144 10.9552 16.4583 9.16667 16.4583C5.13959 16.4583 1.875 13.1937 1.875 9.16667Z"),G(a,"fill","#6F6F6F"),G(i,"width","20"),G(i,"height","20"),G(i,"viewBox","0 0 20 20"),G(i,"fill","none"),G(i,"xmlns","http://www.w3.org/2000/svg"),G(i,"class","search-icon svelte-1nhpyhz"),G(l,"type","text"),G(l,"placeholder",t[1]),l.disabled=t[2],G(l,"class","search-input svelte-1nhpyhz"),G(r,"class","search-input-wrapper svelte-1nhpyhz"),G(n,"class","search-input-container svelte-1nhpyhz"),G(n,"style",t[3])},m(e,o){x(e,n,o),I(n,r),I(r,i),I(i,a),I(r,s),I(r,l),j(l,t[0]),c||(u=[M(l,"input",t[20]),M(l,"pointerdown",V(t[4])),M(l,"mousedown",V(t[5])),M(l,"mouseup",V(t[6])),M(l,"click",V(t[7])),M(l,"keydown",V(t[8])),M(l,"keyup",V(t[9])),M(l,"input",V(t[10])),M(l,"focus",V(t[11])),M(l,"focusin",V(t[12])),M(l,"focusout",V(t[13])),M(l,"blur",V(t[14])),M(l,"change",V(t[15])),M(l,"select",V(t[16])),M(l,"paste",V(t[17])),M(l,"cut",V(t[18])),M(l,"copy",V(t[19]))],c=!0)},p(e,[t]){2&t&&G(l,"placeholder",e[1]),4&t&&(l.disabled=e[2]),1&t&&l.value!==e[0]&&j(l,e[0]),8&t&&G(n,"style",e[3])},i:e,o:e,d(e){e&&N(n),c=!1,o(u)}}}function QO(e,t,n){let{placeholder:r}=t,{value:o=""}=t,{disabled:i=!1}=t,{customStyles:a=""}=t;return e.$$set=e=>{"placeholder"in e&&n(1,r=e.placeholder),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,i=e.disabled),"customStyles"in e&&n(3,a=e.customStyles)},[o,r,i,a,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(){o=this.value,n(0,o)}]}class ZO extends Ue{constructor(e){super(),Me(this,e,QO,KO,a,{placeholder:1,value:0,disabled:2,customStyles:3})}}function ex(e,t,n){const r=e.slice();return r[26]=t[n],r}function tx(e,t,n){const r=e.slice();return r[26]=t[n],r}function nx(t){let n,r;return{c(){n=k("span"),r=L(t[8]),G(n,"class","target-language-button svelte-zb7zep")},m(e,t){x(e,n,t),I(n,r)},p(e,t){256&t[0]&&F(r,e[8])},i:e,o:e,d(e){e&&N(n)}}}function rx(t){let n,r,o;return r=new yI({props:{tiny:!0}}),{c(){n=k("span"),Ce(r.$$.fragment),G(n,"class","target-language-spinner svelte-zb7zep")},m(e,t){x(e,n,t),Le(r,n,null),o=!0},p:e,i(e){o||(Re(r.$$.fragment,e),o=!0)},o(e){Oe(r.$$.fragment,e),o=!1},d(e){e&&N(n),$e(r)}}}function ox(e){let t,n,r,o;const i=[rx,nx],a=[];function s(e,t){return e[3]&&e[3].fptTranslationState===rt.ongoingTranslation?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=D()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let l=t;t=s(e),t===l?a[t].p(e,o):(Ae(),Oe(a[l],1,1,(()=>{a[l]=null})),Ie(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Re(n,1),n.m(r.parentNode,r))},i(e){o||(Re(n),o=!0)},o(e){Oe(n),o=!1},d(e){e&&N(r),a[t].d(e)}}}function ix(e){let t,n;return t=new XO({props:{flipped:e[4],fill:e[1]||e[5]?"#FFFFFF":"#292929"}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.flipped=e[4]),34&n[0]&&(r.fill=e[1]||e[5]?"#FFFFFF":"#292929"),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ax(e){let t,n,r,o,i,a,s,l,c,u,d;function p(t){e[21](t)}let f={placeholder:chrome.i18n.getMessage("dropdown_search_languages"),customStyles:"margin-bottom: 0;"};void 0!==e[2]&&(f.value=e[2]),o=new ZO({props:f}),ce.push((()=>ke(o,"value",p)));let h=!e[2]&&e[7].length>0&&sx(e),g=Pe(e[6]),m=[];for(let t=0;t<g.length;t+=1)m[t]=dx(ex(e,g,t));return{c(){t=k("div"),n=k("div"),r=k("div"),Ce(o.$$.fragment),a=$(),s=k("div"),h&&h.c(),l=$(),c=k("div"),c.textContent=`${chrome.i18n.getMessage("dropdown_all_languages")}`,u=$();for(let e=0;e<m.length;e+=1)m[e].c();G(r,"class","search-container svelte-zb7zep"),G(c,"class","section-header svelte-zb7zep"),G(s,"class","dropdown-content svelte-zb7zep"),G(n,"class","dropdown svelte-zb7zep"),G(t,"class","dropdown-container svelte-zb7zep")},m(e,i){x(e,t,i),I(t,n),I(n,r),Le(o,r,null),I(n,a),I(n,s),h&&h.m(s,null),I(s,l),I(s,c),I(s,u);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(s,null);d=!0},p(e,t){const n={};if(!i&&4&t[0]&&(i=!0,n.value=e[2],ge((()=>i=!1))),o.$set(n),!e[2]&&e[7].length>0?h?h.p(e,t):(h=sx(e),h.c(),h.m(s,l)):h&&(h.d(1),h=null),8512&t[0]){let n;for(g=Pe(e[6]),n=0;n<g.length;n+=1){const r=ex(e,g,n);m[n]?m[n].p(r,t):(m[n]=dx(r),m[n].c(),m[n].m(s,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=g.length}},i(e){d||(Re(o.$$.fragment,e),d=!0)},o(e){Oe(o.$$.fragment,e),d=!1},d(e){e&&N(t),$e(o),h&&h.d(),P(m,e)}}}function sx(e){let t,n,r,o,i=Pe(e[7]),a=[];for(let t=0;t<i.length;t+=1)a[t]=cx(tx(e,i,t));return{c(){t=k("div"),t.textContent=`${chrome.i18n.getMessage("dropdown_suggested_languages")}`,n=$();for(let e=0;e<a.length;e+=1)a[e].c();r=$(),o=k("div"),G(t,"class","section-header svelte-zb7zep"),G(o,"class","section-separator svelte-zb7zep")},m(e,i){x(e,t,i),x(e,n,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,i);x(e,r,i),x(e,o,i)},p(e,t){if(8576&t[0]){let n;for(i=Pe(e[7]),n=0;n<i.length;n+=1){const o=tx(e,i,n);a[n]?a[n].p(o,t):(a[n]=cx(o),a[n].c(),a[n].m(r.parentNode,r))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}},d(e){e&&(N(t),N(n),N(r),N(o)),P(a,e)}}}function lx(e){let t,n;return{c(){t=C("svg"),n=C("path"),G(n,"fill-rule","evenodd"),G(n,"clip-rule","evenodd"),G(n,"d","M13.7576 3.57573C13.9919 3.81004 13.9919 4.18994 13.7576 4.42426L6.42425 11.7576C6.18993 11.9919 5.81003 11.9919 5.57572 11.7576L2.24239 8.42426C2.00807 8.18994 2.00807 7.81004 2.24239 7.57573C2.4767 7.34142 2.8566 7.34142 3.09091 7.57573L5.99998 10.4848L12.9091 3.57573C13.1434 3.34142 13.5233 3.34142 13.7576 3.57573Z"),G(n,"fill","#292929"),G(t,"class","checkmark-icon svelte-zb7zep"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none")},m(e,r){x(e,t,r),I(t,n)},d(e){e&&N(t)}}}function cx(e){let t,n,r,o,i,a,s=e[26].label+"",l=e[8]===e[26].label&&lx();function c(){return e[22](e[26])}return{c(){t=k("button"),l&&l.c(),n=$(),r=L(s),o=$(),G(t,"type","button"),G(t,"class","dropdown-item svelte-zb7zep"),H(t,"selected",e[8]===e[26].label)},m(e,s){x(e,t,s),l&&l.m(t,null),I(t,n),I(t,r),I(t,o),i||(a=M(t,"click",c),i=!0)},p(o,i){(e=o)[8]===e[26].label?l||(l=lx(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),128&i[0]&&s!==(s=e[26].label+"")&&F(r,s),384&i[0]&&H(t,"selected",e[8]===e[26].label)},d(e){e&&N(t),l&&l.d(),i=!1,a()}}}function ux(e){let t,n;return{c(){t=C("svg"),n=C("path"),G(n,"fill-rule","evenodd"),G(n,"clip-rule","evenodd"),G(n,"d","M13.7576 3.57573C13.9919 3.81004 13.9919 4.18994 13.7576 4.42426L6.42425 11.7576C6.18993 11.9919 5.81003 11.9919 5.57572 11.7576L2.24239 8.42426C2.00807 8.18994 2.00807 7.81004 2.24239 7.57573C2.4767 7.34142 2.8566 7.34142 3.09091 7.57573L5.99998 10.4848L12.9091 3.57573C13.1434 3.34142 13.5233 3.34142 13.7576 3.57573Z"),G(n,"fill","#292929"),G(t,"class","checkmark-icon svelte-zb7zep"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none")},m(e,r){x(e,t,r),I(t,n)},d(e){e&&N(t)}}}function dx(e){let t,n,r,o,i,a,s=e[26].label+"",l=e[8]===e[26].label&&ux();function c(){return e[23](e[26])}return{c(){t=k("button"),l&&l.c(),n=$(),r=L(s),o=$(),G(t,"type","button"),G(t,"class","dropdown-item svelte-zb7zep"),H(t,"selected",e[8]===e[26].label)},m(e,s){x(e,t,s),l&&l.m(t,null),I(t,n),I(t,r),I(t,o),i||(a=M(t,"click",c),i=!0)},p(o,i){(e=o)[8]===e[26].label?l||(l=ux(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),64&i[0]&&s!==(s=e[26].label+"")&&F(r,s),320&i[0]&&H(t,"selected",e[8]===e[26].label)},d(e){e&&N(t),l&&l.d(),i=!1,a()}}}function px(e){let t,n,r,i,a,s,l,c,u;n=new zO({props:{className:`\n    ${e[1]||e[5]?"dlui-btn-primary always-active":"dlui-btn-secondary"}\n    "rounded-left"\n    ${e[0]?"tall-button":""}\n    `,dataQa:"translate-page-button",$$slots:{default:[ox]},$$scope:{ctx:e}}}),n.$on("click",e[11]),i=new zO({props:{className:`\n    ${e[0]?"tall-button":""}\n    ${e[1]||e[5]?"dlui-btn-primary":"dlui-btn-secondary"}\n    "rounded-right"\n    ${e[4]?"gray-background":""}\n    ${e[0]?"tall-button":""}\n    `,dataQa:"dropdown-arrow-button",$$slots:{default:[ix]},$$scope:{ctx:e}}}),i.$on("click",e[12]);let d=e[4]&&ax(e);return{c(){t=k("div"),Ce(n.$$.fragment),r=$(),Ce(i.$$.fragment),a=$(),d&&d.c(),G(t,"class",s="split-language-button "+(e[1]?"":"not-translated")+" svelte-zb7zep")},m(o,s){x(o,t,s),Le(n,t,null),I(t,r),Le(i,t,null),I(t,a),d&&d.m(t,null),l=!0,c||(u=[_(NA.call(null,t,{isShadow:!0})),M(t,"click_outside",e[24])],c=!0)},p(e,r){const o={};35&r[0]&&(o.className=`\n    ${e[1]||e[5]?"dlui-btn-primary always-active":"dlui-btn-secondary"}\n    "rounded-left"\n    ${e[0]?"tall-button":""}\n    `),264&r[0]|1&r[1]&&(o.$$scope={dirty:r,ctx:e}),n.$set(o);const a={};51&r[0]&&(a.className=`\n    ${e[0]?"tall-button":""}\n    ${e[1]||e[5]?"dlui-btn-primary":"dlui-btn-secondary"}\n    "rounded-right"\n    ${e[4]?"gray-background":""}\n    ${e[0]?"tall-button":""}\n    `),50&r[0]|1&r[1]&&(a.$$scope={dirty:r,ctx:e}),i.$set(a),e[4]?d?(d.p(e,r),16&r[0]&&Re(d,1)):(d=ax(e),d.c(),Re(d,1),d.m(t,null)):d&&(Ae(),Oe(d,1,1,(()=>{d=null})),Ie()),(!l||2&r[0]&&s!==(s="split-language-button "+(e[1]?"":"not-translated")+" svelte-zb7zep"))&&G(t,"class",s)},i(e){l||(Re(n.$$.fragment,e),Re(i.$$.fragment,e),Re(d),l=!0)},o(e){Oe(n.$$.fragment,e),Oe(i.$$.fragment,e),Oe(d),l=!1},d(e){e&&N(t),$e(n),$e(i),d&&d.d(),c=!1,o(u)}}}function fx(e,t,n){let r,o,i,a,s,l,c;var d,p;let{languageItems:f=[]}=t,{selectedLanguage:h}=t,{tallButton:g}=t,{isTranslated:m=!1}=t;const v=MA();u(e,v,(e=>n(3,c=e)));const _=ae("deepl_settings");u(e,_,(e=>n(20,l=e)));const y=oe();let T=!1,S="",b=[];function w(){y("triggerTranslate")}function E(e){if(h===e.value)return void n(4,T=!1);const t=Mo(l.recentlyUsedLanguages||[],e.value);_.set({recentlyUsedLanguages:t}),y("selectLanguage",e.value),n(4,T=!1),m&&w()}return e.$$set=e=>{"languageItems"in e&&n(14,f=e.languageItems),"selectedLanguage"in e&&n(15,h=e.selectedLanguage),"tallButton"in e&&n(0,g=e.tallButton),"isTranslated"in e&&n(1,m=e.isTranslated)},e.$$.update=()=>{if(245760&e.$$.dirty[0]&&n(8,r=null!==n(17,p=null===n(16,d=f.find((e=>e.value===h)))||void 0===d?void 0:d.label)&&void 0!==p?p:"Select Language"),1048576&e.$$.dirty[0]&&n(19,o=l.recentlyUsedLanguages||[]),540672&e.$$.dirty[0]){let e=o;if(o.length<6){const t=new Set(o),n=Xe.filter((e=>!t.has(e)));e=[...o,...n]}e=e.slice(0,6),n(18,b=e.map((e=>f.find((t=>t.value===e)))).filter(Boolean))}262148&e.$$.dirty[0]&&n(7,i=S?b.filter((e=>e.label.toLowerCase().includes(S.toLowerCase()))):b),16388&e.$$.dirty[0]&&n(6,a=S?f.filter((e=>e.label.toLowerCase().includes(S.toLowerCase()))):f),8&e.$$.dirty[0]&&n(5,s=c.fptTranslationState===rt.ongoingAutoDetection||c.fptTranslationState===rt.ongoingTranslation)},[g,m,S,c,T,s,a,i,r,v,_,w,function(){n(4,T=!T),T||n(2,S="")},E,f,h,d,p,b,o,l,function(e){S=e,n(2,S)},e=>E(e),e=>E(e),()=>{n(4,T=!1),n(2,S="")}]}class hx extends Ue{constructor(e){super(),Me(this,e,fx,px,a,{languageItems:14,selectedLanguage:15,tallButton:0,isTranslated:1},null,[-1,-1])}}function gx(t){let n,r,o,i;return{c(){n=C("svg"),r=C("g"),o=C("path"),G(o,"fill-rule","evenodd"),G(o,"clip-rule","evenodd"),G(o,"d","M9.46963 3.6363C9.76252 3.3434 10.2374 3.3434 10.5303 3.6363L16.3636 9.46963C16.6565 9.76252 16.6565 10.2374 16.3636 10.5303L10.5303 16.3636C10.2374 16.6565 9.76252 16.6565 9.46963 16.3636C9.17674 16.0707 9.17674 15.5959 9.46963 15.303L14.0226 10.75H4.16663C3.75241 10.75 3.41663 10.4142 3.41663 9.99996C3.41663 9.58575 3.75241 9.24996 4.16663 9.24996H14.0226L9.46963 4.69696C9.17674 4.40406 9.17674 3.92919 9.46963 3.6363Z"),G(o,"fill","currentColor"),G(r,"id","arrow-end"),G(n,"width","20"),G(n,"class","horizontal-arrow svelte-101llwp"),G(n,"height","20"),G(n,"viewBox","0 0 20 20"),G(n,"fill","none"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(n,"transform",i=t[1]?"rotate(180)":"rotate(0)"),q(n,"color",t[0],1)},m(e,t){x(e,n,t),I(n,r),I(r,o)},p(e,[t]){2&t&&i!==(i=e[1]?"rotate(180)":"rotate(0)")&&G(n,"transform",i),1&t&&q(n,"color",e[0],1)},i:e,o:e,d(e){e&&N(n)}}}function mx(e,t,n){let{fill:r="#FFFFFF"}=t,{flipped:o=!1}=t;return e.$$set=e=>{"fill"in e&&n(0,r=e.fill),"flipped"in e&&n(1,o=e.flipped)},[r,o]}class vx extends Ue{constructor(e){super(),Me(this,e,mx,gx,a,{fill:0,flipped:1})}}const _x=()=>Fe(void 0,void 0,void 0,(function*(){yield mo({action:ho.dlOpenInternalPage,payload:{destination:LA,hash:kA}})})),yx=e=>({}),Tx=e=>({});function Sx(e,t,n){const r=e.slice();return r[19]=t[n],r}function bx(e,t,n){const r=e.slice();return r[19]=t[n],r}function wx(e,t,n){const r=e.slice();return r[19]=t[n],r}function Ex(e,t,n){const r=e.slice();return r[19]=t[n],r}function Ax(e){let t,n,r,o,a,s,l,c;n=new zO({props:{dataQa:"show-orginal",className:`${e[6]||e[4].fptTranslationState===rt.ongoingAutoDetection||e[4].fptTranslationState===rt.ongoingTranslation?"dlui-btn-secondary":"dlui-btn-primary always-active"} ${e[2]?"tall-button":""}`,$$slots:{default:[Nx]},$$scope:{ctx:e}}}),n.$on("click",(function(){i(e[1])&&e[1].apply(this,arguments)})),o=new vx({props:{fill:"#292929"}}),s=new hx({props:{languageItems:e[7],selectedLanguage:e[8],isTranslated:e[6],tallButton:e[2]}}),s.$on("selectLanguage",e[16]),s.$on("triggerTranslate",(function(){i(e[0])&&e[0].apply(this,arguments)}));const u=e[15]["rightside-menu"],p=d(u,e,e[17],Tx);return{c(){t=k("div"),Ce(n.$$.fragment),r=$(),Ce(o.$$.fragment),a=$(),Ce(s.$$.fragment),l=$(),p&&p.c(),G(t,"class","language-selection svelte-1tw45n9"),G(t,"dir",$o()),G(t,"data-testid","full-page-translation-body-language-selection")},m(e,i){x(e,t,i),Le(n,t,null),I(t,r),Le(o,t,null),I(t,a),Le(s,t,null),x(e,l,i),p&&p.m(e,i),c=!0},p(t,r){e=t;const o={};84&r&&(o.className=`${e[6]||e[4].fptTranslationState===rt.ongoingAutoDetection||e[4].fptTranslationState===rt.ongoingTranslation?"dlui-btn-secondary":"dlui-btn-primary always-active"} ${e[2]?"tall-button":""}`),131080&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o);const i={};128&r&&(i.languageItems=e[7]),256&r&&(i.selectedLanguage=e[8]),64&r&&(i.isTranslated=e[6]),4&r&&(i.tallButton=e[2]),s.$set(i),p&&p.p&&(!c||131072&r)&&h(p,u,e,e[17],c?f(u,e[17],r,yx):g(e[17]),Tx)},i(e){c||(Re(n.$$.fragment,e),Re(o.$$.fragment,e),Re(s.$$.fragment,e),Re(p,e),c=!0)},o(e){Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),Oe(s.$$.fragment,e),Oe(p,e),c=!1},d(e){e&&(N(t),N(l)),$e(n),$e(o),$e(s),p&&p.d(e)}}}function Ix(t){let n,r,o,i,a;function s(e,t){return 48&t&&(o=null),null==o&&(o=!!e[5].blacklistDomains.includes(e[4].hostname)),o?kx:e[9]?Px:void 0}let l=s(t,-1),c=l&&l(t),u=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),d=[];for(let e=0;e<u.length;e+=1)d[e]=Jx(Sx(t,u,e));return{c(){n=k("div"),r=k("p"),c&&c.c(),i=$(),a=k("p");for(let e=0;e<d.length;e+=1)d[e].c();G(r,"class","svelte-1tw45n9"),G(a,"class","svelte-1tw45n9")},m(e,t){x(e,n,t),I(n,r),c&&c.m(r,null),I(n,i),I(n,a);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(a,null)},p(e,t){l===(l=s(e,t))&&c?c.p(e,t):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(r,null)))},i:e,o:e,d(e){e&&N(n),c&&c.d(),P(d,e)}}}function Rx(t){let n,r;return n=new BO({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){Ce(n.$$.fragment)},m(e,t){Le(n,e,t),r=!0},p:e,i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){$e(n,e)}}}function Ox(t){let n,r;return n=new BO({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){Ce(n.$$.fragment)},m(e,t){Le(n,e,t),r=!0},p:e,i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){$e(n,e)}}}function xx(t){let n,r,o;return r=new yI({}),{c(){n=k("div"),Ce(r.$$.fragment),G(n,"class","translation-in-progress svelte-1tw45n9"),G(n,"data-testid","full-page-translation-body-translation-in-progress")},m(e,t){x(e,n,t),Le(r,n,null),o=!0},p:e,i(e){o||(Re(r.$$.fragment,e),o=!0)},o(e){Oe(r.$$.fragment,e),o=!1},d(e){e&&N(n),$e(r)}}}function Nx(e){let t,n;return{c(){t=k("span"),n=L(e[3]),G(t,"class","original-language-button svelte-1tw45n9")},m(e,r){x(e,t,r),I(t,n)},p(e,t){8&t&&F(n,e[3])},d(e){e&&N(t)}}}function Px(e){let t,n=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_language",e[3]),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=$x(bx(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=D()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);x(e,t,n)},p(e,o){if(8&o){let i;for(n=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_language",e[3]),["strong"])),i=0;i<n.length;i+=1){const a=bx(e,n,i);r[i]?r[i].p(a,o):(r[i]=$x(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&N(t),P(r,e)}}}function kx(e){let t;function n(e,t){return e[9]?Mx:Dx}let r=n(e),o=r(e);return{c(){o.c(),t=D()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&N(t),o.d(e)}}}function Cx(e){let t,n=e[19].text+"";return{c(){t=L(n)},m(e,n){x(e,t,n)},p(e,r){8&r&&n!==(n=e[19].text+"")&&F(t,n)},d(e){e&&N(t)}}}function Lx(e){let t,n,r=e[19].text+"";return{c(){t=k("strong"),n=L(r),G(t,"class","svelte-1tw45n9")},m(e,r){x(e,t,r),I(t,n)},p(e,t){8&t&&r!==(r=e[19].text+"")&&F(n,r)},d(e){e&&N(t)}}}function $x(e){let t;function n(e,t){return"strong"===e[19].block?Lx:Cx}let r=n(e),o=r(e);return{c(){o.c(),t=D()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&N(t),o.d(e)}}}function Dx(e){let t,n=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_website",e[4].hostname),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=Gx(wx(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=D()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);x(e,t,n)},p(e,o){if(16&o){let i;for(n=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_website",e[4].hostname),["strong"])),i=0;i<n.length;i+=1){const a=wx(e,n,i);r[i]?r[i].p(a,o):(r[i]=Gx(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&N(t),P(r,e)}}}function Mx(e){let t,n=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[4].hostname,e[3]]),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=qx(Ex(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=D()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);x(e,t,n)},p(e,o){if(24&o){let i;for(n=Pe(wR(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[4].hostname,e[3]]),["strong"])),i=0;i<n.length;i+=1){const a=Ex(e,n,i);r[i]?r[i].p(a,o):(r[i]=qx(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&N(t),P(r,e)}}}function Ux(e){let t,n=e[19].text+"";return{c(){t=L(n)},m(e,n){x(e,t,n)},p(e,r){16&r&&n!==(n=e[19].text+"")&&F(t,n)},d(e){e&&N(t)}}}function Vx(e){let t,n,r=e[19].text+"";return{c(){t=k("strong"),n=L(r),G(t,"class","svelte-1tw45n9")},m(e,r){x(e,t,r),I(t,n)},p(e,t){16&t&&r!==(r=e[19].text+"")&&F(n,r)},d(e){e&&N(t)}}}function Gx(e){let t;function n(e,t){return"strong"===e[19].block?Vx:Ux}let r=n(e),o=r(e);return{c(){o.c(),t=D()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&N(t),o.d(e)}}}function Fx(e){let t,n=e[19].text+"";return{c(){t=L(n)},m(e,n){x(e,t,n)},p(e,r){24&r&&n!==(n=e[19].text+"")&&F(t,n)},d(e){e&&N(t)}}}function jx(e){let t,n,r=e[19].text+"";return{c(){t=k("strong"),n=L(r),G(t,"class","svelte-1tw45n9")},m(e,r){x(e,t,r),I(t,n)},p(e,t){24&t&&r!==(r=e[19].text+"")&&F(n,r)},d(e){e&&N(t)}}}function qx(e){let t;function n(e,t){return"strong"===e[19].block?jx:Fx}let r=n(e),o=r(e);return{c(){o.c(),t=D()},m(e,n){o.m(e,n),x(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&N(t),o.d(e)}}}function Bx(t){let n,r=t[19].text+"";return{c(){n=L(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function Hx(t){let n,r,o;return{c(){n=k("span"),n.textContent=`${t[19].text}`,G(n,"class","link svelte-1tw45n9")},m(e,t){x(e,n,t),r||(o=M(n,"click",_x),r=!0)},p:e,d(e){e&&N(n),r=!1,o()}}}function Jx(e){let t;let n=function(e){return"settingsLink"===e[19].block?Hx:Bx}(e),r=n(e);return{c(){r.c(),t=D()},m(e,n){r.m(e,n),x(e,t,n)},p(e,t){r.p(e,t)},d(e){e&&N(t),r.d(e)}}}function zx(e){let t,n,r,o,i,a;const s=[xx,Ox,Rx,Ix,Ax],l=[];function c(e,r){return 16&r&&(t=null),560&r&&(n=null),null==e[4]?0:(null==t&&(t=!(0!==Object.keys(e[4]).length)),t?1:e[4].isGoogleTranslatedActive?2:(null==n&&(n=!(!e[5].blacklistDomains.includes(e[4].hostname)&&!e[9])),n?3:e[4].websiteLanguage?4:-1))}return~(r=c(e,-1))&&(o=l[r]=s[r](e)),{c(){o&&o.c(),i=D()},m(e,t){~r&&l[r].m(e,t),x(e,i,t),a=!0},p(e,[t]){let n=r;r=c(e,t),r===n?~r&&l[r].p(e,t):(o&&(Ae(),Oe(l[n],1,1,(()=>{l[n]=null})),Ie()),~r?(o=l[r],o?o.p(e,t):(o=l[r]=s[r](e),o.c()),Re(o,1),o.m(i.parentNode,i)):o=null)},i(e){a||(Re(o),a=!0)},o(e){Oe(o),a=!1},d(e){e&&N(i),~r&&l[r].d(e)}}}function Wx(e,t,n){let r,o,i,a,s,l,c;u(e,RA,(e=>n(14,l=e)));let{$$slots:d={},$$scope:p}=t;var f;const h=DA();u(e,h,(e=>n(5,c=e)));const g=MA();u(e,g,(e=>n(4,s=e)));let m,v=mt,{triggerTranslate:_}=t,{sendShowOriginal:y}=t,{tallButton:T}=t,{sourceLang:S}=t;return e.$$set=e=>{"triggerTranslate"in e&&n(0,_=e.triggerTranslate),"sendShowOriginal"in e&&n(1,y=e.sendShowOriginal),"tallButton"in e&&n(2,T=e.tallButton),"sourceLang"in e&&n(3,S=e.sourceLang),"$$scope"in e&&n(17,p=e.$$scope)},e.$$.update=()=>{48&e.$$.dirty&&n(9,r=function(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:void 0!==e&&t[e]===n}(null==s?void 0:s.websiteLanguage,c.languagesForTranslation,nt)),8208&e.$$.dirty&&s&&s.hostname&&s.hostname!==m&&(n(13,m=s.hostname),mo({action:po.dlTrackExtensionOpenedEvent,payload:{domainName:m,extensionContext:v}})),4128&e.$$.dirty&&n(8,o=null!==n(12,f=c.selectedTargetLanguage)&&void 0!==f?f:"en"),16384&e.$$.dirty&&n(7,i=Co(l)),16&e.$$.dirty&&n(6,a=(null==s?void 0:s.fptTranslationState)===rt.isTranslationComplete)},[_,y,T,S,s,c,a,i,o,r,h,g,f,m,l,d,e=>{n(8,o=e.detail),h.set({selectedTargetLanguage:e.detail,isTargetLanguageConfirmed:!0})},p]}class Yx extends Ue{constructor(e){super(),Me(this,e,Wx,zx,a,{triggerTranslate:0,sendShowOriginal:1,tallButton:2,sourceLang:3})}}function Xx(t){let n,r,o;return{c(){n=C("svg"),r=C("g"),o=C("path"),G(o,"id","Union"),G(o,"fill-rule","evenodd"),G(o,"clip-rule","evenodd"),G(o,"d","M9.99984 2.58203C9.12539 2.58203 8.4165 3.29091 8.4165 4.16536C8.4165 5.03982 9.12539 5.7487 9.99984 5.7487C10.8743 5.7487 11.5832 5.03982 11.5832 4.16536C11.5832 3.29091 10.8743 2.58203 9.99984 2.58203ZM9.99984 8.41536C9.12539 8.41536 8.4165 9.12425 8.4165 9.9987C8.4165 10.8731 9.12539 11.582 9.99984 11.582C10.8743 11.582 11.5832 10.8731 11.5832 9.9987C11.5832 9.12425 10.8743 8.41536 9.99984 8.41536ZM9.99984 14.2487C9.12539 14.2487 8.4165 14.9576 8.4165 15.832C8.4165 16.7065 9.12539 17.4154 9.99984 17.4154C10.8743 17.4154 11.5832 16.7065 11.5832 15.832C11.5832 14.9576 10.8743 14.2487 9.99984 14.2487Z"),G(o,"fill","currentColor"),G(r,"id","more-vertical"),G(n,"width","20"),G(n,"height","20"),G(n,"viewBox","0 0 20 20"),G(n,"fill","none"),G(n,"xmlns","http://www.w3.org/2000/svg"),q(n,"color",t[0],1)},m(e,t){x(e,n,t),I(n,r),I(r,o)},p(e,[t]){1&t&&q(n,"color",e[0],1)},i:e,o:e,d(e){e&&N(n)}}}function Kx(e,t,n){let{fill:r="#FFFFFF"}=t;return e.$$set=e=>{"fill"in e&&n(0,r=e.fill)},[r]}class Qx extends Ue{constructor(e){super(),Me(this,e,Kx,Xx,a,{fill:0})}}function Zx(t){let n,r;return n=new Qx({props:{fill:"#191919"}}),{c(){Ce(n.$$.fragment)},m(e,t){Le(n,e,t),r=!0},p:e,i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){$e(n,e)}}}function eN(e){let t,n,r,i,a,s,l,c=!e[2]&&tN(e);return{c(){t=k("div"),c&&c.c(),n=$(),r=k("button"),r.textContent=`${chrome.i18n.getMessage("ui_no_translate_website")}`,i=$(),a=k("button"),a.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,G(r,"data-testid","options-never-translate-website"),G(r,"class","options-dropdown-item svelte-dacewr"),G(a,"data-testid","options-more-settings"),G(a,"class","options-dropdown-item options-link svelte-dacewr"),G(t,"class","options-dropdown svelte-dacewr")},m(o,u){x(o,t,u),c&&c.m(t,null),I(t,n),I(t,r),I(t,i),I(t,a),s||(l=[M(r,"click",e[14]),M(a,"click",e[5])],s=!0)},p(e,r){e[2]?c&&(c.d(1),c=null):c?c.p(e,r):(c=tN(e),c.c(),c.m(t,n))},d(e){e&&N(t),c&&c.d(),s=!1,o(l)}}}function tN(e){let t,n,r,i,a,s,l,c=chrome.i18n.getMessage("full_page_translation_menu_always_translate",e[0])+"",u=chrome.i18n.getMessage("full_page_translation_settings_list_never_translate",e[0])+"";return{c(){t=k("button"),n=L(c),r=$(),i=k("button"),a=L(u),G(t,"data-testid","options-always-translate"),G(t,"class","options-dropdown-item svelte-dacewr"),G(i,"data-testid","options-never-translate"),G(i,"class","options-dropdown-item svelte-dacewr")},m(o,c){x(o,t,c),I(t,n),x(o,r,c),x(o,i,c),I(i,a),s||(l=[M(t,"click",e[12]),M(i,"click",e[13])],s=!0)},p(e,t){1&t&&c!==(c=chrome.i18n.getMessage("full_page_translation_menu_always_translate",e[0])+"")&&F(n,c),1&t&&u!==(u=chrome.i18n.getMessage("full_page_translation_settings_list_never_translate",e[0])+"")&&F(a,u)},d(e){e&&(N(t),N(r),N(i)),s=!1,o(l)}}}function nN(e){let t,n,r,i,a,s;n=new zO({props:{dataQa:"options-button",className:"dlui-btn-secondary transparent-border "+(e[1]?"active":""),$$slots:{default:[Zx]},$$scope:{ctx:e}}}),n.$on("click",e[11]);let l=e[1]&&eN(e);return{c(){t=k("div"),Ce(n.$$.fragment),r=$(),l&&l.c(),G(t,"class","options-menu-container svelte-dacewr")},m(o,c){x(o,t,c),Le(n,t,null),I(t,r),l&&l.m(t,null),i=!0,a||(s=[_(NA.call(null,t,{isShadow:!0})),M(t,"click_outside",e[15])],a=!0)},p(e,[r]){const o={};2&r&&(o.className="dlui-btn-secondary transparent-border "+(e[1]?"active":"")),1048576&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),e[1]?l?l.p(e,r):(l=eN(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(e){i||(Re(n.$$.fragment,e),i=!0)},o(e){Oe(n.$$.fragment,e),i=!1},d(e){e&&N(t),$e(n),l&&l.d(),a=!1,o(s)}}}function rN(e,t,n){let r,o,i,{onClose:a=()=>{}}=t,{sourceLanguage:s}=t,l=!1;const c=ae("deepl_settings");u(e,c,(e=>n(9,o=e)));const d=ae("deepl_website_settings");u(e,d,(e=>n(10,i=e)));const p=oe();function f(e){const t={hideOption:void 0,sourceLang:i.websiteLanguage,domainName:i.hostname,uiLocation:jt};switch(e){case"website":v(c,o.blacklistDomains=[...o.blacklistDomains,i.hostname],o),t.hideOption=_t;break;case"lang":!function(){let e=i.websiteLanguage,t=Lo(e);if(t)for(let e of t)v(c,o.languagesForTranslation=Object.assign(Object.assign({},o.languagesForTranslation),{[e]:nt}),o);else v(c,o.languagesForTranslation=Object.assign(Object.assign({},o.languagesForTranslation),{[e]:nt}),o)}(),t.hideOption=yt}h(),mo({action:po.dlTrackFptHide,payload:t}),a()}const h=()=>{mo({action:lo.dlSendNotification,payload:{type:St,options:{theme:wt}}})};function g(){!function(e,t,n,r){const o=Lo(e);if(o)for(const e of o)t[e]===tt?(t[e]=et,r(!1)):(t[e]=tt,r(!0));else t[e]===tt?(t[e]=et,r(!1)):(t[e]=tt,r(!0));n.set({languagesForTranslation:t})}(i.websiteLanguage,o.languagesForTranslation,c,(e=>{e&&mo({action:po.dlTrackUILocationClicked,payload:Jt})})),n(1,l=!1),p("triggerTranslate")}return e.$$set=e=>{"onClose"in e&&n(8,a=e.onClose),"sourceLanguage"in e&&n(0,s=e.sourceLanguage)},e.$$.update=()=>{1536&e.$$.dirty&&n(2,r=o.languagesForTranslation[i.websiteLanguage]===tt)},[s,l,r,c,d,function(){try{mo({action:po.dlTrackUILocationClicked,payload:zt})}catch(e){console.error(e)}p("settings")},f,g,a,o,i,()=>n(1,l=!l),()=>g(),()=>f("lang"),()=>f("website"),()=>n(1,l=!1)]}class oN extends Ue{constructor(e){super(),Me(this,e,rN,nN,a,{onClose:8,sourceLanguage:0})}}function iN(e){let t,n,r;return n=new FO({props:{error:e[0].error}}),{c(){t=k("div"),Ce(n.$$.fragment),G(t,"class","error-container"),G(t,"data-testid","full-page-translation-body-error-container")},m(e,o){x(e,t,o),Le(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.error=e[0].error),n.$set(r)},i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){e&&N(t),$e(n)}}}function aN(e){let t,n,r,o,i,a,s,l,c,u;i=new oN({props:{sourceLanguage:e[1]}}),i.$on("settings",_x),i.$on("triggerTranslate",e[5]),l=new Yx({props:{triggerTranslate:e[5],sendShowOriginal:e[6],tallButton:!0,sourceLang:e[1]}});let d=e[2]&&iN(e);return{c(){t=k("div"),n=k("div"),r=k("span"),r.textContent=`${chrome.i18n.getMessage("full_page_translation_translate_button")}`,o=$(),Ce(i.$$.fragment),a=$(),s=k("div"),Ce(l.$$.fragment),c=$(),d&&d.c(),G(r,"class","font-bold mb-md"),G(n,"class","header svelte-8b4nma"),G(s,"class","full-page-translation svelte-8b4nma"),G(t,"class","full-page-translation-container svelte-8b4nma")},m(e,p){x(e,t,p),I(t,n),I(n,r),I(n,o),Le(i,n,null),I(t,a),I(t,s),Le(l,s,null),I(t,c),d&&d.m(t,null),u=!0},p(e,[n]){const r={};2&n&&(r.sourceLanguage=e[1]),i.$set(r);const o={};2&n&&(o.sourceLang=e[1]),l.$set(o),e[2]?d?(d.p(e,n),4&n&&Re(d,1)):(d=iN(e),d.c(),Re(d,1),d.m(t,null)):d&&(Ae(),Oe(d,1,1,(()=>{d=null})),Ie())},i(e){u||(Re(i.$$.fragment,e),Re(l.$$.fragment,e),Re(d),u=!0)},o(e){Oe(i.$$.fragment,e),Oe(l.$$.fragment,e),Oe(d),u=!1},d(e){e&&N(t),$e(i),$e(l),d&&d.d()}}}function sN(e,t,n){let r,o,i;var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const s=ae("deepl_settings");u(e,s,(e=>n(7,o=e)));const l=ae("deepl_website_settings");let c;u(e,l,(e=>n(0,i=e)));return e.$$.update=()=>{var t;1&e.$$.dirty&&n(2,r=i&&i.error),129&e.$$.dirty&&i&&o&&(t=o.selectedTargetLanguage,i.websiteLanguage,ko(t)),1&e.$$.dirty&&i&&(i.isSupportedLanguage?n(1,c=chrome.i18n.getMessage(`supported_languages_${i.websiteLanguage}`)):n(1,c=chrome.i18n.getMessage("supported_languages_EN")))},[i,c,r,s,l,()=>{0==o.isTargetLanguageConfirmed&&s.set({isTargetLanguageConfirmed:!0}),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){return a(this,void 0,void 0,(function*(){yield chrome.tabs.sendMessage(e[0].id,{action:yo.dlTranslate,sourceLang:i.websiteLanguage,targetLang:o.selectedTargetLanguage}),o.closeSidebarOnFPT&&setTimeout((()=>{window.close()}),500)}))}))},()=>{chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:To.dlShowOriginal})}))},o]}class lN extends Ue{constructor(e){super(),Me(this,e,sN,aN,a,{})}}
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:cN,setPrototypeOf:uN,isFrozen:dN,getPrototypeOf:pN,getOwnPropertyDescriptor:fN}=Object;let{freeze:hN,seal:gN,create:mN}=Object,{apply:vN,construct:_N}="undefined"!=typeof Reflect&&Reflect;hN||(hN=function(e){return e}),gN||(gN=function(e){return e}),vN||(vN=function(e,t,n){return e.apply(t,n)}),_N||(_N=function(e,t){return new e(...t)});const yN=LN(Array.prototype.forEach),TN=LN(Array.prototype.lastIndexOf),SN=LN(Array.prototype.pop),bN=LN(Array.prototype.push),wN=LN(Array.prototype.splice),EN=LN(String.prototype.toLowerCase),AN=LN(String.prototype.toString),IN=LN(String.prototype.match),RN=LN(String.prototype.replace),ON=LN(String.prototype.indexOf),xN=LN(String.prototype.trim),NN=LN(Object.prototype.hasOwnProperty),PN=LN(RegExp.prototype.test),kN=(CN=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _N(CN,t)});var CN;function LN(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return vN(e,t,r)}}function $N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EN;uN&&uN(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(dN(t)||(t[r]=e),o=e)}e[o]=!0}return e}function DN(e){for(let t=0;t<e.length;t++){NN(e,t)||(e[t]=null)}return e}function MN(e){const t=mN(null);for(const[n,r]of cN(e)){NN(e,n)&&(Array.isArray(r)?t[n]=DN(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=MN(r):t[n]=r)}return t}function UN(e,t){for(;null!==e;){const n=fN(e,t);if(n){if(n.get)return LN(n.get);if("function"==typeof n.value)return LN(n.value)}e=pN(e)}return function(){return null}}const VN=hN(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),GN=hN(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),FN=hN(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jN=hN(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qN=hN(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BN=hN(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),HN=hN(["#text"]),JN=hN(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zN=hN(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),WN=hN(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),YN=hN(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XN=gN(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KN=gN(/<%[\w\W]*|[\w\W]*%>/gm),QN=gN(/\$\{[\w\W]*/gm),ZN=gN(/^data-[\-\w.\u00B7-\uFFFF]+$/),eP=gN(/^aria-[\-\w]+$/),tP=gN(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nP=gN(/^(?:\w+script|data):/i),rP=gN(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),oP=gN(/^html$/i),iP=gN(/^[a-z][.\w]*(-[.\w]+)+$/i);var aP=Object.freeze({__proto__:null,ARIA_ATTR:eP,ATTR_WHITESPACE:rP,CUSTOM_ELEMENT:iP,DATA_ATTR:ZN,DOCTYPE_NAME:oP,ERB_EXPR:KN,IS_ALLOWED_URI:tP,IS_SCRIPT_OR_DATA:nP,MUSTACHE_EXPR:XN,TMPLIT_EXPR:QN});const sP=1,lP=3,cP=7,uP=8,dP=9,pP=function(){return"undefined"==typeof window?null:window};var fP=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pP();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==dP||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const o=r,i=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:h}=t,g=c.prototype,m=UN(g,"cloneNode"),v=UN(g,"remove"),_=UN(g,"nextSibling"),y=UN(g,"childNodes"),T=UN(g,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let S,b="";const{implementation:w,createNodeIterator:E,createDocumentFragment:A,getElementsByTagName:I}=r,{importNode:R}=o;let O={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof cN&&"function"==typeof T&&w&&void 0!==w.createHTMLDocument;const{MUSTACHE_EXPR:x,ERB_EXPR:N,TMPLIT_EXPR:P,DATA_ATTR:k,ARIA_ATTR:C,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:D}=aP;let{IS_ALLOWED_URI:M}=aP,U=null;const V=$N({},[...VN,...GN,...FN,...qN,...HN]);let G=null;const F=$N({},[...JN,...zN,...WN,...YN]);let j=Object.seal(mN(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,B=null,H=!0,J=!0,z=!1,W=!0,Y=!1,X=!0,K=!1,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!1,ie=!0,ae=!1,se={},le=null;const ce=$N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=$N({},["audio","video","img","source","image","track"]);let pe=null;const fe=$N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml";let ve=me,_e=!1,ye=null;const Te=$N({},[he,ge,me],AN);let Se=$N({},["mi","mo","mn","ms","mtext"]),be=$N({},["annotation-xml"]);const we=$N({},["title","style","font","a","script"]);let Ee=null;const Ae=["application/xhtml+xml","text/html"];let Ie=null,Re=null;const Oe=r.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},Ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Re||Re!==e){if(e&&"object"==typeof e||(e={}),e=MN(e),Ee=-1===Ae.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ie="application/xhtml+xml"===Ee?AN:EN,U=NN(e,"ALLOWED_TAGS")?$N({},e.ALLOWED_TAGS,Ie):V,G=NN(e,"ALLOWED_ATTR")?$N({},e.ALLOWED_ATTR,Ie):F,ye=NN(e,"ALLOWED_NAMESPACES")?$N({},e.ALLOWED_NAMESPACES,AN):Te,pe=NN(e,"ADD_URI_SAFE_ATTR")?$N(MN(fe),e.ADD_URI_SAFE_ATTR,Ie):fe,ue=NN(e,"ADD_DATA_URI_TAGS")?$N(MN(de),e.ADD_DATA_URI_TAGS,Ie):de,le=NN(e,"FORBID_CONTENTS")?$N({},e.FORBID_CONTENTS,Ie):ce,q=NN(e,"FORBID_TAGS")?$N({},e.FORBID_TAGS,Ie):{},B=NN(e,"FORBID_ATTR")?$N({},e.FORBID_ATTR,Ie):{},se=!!NN(e,"USE_PROFILES")&&e.USE_PROFILES,H=!1!==e.ALLOW_ARIA_ATTR,J=!1!==e.ALLOW_DATA_ATTR,z=e.ALLOW_UNKNOWN_PROTOCOLS||!1,W=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,M=e.ALLOWED_URI_REGEXP||tP,ve=e.NAMESPACE||me,Se=e.MATHML_TEXT_INTEGRATION_POINTS||Se,be=e.HTML_INTEGRATION_POINTS||be,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(J=!1),te&&(ee=!0),se&&(U=$N({},HN),G=[],!0===se.html&&($N(U,VN),$N(G,JN)),!0===se.svg&&($N(U,GN),$N(G,zN),$N(G,YN)),!0===se.svgFilters&&($N(U,FN),$N(G,zN),$N(G,YN)),!0===se.mathMl&&($N(U,qN),$N(G,WN),$N(G,YN))),e.ADD_TAGS&&(U===V&&(U=MN(U)),$N(U,e.ADD_TAGS,Ie)),e.ADD_ATTR&&(G===F&&(G=MN(G)),$N(G,e.ADD_ATTR,Ie)),e.ADD_URI_SAFE_ATTR&&$N(pe,e.ADD_URI_SAFE_ATTR,Ie),e.FORBID_CONTENTS&&(le===ce&&(le=MN(le)),$N(le,e.FORBID_CONTENTS,Ie)),ie&&(U["#text"]=!0),K&&$N(U,["html","head","body"]),U.table&&($N(U,["tbody"]),delete q.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw kN('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw kN('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=e.TRUSTED_TYPES_POLICY,b=S.createHTML("")}else void 0===S&&(S=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(h,i)),null!==S&&"string"==typeof b&&(b=S.createHTML(""));hN&&hN(e),Re=e}},Pe=$N({},[...GN,...FN,...jN]),ke=$N({},[...qN,...BN]),Ce=function(e){bN(n.removed,{element:e});try{T(e).removeChild(e)}catch(t){v(e)}},Le=function(e,t){try{bN(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){bN(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Ce(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},$e=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=IN(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ee&&ve===me&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=S?S.createHTML(e):e;if(ve===me)try{t=(new f).parseFromString(o,Ee)}catch(e){}if(!t||!t.documentElement){t=w.createDocument(ve,"template",null);try{t.documentElement.innerHTML=_e?b:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ve===me?I.call(t,K?"html":"body")[0]:K?t.documentElement:i},De=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Me=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ue=function(e){return"function"==typeof l&&e instanceof l};function Ve(e,t,r){yN(e,(e=>{e.call(n,t,r,Re)}))}const Ge=function(e){let t=null;if(Ve(O.beforeSanitizeElements,e,null),Me(e))return Ce(e),!0;const r=Ie(e.nodeName);if(Ve(O.uponSanitizeElement,e,{tagName:r,allowedTags:U}),e.hasChildNodes()&&!Ue(e.firstElementChild)&&PN(/<[/\w]/g,e.innerHTML)&&PN(/<[/\w]/g,e.textContent))return Ce(e),!0;if(e.nodeType===cP)return Ce(e),!0;if(X&&e.nodeType===uP&&PN(/<[/\w]/g,e.data))return Ce(e),!0;if(!U[r]||q[r]){if(!q[r]&&je(r)){if(j.tagNameCheck instanceof RegExp&&PN(j.tagNameCheck,r))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(r))return!1}if(ie&&!le[r]){const t=T(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const o=m(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,_(e))}}}return Ce(e),!0}return e instanceof c&&!function(e){let t=T(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=EN(e.tagName),r=EN(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===me?"svg"===n:t.namespaceURI===he?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(Pe[n]):e.namespaceURI===he?t.namespaceURI===me?"math"===n:t.namespaceURI===ge?"math"===n&&be[r]:Boolean(ke[n]):e.namespaceURI===me?!(t.namespaceURI===ge&&!be[r])&&!(t.namespaceURI===he&&!Se[r])&&!ke[n]&&(we[n]||!Pe[n]):!("application/xhtml+xml"!==Ee||!ye[e.namespaceURI]))}(e)?(Ce(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!PN(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&e.nodeType===lP&&(t=e.textContent,yN([x,N,P],(e=>{t=RN(t,e," ")})),e.textContent!==t&&(bN(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ve(O.afterSanitizeElements,e,null),!1):(Ce(e),!0)},Fe=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Oe))return!1;if(J&&!B[t]&&PN(k,t));else if(H&&PN(C,t));else if(!G[t]||B[t]){if(!(je(e)&&(j.tagNameCheck instanceof RegExp&&PN(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&PN(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&PN(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(pe[t]);else if(PN(M,RN(n,$,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==ON(n,"data:")||!ue[e]){if(z&&!PN(L,RN(n,$,"")));else if(n)return!1}else;return!0},je=function(e){return"annotation-xml"!==e&&IN(e,D)},qe=function(e){Ve(O.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Me(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let o=t.length;for(;o--;){const i=t[o],{name:a,namespaceURI:s,value:l}=i,c=Ie(a);let u="value"===a?l:xN(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Ve(O.uponSanitizeAttribute,e,r),u=r.attrValue,!oe||"id"!==c&&"name"!==c||(Le(a,e),u="user-content-"+u),X&&PN(/((--!?|])>)|<\/(style|title)/i,u)){Le(a,e);continue}if(r.forceKeepAttr)continue;if(Le(a,e),!r.keepAttr)continue;if(!W&&PN(/\/>/i,u)){Le(a,e);continue}Y&&yN([x,N,P],(e=>{u=RN(u,e," ")}));const d=Ie(e.nodeName);if(Fe(d,c,u)){if(S&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(s);else switch(h.getAttributeType(d,c)){case"TrustedHTML":u=S.createHTML(u);break;case"TrustedScriptURL":u=S.createScriptURL(u)}try{s?e.setAttributeNS(s,a,u):e.setAttribute(a,u),Me(e)?Ce(e):SN(n.removed)}catch(e){}}}Ve(O.afterSanitizeAttributes,e,null)},Be=function e(t){let n=null;const r=De(t);for(Ve(O.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Ve(O.uponSanitizeShadowNode,n,null),Ge(n),qe(n),n.content instanceof a&&e(n.content);Ve(O.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,c=null;if(_e=!e,_e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ue(e)){if("function"!=typeof e.toString)throw kN("toString is not a function");if("string"!=typeof(e=e.toString()))throw kN("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ne(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Ie(e.nodeName);if(!U[t]||q[t])throw kN("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=$e("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),i.nodeType===sP&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ee&&!Y&&!K&&-1===e.indexOf("<"))return S&&ne?S.createHTML(e):e;if(r=$e(e),!r)return ee?null:ne?b:""}r&&Z&&Ce(r.firstChild);const u=De(ae?e:r);for(;s=u.nextNode();)Ge(s),qe(s),s.content instanceof a&&Be(s.content);if(ae)return e;if(ee){if(te)for(c=A.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(G.shadowroot||G.shadowrootmode)&&(c=R.call(o,c,!0)),c}let d=K?r.outerHTML:r.innerHTML;return K&&U["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&PN(oP,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Y&&yN([x,N,P],(e=>{d=RN(d,e," ")})),S&&ne?S.createHTML(d):d},n.setConfig=function(){Ne(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Re=null,Q=!1},n.isValidAttribute=function(e,t,n){Re||Ne({});const r=Ie(e),o=Ie(t);return Fe(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&bN(O[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=TN(O[e],t);return-1===n?void 0:wN(O[e],n,1)[0]}return SN(O[e])},n.removeHooks=function(e){O[e]=[]},n.removeAllHooks=function(){O={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const hP=(e,t={})=>fP.sanitize(e,Object.assign(Object.assign({},{USE_PROFILES:{html:!0}}),t)),gP=Af().filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),mP=()=>{const e=new Ap(Object.assign(Object.assign({},My),{transport:Rp,stackParser:Bp,integrations:gP})),t=new ql;return t.setClient(e),t.setContext("appContext",{location:"content"}),Uy(t),{client:e,scope:t}};function vP(n){let r,a,s,l,c;return a=new FO({props:{error:n[1],close:n[2]}}),{c(){r=k("div"),Ce(a.$$.fragment),G(r,"class","container svelte-1wstx56"),G(r,"dir",$o())},m(e,t){x(e,r,t),Le(a,r,null),c=!0},p(e,t){const n={};2&t&&(n.error=e[1]),4&t&&(n.close=e[2]),a.$set(n)},i(e){c||(Re(a.$$.fragment,e),he((()=>{c&&(l&&l.end(1),s=Ne(r,xA,{x:100,duration:1e3}),s.start())})),c=!0)},o(n){Oe(a.$$.fragment,n),s&&s.invalidate(),l=function(n,r,a){const s={direction:"out"};let l,c=r(n,a,s),u=!0;const d=Ee;let p;function f(){const{delay:r=0,duration:i=300,easing:a=t,tick:s=e,css:f}=c||xe;f&&(l=Q(n,1,0,i,r,a,f));const h=S()+r,g=h+i;he((()=>be(n,!1,"start"))),"inert"in n&&(p=n.inert,n.inert=!0),A((e=>{if(u){if(e>=g)return s(0,1),be(n,!1,"end"),--d.r||o(d.c),!1;if(e>=h){const t=a((e-h)/i);s(1-t,t)}}return u}))}return d.r+=1,i(c)?Se().then((()=>{c=c(s),f()})):f(),{end(e){e&&"inert"in n&&(n.inert=p),e&&c.tick&&c.tick(1,0),u&&(l&&Z(n,l),u=!1)}}}(r,xA,{x:100,duration:1e3}),c=!1},d(e){e&&N(r),$e(a),e&&l&&l.end()}}}function _P(e){let t,n,r=e[3]&&!1===e[0]&&vP(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,[n]){e[3]&&!1===e[0]?r?(r.p(e,n),9&n&&Re(r,1)):(r=vP(e),r.c(),Re(r,1),r.m(t.parentNode,t)):r&&(Ae(),Oe(r,1,1,(()=>{r=null})),Ie())},i(e){n||(Re(r),n=!0)},o(e){Oe(r),n=!1},d(e){e&&N(t),r&&r.d(e)}}}function yP(e,t,n){let r;u(e,JI,(e=>n(4,r=e))),ie("text_direction",$o());let{error:o}=t,{close:i}=t,{errorAlreadyShown:a}=t,s=!1;return ne((()=>{setTimeout((()=>{n(3,s=!0),n(0,a=r)}),100)})),e.$$set=e=>{"error"in e&&n(1,o=e.error),"close"in e&&n(2,i=e.close),"errorAlreadyShown"in e&&n(0,a=e.errorAlreadyShown)},[a,o,i,s]}class TP extends Ue{constructor(e){super(),Me(this,e,yP,_P,a,{error:1,close:2,errorAlreadyShown:0})}}class SP{constructor(e){this.createDOM=e=>{const t="rtl"===$o()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${Tt.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new TP({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}SP.HTML_TAG_NAME="deepl-alert",SP.createElement=(e=document)=>{const t=e.createElement(SP.HTML_TAG_NAME),n=new SP(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const bP=function(){let e={isDarkMode:ri(),fptTranslationState:rt.none};const{subscribe:t,update:n}=Eo(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>Object.assign(Object.assign({},e),{isDarkMode:ri()})))})),{subscribe:t,update:e=>{if(jo()&&!{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.DISABLE_DEBUG_LOGS){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>((null==e?void 0:e.error)?function(e){try{const t=SP.createElement();document.documentElement.appendChild(t),t.createDOM(e),PA((()=>t.cleanupDOM))}catch(e){jo()&&console.log(e)}}(e.error):JI.set(!1),Object.assign(Object.assign(Object.assign({},t),e),{error:e.error?e.error:void 0}))))}}}(),wP=["translatedDOM"];bP.subscribe((e=>{if(Object.assign({},e),!e)return;const t=Object.assign({},e);for(const e of wP)delete t[e];Object.keys(t).length>0&&mo({action:ho.newWebsiteState,payload:t}).catch((e=>{jo()&&console.error(e)}))}));function EP(e){let t;return{c(){t=k("div"),G(t,"class","section-separator svelte-xwj57")},m(e,n){x(e,t,n)},d(e){e&&N(t)}}}function AP(e){let t,n,r;const o=e[2].default,i=d(o,e,e[1],null);let a=e[0]&&EP();return{c(){t=k("div"),i&&i.c(),n=$(),a&&a.c(),G(t,"class","section svelte-xwj57")},m(e,o){x(e,t,o),i&&i.m(t,null),I(t,n),a&&a.m(t,null),r=!0},p(e,[n]){i&&i.p&&(!r||2&n)&&h(i,o,e,e[1],r?f(o,e[1],n,null):g(e[1]),null),e[0]?a||(a=EP(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){r||(Re(i,e),r=!0)},o(e){Oe(i,e),r=!1},d(e){e&&N(t),i&&i.d(e),a&&a.d()}}}function IP(e,t,n){let{$$slots:r={},$$scope:o}=t,{showSeparator:i=!1}=t;return e.$$set=e=>{"showSeparator"in e&&n(0,i=e.showSeparator),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class RP extends Ue{constructor(e){super(),Me(this,e,IP,AP,a,{showSeparator:0})}}function OP(t){let n,r;return{c(){n=k("div"),r=L(t[0]),G(n,"class","section-header svelte-1h5k046")},m(e,t){x(e,n,t),I(n,r)},p(e,[t]){1&t&&F(r,e[0])},i:e,o:e,d(e){e&&N(n)}}}function xP(e,t,n){let{text:r}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text)},[r]}class NP extends Ue{constructor(e){super(),Me(this,e,xP,OP,a,{text:0})}}function PP(e){let t,n;const r=e[1].default,o=d(r,e,e[0],null);return{c(){t=k("div"),o&&o.c(),G(t,"class","two-column-layout svelte-1u5wf2a")},m(e,r){x(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&h(o,r,e,e[0],n?f(r,e[0],t,null):g(e[0]),null)},i(e){n||(Re(o,e),n=!0)},o(e){Oe(o,e),n=!1},d(e){e&&N(t),o&&o.d(e)}}}function kP(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class CP extends Ue{constructor(e){super(),Me(this,e,kP,PP,a,{})}}function LP(e){let t,n,r,o;const a=e[11].default,s=d(a,e,e[10],null);return{c(){t=k("ul"),s&&s.c(),G(t,"class","column svelte-15ctlyg"),G(t,"id",e[2]),G(t,"role",e[3]),G(t,"aria-labelledby",e[4]),G(t,"tabindex",e[5]),G(t,"data-qa",e[6]),H(t,"align-right",e[0]),H(t,"alternate-dropdown-list",e[1])},m(a,l){x(a,t,l),s&&s.m(t,null),e[12](t),n=!0,r||(o=M(t,"keydown",(function(){i(e[7])&&e[7].apply(this,arguments)})),r=!0)},p(r,[o]){e=r,s&&s.p&&(!n||1024&o)&&h(s,a,e,e[10],n?f(a,e[10],o,null):g(e[10]),null),(!n||4&o)&&G(t,"id",e[2]),(!n||8&o)&&G(t,"role",e[3]),(!n||16&o)&&G(t,"aria-labelledby",e[4]),(!n||32&o)&&G(t,"tabindex",e[5]),(!n||64&o)&&G(t,"data-qa",e[6]),(!n||1&o)&&H(t,"align-right",e[0]),(!n||2&o)&&H(t,"alternate-dropdown-list",e[1])},i(e){n||(Re(s,e),n=!0)},o(e){Oe(s,e),n=!1},d(n){n&&N(t),s&&s.d(n),e[12](null),r=!1,o()}}}function $P(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{alignRight:a=!1}=t,{alternateDropdownList:s=!1}=t,{id:l=""}=t,{role:c=""}=t,{ariaLabelledby:u=""}=t,{tabindex:d=0}=t,{dataQa:p=""}=t,{bindThis:f}=t,{onKeydown:h}=t;return e.$$set=e=>{"alignRight"in e&&n(0,a=e.alignRight),"alternateDropdownList"in e&&n(1,s=e.alternateDropdownList),"id"in e&&n(2,l=e.id),"role"in e&&n(3,c=e.role),"ariaLabelledby"in e&&n(4,u=e.ariaLabelledby),"tabindex"in e&&n(5,d=e.tabindex),"dataQa"in e&&n(6,p=e.dataQa),"bindThis"in e&&n(9,f=e.bindThis),"onKeydown"in e&&n(7,h=e.onKeydown),"$$scope"in e&&n(10,i=e.$$scope)},e.$$.update=()=>{768&e.$$.dirty&&void 0!==f&&n(9,f=r)},[a,s,l,c,u,d,p,h,r,f,i,o,function(e){ce[e?"unshift":"push"]((()=>{r=e,n(8,r)}))}]}class DP extends Ue{constructor(e){super(),Me(this,e,$P,LP,a,{alignRight:0,alternateDropdownList:1,id:2,role:3,ariaLabelledby:4,tabindex:5,dataQa:6,bindThis:9,onKeydown:7})}}function MP(e){let t,n;return{c(){t=C("svg"),n=C("path"),G(n,"fill-rule","evenodd"),G(n,"clip-rule","evenodd"),G(n,"d","M13.7576 3.57573C13.9919 3.81004 13.9919 4.18994 13.7576 4.42426L6.42425 11.7576C6.18993 11.9919 5.81003 11.9919 5.57572 11.7576L2.24239 8.42426C2.00807 8.18994 2.00807 7.81004 2.24239 7.57573C2.4767 7.34142 2.8566 7.34142 3.09091 7.57573L5.99998 10.4848L12.9091 3.57573C13.1434 3.34142 13.5233 3.34142 13.7576 3.57573Z"),G(n,"fill","#292929"),G(t,"class","checkmark-icon svelte-1bd4off"),G(t,"xmlns","http://www.w3.org/2000/svg"),G(t,"width","16"),G(t,"height","16"),G(t,"viewBox","0 0 16 16"),G(t,"fill","none")},m(e,r){x(e,t,r),I(t,n)},d(e){e&&N(t)}}}function UP(e){let t;return{c(){t=L(e[5])},m(e,n){x(e,t,n)},p(e,n){32&n&&F(t,e[5])},d(e){e&&N(t)}}}function VP(e){let t,n,r=hP(e[5])+"";return{c(){t=new z(!1),n=D(),t.a=n},m(e,o){t.m(r,e,o),x(e,n,o)},p(e,n){32&n&&r!==(r=hP(e[5])+"")&&t.p(r)},d(e){e&&(N(n),t.d())}}}function GP(t){let n,r,i,a,s,l,c=t[1]&&MP();function u(e,t){return e[2]?VP:UP}let d=u(t),p=d(t);return{c(){n=k("li"),c&&c.c(),r=$(),p.c(),G(n,"role","option"),G(n,"data-option-value",i=t[0].value),G(n,"data-option-regionalvariant",a=t[0].regionalVariant),G(n,"aria-selected",t[1]),G(n,"class","svelte-1bd4off"),H(n,"selected",t[1]),H(n,"keyboardSelected",t[3]===t[4])},m(e,o){x(e,n,o),c&&c.m(n,null),I(n,r),p.m(n,null),s||(l=[M(n,"click",t[6]),M(n,"mousedown",V(U(t[8])))],s=!0)},p(e,[t]){e[1]?c||(c=MP(),c.c(),c.m(n,r)):c&&(c.d(1),c=null),d===(d=u(e))&&p?p.p(e,t):(p.d(1),p=d(e),p&&(p.c(),p.m(n,null))),1&t&&i!==(i=e[0].value)&&G(n,"data-option-value",i),1&t&&a!==(a=e[0].regionalVariant)&&G(n,"data-option-regionalvariant",a),2&t&&G(n,"aria-selected",e[1]),2&t&&H(n,"selected",e[1]),24&t&&H(n,"keyboardSelected",e[3]===e[4])},i:e,o:e,d(e){e&&N(n),c&&c.d(),p.d(),s=!1,o(l)}}}function FP(e,t,n){let r,{item:o}=t,{isSelected:i=!1}=t,{allowLabelHtml:a=!1}=t,{onItemClick:s}=t,{focusIndex:l=-1}=t,{currentFocusIndex:c=-1}=t;const u=oe();return e.$$set=e=>{"item"in e&&n(0,o=e.item),"isSelected"in e&&n(1,i=e.isSelected),"allowLabelHtml"in e&&n(2,a=e.allowLabelHtml),"onItemClick"in e&&n(7,s=e.onItemClick),"focusIndex"in e&&n(3,l=e.focusIndex),"currentFocusIndex"in e&&n(4,c=e.currentFocusIndex)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=o.isNew?`${o.label}*`:o.label)},[o,i,a,l,c,r,function(){s&&s(o),u("itemclick",{item:o})},s,function(t){se.call(this,e,t)}]}class jP extends Ue{constructor(e){super(),Me(this,e,FP,GP,a,{item:0,isSelected:1,allowLabelHtml:2,onItemClick:7,focusIndex:3,currentFocusIndex:4})}}function qP(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function BP(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function HP(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function JP(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function zP(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function WP(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function YP(e){let t,n,r,o,i,a,s,l,c,u,d,p,f;function h(t){e[49](t)}let g={placeholder:e[20],disabled:e[3],customStyles:"margin-bottom: 14px;"};void 0!==e[1]&&(g.value=e[1]),n=new ZO({props:g}),ce.push((()=>ke(n,"value",h)));let m=e[16]&&e[17].length>0&&!e[1]&&XP(e);s=new RP({props:{$$slots:{default:[mk]},$$scope:{ctx:e}}});let v=e[21]&&vk(e);return{c(){t=k("div"),Ce(n.$$.fragment),o=$(),i=k("div"),m&&m.c(),a=$(),Ce(s.$$.fragment),l=$(),v&&v.c(),G(i,"class","dropdown-sections svelte-1347oyy"),G(t,"class","dropdown-content svelte-1347oyy"),G(t,"style",c="up"===e[12]?"bottom: 30px":`height: ${e[23].height}; top: ${e[23].top}; max-height: ${e[23].maxHeight||e[15]}px;`),H(t,"align-right",e[19])},m(r,c){x(r,t,c),Le(n,t,null),I(t,o),I(t,i),m&&m.m(i,null),I(i,a),Le(s,i,null),I(i,l),v&&v.m(i,null),d=!0,p||(f=M(t,"mousedown",V(U(e[46]))),p=!0)},p(e,o){const l={};1048576&o[0]&&(l.placeholder=e[20]),8&o[0]&&(l.disabled=e[3]),!r&&2&o[0]&&(r=!0,l.value=e[1],ge((()=>r=!1))),n.$set(l),e[16]&&e[17].length>0&&!e[1]?m?(m.p(e,o),196610&o[0]&&Re(m,1)):(m=XP(e),m.c(),Re(m,1),m.m(i,a)):m&&(Ae(),Oe(m,1,1,(()=>{m=null})),Ie());const u={};470229825&o[0]|64&o[2]&&(u.$$scope={dirty:o,ctx:e}),s.$set(u),e[21]?v?v.p(e,o):(v=vk(e),v.c(),v.m(i,null)):v&&(v.d(1),v=null),(!d||8425472&o[0]&&c!==(c="up"===e[12]?"bottom: 30px":`height: ${e[23].height}; top: ${e[23].top}; max-height: ${e[23].maxHeight||e[15]}px;`))&&G(t,"style",c),(!d||524288&o[0])&&H(t,"align-right",e[19])},i(e){d||(Re(n.$$.fragment,e),Re(m),Re(s.$$.fragment,e),u||he((()=>{u=Ne(t,xA,{y:-5,duration:500}),u.start()})),d=!0)},o(e){Oe(n.$$.fragment,e),Oe(m),Oe(s.$$.fragment,e),d=!1},d(e){e&&N(t),$e(n),m&&m.d(),$e(s),v&&v.d(),p=!1,f()}}}function XP(e){let t,n;return t=new RP({props:{showSeparator:!0,$$slots:{default:[ak]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};268836865&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function KP(e){let t,n;return t=new CP({props:{$$slots:{default:[rk]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};268574721&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function QP(e){let t,n;return t=new DP({props:{$$slots:{default:[ik]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};268574721&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ZP(e){let t,n,r=e[62]%2==0&&function(e){let t,n;return t=new jP({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:e[62],currentFocusIndex:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.item=e[60]),131073&n[0]&&(r.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(r.allowLabelHtml=e[13]),268435456&n[0]&&(r.currentFocusIndex=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,t){e[62]%2==0&&r.p(e,t)},i(e){n||(Re(r),n=!0)},o(e){Oe(r),n=!1},d(e){e&&N(t),r&&r.d(e)}}}function ek(e){let t,n,r=Pe(e[17]),o=[];for(let t=0;t<r.length;t+=1)o[t]=ZP(zP(e,r,t));const i=e=>Oe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=D()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(268574721&n[0]|1&n[1]){let a;for(r=Pe(e[17]),a=0;a<r.length;a+=1){const i=zP(e,r,a);o[a]?(o[a].p(i,n),Re(o[a],1)):(o[a]=ZP(i),o[a].c(),Re(o[a],1),o[a].m(t.parentNode,t))}for(Ae(),a=r.length;a<o.length;a+=1)i(a);Ie()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Re(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Oe(o[e]);n=!1},d(e){e&&N(t),P(o,e)}}}function tk(e){let t,n,r=e[62]%2==1&&function(e){let t,n;return t=new jP({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:e[62],currentFocusIndex:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.item=e[60]),131073&n[0]&&(r.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(r.allowLabelHtml=e[13]),268435456&n[0]&&(r.currentFocusIndex=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,t){e[62]%2==1&&r.p(e,t)},i(e){n||(Re(r),n=!0)},o(e){Oe(r),n=!1},d(e){e&&N(t),r&&r.d(e)}}}function nk(e){let t,n,r=Pe(e[17]),o=[];for(let t=0;t<r.length;t+=1)o[t]=tk(JP(e,r,t));const i=e=>Oe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=D()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(268574721&n[0]|1&n[1]){let a;for(r=Pe(e[17]),a=0;a<r.length;a+=1){const i=JP(e,r,a);o[a]?(o[a].p(i,n),Re(o[a],1)):(o[a]=tk(i),o[a].c(),Re(o[a],1),o[a].m(t.parentNode,t))}for(Ae(),a=r.length;a<o.length;a+=1)i(a);Ie()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Re(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Oe(o[e]);n=!1},d(e){e&&N(t),P(o,e)}}}function rk(e){let t,n,r,o;return t=new DP({props:{$$slots:{default:[ek]},$$scope:{ctx:e}}}),r=new DP({props:{$$slots:{default:[nk]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment),n=$(),Ce(r.$$.fragment)},m(e,i){Le(t,e,i),x(e,n,i),Le(r,e,i),o=!0},p(e,n){const o={};268574721&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};268574721&n[0]|64&n[2]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(Re(t.$$.fragment,e),Re(r.$$.fragment,e),o=!0)},o(e){Oe(t.$$.fragment,e),Oe(r.$$.fragment,e),o=!1},d(e){e&&N(n),$e(t,e),$e(r,e)}}}function ok(e){let t,n;return t=new jP({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:e[62],currentFocusIndex:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.item=e[60]),131073&n[0]&&(r.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(r.allowLabelHtml=e[13]),268435456&n[0]&&(r.currentFocusIndex=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ik(e){let t,n,r=Pe(e[17]),o=[];for(let t=0;t<r.length;t+=1)o[t]=ok(WP(e,r,t));const i=e=>Oe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=D()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(268574721&n[0]|1&n[1]){let a;for(r=Pe(e[17]),a=0;a<r.length;a+=1){const i=WP(e,r,a);o[a]?(o[a].p(i,n),Re(o[a],1)):(o[a]=ok(i),o[a].c(),Re(o[a],1),o[a].m(t.parentNode,t))}for(Ae(),a=r.length;a<o.length;a+=1)i(a);Ie()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Re(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Oe(o[e]);n=!1},d(e){e&&N(t),P(o,e)}}}function ak(e){let t,n,r,o,i,a;t=new NP({props:{text:chrome.i18n.getMessage("dropdown_suggested_languages")}});const s=[QP,KP],l=[];function c(e,t){return e[18]?0:1}return r=c(e),o=l[r]=s[r](e),{c(){Ce(t.$$.fragment),n=$(),o.c(),i=D()},m(e,o){Le(t,e,o),x(e,n,o),l[r].m(e,o),x(e,i,o),a=!0},p(e,t){let n=r;r=c(e),r===n?l[r].p(e,t):(Ae(),Oe(l[n],1,1,(()=>{l[n]=null})),Ie(),o=l[r],o?o.p(e,t):(o=l[r]=s[r](e),o.c()),Re(o,1),o.m(i.parentNode,i))},i(e){a||(Re(t.$$.fragment,e),Re(o),a=!0)},o(e){Oe(t.$$.fragment,e),Oe(o),a=!1},d(e){e&&(N(n),N(i)),$e(t,e),l[r].d(e)}}}function sk(e){let t,n;return t=new CP({props:{$$slots:{default:[fk]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};469967681&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function lk(e){let t,n;return t=new DP({props:{id:"dropdown_list",alternateDropdownList:"sm"===e[8],alignRight:e[9],role:"listbox",ariaLabelledby:"dropdown_option",dataQa:e[6],$$slots:{default:[gk]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.alternateDropdownList="sm"===e[8]),512&n[0]&&(r.alignRight=e[9]),64&n[0]&&(r.dataQa=e[6]),335749121&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function ck(e){let t,n;return t=new jP({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:(e[16]?e[17].length:0)+e[62],currentFocusIndex:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};67108864&n[0]&&(r.item=e[60]),67108865&n[0]&&(r.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(r.allowLabelHtml=e[13]),196608&n[0]&&(r.focusIndex=(e[16]?e[17].length:0)+e[62]),268435456&n[0]&&(r.currentFocusIndex=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function uk(e){let t,n,r=Pe(e[26]),o=[];for(let t=0;t<r.length;t+=1)o[t]=ck(BP(e,r,t));const i=e=>Oe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=D()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(335749121&n[0]|1&n[1]){let a;for(r=Pe(e[26]),a=0;a<r.length;a+=1){const i=BP(e,r,a);o[a]?(o[a].p(i,n),Re(o[a],1)):(o[a]=ck(i),o[a].c(),Re(o[a],1),o[a].m(t.parentNode,t))}for(Ae(),a=r.length;a<o.length;a+=1)i(a);Ie()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Re(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Oe(o[e]);n=!1},d(e){e&&N(t),P(o,e)}}}function dk(e){let t,n;return t=new jP({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:(e[16]?e[17].length:0)+e[26].length+e[62],currentFocusIndex:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};134217728&n[0]&&(r.item=e[60]),134217729&n[0]&&(r.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(r.allowLabelHtml=e[13]),67305472&n[0]&&(r.focusIndex=(e[16]?e[17].length:0)+e[26].length+e[62]),268435456&n[0]&&(r.currentFocusIndex=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function pk(e){let t,n,r=Pe(e[27]),o=[];for(let t=0;t<r.length;t+=1)o[t]=dk(qP(e,r,t));const i=e=>Oe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=D()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(469966849&n[0]|1&n[1]){let a;for(r=Pe(e[27]),a=0;a<r.length;a+=1){const i=qP(e,r,a);o[a]?(o[a].p(i,n),Re(o[a],1)):(o[a]=dk(i),o[a].c(),Re(o[a],1),o[a].m(t.parentNode,t))}for(Ae(),a=r.length;a<o.length;a+=1)i(a);Ie()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Re(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Oe(o[e]);n=!1},d(e){e&&N(t),P(o,e)}}}function fk(e){let t,n,r,o;return t=new DP({props:{id:"dropdown_list",alternateDropdownList:"sm"===e[8],alignRight:e[9],role:"listbox",ariaLabelledby:"dropdown_option",dataQa:e[6],$$slots:{default:[uk]},$$scope:{ctx:e}}}),r=new DP({props:{$$slots:{default:[pk]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment),n=$(),Ce(r.$$.fragment)},m(e,i){Le(t,e,i),x(e,n,i),Le(r,e,i),o=!0},p(e,n){const o={};256&n[0]&&(o.alternateDropdownList="sm"===e[8]),512&n[0]&&(o.alignRight=e[9]),64&n[0]&&(o.dataQa=e[6]),335749121&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};469966849&n[0]|64&n[2]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(Re(t.$$.fragment,e),Re(r.$$.fragment,e),o=!0)},o(e){Oe(t.$$.fragment,e),Oe(r.$$.fragment,e),o=!1},d(e){e&&N(n),$e(t,e),$e(r,e)}}}function hk(e){let t,n;return t=new jP({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:(e[16]?e[17].length:0)+e[62],currentFocusIndex:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};67108864&n[0]&&(r.item=e[60]),67108865&n[0]&&(r.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(r.allowLabelHtml=e[13]),196608&n[0]&&(r.focusIndex=(e[16]?e[17].length:0)+e[62]),268435456&n[0]&&(r.currentFocusIndex=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function gk(e){let t,n,r=Pe(e[26]),o=[];for(let t=0;t<r.length;t+=1)o[t]=hk(HP(e,r,t));const i=e=>Oe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=D()},m(e,r){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,r);x(e,t,r),n=!0},p(e,n){if(335749121&n[0]|1&n[1]){let a;for(r=Pe(e[26]),a=0;a<r.length;a+=1){const i=HP(e,r,a);o[a]?(o[a].p(i,n),Re(o[a],1)):(o[a]=hk(i),o[a].c(),Re(o[a],1),o[a].m(t.parentNode,t))}for(Ae(),a=r.length;a<o.length;a+=1)i(a);Ie()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)Re(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Oe(o[e]);n=!1},d(e){e&&N(t),P(o,e)}}}function mk(e){let t,n,r,o,i,a;t=new NP({props:{text:chrome.i18n.getMessage("dropdown_all_languages")}});const s=[lk,sk],l=[];function c(e,t){return e[18]?0:1}return r=c(e),o=l[r]=s[r](e),{c(){Ce(t.$$.fragment),n=$(),o.c(),i=D()},m(e,o){Le(t,e,o),x(e,n,o),l[r].m(e,o),x(e,i,o),a=!0},p(e,t){let n=r;r=c(e),r===n?l[r].p(e,t):(Ae(),Oe(l[n],1,1,(()=>{l[n]=null})),Ie(),o=l[r],o?o.p(e,t):(o=l[r]=s[r](e),o.c()),Re(o,1),o.m(i.parentNode,i))},i(e){a||(Re(t.$$.fragment,e),Re(o),a=!0)},o(e){Oe(t.$$.fragment,e),Oe(o),a=!1},d(e){e&&(N(n),N(i)),$e(t,e),l[r].d(e)}}}function vk(e){let t,n;return{c(){t=k("div"),n=L(e[21]),G(t,"class","dropdown-footer svelte-1347oyy"),H(t,"is-absolute",e[1])},m(e,r){x(e,t,r),I(t,n)},p(e,r){2097152&r[0]&&F(n,e[21]),2&r[0]&&H(t,"is-absolute",e[1])},d(e){e&&N(t)}}}function _k(e){let t,n,r,i,a,s,l,c,u=e[2]&&YP(e);return{c(){t=k("div"),n=k("button"),r=L(e[24]),i=$(),u&&u.c(),G(n,"aria-haspopup","listbox"),G(n,"id","dropdown_button"),G(n,"aria-labelledby","dropdown_option dropdown_button"),G(n,"aria-expanded",e[2]),G(n,"data-qa",e[5]),G(n,"data-testid",e[5]),G(n,"class","svelte-1347oyy"),H(n,"dropdown-label","original"===e[7]),H(n,"dropdown-label-alternate","alternate"===e[7]),H(n,"dropdown-label-zendesk","zendesk"===e[7]),H(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),H(n,"dropdown-label-full-width",e[10]),H(n,"dropdown-label-borderless",e[11]),H(n,"dropup","up"===e[12]),H(n,"extra-padding",e[14]),G(t,"class",a=m(`dropdown__wrapper ${e[4]}`)+" svelte-1347oyy"),G(t,"style",e[29]),G(t,"role","combobox"),G(t,"aria-expanded",e[2]),G(t,"aria-controls","dropdown_list"),G(t,"tabindex",-1),H(t,"disabled",e[3])},m(o,a){x(o,t,a),I(t,n),I(n,r),e[48](n),I(t,i),u&&u.m(t,null),e[51](t),s=!0,l||(c=[M(n,"click",e[30]),M(n,"mousedown",V(U(e[47]))),M(n,"keydown",e[32]),_(NA.call(null,t,{isShadow:!0})),M(t,"click_outside",e[50]),M(t,"keydown",e[32])],l=!0)},p(e,o){(!s||16777216&o[0])&&F(r,e[24]),(!s||4&o[0])&&G(n,"aria-expanded",e[2]),(!s||32&o[0])&&G(n,"data-qa",e[5]),(!s||32&o[0])&&G(n,"data-testid",e[5]),(!s||128&o[0])&&H(n,"dropdown-label","original"===e[7]),(!s||128&o[0])&&H(n,"dropdown-label-alternate","alternate"===e[7]),(!s||128&o[0])&&H(n,"dropdown-label-zendesk","zendesk"===e[7]),(!s||128&o[0])&&H(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),(!s||1024&o[0])&&H(n,"dropdown-label-full-width",e[10]),(!s||2048&o[0])&&H(n,"dropdown-label-borderless",e[11]),(!s||4096&o[0])&&H(n,"dropup","up"===e[12]),(!s||16384&o[0])&&H(n,"extra-padding",e[14]),e[2]?u?(u.p(e,o),4&o[0]&&Re(u,1)):(u=YP(e),u.c(),Re(u,1),u.m(t,null)):u&&(Ae(),Oe(u,1,1,(()=>{u=null})),Ie()),(!s||16&o[0]&&a!==(a=m(`dropdown__wrapper ${e[4]}`)+" svelte-1347oyy"))&&G(t,"class",a),(!s||536870912&o[0])&&G(t,"style",e[29]),(!s||4&o[0])&&G(t,"aria-expanded",e[2]),(!s||24&o[0])&&H(t,"disabled",e[3])},i(e){s||(Re(u),s=!0)},o(e){Oe(u),s=!1},d(n){n&&N(t),e[48](null),u&&u.d(),e[51](null),l=!1,o(c)}}}function yk(e,t,n){let r,{isOpen:o=!1}=t,{disabled:i=!1}=t,{items:a=[]}=t,{placeholder:s=""}=t,{customClass:l=""}=t,{selectedOption:c}=t,{defaultOption:u}=t,{dataQaButton:d="dl-dropdown-button"}=t,{dataQaList:p="dl-dropdown-list"}=t,{variant:f="original"}=t,{fontSize:h="default"}=t,{alignRight:g=!0}=t,{extraText:m=""}=t,{isFullWidth:v=!1}=t,{isBorderless:_=!1}=t,{direction:y="down"}=t,{allowLabelHtml:T=!1}=t,{showSortCode:S=!1}=t,{extraPadding:b=!1}=t,{dropdownMaxHeight:w=300}=t,{autoHeight:E=!1}=t,{autoFocusOnOpen:A=!0}=t,{adjustHeightToViewport:I=!1}=t,{showRecentlyUsed:R=!1}=t,{recentlyUsedItems:O=[]}=t,{mainItems:x=a}=t,{searchValue:N=""}=t,{isOneColumnLayout:P=!1}=t,{isAlignedToTheRight:k=!1}=t,{searchPlaceholder:C}=t,{footerText:L}=t;const $=ae("deepl_settings");let D,M,U,V,G=0,F={},j={},q={},B=!1,H=[],J=[],z=-1,W=[],Y="visibility: hidden; opacity:0; height:0;";const X=oe();function K(){if(!E)if(Q(),n(23,j.top="auto",j),I)if(F.spaceBelow>F.spaceAbove)n(23,j.height=Math.ceil(.8*F.spaceBelow)+"px",j),n(23,j.maxHeight=Math.ceil(.8*F.spaceBelow),j);else{const e=Math.ceil(.8*F.spaceAbove);n(23,j.height=`${e}px`,j),n(23,j.maxHeight=e,j),n(23,j.top="-"+(e+2)+"px",j)}else if(n(23,j.height=`${w}px`,j),F.spaceBelow>F.spaceAbove)F.spaceBelow<=w&&n(23,j.height=Math.ceil(.8*F.spaceBelow)+"px",j);else{let e=w;F.spaceAbove<=w&&(e=Math.ceil(.8*F.spaceAbove)),n(23,j.height=`${e}px`,j),n(23,j.top="-"+(e+2)+"px",j)}}function Q(){F.spaceAbove=Math.abs(D.getBoundingClientRect().top),F.spaceBelow=Math.abs(window.innerHeight-D.getBoundingClientRect().bottom)}function Z(e){n(2,o=!1),n(44,B=!0),n(0,c=e),n(28,z=-1),$.set({regionalVariant:e.regionalVariant||""})}function ee(){if(-1===z){const e=U.querySelector("input");null==e||e.focus()}else{const e=W[z],t=U.querySelector(`[data-option-value="${e.value}"]`);t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}}ne((()=>{setTimeout((()=>{n(29,Y="")}),100),V=((e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}})(U,(({clientWidth:e})=>{n(42,G=e)}))})),re((()=>{V&&V()}));return e.$$set=e=>{"isOpen"in e&&n(2,o=e.isOpen),"disabled"in e&&n(3,i=e.disabled),"items"in e&&n(33,a=e.items),"placeholder"in e&&n(34,s=e.placeholder),"customClass"in e&&n(4,l=e.customClass),"selectedOption"in e&&n(0,c=e.selectedOption),"defaultOption"in e&&n(35,u=e.defaultOption),"dataQaButton"in e&&n(5,d=e.dataQaButton),"dataQaList"in e&&n(6,p=e.dataQaList),"variant"in e&&n(7,f=e.variant),"fontSize"in e&&n(8,h=e.fontSize),"alignRight"in e&&n(9,g=e.alignRight),"extraText"in e&&n(36,m=e.extraText),"isFullWidth"in e&&n(10,v=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,y=e.direction),"allowLabelHtml"in e&&n(13,T=e.allowLabelHtml),"showSortCode"in e&&n(37,S=e.showSortCode),"extraPadding"in e&&n(14,b=e.extraPadding),"dropdownMaxHeight"in e&&n(15,w=e.dropdownMaxHeight),"autoHeight"in e&&n(38,E=e.autoHeight),"autoFocusOnOpen"in e&&n(39,A=e.autoFocusOnOpen),"adjustHeightToViewport"in e&&n(40,I=e.adjustHeightToViewport),"showRecentlyUsed"in e&&n(16,R=e.showRecentlyUsed),"recentlyUsedItems"in e&&n(17,O=e.recentlyUsedItems),"mainItems"in e&&n(41,x=e.mainItems),"searchValue"in e&&n(1,N=e.searchValue),"isOneColumnLayout"in e&&n(18,P=e.isOneColumnLayout),"isAlignedToTheRight"in e&&n(19,k=e.isAlignedToTheRight),"searchPlaceholder"in e&&n(20,C=e.searchPlaceholder),"footerText"in e&&n(21,L=e.footerText)},e.$$.update=()=>{if(1028&e.$$.dirty[1]&&n(45,r=x||a),2&e.$$.dirty[0]|512&e.$$.dirty[1]&&N&&I&&n(23,j.height="auto",j),458754&e.$$.dirty[0]|16384&e.$$.dirty[1]){const e=N?r.filter((e=>e.label.toLowerCase().includes(N.toLowerCase()))):r;if(P)n(26,H=e),n(27,J=[]);else{const[t,r]=function(e,t=2){if(e.length<t)return[e,[]];const n=Math.ceil(e.length/2);return[e.slice(0,n),e.slice(n)]}(e);n(26,H=t),n(27,J=r)}W=[...R?O:[],...e]}1&e.$$.dirty[0]|16&e.$$.dirty[1]&&(void 0!==c||u&&n(0,c=u)),1&e.$$.dirty[0]|14848&e.$$.dirty[1]&&(c&&((null==q?void 0:q.value)===(null==c?void 0:c.value)&&(null==q?void 0:q.regionalVariant)===(null==c?void 0:c.regionalVariant)||(n(43,q=c),B&&(X("valueselected",{selectedOption:c}),n(44,B=!1)))),G&&Q(),G&&I&&K()),1&e.$$.dirty[0]|104&e.$$.dirty[1]&&n(24,M=c?`${S?c.value:c.selectedOptionLabel}${m?` ${m}`:""}`:`${s}${m?` ${m}`:""}`)},[c,N,o,i,l,d,p,f,h,g,v,_,y,T,b,w,R,O,P,k,C,L,D,j,M,U,H,J,z,Y,function(){"down"===y&&K(),n(2,o=!o),o?(n(28,z=-1),A&&setTimeout((()=>{const e=U.querySelector("input");null==e||e.focus()}),0)):n(28,z=-1)},Z,function(e){if(!o)return;const t=W.length-1;if("Tab"===e.key||"ArrowDown"===e.key)e.preventDefault(),n(28,z=z>=t?-1:z+1),ee();else if("ArrowUp"===e.key)e.preventDefault(),n(28,z=z<=-1?t:z-1),ee();else if("ArrowLeft"===e.key||"ArrowRight"===e.key){if(e.preventDefault(),z>=0){let t=-1;if(z<O.length)P||("ArrowRight"===e.key&&z%2==0?t=z+1:"ArrowLeft"===e.key&&z%2==1&&(t=z-1));else{const n=(R?O.length:0)+H.length;P||("ArrowRight"===e.key&&z<n?t=z+H.length:"ArrowLeft"===e.key&&z>=n&&(t=z-H.length))}t>=0&&t<W.length&&(n(28,z=t),ee())}}else if("Enter"===e.key){if(e.preventDefault(),z>=0){Z(W[z])}else if(-1===z&&W.length>0){Z(W[0])}}else"Escape"===e.key&&(e.preventDefault(),n(2,o=!1),n(28,z=-1))},a,s,u,m,S,E,A,I,x,G,q,B,r,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(e){ce[e?"unshift":"push"]((()=>{D=e,n(22,D)}))},function(e){N=e,n(1,N)},()=>{n(2,o=!1)},function(e){ce[e?"unshift":"push"]((()=>{U=e,n(25,U)}))}]}class Tk extends Ue{constructor(e){super(),Me(this,e,yk,_k,a,{isOpen:2,disabled:3,items:33,placeholder:34,customClass:4,selectedOption:0,defaultOption:35,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:36,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:37,extraPadding:14,dropdownMaxHeight:15,autoHeight:38,autoFocusOnOpen:39,adjustHeightToViewport:40,showRecentlyUsed:16,recentlyUsedItems:17,mainItems:41,searchValue:1,isOneColumnLayout:18,isAlignedToTheRight:19,searchPlaceholder:20,footerText:21},null,[-1,-1,-1])}}function Sk(e,t,n){const r=e.slice();return r[37]=t[n],r}function bk(e){let t,n,r,o,i;return n=new Tk({props:{disabled:e[0],items:e[19],defaultOption:e[20],selectedOption:e[23],placeholder:e[21],dataQaButton:e[13],dataQaList:"deepl-language-selection-list",customClass:e[2],variant:e[4],fontSize:e[5],alignRight:e[6],isBorderless:e[7],showSortCode:e[8],extraPadding:e[9],dropdownMaxHeight:e[10],autoHeight:e[11],autoFocusOnOpen:e[18],showRecentlyUsed:e[14],recentlyUsedItems:e[22],mainItems:e[24],isOneColumnLayout:e[15],adjustHeightToViewport:e[16],isAlignedToTheRight:e[17],searchPlaceholder:chrome.i18n.getMessage("dropdown_search_languages")}}),n.$on("valueselected",e[25]),{c(){t=k("div"),Ce(n.$$.fragment)},m(a,s){x(a,t,s),Le(n,t,null),r=!0,o||(i=M(t,"mousedown",V(U(e[35]))),o=!0)},p(e,t){const r={};1&t[0]&&(r.disabled=e[0]),524288&t[0]&&(r.items=e[19]),1048576&t[0]&&(r.defaultOption=e[20]),8388608&t[0]&&(r.selectedOption=e[23]),2097152&t[0]&&(r.placeholder=e[21]),8192&t[0]&&(r.dataQaButton=e[13]),4&t[0]&&(r.customClass=e[2]),16&t[0]&&(r.variant=e[4]),32&t[0]&&(r.fontSize=e[5]),64&t[0]&&(r.alignRight=e[6]),128&t[0]&&(r.isBorderless=e[7]),256&t[0]&&(r.showSortCode=e[8]),512&t[0]&&(r.extraPadding=e[9]),1024&t[0]&&(r.dropdownMaxHeight=e[10]),2048&t[0]&&(r.autoHeight=e[11]),262144&t[0]&&(r.autoFocusOnOpen=e[18]),16384&t[0]&&(r.showRecentlyUsed=e[14]),4194304&t[0]&&(r.recentlyUsedItems=e[22]),16777216&t[0]&&(r.mainItems=e[24]),32768&t[0]&&(r.isOneColumnLayout=e[15]),65536&t[0]&&(r.adjustHeightToViewport=e[16]),131072&t[0]&&(r.isAlignedToTheRight=e[17]),n.$set(r)},i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){e&&N(t),$e(n),o=!1,i()}}}function wk(t){let n,r,o,i,a=Pe(t[19]),s=[];for(let e=0;e<a.length;e+=1)s[e]=Ek(Sk(t,a,e));return{c(){n=k("div"),r=k("select");for(let e=0;e<s.length;e+=1)s[e].c();r.disabled=!0,G(r,"data-qa","deepl-language-selection-readonly"),G(r,"aria-label","Select Language - dropdown disabled"),G(r,"class","svelte-1e9ugff"),G(n,"class","language-selector read-only svelte-1e9ugff")},m(e,a){x(e,n,a),I(n,r);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(r,null);B(r,t[1]),o||(i=M(r,"change",U(Ik)),o=!0)},p(e,t){if(524288&t[0]){let n;for(a=Pe(e[19]),n=0;n<a.length;n+=1){const o=Sk(e,a,n);s[n]?s[n].p(o,t):(s[n]=Ek(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}524290&t[0]&&B(r,e[1])},i:e,o:e,d(e){e&&N(n),P(s,e),o=!1,i()}}}function Ek(e){let t,n,r,o,i,a=e[37].label+"";return{c(){t=k("option"),n=L(a),r=$(),t.__value=o=e[37].value,j(t,t.__value),G(t,"data-option-regionalvariant",i=e[37].regionalVariant)},m(e,o){x(e,t,o),I(t,n),I(t,r)},p(e,r){524288&r[0]&&a!==(a=e[37].label+"")&&F(n,a),524288&r[0]&&o!==(o=e[37].value)&&(t.__value=o,j(t,t.__value)),524288&r[0]&&i!==(i=e[37].regionalVariant)&&G(t,"data-option-regionalvariant",i)},d(e){e&&N(t)}}}function Ak(e){let t,n,r,o;const i=[wk,bk],a=[];function s(e,t){return e[12]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=D()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,o){let l=t;t=s(e),t===l?a[t].p(e,o):(Ae(),Oe(a[l],1,1,(()=>{a[l]=null})),Ie(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Re(n,1),n.m(r.parentNode,r))},i(e){o||(Re(n),o=!0)},o(e){Oe(n),o=!1},d(e){e&&N(r),a[t].d(e)}}}const Ik=()=>{};function Rk(t,n,r){let o,i,a,s,l,d=e,p=()=>(d(),d=c(v,(e=>r(32,a=e))),v);u(t,wA,(e=>r(33,s=e))),u(t,RA,(e=>r(34,l=e))),t.$$.on_destroy.push((()=>d()));const f=oe();let{value:h}=n,{showChooseLanguageOption:g=!1}=n,{customClass:m=""}=n,{websiteSettings:v}=n;p();let _,y,T,{disabled:S=!1}=n,{variant:b="original"}=n,{fontSize:w="default"}=n,{alignRight:E=!1}=n,{isBorderless:A=!1}=n,{showSortCode:I=!1}=n,{extraPadding:R=!1}=n,{showRegionalVariants:O=!0}=n,{dropdownMaxHeight:x=300}=n,{onlyShowWriteEnabledLanguages:N=!1}=n,{autoHeight:P}=n,{readOnly:k=!1}=n,{placeholderText:C}=n,{dataQaButton:L="deepl-language-selection-button"}=n,{languages:$}=n,{showRecentlyUsed:D=!0}=n,{isOneColumnLayout:M=!1}=n,{adjustHeightToViewport:U=!1}=n,{isAlignedToTheRight:V=!1}=n,{autoFocusOnOpen:G=!0}=n,F=[],j=[];return _=g?chrome.i18n.getMessage("supported_languages_undefined"):void 0,C&&(g=!1,_=C),t.$$set=e=>{"value"in e&&r(1,h=e.value),"showChooseLanguageOption"in e&&r(26,g=e.showChooseLanguageOption),"customClass"in e&&r(2,m=e.customClass),"websiteSettings"in e&&p(r(3,v=e.websiteSettings)),"disabled"in e&&r(0,S=e.disabled),"variant"in e&&r(4,b=e.variant),"fontSize"in e&&r(5,w=e.fontSize),"alignRight"in e&&r(6,E=e.alignRight),"isBorderless"in e&&r(7,A=e.isBorderless),"showSortCode"in e&&r(8,I=e.showSortCode),"extraPadding"in e&&r(9,R=e.extraPadding),"showRegionalVariants"in e&&r(27,O=e.showRegionalVariants),"dropdownMaxHeight"in e&&r(10,x=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&r(28,N=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&r(11,P=e.autoHeight),"readOnly"in e&&r(12,k=e.readOnly),"placeholderText"in e&&r(29,C=e.placeholderText),"dataQaButton"in e&&r(13,L=e.dataQaButton),"languages"in e&&r(30,$=e.languages),"showRecentlyUsed"in e&&r(14,D=e.showRecentlyUsed),"isOneColumnLayout"in e&&r(15,M=e.isOneColumnLayout),"adjustHeightToViewport"in e&&r(16,U=e.adjustHeightToViewport),"isAlignedToTheRight"in e&&r(17,V=e.isAlignedToTheRight),"autoFocusOnOpen"in e&&r(18,G=e.autoFocusOnOpen)},t.$$.update=()=>{if(1476919296&t.$$.dirty[0]|8&t.$$.dirty[1]&&($?r(19,y=$):(r(19,y=O?Co(l):(l||Ye).filter((e=>!["PT-BR","EN-US","ES-419","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?Object.assign(Object.assign({},e),{langCode:"EN"}):"PT-PT"===e.langCode?Object.assign(Object.assign({},e),{langCode:"PT"}):e)).map((e=>{var t;return{value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),isNew:null!==(t=e.isNew)&&void 0!==t&&t}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))),N&&r(19,y=y.filter((e=>{return t=e.value,Ze.map((e=>e.toUpperCase())).includes(t.toUpperCase());var t}))))),540672&t.$$.dirty[0]|5&t.$$.dirty[1]){if(r(31,F=(null==s?void 0:s.recentlyUsedLanguages)||[]),F.length<6){const e=new Set(F),t=Xe.filter((t=>!e.has(t)));r(31,F=[...F,...t])}r(31,F=F.slice(0,6)),r(22,j=D?F.map((e=>y.find((t=>t.value===e)))).filter(Boolean):[])}524288&t.$$.dirty[0]&&r(24,o=y),1572866&t.$$.dirty[0]&&(T||r(20,T=h?y.find((e=>e.value===h)):void 0)),524290&t.$$.dirty[0]&&r(23,i=h?y.find((e=>e.value===h)):void 0),2&t.$$.dirty[1]&&(a&&a.translationState===rt.ongoingTranslation?r(0,S=!0):a&&[rt.none,rt.isTranslationComplete].includes(a.translationState)&&r(0,S=!1))},[S,h,m,v,b,w,E,A,I,R,x,P,k,L,D,M,U,V,G,y,T,_,j,i,o,function(e){if(S)return;const t=e.detail.selectedOption;if(t&&t.value){const e=Mo(s.recentlyUsedLanguages||[],t.value);wA.set({recentlyUsedLanguages:e})}f("selection",e.detail)},g,O,N,C,$,F,a,s,l,function(e){se.call(this,t,e)}]}class Ok extends Ue{constructor(e){super(),Me(this,e,Rk,Ak,a,{value:1,showChooseLanguageOption:26,customClass:2,websiteSettings:3,disabled:0,variant:4,fontSize:5,alignRight:6,isBorderless:7,showSortCode:8,extraPadding:9,showRegionalVariants:27,dropdownMaxHeight:10,onlyShowWriteEnabledLanguages:28,autoHeight:11,readOnly:12,placeholderText:29,dataQaButton:13,languages:30,showRecentlyUsed:14,isOneColumnLayout:15,adjustHeightToViewport:16,isAlignedToTheRight:17,autoFocusOnOpen:18},null,[-1,-1])}}function xk(t){let n,r=jo(),o=r&&function(e){let t,n,r,o;return{c(){t=k("div"),n=L(e[1]),G(t,"class","dev-label svelte-19c1aay"),H(t,"isInline",e[0])},m(i,a){x(i,t,a),I(t,n),r||(o=M(t,"click",e[2]),r=!0)},p(e,r){2&r&&F(n,e[1]),1&r&&H(t,"isInline",e[0])},d(e){e&&N(t),r=!1,o()}}}(t);return{c(){o&&o.c(),n=D()},m(e,t){o&&o.m(e,t),x(e,n,t)},p(e,[t]){r&&o.p(e,t)},i:e,o:e,d(e){e&&N(n),o&&o.d(e)}}}function Nk(e,t,n){let{isInline:r=!1}=t,{text:o="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,r=e.isInline),"text"in e&&n(1,o=e.text)},[r,o,function(){mo({action:ho.dlOpenInternalPage,payload:{destination:CA}})}]}class Pk extends Ue{constructor(e){super(),Me(this,e,Nk,xk,a,{isInline:0,text:1})}}function kk(e){let t,n;const r=e[14].default,o=d(r,e,e[13],null);return{c(){t=k("div"),o&&o.c()},m(e,r){x(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||8192&t)&&h(o,r,e,e[13],n?f(r,e[13],t,null):g(e[13]),null)},i(e){n||(Re(o,e),n=!0)},o(e){Oe(o,e),n=!1},d(e){e&&N(t),o&&o.d(e)}}}function Ck(e){let t,n,r;const o=e[14].default,i=d(o,e,e[13],null);return{c(){t=k("div"),i&&i.c(),G(t,"data-tooltip",e[0]),G(t,"data-testid",e[5]),G(t,"style",n=`${e[6]} ${e[7]}`),G(t,"class","svelte-1yqkvai"),H(t,"multiline",e[1]),H(t,"isFlexItem",e[3]),H(t,"isRTL",e[8]),H(t,"showProShield",e[4])},m(e,n){x(e,t,n),i&&i.m(t,null),r=!0},p(e,a){i&&i.p&&(!r||8192&a)&&h(i,o,e,e[13],r?f(o,e[13],a,null):g(e[13]),null),(!r||1&a)&&G(t,"data-tooltip",e[0]),(!r||32&a)&&G(t,"data-testid",e[5]),(!r||192&a&&n!==(n=`${e[6]} ${e[7]}`))&&G(t,"style",n),(!r||2&a)&&H(t,"multiline",e[1]),(!r||8&a)&&H(t,"isFlexItem",e[3]),(!r||256&a)&&H(t,"isRTL",e[8]),(!r||16&a)&&H(t,"showProShield",e[4])},i(e){r||(Re(i,e),r=!0)},o(e){Oe(i,e),r=!1},d(e){e&&N(t),i&&i.d(e)}}}function Lk(e){let t,n,r,o;const i=[Ck,kk],a=[];function s(e,t){return e[2]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=D()},m(e,n){a[t].m(e,n),x(e,r,n),o=!0},p(e,[o]){let l=t;t=s(e),t===l?a[t].p(e,o):(Ae(),Oe(a[l],1,1,(()=>{a[l]=null})),Ie(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Re(n,1),n.m(r.parentNode,r))},i(e){o||(Re(n),o=!0)},o(e){Oe(n),o=!1},d(e){e&&N(r),a[t].d(e)}}}function $k(e,t,n){let r,o,i,{$$slots:a={},$$scope:s}=t;const{deepl_inline_ui:l}=Tt;let{tooltip:c=!1}=t,{multiline:u=!1}=t,{zIndex:d=l.z_index}=t,{isEnabled:p=!0}=t,{isFlexItem:f=!1}=t,{width:h=null}=t,{parentIsRTL:g=!1}=t,{ignoreTextDirection:m=!1}=t,{showProShield:v=!1}=t,{dataTestId:_}=t;return e.$$set=e=>{"tooltip"in e&&n(0,c=e.tooltip),"multiline"in e&&n(1,u=e.multiline),"zIndex"in e&&n(9,d=e.zIndex),"isEnabled"in e&&n(2,p=e.isEnabled),"isFlexItem"in e&&n(3,f=e.isFlexItem),"width"in e&&n(10,h=e.width),"parentIsRTL"in e&&n(11,g=e.parentIsRTL),"ignoreTextDirection"in e&&n(12,m=e.ignoreTextDirection),"showProShield"in e&&n(4,v=e.showProShield),"dataTestId"in e&&n(5,_=e.dataTestId),"$$scope"in e&&n(13,s=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&n(8,r=g||!m&&"rtl"===$o()),1024&e.$$.dirty&&n(7,o=h?`width: ${h}px`:""),512&e.$$.dirty&&n(6,i=`--tooltip-z-index: ${d};`)},[c,u,p,f,v,_,i,o,r,d,h,g,m,s,a]}class Dk extends Ue{constructor(e){super(),Me(this,e,$k,Lk,a,{tooltip:0,multiline:1,zIndex:9,isEnabled:2,isFlexItem:3,width:10,parentIsRTL:11,ignoreTextDirection:12,showProShield:4,dataTestId:5})}}function Mk(t){let n,r,o,i,a;return{c(){n=k("button"),r=k("span"),G(r,"class","svelte-1s7srmc"),G(n,"aria-label",o=t[0]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),G(n,"class","switch svelte-1s7srmc"),G(n,"data-testid",t[3]),G(n,"data-qa",t[2]),H(n,"checked",t[0]),H(n,"disabled",t[1])},m(e,o){x(e,n,o),I(n,r),i||(a=M(n,"click",t[4]),i=!0)},p(e,[t]){1&t&&o!==(o=e[0]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on"))&&G(n,"aria-label",o),8&t&&G(n,"data-testid",e[3]),4&t&&G(n,"data-qa",e[2]),1&t&&H(n,"checked",e[0]),2&t&&H(n,"disabled",e[1])},i:e,o:e,d(e){e&&N(n),i=!1,a()}}}function Uk(e,t,n){let{checked:r=!1}=t,{disabled:o=!1}=t,{qaRoot:i="dl-switch"}=t,{dataTestId:a="deepl-switch"}=t;const s=oe();return e.$$set=e=>{"checked"in e&&n(0,r=e.checked),"disabled"in e&&n(1,o=e.disabled),"qaRoot"in e&&n(2,i=e.qaRoot),"dataTestId"in e&&n(3,a=e.dataTestId)},[r,o,i,a,function(){o||s("change",{checked:!r})}]}class Vk extends Ue{constructor(e){super(),Me(this,e,Uk,Mk,a,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}const Gk={dlUniqueId:0,fptTranslationState:void 0,translatedDOM:[],observer:void 0,currentTargetLanguage:void 0,lastFptTranslationState:void 0,isLoggedIn:!1,translatorServiceType:void 0},Fk=()=>{Gk.translatedDOM.forEach((e=>{var t,n;zk(e.original,e.clone),Bk(e.original,e.clone),null===(n=(t=e.translationStrategy.domActions).revertTranslationState)||void 0===n||n.call(t,e),qk(e.original,!1)})),jk(),Gk.fptTranslationState=rt.none};bP.subscribe((e=>{Gk.fptTranslationState=e.fptTranslationState,e.translatedDOM&&(Gk.translatedDOM=e.translatedDOM.map((e=>e))),e.fptTranslationState!==Gk.lastFptTranslationState&&(Gk.lastFptTranslationState=e.fptTranslationState,Gk.fptTranslationState===rt.showOriginal&&Fk())})),wA.subscribe((e=>{if(0!==Object.keys(e).length){if(Gk.isLoggedIn=e.isLoggedIn,Gk.translatorServiceType=e.translatorServiceType,Gk.currentTargetLanguage&&Gk.currentTargetLanguage!==e.selectedTargetLanguage){const e=Gk.fptTranslationState!==rt.none;e&&Fk(),bP.update({translatedDOM:[]}),Gk.translatedDOM=[],e&&bP.update({fptTranslationState:rt.none})}Gk.currentTargetLanguage=e.selectedTargetLanguage}}));const jk=()=>{var e,t,n;null===(e=Gk.observer)||void 0===e||e.disconnect(),Gk.observer=void 0,null===(t=Gk.visibilityObserver)||void 0===t||t.disconnect(),Gk.visibilityObserver=void 0,null===(n=Gk.translatedNodeObserver)||void 0===n||n.disconnect(),Gk.translatedNodeObserver=void 0},qk=(e,t)=>{if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(const n of e.childNodes)qk(n,t)}},Bk=(e,t)=>{const n=[];for(;e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(const e of n)t.appendChild(e)},Hk=(e,t)=>{if(null===e.parentNode||null===t.parentNode)return;const n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),Bk(e,t)},Jk=(e,t)=>{var n;if(void 0===t.dataset)return null;if((null===(n=e.dataset)||void 0===n?void 0:n.dlUid)&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(const n of e.childNodes){const e=Jk(n,t);if(null!==e)return e}return null},zk=(e,t)=>{for(const n of t.childNodes){const t=Jk(e,n);if(t){let r;r=t.dataset&&"true"===t.dataset.dlOriginal?t:t.cloneNode(!1),Hk(r,n),zk(e,r)}else zk(e,n)}};function Wk(t){let n,r,o;return{c(){n=k("button"),G(n,"type","button"),G(n,"class","close-icon svelte-nskp1z")},m(e,i){x(e,n,i),r||(o=M(n,"click",t[0]),r=!0)},p:e,i:e,o:e,d(e){e&&N(n),r=!1,o()}}}function Yk(e){return[function(t){se.call(this,e,t)}]}new DOMParser;class Xk extends Ue{constructor(e){super(),Me(this,e,Yk,Wk,a,{})}}function Kk(e){return/\bdark\b/gm.test(e)}!function(){const e={isDarkMode:Kk(document.body.className)},{subscribe:t,update:n}=Eo(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>Object.assign(Object.assign({},e),{isDarkMode:Kk(document.body.className)})))}))}));r.observe(document.body,{attributes:!0}),setTimeout((()=>{PA((()=>{r.disconnect()}))}))}();function Qk(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}function Zk(){return!!document.documentElement.hasAttribute("dark")}!function(){const e={isDarkMode:Qk(document.body.style.backgroundColor)},{subscribe:t,update:n}=Eo(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>Object.assign(Object.assign({},e),{isDarkMode:Qk(document.body.style.backgroundColor)})))}))}));r.observe(document.body,{attributes:!0}),setTimeout((()=>{PA((()=>{r.disconnect()}))}))}(),function(){const e={isDarkMode:Zk()},{subscribe:t,update:n}=Eo(e),r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>Object.assign(Object.assign({},e),{isDarkMode:Zk()})))}))}));r.observe(document,{attributes:!0}),setTimeout((()=>{PA((()=>{r.disconnect()}))}))}(),mP();const eC=[];function tC(t){let n,r=chrome.i18n.getMessage("contact_admin_info_write_disabled")+"";return{c(){n=L(r)},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function nC(t){let n;return{c(){n=k("p"),n.textContent=`${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function rC(t){let n,r,o,i;function a(e,t){return e[0]===xr.TRANSLATOR?nC:e[0]===xr.WRITE?tC:void 0}let s=a(t),l=s&&s(t);return{c(){n=k("div"),r=k("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=$(),i=k("div"),l&&l.c(),G(r,"class","icon svelte-16jsbww"),G(i,"class","text svelte-16jsbww"),G(n,"class","container svelte-16jsbww")},m(e,t){x(e,n,t),I(n,r),I(n,o),I(n,i),l&&l.m(i,null)},p(e,[t]){s===(s=a(e))&&l?l.p(e,t):(l&&l.d(1),l=s&&s(e),l&&(l.c(),l.m(i,null)))},i:e,o:e,d(e){e&&N(n),l&&l.d()}}}function oC(e,t,n){let{serviceName:r}=t;return e.$$set=e=>{"serviceName"in e&&n(0,r=e.serviceName)},[r]}window.onerror=function(e){/ResizeObserver/gm.test(e)&&eC.forEach((e=>e.resize.disconnect()))},mP();class iC extends Ue{constructor(e){super(),Me(this,e,oC,rC,a,{serviceName:0})}}mP(),mP();class aC{diff(e,t,n={}){let r;"function"==typeof n?(r=n,n={}):"callback"in n&&(r=n.callback);const o=this.castInput(e,n),i=this.castInput(t,n),a=this.removeEmpty(this.tokenize(o,n)),s=this.removeEmpty(this.tokenize(i,n));return this.diffWithOptionsObj(a,s,n,r)}diffWithOptionsObj(e,t,n,r){var o;const i=e=>(e=this.postProcess(e,n),r?void setTimeout((function(){r(e)}),0):e),a=t.length,s=e.length;let l=1,c=a+s;null!=n.maxEditLength&&(c=Math.min(c,n.maxEditLength));const u=null!==(o=n.timeout)&&void 0!==o?o:1/0,d=Date.now()+u,p=[{oldPos:-1,lastComponent:void 0}];let f=this.extractCommon(p[0],t,e,0,n);if(p[0].oldPos+1>=s&&f+1>=a)return i(this.buildValues(p[0].lastComponent,t,e));let h=-1/0,g=1/0;const m=()=>{for(let r=Math.max(h,-l);r<=Math.min(g,l);r+=2){let o;const l=p[r-1],c=p[r+1];l&&(p[r-1]=void 0);let u=!1;if(c){const e=c.oldPos-r;u=c&&0<=e&&e<a}const d=l&&l.oldPos+1<s;if(u||d){if(o=!d||u&&l.oldPos<c.oldPos?this.addToPath(c,!0,!1,0,n):this.addToPath(l,!1,!0,1,n),f=this.extractCommon(o,t,e,r,n),o.oldPos+1>=s&&f+1>=a)return i(this.buildValues(o.lastComponent,t,e))||!0;p[r]=o,o.oldPos+1>=s&&(g=Math.min(g,r-1)),f+1>=a&&(h=Math.max(h,r+1))}else p[r]=void 0}l++};if(r)!function e(){setTimeout((function(){if(l>c||Date.now()>d)return r(void 0);m()||e()}),0)}();else for(;l<=c&&Date.now()<=d;){const e=m();if(e)return e}}addToPath(e,t,n,r,o){const i=e.lastComponent;return i&&!o.oneChangePerToken&&i.added===t&&i.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:i.count+1,added:t,removed:n,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:i}}}extractCommon(e,t,n,r,o){const i=t.length,a=n.length;let s=e.oldPos,l=s-r,c=0;for(;l+1<i&&s+1<a&&this.equals(n[s+1],t[l+1],o);)l++,s++,c++,o.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!o.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=s,l}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){const t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){const r=[];let o;for(;e;)r.push(e),o=e.previousComponent,delete e.previousComponent,e=o;r.reverse();const i=r.length;let a=0,s=0,l=0;for(;a<i;a++){const e=r[a];if(e.removed)e.value=this.join(n.slice(l,l+e.count)),l+=e.count;else{if(!e.added&&this.useLongestToken){let r=t.slice(s,s+e.count);r=r.map((function(e,t){const r=n[l+t];return r.length>e.length?r:e})),e.value=this.join(r)}else e.value=this.join(t.slice(s,s+e.count));s+=e.count,e.added||(l+=e.count)}}return r}}const sC=new class extends aC{};var lC,cC,uC,dC={exports:{}};
/*! https://mths.be/he v1.2.0 by @mathias | MIT license */lC||(lC=1,cC=dC,uC=dC.exports,function(e){var t=uC,n=cC.exports==t&&cC,r="object"==typeof $_&&$_;r.global!==r&&r.window!==r||(e=r);var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[\x01-\x7F]/g,a=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,s=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},c=/["&'<>`]/g,u={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},d=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,p=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,f=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,h={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},g={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},m={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},v=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],_=String.fromCharCode,y={}.hasOwnProperty,T=function(e,t){return y.call(e,t)},S=function(e,t){if(!e)return t;var n,r={};for(n in t)r[n]=T(e,n)?e[n]:t[n];return r},b=function(e,t){var n="";return e>=55296&&e<=57343||e>1114111?(t&&A("character reference outside the permissible Unicode range"),"�"):T(m,e)?(t&&A("disallowed character reference"),m[e]):(t&&function(e,t){for(var n=-1,r=e.length;++n<r;)if(e[n]==t)return!0;return!1}(v,e)&&A("disallowed character reference"),e>65535&&(n+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=_(e))},w=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},E=function(e){return"&#"+e+";"},A=function(e){throw Error("Parse error: "+e)},I=function(e,t){(t=S(t,I.options)).strict&&p.test(e)&&A("forbidden code point");var n=t.encodeEverything,r=t.useNamedReferences,u=t.allowUnsafeSymbols,d=t.decimal?E:w,f=function(e){return d(e.charCodeAt(0))};return n?(e=e.replace(i,(function(e){return r&&T(l,e)?"&"+l[e]+";":f(e)})),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(s,(function(e){return"&"+l[e]+";"})))):r?(u||(e=e.replace(c,(function(e){return"&"+l[e]+";"}))),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(s,(function(e){return"&"+l[e]+";"}))):u||(e=e.replace(c,f)),e.replace(o,(function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return d(1024*(t-55296)+n-56320+65536)})).replace(a,f)};I.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var R=function(e,t){var n=(t=S(t,R.options)).strict;return n&&d.test(e)&&A("malformed character reference"),e.replace(f,(function(e,r,o,i,a,s,l,c,u){var d,p,f,m,v,_;return r?h[v=r]:o?(v=o,(_=i)&&t.isAttributeValue?(n&&"="==_&&A("`&` did not start a character reference"),e):(n&&A("named character reference was not terminated by a semicolon"),g[v]+(_||""))):a?(f=a,p=s,n&&!p&&A("character reference was not terminated by a semicolon"),d=parseInt(f,10),b(d,n)):l?(m=l,p=c,n&&!p&&A("character reference was not terminated by a semicolon"),d=parseInt(m,16),b(d,n)):(n&&A("named character reference was not terminated by a semicolon"),e)}))};R.options={isAttributeValue:!1,strict:!1};var O={version:"1.2.0",encode:I,decode:R,escape:function(e){return e.replace(c,(function(e){return u[e]}))},unescape:R};if(t&&!t.nodeType)if(n)n.exports=O;else for(var x in O)T(O,x)&&(t[x]=O[x]);else e.he=O}(dC.exports)),mP();function pC(e,t,n){const r=e.slice();return r[17]=t[n],r}function fC(t){let n,r,o,i,a,s,l,c,u;return{c(){n=k("div"),r=k("div"),o=$(),i=k("div"),a=k("div"),a.textContent=`${chrome.i18n.getMessage("glossary_failed_to_load_message")}`,s=$(),l=k("div"),l.textContent=`${chrome.i18n.getMessage("glossary_failed_try_again")}`,G(r,"class","icon close svelte-no183s"),G(i,"class","content-container svelte-no183s"),G(n,"class","error-info-box svelte-no183s")},m(e,d){x(e,n,d),I(n,r),I(n,o),I(n,i),I(i,a),I(i,s),I(i,l),c||(u=M(r,"click",t[9]),c=!0)},p:e,d(e){e&&N(n),c=!1,u()}}}function hC(e){let t,n,r,o,i,a,s,l,c,u,d,p=e[3].name+"",f=Pe(e[5]),h=[];for(let t=0;t<f.length;t+=1)h[t]=gC(pC(e,f,t));let g=!e[4]&&e[7]&&mC(e);return{c(){t=k("div"),n=k("div"),r=k("div"),o=k("div"),i=L(p),a=$(),s=k("span"),l=$();for(let e=0;e<h.length;e+=1)h[e].c();c=$(),g&&g.c(),G(s,"class","linkout svelte-no183s"),G(r,"class","glossary-name-link svelte-no183s"),G(n,"class","info"),G(t,"class","glossary-item svelte-no183s")},m(p,f){x(p,t,f),I(t,n),I(n,r),I(r,o),I(o,i),I(r,a),I(r,s),I(n,l);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(n,null);I(n,c),g&&g.m(n,null),u||(d=M(o,"click",e[11]),u=!0)},p(e,t){if(8&t&&p!==(p=e[3].name+"")&&F(i,p),32&t){let r;for(f=Pe(e[5]),r=0;r<f.length;r+=1){const o=pC(e,f,r);h[r]?h[r].p(o,t):(h[r]=gC(o),h[r].c(),h[r].m(n,c))}for(;r<h.length;r+=1)h[r].d(1);h.length=f.length}!e[4]&&e[7]?g?g.p(e,t):(g=mC(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},d(e){e&&N(t),P(h,e),g&&g.d(),u=!1,d()}}}function gC(e){let t,n,r=mb(e[17].languagePair)+"";return{c(){t=k("div"),n=L(r),G(t,"class","lang-pair svelte-no183s")},m(e,r){x(e,t,r),I(t,n)},p(e,t){32&t&&r!==(r=mb(e[17].languagePair)+"")&&F(n,r)},d(e){e&&N(t)}}}function mC(t){let n,r,o;return{c(){n=k("div"),n.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}`,G(n,"class","show-more svelte-no183s")},m(e,i){x(e,n,i),r||(o=M(n,"click",t[8]),r=!0)},p:e,d(e){e&&N(n),r=!1,o()}}}function vC(e){let t,n,r,o,i,a,s,l,c,u;s=new Vk({props:{checked:!(!e[2].activeTermbaseId||!e[2].isGlossaryEnabled)}}),s.$on("change",e[14]);let d=e[6]&&e[2].isGlossaryEnabled&&fC(e),p=e[3]&&e[2].isGlossaryEnabled&&hC(e);return{c(){t=k("div"),n=k("div"),r=k("div"),o=k("p"),o.textContent=`${chrome.i18n.getMessage("glossary_label")}`,i=$(),a=k("div"),Ce(s.$$.fragment),l=$(),d&&d.c(),c=$(),p&&p.c(),G(o,"class","svelte-no183s"),G(r,"class","switch-content svelte-no183s"),G(a,"class","switch"),G(n,"class","settings-section switch-container svelte-no183s"),G(t,"class","toggle-container svelte-no183s"),G(t,"data-testid",e[1]),H(t,"no-border",e[0])},m(e,f){x(e,t,f),I(t,n),I(n,r),I(r,o),I(n,i),I(n,a),Le(s,a,null),I(t,l),d&&d.m(t,null),I(t,c),p&&p.m(t,null),u=!0},p(e,[n]){const r={};4&n&&(r.checked=!(!e[2].activeTermbaseId||!e[2].isGlossaryEnabled)),s.$set(r),e[6]&&e[2].isGlossaryEnabled?d?d.p(e,n):(d=fC(e),d.c(),d.m(t,c)):d&&(d.d(1),d=null),e[3]&&e[2].isGlossaryEnabled?p?p.p(e,n):(p=hC(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),(!u||2&n)&&G(t,"data-testid",e[1]),(!u||1&n)&&H(t,"no-border",e[0])},i(e){u||(Re(s.$$.fragment,e),u=!0)},o(e){Oe(s.$$.fragment,e),u=!1},d(e){e&&N(t),$e(s),d&&d.d(),p&&p.d()}}}function _C(e,t,n){let r;u(e,wA,(e=>n(2,r=e)));var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};let i,{noBorder:a=!1}=t,{dataTestId:s=""}=t,l=[],c=!1,d=[],p=!1,f=!1;const h=()=>{if(r.activeTermbaseId&&(n(3,i=((e,t=[])=>{if(!e||0===t.length)return null;if(t.map((e=>e.id)).includes(e))return t.find((t=>t.id===e));return null})(r.activeTermbaseId,l)),i)){const e=i.termDictionaries;e.length<=3||c?n(5,d=e):(n(5,d=e.slice(0,3)),n(7,f=!0))}};function g(e){r.isLoggedIn&&(r.isGlossaryEnabled||r.activeTermbaseId)?(v(wA,r.isGlossaryEnabled=e,r),h()):m()}function m(){mo({action:ho.dlOpenInternalPage,payload:{destination:$A}})}ne((()=>o(void 0,void 0,void 0,(function*(){const e=yield mo({action:so.dlGetUserState});if($y(e)){const[e,t]=yield Fe(void 0,void 0,void 0,(function*(){let e,t=[];try{const[n,r]=yield mo({action:uo.dlRequestTermbases});r?e=r:t=n}catch(t){console.error(t),e=t}return[t,e]}));if(t)return void n(6,p=!0);n(13,l=e),n(6,p=!1)}else v(wA,r.isGlossaryEnabled=!1,r)}))));return e.$$set=e=>{"noBorder"in e&&n(0,a=e.noBorder),"dataTestId"in e&&n(1,s=e.dataTestId)},e.$$.update=()=>{8196&e.$$.dirty&&l&&l.length>0&&r.activeTermbaseId&&h()},[a,s,r,i,c,d,p,f,function(){n(4,c=!0)},function(){n(6,p=!1)},g,m,3,l,e=>g(e.detail.checked)]}class yC extends Ue{constructor(e){super(),Me(this,e,_C,vC,a,{PREVIEW_AMOUNT:12,noBorder:0,dataTestId:1})}get PREVIEW_AMOUNT(){return this.$$.ctx[12]}}function TC(t){let n,r,o,i,a,s;return{c(){n=C("svg"),r=C("g"),o=C("path"),i=C("defs"),a=C("clipPath"),s=C("rect"),G(o,"fill","currentColor"),G(o,"fill-rule","evenodd"),G(o,"d","M2.41663 10.0001C2.41663 5.81192 5.8118 2.41675 9.99996 2.41675C14.1881 2.41675 17.5833 5.81192 17.5833 10.0001C17.5833 14.1882 14.1881 17.5834 9.99996 17.5834C5.8118 17.5834 2.41663 14.1882 2.41663 10.0001ZM9.99996 0.916748C4.98337 0.916748 0.916626 4.98349 0.916626 10.0001C0.916626 15.0167 4.98337 19.0834 9.99996 19.0834C15.0165 19.0834 19.0833 15.0167 19.0833 10.0001C19.0833 4.98349 15.0165 0.916748 9.99996 0.916748ZM10.75 10.0001C10.75 9.58587 10.4142 9.25008 9.99996 9.25008C9.58574 9.25008 9.24996 9.58587 9.24996 10.0001V13.3334C9.24996 13.7476 9.58574 14.0834 9.99996 14.0834C10.4142 14.0834 10.75 13.7476 10.75 13.3334V10.0001ZM9.99996 5.66675C9.44768 5.66675 8.99996 6.11446 8.99996 6.66675C8.99996 7.21903 9.44768 7.66675 9.99996 7.66675H10.0083C10.5606 7.66675 11.0083 7.21903 11.0083 6.66675C11.0083 6.11446 10.5606 5.66675 10.0083 5.66675H9.99996Z"),G(o,"clip-rule","evenodd"),G(o,"vector-effect","non-scaling-stroke"),G(r,"clip-path","url(#clip0_1_399)"),G(s,"width","20"),G(s,"height","20"),G(s,"fill","currentColor"),G(a,"id","clip0_1_399"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(n,"width","20"),G(n,"height","20"),G(n,"fill","none"),G(n,"class","Icon Icon--directional"),G(n,"data-name","InformationCircleSmall"),G(n,"viewBox","0 0 20 20")},m(e,t){x(e,n,t),I(n,r),I(r,o),I(n,i),I(i,a),I(a,s)},p:e,i:e,o:e,d(e){e&&N(n)}}}class SC extends Ue{constructor(e){super(),Me(this,e,null,TC,a,{})}}function bC(e){let t,n,r,o,i,a,s,l;return o=new Dk({props:{zIndex:300,tooltip:e[4],multiline:!0,$$slots:{default:[wC]},$$scope:{ctx:e}}}),s=new Vk({props:{checked:e[3].enableInlineHighlights}}),s.$on("change",e[7]),{c(){t=k("div"),n=k("div"),r=k("div"),Ce(o.$$.fragment),i=$(),a=k("div"),Ce(s.$$.fragment),G(r,"class","switch-content svelte-120qbeq"),G(a,"class","switch"),G(n,"class","settings-section switch-container svelte-120qbeq"),G(t,"class","toggle-container svelte-120qbeq"),G(t,"data-testid",e[1]),H(t,"no-border",e[0])},m(e,c){x(e,t,c),I(t,n),I(n,r),Le(o,r,null),I(n,i),I(n,a),Le(s,a,null),l=!0},p(e,n){const r={};4096&n&&(r.$$scope={dirty:n,ctx:e}),o.$set(r);const i={};8&n&&(i.checked=e[3].enableInlineHighlights),s.$set(i),(!l||2&n)&&G(t,"data-testid",e[1]),(!l||1&n)&&H(t,"no-border",e[0])},i(e){l||(Re(o.$$.fragment,e),Re(s.$$.fragment,e),l=!0)},o(e){Oe(o.$$.fragment,e),Oe(s.$$.fragment,e),l=!1},d(e){e&&N(t),$e(o),$e(s)}}}function wC(t){let n,r,o,i,a;return r=new SC({}),{c(){n=k("div"),Ce(r.$$.fragment),o=$(),i=k("p"),i.textContent=`${t[5]}`,G(i,"class","svelte-120qbeq"),G(n,"class","label-with-icon svelte-120qbeq")},m(e,t){x(e,n,t),Le(r,n,null),I(n,o),I(n,i),a=!0},p:e,i(e){a||(Re(r.$$.fragment,e),a=!0)},o(e){Oe(r.$$.fragment,e),a=!1},d(e){e&&N(n),$e(r)}}}function EC(e){let t,n,r=e[2]&&bC(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,[n]){e[2]?r?(r.p(e,n),4&n&&Re(r,1)):(r=bC(e),r.c(),Re(r,1),r.m(t.parentNode,t)):r&&(Ae(),Oe(r,1,1,(()=>{r=null})),Ie())},i(e){n||(Re(r),n=!0)},o(e){Oe(r),n=!1},d(e){e&&N(t),r&&r.d(e)}}}function AC(e,t,n){let r,o;u(e,wA,(e=>n(3,o=e)));let{noBorder:i=!1}=t,{dataTestId:a=""}=t;const s=["en","de","es","fr","it"],l=chrome.i18n.getUILanguage(),c=l?Po(l).toLowerCase():null,d=!!c&&s.includes(c),p=chrome.i18n.getMessage("inline_corrections_tooltip"),f=chrome.i18n.getMessage("inline_corrections_label");function h(e){v(wA,o.enableInlineHighlights=e,o),mo(e?{action:po.dlTrackUILocationClicked,payload:ir}:{action:po.dlTrackUILocationClicked,payload:ar})}return e.$$set=e=>{"noBorder"in e&&n(0,i=e.noBorder),"dataTestId"in e&&n(1,a=e.dataTestId)},n(2,r=d&&(null==p?void 0:p.length)>0&&(null==f?void 0:f.length)>0),[i,a,r,o,p,f,h,e=>h(e.detail.checked)]}class IC extends Ue{constructor(e){super(),Me(this,e,AC,EC,a,{noBorder:0,dataTestId:1})}}function RC(e){return"function"==typeof e}function OC(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var xC=OC((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function NC(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var PC=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=qe(i),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(RC(l))try{l()}catch(e){o=e instanceof xC?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=qe(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{LC(p)}catch(e){o=null!=o?o:[],e instanceof xC?o=He(He([],Be(o)),Be(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(o)throw new xC(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)LC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&NC(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&NC(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),kC=PC.EMPTY;function CC(e){return e instanceof PC||e&&"closed"in e&&RC(e.remove)&&RC(e.add)&&RC(e.unsubscribe)}function LC(e){RC(e)?e():e.unsubscribe()}var $C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},DC={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,He([e,t],Be(n)))},clearTimeout:function(e){var t=DC.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function MC(e){DC.setTimeout((function(){throw e}))}function UC(){}function VC(e){e()}var GC=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,CC(t)&&t.add(n)):n.destination=BC,n}return Ge(t,e),t.create=function(e,t,n){return new jC(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(PC),FC=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){qC(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){qC(e)}else qC(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){qC(e)}},e}(),jC=function(e){function t(t,n,r){var o,i=e.call(this)||this;return o=RC(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,i.destination=new FC(o),i}return Ge(t,e),t}(GC);function qC(e){MC(e)}var BC={closed:!0,next:UC,error:function(e){throw e},complete:UC},HC="function"==typeof Symbol&&Symbol.observable||"@@observable";function JC(e){return e}var zC=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof GC||function(e){return e&&RC(e.next)&&RC(e.error)&&RC(e.complete)}(r)&&CC(r)?e:new jC(e,t,n);return VC((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=WC(t))((function(t,r){var o=new jC({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[HC]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?JC:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=WC(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function WC(e){var t;return null!==(t=null!=e?e:$C.Promise)&&void 0!==t?t:Promise}function YC(e){return function(t){if(function(e){return RC(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function XC(e,t,n,r,o){return new KC(e,t,n,r,o)}var KC=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Ge(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(GC),QC=OC((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ZC=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ge(t,e),t.prototype.lift=function(e){var t=new eL(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new QC},t.prototype.next=function(e){var t=this;VC((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=qe(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;VC((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;VC((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?kC:(this.currentObservers=null,i.push(e),new PC((function(){t.currentObservers=null,NC(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new zC;return e.source=this,e},t.create=function(e,t){return new eL(e,t)},t}(zC),eL=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Ge(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:kC},t}(ZC),tL=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Ge(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ZC),nL={now:function(){return(nL.delegate||Date).now()},delegate:void 0};function rL(e){return e[e.length-1]}function oL(e){return(t=rL(e))&&RC(t.schedule)?e.pop():void 0;var t}var iL=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function aL(e){return RC(null==e?void 0:e.then)}function sL(e){return RC(e[HC])}function lL(e){return Symbol.asyncIterator&&RC(null==e?void 0:e[Symbol.asyncIterator])}function cL(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var uL="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function dL(e){return RC(null==e?void 0:e[uL])}function pL(e){return ze(this,arguments,(function(){var t,n,r;return je(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Je(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Je(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Je(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function fL(e){return RC(null==e?void 0:e.getReader)}function hL(e){if(e instanceof zC)return e;if(null!=e){if(sL(e))return r=e,new zC((function(e){var t=r[HC]();if(RC(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(iL(e))return n=e,new zC((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(aL(e))return function(e){return new zC((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,MC)}))}(e);if(lL(e))return gL(e);if(dL(e))return t=e,new zC((function(e){var n,r;try{for(var o=qe(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(fL(e))return gL(pL(e))}var t,n,r;throw cL(e)}function gL(e){return new zC((function(t){(function(e,t){var n,r,o,i;return Fe(this,void 0,void 0,(function(){var a,s;return je(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=We(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function mL(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function vL(e,t){return void 0===t&&(t=0),YC((function(n,r){n.subscribe(XC(r,(function(n){return mL(r,e,(function(){return r.next(n)}),t)}),(function(){return mL(r,e,(function(){return r.complete()}),t)}),(function(n){return mL(r,e,(function(){return r.error(n)}),t)})))}))}function _L(e,t){return void 0===t&&(t=0),YC((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function yL(e,t){if(!e)throw new Error("Iterable cannot be null");return new zC((function(n){mL(n,t,(function(){var r=e[Symbol.asyncIterator]();mL(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function TL(e,t){if(null!=e){if(sL(e))return function(e,t){return hL(e).pipe(_L(t),vL(t))}(e,t);if(iL(e))return function(e,t){return new zC((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(aL(e))return function(e,t){return hL(e).pipe(_L(t),vL(t))}(e,t);if(lL(e))return yL(e,t);if(dL(e))return function(e,t){return new zC((function(n){var r;return mL(n,t,(function(){r=e[uL](),mL(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return RC(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(fL(e))return function(e,t){return yL(pL(e),t)}(e,t)}throw cL(e)}function SL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e,t){return t?TL(e,t):hL(e)}(e,oL(e))}function bL(e,t){return YC((function(n,r){var o=0;n.subscribe(XC(r,(function(n){r.next(e.call(t,n,o++))})))}))}function wL(e,t){return YC((function(n,r){var o=0;n.subscribe(XC(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function EL(e,t){return YC(function(e,t,n){return function(r,o){var i=n,a=t,s=0;r.subscribe(XC(o,(function(t){var n=s++;a=i?e(a,t,n):(i=!0,t)}),(function(){i&&o.next(a),o.complete()})))}}(e,t,arguments.length>=2))}function AL(e,t){return void 0===t&&(t=JC),e=null!=e?e:IL,YC((function(n,r){var o,i=!0;n.subscribe(XC(r,(function(n){var a=t(n);!i&&e(o,a)||(i=!1,o=a,r.next(n))})))}))}function IL(e,t){return e===t}function RL(){return YC((function(e,t){var n,r=!1;e.subscribe(XC(t,(function(e){var o=n;n=e,r&&t.next([o,e]),r=!0})))}))}function OL(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new ZC}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,a=void 0===i||i,s=e.resetOnRefCountZero,l=void 0===s||s;return function(e){var t,r,i,s=0,c=!1,u=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=i=void 0,c=u=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return YC((function(e,h){s++,u||c||d();var g=i=null!=i?i:n();h.add((function(){0!==--s||u||c||(r=xL(f,l))})),g.subscribe(h),!t&&s>0&&(t=new jC({next:function(e){return g.next(e)},error:function(e){u=!0,d(),r=xL(p,o,e),g.error(e)},complete:function(){c=!0,d(),r=xL(p,a),g.complete()}}),hL(e).subscribe(t))}))(e)}}function xL(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new jC({next:function(){o.unsubscribe(),e()}});return hL(t.apply(void 0,He([],Be(n)))).subscribe(o)}}else e()}function NL(e,t){return YC((function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(XC(r,(function(n){null==o||o.unsubscribe();var a=0,l=i++;hL(e(n,l)).subscribe(o=XC(r,(function(e){return r.next(t?t(n,e,l,a++):e)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))}function PL(e){return YC((function(t,n){hL(e).subscribe(XC(n,(function(){return n.complete()}),UC)),!n.closed&&t.subscribe(n)}))}function kL(e){return void 0===e&&(e=nL),bL((function(t){return{value:t,timestamp:e.now()}}))}function CL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=RC(rL(n=e))?n.pop():void 0;return YC((function(t,n){for(var o=e.length,i=new Array(o),a=e.map((function(){return!1})),s=!1,l=function(t){hL(e[t]).subscribe(XC(n,(function(e){i[t]=e,s||a[t]||(a[t]=!0,(s=a.every(JC))&&(a=null))}),UC))},c=0;c<o;c++)l(c);t.subscribe(XC(n,(function(e){if(s){var t=He([e],Be(i));n.next(r?r.apply(void 0,He([],Be(t))):t)}})))}))}
/**
	 * @license
	 * MIT License
	 * 
	 * Copyright (c) 2014-present, Lee Byron and other contributors.
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.
	 */var LL="delete",$L=32,DL=31,ML={};function UL(e){e&&(e.value=!0)}function VL(){}function GL(e){return void 0===e.size&&(e.size=e.__iterate(jL)),e.size}function FL(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?GL(e)+t:t}function jL(){return!0}function qL(e,t,n){return(0===e&&!zL(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function BL(e,t){return JL(e,t,0)}function HL(e,t){return JL(e,t,t)}function JL(e,t,n){return void 0===e?n:zL(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function zL(e){return e<0||0===e&&1/e==-1/0}var WL="@@__IMMUTABLE_ITERABLE__@@";function YL(e){return Boolean(e&&e[WL])}var XL="@@__IMMUTABLE_KEYED__@@";function KL(e){return Boolean(e&&e[XL])}var QL="@@__IMMUTABLE_INDEXED__@@";function ZL(e){return Boolean(e&&e[QL])}function e$(e){return KL(e)||ZL(e)}var t$=function(e){return YL(e)?e:E$(e)},n$=function(e){function t(e){return KL(e)?e:A$(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(t$),r$=function(e){function t(e){return ZL(e)?e:I$(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(t$),o$=function(e){function t(e){return YL(e)&&!e$(e)?e:R$(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}(t$);t$.Keyed=n$,t$.Indexed=r$,t$.Set=o$;var i$="@@__IMMUTABLE_SEQ__@@";function a$(e){return Boolean(e&&e[i$])}var s$="@@__IMMUTABLE_RECORD__@@";function l$(e){return Boolean(e&&e[s$])}function c$(e){return YL(e)||l$(e)}var u$="@@__IMMUTABLE_ORDERED__@@";function d$(e){return Boolean(e&&e[u$])}var p$="function"==typeof Symbol&&Symbol.iterator,f$="@@iterator",h$=p$||f$,g$=function(e){this.next=e};function m$(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function v$(){return{value:void 0,done:!0}}function _$(e){return!!Array.isArray(e)||!!S$(e)}function y$(e){return e&&"function"==typeof e.next}function T$(e){var t=S$(e);return t&&t.call(e)}function S$(e){var t=e&&(p$&&e[p$]||e[f$]);if("function"==typeof t)return t}g$.prototype.toString=function(){return"[Iterator]"},g$.KEYS=0,g$.VALUES=1,g$.ENTRIES=2,g$.prototype.inspect=g$.prototype.toSource=function(){return this.toString()},g$.prototype[h$]=function(){return this};var b$=Object.prototype.hasOwnProperty;function w$(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var E$=function(e){function t(e){return null==e?k$():c$(e)?e.toSeq():function(e){var t=$$(e);if(t)return(r=S$(n=e))&&r===n.entries?t.fromEntrySeq():function(e){var t=S$(e);return t&&t===e.keys}(e)?t.toSetSeq():t;var n,r;if("object"==typeof e)return new x$(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[t?r-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,o=0;return new g$((function(){if(o===r)return{value:void 0,done:!0};var i=n[t?r-++o:o++];return m$(e,i[0],i[1])}))}return this.__iteratorUncached(e,t)},t}(t$),A$=function(e){function t(e){return null==e?k$().toKeyedSeq():YL(e)?KL(e)?e.toSeq():e.fromEntrySeq():l$(e)?e.toSeq():C$(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(E$),I$=function(e){function t(e){return null==e?k$():YL(e)?KL(e)?e.entrySeq():e.toIndexedSeq():l$(e)?e.toSeq().entrySeq():L$(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(E$),R$=function(e){function t(e){return(YL(e)&&!e$(e)?e:I$(e)).toSetSeq()}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(E$);E$.isSeq=a$,E$.Keyed=A$,E$.Set=R$,E$.Indexed=I$,E$.prototype[i$]=!0;var O$=function(e){function t(e){this._array=e,this.size=e.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[FL(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,o=0;o!==r;){var i=t?r-++o:o++;if(!1===e(n[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,o=0;return new g$((function(){if(o===r)return{value:void 0,done:!0};var i=t?r-++o:o++;return m$(e,i,n[i])}))},t}(I$),x$=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return b$.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[t?o-++i:i++];if(!1===e(n[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length,i=0;return new g$((function(){if(i===o)return{value:void 0,done:!0};var a=r[t?o-++i:i++];return m$(e,a,n[a])}))},t}(A$);x$.prototype[u$]=!0;var N$,P$=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=T$(this._collection),r=0;if(y$(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=T$(this._collection);if(!y$(n))return new g$(v$);var r=0;return new g$((function(){var t=n.next();return t.done?t:m$(e,r++,t.value)}))},t}(I$);function k$(){return N$||(N$=new O$([]))}function C$(e){var t=$$(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new x$(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function L$(e){var t=$$(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function $$(e){return w$(e)?new O$(e):_$(e)?new P$(e):void 0}var D$="@@__IMMUTABLE_MAP__@@";function M$(e){return Boolean(e&&e[D$])}function U$(e){return M$(e)&&d$(e)}function V$(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function G$(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(V$(e)&&V$(t)&&e.equals(t))}var F$="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function j$(e){return e>>>1&1073741824|3221225471&e}var q$=Object.prototype.valueOf;function B$(e){if(null==e)return H$(e);if("function"==typeof e.hashCode)return j$(e.hashCode(e));var t,n=(t=e).valueOf!==q$&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==n)return H$(n);switch(typeof n){case"boolean":return n?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return j$(t)}(n);case"string":return n.length>tD?function(e){var t=oD[e];void 0===t&&(t=J$(e),rD===nD&&(rD=0,oD={}),rD++,oD[e]=t);return t}(n):J$(n);case"object":case"function":return function(e){var t;if(K$&&void 0!==(t=X$.get(e)))return t;if(t=e[eD],void 0!==t)return t;if(!W$){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[eD]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=Y$(),K$)X$.set(e,t);else{if(void 0!==z$&&!1===z$(e))throw new Error("Non-extensible objects are not allowed as keys.");if(W$)Object.defineProperty(e,eD,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[eD]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[eD]=t}}return t}(n);case"symbol":return function(e){var t=Q$[e];if(void 0!==t)return t;return t=Y$(),Q$[e]=t,t}(n);default:if("function"==typeof n.toString)return J$(n.toString());throw new Error("Value type "+typeof n+" cannot be hashed.")}}function H$(e){return null===e?1108378658:1108378659}function J$(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return j$(t)}var z$=Object.isExtensible,W$=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Y$(){var e=++Z$;return 1073741824&Z$&&(Z$=0),e}var X$,K$="function"==typeof WeakMap;K$&&(X$=new WeakMap);var Q$=Object.create(null),Z$=0,eD="__immutablehash__";"function"==typeof Symbol&&(eD=Symbol(eD));var tD=16,nD=255,rD=0,oD={},iD=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=dD(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=uD(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t,r){return e(t,r,n)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(A$);iD.prototype[u$]=!0;var aD=function(e){function t(e){this._iter=e,this.size=e.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&GL(this),this._iter.__iterate((function(o){return e(o,t?n.size-++r:r++,n)}),t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(1,t),o=0;return t&&GL(this),new g$((function(){var i=r.next();return i.done?i:m$(e,t?n.size-++o:o++,i.value,i)}))},t}(I$),sD=function(e){function t(e){this._iter=e,this.size=e.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new g$((function(){var t=n.next();return t.done?t:m$(e,t.value,t.value,t)}))},t}(R$),lD=function(e){function t(e){this._iter=e,this.size=e.size}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){bD(t);var r=YL(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new g$((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){bD(r);var o=YL(r);return m$(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},t}(A$);function cD(e){var t=ED(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=AD,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new g$((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function uD(e,t,n){var r=ED(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,ML);return i===ML?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(2,o);return new g$((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return m$(r,s,t.call(n,a[1],s,e),o)}))},r}function dD(e,t){var n=this,r=ED(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=cD(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=AD,r.__iterate=function(n,r){var o=this,i=0;return r&&GL(e),e.__iterate((function(e,a){return n(e,t?a:r?o.size-++i:i++,o)}),!r)},r.__iterator=function(r,o){var i=0;o&&GL(e);var a=e.__iterator(2,!o);return new g$((function(){var e=a.next();if(e.done)return e;var s=e.value;return m$(r,t?s[0]:o?n.size-++i:i++,s[1],e)}))},r}function pD(e,t,n,r){var o=ED(e);return r&&(o.has=function(r){var o=e.get(r,ML);return o!==ML&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,ML);return i!==ML&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(2,i),s=0;return new g$((function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return m$(o,r?c:s++,u,i)}}))},o}function fD(e,t,n,r){var o=e.size;if(qL(t,n,o))return e;if(void 0===o&&(t<0||n<0))return fD(e.toSeq().cacheResult(),t,n,r);var i,a=BL(t,o),s=HL(n,o)-a;s==s&&(i=s<0?0:s);var l=ED(e);return l.size=0===i?i:e.size&&i||void 0,!r&&a$(e)&&i>=0&&(l.get=function(t,n){return(t=FL(this,t))>=0&&t<i?e.get(t+a,n):n}),l.__iterateUncached=function(t,n){var o=this;if(0===i)return 0;if(n)return this.cacheResult().__iterate(t,n);var s=0,l=!0,c=0;return e.__iterate((function(e,n){if(!l||!(l=s++<a))return c++,!1!==t(e,r?n:c-1,o)&&c!==i})),c},l.__iteratorUncached=function(t,n){if(0!==i&&n)return this.cacheResult().__iterator(t,n);if(0===i)return new g$(v$);var o=e.__iterator(t,n),s=0,l=0;return new g$((function(){for(;s++<a;)o.next();if(++l>i)return{value:void 0,done:!0};var e=o.next();return r||1===t||e.done?e:m$(t,l-1,0===t?void 0:e.value[1],e)}))},l}function hD(e,t,n,r){var o=ED(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate((function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return l++,o(e,r?i:l-1,a)})),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(2,i),l=!0,c=0;return new g$((function(){var e,i,u;do{if((e=s.next()).done)return r||1===o?e:m$(o,c++,0===o?void 0:e.value[1],e);var d=e.value;i=d[0],u=d[1],l&&(l=t.call(n,u,i,a))}while(l);return 2===o?e:m$(o,i,u,e)}))},o}aD.prototype.cacheResult=iD.prototype.cacheResult=sD.prototype.cacheResult=lD.prototype.cacheResult=AD;var gD=function(e){function t(e){this._wrappedIterables=e.flatMap((function(e){return e._wrappedIterables?e._wrappedIterables:[e]})),this.size=this._wrappedIterables.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),this[XL]=this._wrappedIterables[0][XL],this[QL]=this._wrappedIterables[0][QL],this[u$]=this._wrappedIterables[0][u$]}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(0!==this._wrappedIterables.length){if(t)return this.cacheResult().__iterate(e,t);for(var n=0,r=KL(this),o=r?2:1,i=this._wrappedIterables[n].__iterator(o,t),a=!0,s=0;a;){for(var l=i.next();l.done;){if(++n===this._wrappedIterables.length)return s;l=(i=this._wrappedIterables[n].__iterator(o,t)).next()}a=!1!==(r?e(l.value[1],l.value[0],this):e(l.value,s,this)),s++}return s}},t.prototype.__iteratorUncached=function(e,t){var n=this;if(0===this._wrappedIterables.length)return new g$(v$);if(t)return this.cacheResult().__iterator(e,t);var r=0,o=this._wrappedIterables[r].__iterator(e,t);return new g$((function(){for(var i=o.next();i.done;){if(++r===n._wrappedIterables.length)return i;i=(o=n._wrappedIterables[r].__iterator(e,t)).next()}return i}))},t}(E$);function mD(e,t,n){var r=ED(e);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function e(l,c){l.__iterate((function(i,l){return(!t||c<t)&&YL(i)?e(i,c+1):(a++,!1===o(i,n?l:a-1,r)&&(s=!0)),!s}),i)}(e,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(r,o),a=[],s=0;return new g$((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(2===r&&(l=l[1]),t&&!(a.length<t)||!YL(l))return n?e:m$(r,s++,l,e);a.push(i),i=l.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}}))},r}function vD(e,t,n){t||(t=ID);var r=KL(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).valueSeq().toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?A$(i):ZL(e)?I$(i):R$(i)}function _D(e,t,n){if(t||(t=ID),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return yD(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return yD(t,e,n)?n:e}))}function yD(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function TD(e,t,n,r){var o=ED(e),i=new O$(n).map((function(e){return e.size}));return o.size=r?i.max():i.min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map((function(e){return e=t$(e),T$(o?e.reverse():e)})),a=0,s=!1;return new g$((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=r?n.every((function(e){return e.done})):n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:m$(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function SD(e,t){return e===t?e:a$(e)?t:e.constructor(t)}function bD(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function wD(e){return KL(e)?n$:ZL(e)?r$:o$}function ED(e){return Object.create((KL(e)?A$:ZL(e)?I$:R$).prototype)}function AD(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):E$.prototype.cacheResult.call(this)}function ID(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function RD(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function OD(e,t){if(!e)throw new Error(t)}function xD(e){OD(e!==1/0,"Cannot perform this action with an infinite size.")}function ND(e){if(w$(e)&&"string"!=typeof e)return e;if(d$(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var PD=Object.prototype.toString;function kD(e){return"object"==typeof e&&(c$(e)||Array.isArray(e)||function(e){if(!e||"object"!=typeof e||"[object Object]"!==PD.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t,r=Object.getPrototypeOf(t);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===t}(e))}function CD(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function LD(e,t,n){return c$(e)?e.get(t,n):function(e,t){return c$(e)?e.has(t):kD(e)&&b$.call(e,t)}(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function $D(e){if(Array.isArray(e))return RD(e);var t={};for(var n in e)b$.call(e,n)&&(t[n]=e[n]);return t}function DD(e,t,n,r){r||(r=n,n=void 0);var o=MD(c$(e),e,ND(t),0,n,r);return o===ML?n:o}function MD(e,t,n,r,o,i){var a=t===ML;if(r===n.length){var s=a?o:t,l=i(s);return l===s?t:l}if(!a&&!kD(t))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(n).slice(0,r).map(CD)+"]: "+t);var c=n[r],u=a?ML:LD(t,c,ML),d=MD(u===ML?e:c$(u),u,n,r+1,o,i);return d===u?t:d===ML?function(e,t){if(!kD(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(c$(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!b$.call(e,t))return e;var n=$D(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}(t,c):function(e,t,n){if(!kD(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(c$(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(b$.call(e,t)&&n===e[t])return e;var r=$D(e);return r[t]=n,r}(a?e?hM():{}:t,c,d)}function UD(e,t){return function(e,t,n){return DD(e,t,ML,(function(){return n}))}(this,e,t)}function VD(e){return function(e,t){return DD(e,t,(function(){return ML}))}(this,e)}function GD(e,t,n,r){return DD(e,[t],n,r)}function FD(e,t,n){return 1===arguments.length?e(this):GD(this,e,t,n)}function jD(e,t,n){return DD(this,e,t,n)}function qD(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return HD(this,e)}function BD(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return HD(this,t,e)}function HD(e,t,n){for(var r=[],o=0;o<t.length;o++){var i=n$(t[o]);0!==i.size&&r.push(i)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var t=n?function(t,r){GD(e,r,ML,(function(e){return e===ML?t:n(e,t,r)}))}:function(t,n){e.set(n,t)},o=0;o<r.length;o++)r[o].forEach(t)})):l$(e)?e:e.constructor(r[0])}function JD(e,t,n){return zD(e,t,function(e){function t(n,r,o){return kD(n)&&kD(r)&&(i=r,a=E$(n),s=E$(i),ZL(a)===ZL(s)&&KL(a)===KL(s))?zD(n,[r],t):e?e(n,r,o):r;var i,a,s}return t}(n))}function zD(e,t,n){if(!kD(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(c$(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,i=r?r$:n$,a=r?function(t){o===e&&(o=$D(o)),o.push(t)}:function(t,r){var i=b$.call(o,r),a=i&&n?n(o[r],t,r):t;i&&a===o[r]||(o===e&&(o=$D(o)),o[r]=a)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function WD(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return JD(this,e)}function YD(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return JD(this,t,e)}function XD(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return DD(this,e,hM(),(function(e){return zD(e,t)}))}function KD(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return DD(this,e,hM(),(function(e){return JD(e,t)}))}function QD(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function ZD(){return this.__ownerID?this:this.__ensureOwner(new VL)}function eM(){return this.__ensureOwner()}function tM(){return this.__altered}var nM=function(e){function t(t){return null==t?hM():M$(t)&&!d$(t)?t:hM().withMutations((function(n){var r=e(t);xD(r.size),r.forEach((function(e,t){return n.set(t,e)}))}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return gM(this,e,t)},t.prototype.remove=function(e){return gM(this,e,ML)},t.prototype.deleteAll=function(e){var t=t$(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):hM()},t.prototype.sort=function(e){return VM(vD(this,e))},t.prototype.sortBy=function(e,t){return VM(vD(this,t,e))},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){r.forEach((function(o,i){r.set(i,e.call(t,o,i,n))}))}))},t.prototype.__iterator=function(e,t){return new uM(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?fM(this.size,this._root,e,this.__hash):0===this.size?hM():(this.__ownerID=e,this.__altered=!1,this)},t}(n$);nM.isMap=M$;var rM=nM.prototype;rM[D$]=!0,rM[LL]=rM.remove,rM.removeAll=rM.deleteAll,rM.setIn=UD,rM.removeIn=rM.deleteIn=VD,rM.update=FD,rM.updateIn=jD,rM.merge=rM.concat=qD,rM.mergeWith=BD,rM.mergeDeep=WD,rM.mergeDeepWith=YD,rM.mergeIn=XD,rM.mergeDeepIn=KD,rM.withMutations=QD,rM.wasAltered=tM,rM.asImmutable=eM,rM["@@transducer/init"]=rM.asMutable=ZD,rM["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},rM["@@transducer/result"]=function(e){return e.asImmutable()};var oM=function(e,t){this.ownerID=e,this.entries=t};oM.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(G$(n,o[i][0]))return o[i][1];return r},oM.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===ML,l=this.entries,c=0,u=l.length;c<u&&!G$(r,l[c][0]);c++);var d=c<u;if(d?l[c][1]===o:s)return this;if(UL(a),(s||!d)&&UL(i),!s||1!==l.length){if(!d&&!s&&l.length>=SM)return function(e,t,n,r){e||(e=new VL);for(var o=new lM(e,B$(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,l,r,o);var p=e&&e===this.ownerID,f=p?l:RD(l);return d?s?c===u-1?f.pop():f[c]=f.pop():f[c]=[r,o]:f.push([r,o]),p?(this.entries=f,this):new oM(e,f)}};var iM=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};iM.prototype.get=function(e,t,n,r){void 0===t&&(t=B$(n));var o=1<<((0===e?t:t>>>e)&DL),i=this.bitmap;return i&o?this.nodes[yM(i&o-1)].get(e+5,t,n,r):r},iM.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=B$(r));var s=(0===t?n:n>>>t)&DL,l=1<<s,c=this.bitmap,u=!!(c&l);if(!u&&o===ML)return this;var d=yM(c&l-1),p=this.nodes,f=u?p[d]:void 0,h=mM(f,e,t+5,n,r,o,i,a);if(h===f)return this;if(!u&&h&&p.length>=bM)return function(e,t,n,r,o){for(var i=0,a=new Array($L),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new aM(e,i+1,a)}(e,p,c,s,h);if(u&&!h&&2===p.length&&vM(p[1^d]))return p[1^d];if(u&&h&&1===p.length&&vM(h))return h;var g=e&&e===this.ownerID,m=u?h?c:c^l:c|l,v=u?h?TM(p,d,h,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(p,d,g):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(p,d,h,g);return g?(this.bitmap=m,this.nodes=v,this):new iM(e,m,v)};var aM=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};aM.prototype.get=function(e,t,n,r){void 0===t&&(t=B$(n));var o=(0===e?t:t>>>e)&DL,i=this.nodes[o];return i?i.get(e+5,t,n,r):r},aM.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=B$(r));var s=(0===t?n:n>>>t)&DL,l=o===ML,c=this.nodes,u=c[s];if(l&&!u)return this;var d=mM(u,e,t+5,n,r,o,i,a);if(d===u)return this;var p=this.count;if(u){if(!d&&--p<wM)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,c=t.length;s<c;s++,l<<=1){var u=t[s];void 0!==u&&s!==r&&(o|=l,a[i++]=u)}return new iM(e,o,a)}(e,c,p,s)}else p++;var f=e&&e===this.ownerID,h=TM(c,s,d,f);return f?(this.count=p,this.nodes=h,this):new aM(e,p,h)};var sM=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};sM.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(G$(n,o[i][0]))return o[i][1];return r},sM.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=B$(r));var s=o===ML;if(n!==this.keyHash)return s?this:(UL(a),UL(i),_M(this,e,t,n,[r,o]));for(var l=this.entries,c=0,u=l.length;c<u&&!G$(r,l[c][0]);c++);var d=c<u;if(d?l[c][1]===o:s)return this;if(UL(a),(s||!d)&&UL(i),s&&2===u)return new lM(e,this.keyHash,l[1^c]);var p=e&&e===this.ownerID,f=p?l:RD(l);return d?s?c===u-1?f.pop():f[c]=f.pop():f[c]=[r,o]:f.push([r,o]),p?(this.entries=f,this):new sM(e,this.keyHash,f)};var lM=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};lM.prototype.get=function(e,t,n,r){return G$(n,this.entry[0])?this.entry[1]:r},lM.prototype.update=function(e,t,n,r,o,i,a){var s=o===ML,l=G$(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(UL(a),s?void UL(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new lM(e,this.keyHash,[r,o]):(UL(i),_M(this,e,t,B$(r),[r,o])))},oM.prototype.iterate=sM.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},iM.prototype.iterate=aM.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},lM.prototype.iterate=function(e,t){return e(this.entry)};var cM,uM=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&pM(e._root)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o=void 0;if(n.entry){if(0===r)return dM(e,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return dM(e,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return dM(e,i.entry);t=this._stack=pM(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(g$);function dM(e,t){return m$(e,t[0],t[1])}function pM(e,t){return{node:e,index:0,__prev:t}}function fM(e,t,n,r){var o=Object.create(rM);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function hM(){return cM||(cM=fM(0))}function gM(e,t,n){var r,o;if(e._root){var i={value:!1},a={value:!1};if(r=mM(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===ML?-1:1:0)}else{if(n===ML)return e;o=1,r=new oM(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?fM(o,r):hM()}function mM(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===ML?e:(UL(s),UL(a),new lM(t,r,[o,i]))}function vM(e){return e.constructor===lM||e.constructor===sM}function _M(e,t,n,r,o){if(e.keyHash===r)return new sM(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&DL,s=(0===n?r:r>>>n)&DL,l=a===s?[_M(e,t,n+5,r,o)]:(i=new lM(t,r,o),a<s?[e,i]:[i,e]);return new iM(t,1<<a|1<<s,l)}function yM(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function TM(e,t,n,r){var o=r?e:RD(e);return o[t]=n,o}var SM=8,bM=16,wM=8,EM="@@__IMMUTABLE_LIST__@@";function AM(e){return Boolean(e&&e[EM])}var IM=function(e){function t(t){var n=kM();if(null==t)return n;if(AM(t))return t;var r=e(t),o=r.size;return 0===o?n:(xD(o),o>0&&o<$L?PM(0,o,5,null,new OM(r.toArray())):n.withMutations((function(e){e.setSize(o),r.forEach((function(t,n){return e.set(n,t)}))})))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=FL(this,e))>=0&&e<this.size){var n=$M(this,e+=this._origin);return n&&n.array[e&DL]}return t},t.prototype.set=function(e,t){return function(e,t,n){if(t=FL(e,t),t!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?DM(e,t).set(0,n):DM(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i={value:!1};t>=MM(e._capacity)?r=CM(r,e.__ownerID,0,t,n,i):o=CM(o,e.__ownerID,e._level,t,n,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return PM(e._origin,e._capacity,e._level,o,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):kM()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){DM(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},t.prototype.pop=function(){return DM(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){DM(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},t.prototype.shift=function(){return DM(this,1)},t.prototype.shuffle=function(e){return void 0===e&&(e=Math.random),this.withMutations((function(t){for(var n,r,o=t.size;o;)n=Math.floor(e()*o--),r=t.get(n),t.set(n,t.get(o)),t.set(o,r)}))},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var o=t[r],i=e("string"!=typeof o&&_$(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){n.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(n[0])},t.prototype.setSize=function(e){return DM(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){for(var o=0;o<n.size;o++)r.set(o,e.call(t,r.get(o),o,n))}))},t.prototype.slice=function(e,t){var n=this.size;return qL(e,t,n)?this:DM(this,BL(e,n),HL(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=NM(this,t);return new g$((function(){var o=r();return o===xM?{value:void 0,done:!0}:m$(e,t?--n:n++,o)}))},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,o=NM(this,t);(n=o())!==xM&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?PM(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?kM():(this.__ownerID=e,this.__altered=!1,this)},t}(r$);IM.isList=AM;var RM=IM.prototype;RM[EM]=!0,RM[LL]=RM.remove,RM.merge=RM.concat,RM.setIn=UD,RM.deleteIn=RM.removeIn=VD,RM.update=FD,RM.updateIn=jD,RM.mergeIn=XD,RM.mergeDeepIn=KD,RM.withMutations=QD,RM.wasAltered=tM,RM.asImmutable=eM,RM["@@transducer/init"]=RM.asMutable=ZD,RM["@@transducer/step"]=function(e,t){return e.push(t)},RM["@@transducer/result"]=function(e){return e.asImmutable()};var OM=function(e,t){this.array=e,this.ownerID=t};OM.prototype.removeBefore=function(e,t,n){if(!(n&(1<<t+5)-1)||0===this.array.length)return this;var r=n>>>t&DL;if(r>=this.array.length)return new OM([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-5,n))===a&&i)return this}if(i&&!o)return this;var s=LM(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},OM.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t+5:$L)||0===this.array.length)return this;var r,o=n-1>>>t&DL;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-5,n))===i&&o===this.array.length-1)return this}var a=LM(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var xM={};function NM(e,t){var n=e._origin,r=e._capacity,o=MM(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,l){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>n?0:n-a,c=r-a;c>$L&&(c=$L);return function(){if(l===c)return xM;var e=t?--c:l++;return s&&s[e]}}(e,l):function(e,o,i){var s,l=e&&e.array,c=i>n?0:n-i>>o,u=1+(r-i>>o);u>$L&&(u=$L);return function(){for(;;){if(s){var e=s();if(e!==xM)return e;s=null}if(c===u)return xM;var n=t?--u:c++;s=a(l&&l[n],o-5,i+(n<<o))}}}(e,s,l)}}function PM(e,t,n,r,o,i,a){var s=Object.create(RM);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function kM(){return PM(0,0,5)}function CM(e,t,n,r,o,i){var a,s=r>>>n&DL,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(n>0){var c=e&&e.array[s],u=CM(c,t,n-5,r,o,i);return u===c?e:((a=LM(e,t)).array[s]=u,a)}return l&&e.array[s]===o?e:(i&&UL(i),a=LM(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function LM(e,t){return t&&e&&t===e.ownerID?e:new OM(e?e.array.slice():[],t)}function $M(e,t){if(t>=MM(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&DL],r-=5;return n}}function DM(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new VL,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,c=e._root,u=0;a+u<0;)c=new OM(c&&c.array.length?[void 0,c]:[],r),u+=1<<(l+=5);u&&(a+=u,o+=u,s+=u,i+=u);for(var d=MM(i),p=MM(s);p>=1<<l+5;)c=new OM(c&&c.array.length?[c]:[],r),l+=5;var f=e._tail,h=p<d?$M(e,s-1):p>d?new OM([],r):f;if(f&&p>d&&a<i&&f.array.length){for(var g=c=LM(c,r),m=l;m>5;m-=5){var v=d>>>m&DL;g=g.array[v]=LM(g.array[v],r)}g.array[d>>>5&DL]=f}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=p)a-=p,s-=p,l=5,c=null,h=h&&h.removeBefore(r,0,a);else if(a>o||p<d){for(u=0;c;){var _=a>>>l&DL;if(_!==p>>>l&DL)break;_&&(u+=(1<<l)*_),l-=5,c=c.array[_]}c&&a>o&&(c=c.removeBefore(r,l,a-u)),c&&p<d&&(c=c.removeAfter(r,l,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):PM(a,s,l,c,h)}function MM(e){return e<$L?0:e-1>>>5<<5}var UM,VM=function(e){function t(e){return null==e?FM():U$(e)?e:FM().withMutations((function(t){var n=n$(e);xD(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):FM()},t.prototype.set=function(e,t){return jM(this,e,t)},t.prototype.remove=function(e){return jM(this,e,ML)},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?GM(t,n,e,this.__hash):0===this.size?FM():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=n,this)},t}(nM);function GM(e,t,n,r){var o=Object.create(VM.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function FM(){return UM||(UM=GM(hM(),kM()))}function jM(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===ML){if(!l)return e;a.size>=$L&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e.__altered=!0,e):GM(r,o)}VM.isOrderedMap=U$,VM.prototype[u$]=!0,VM.prototype[LL]=VM.prototype.remove;var qM="@@__IMMUTABLE_STACK__@@";function BM(e){return Boolean(e&&e[qM])}var HM=function(e){function t(e){return null==e?YM():BM(e)?e:YM().pushAll(e)}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=FL(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):WM(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&BM(t))return t;xD(t.size);var n=this.size,r=this._head;return t.__iterate((function(e){n++,r={value:e,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):WM(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):YM()},t.prototype.slice=function(t,n){if(qL(t,n,this.size))return this;var r=BL(t,this.size);if(HL(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):WM(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?WM(this.size,this._head,e,this.__hash):0===this.size?YM():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new O$(this.toArray()).__iterate((function(t,r){return e(t,r,n)}),t);for(var r=0,o=this._head;o&&!1!==e(o.value,r++,this);)o=o.next;return r},t.prototype.__iterator=function(e,t){if(t)return new O$(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new g$((function(){if(r){var t=r.value;return r=r.next,m$(e,n++,t)}return{value:void 0,done:!0}}))},t}(r$);HM.isStack=BM;var JM,zM=HM.prototype;function WM(e,t,n,r){var o=Object.create(zM);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function YM(){return JM||(JM=WM(0))}zM[qM]=!0,zM.shift=zM.pop,zM.unshift=zM.push,zM.unshiftAll=zM.pushAll,zM.withMutations=QD,zM.wasAltered=tM,zM.asImmutable=eM,zM["@@transducer/init"]=zM.asMutable=ZD,zM["@@transducer/step"]=function(e,t){return e.unshift(t)},zM["@@transducer/result"]=function(e){return e.asImmutable()};var XM="@@__IMMUTABLE_SET__@@";function KM(e){return Boolean(e&&e[XM])}function QM(e){return KM(e)&&d$(e)}function ZM(e,t){if(e===t)return!0;if(!YL(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||KL(e)!==KL(t)||ZL(e)!==ZL(t)||d$(e)!==d$(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!e$(e);if(d$(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&G$(o[1],e)&&(n||G$(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate((function(t,r){if(n?!e.has(t):o?!G$(t,e.get(r,ML)):!G$(e.get(r,ML),t))return a=!1,!1}));return a&&e.size===s}function eU(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function tU(e){if(!e||"object"!=typeof e)return e;if(!YL(e)){if(!kD(e))return e;e=E$(e)}if(KL(e)){var t={};return e.__iterate((function(e,n){t[n]=tU(e)})),t}var n=[];return e.__iterate((function(e){n.push(tU(e))})),n}var nU=function(e){function t(t){return null==t?sU():KM(t)&&!d$(t)?t:sU().withMutations((function(n){var r=e(t);xD(r.size),r.forEach((function(e){return n.add(e)}))}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(n$(e).keySeq())},t.intersect=function(e){return(e=t$(e).toArray()).length?oU.intersect.apply(t(e.pop()),e):sU()},t.union=function(e){return(e=t$(e).toArray()).length?oU.union.apply(t(e.pop()),e):sU()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return iU(this,this._map.set(e,e))},t.prototype.remove=function(e){return iU(this,this._map.remove(e))},t.prototype.clear=function(){return iU(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=!1,o=iU(this,this._map.mapEntries((function(o){var i=o[1],a=e.call(t,i,i,n);return a!==i&&(r=!0),[a,a]}),t));return r?o:this},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(n){for(var r=0;r<t.length;r++)"string"==typeof t[r]?n.add(t[r]):e(t[r]).forEach((function(e){return n.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return AU(vD(this,e))},t.prototype.sortBy=function(e,t){return AU(vD(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(o$);nU.isSet=KM;var rU,oU=nU.prototype;function iU(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function aU(e,t){var n=Object.create(oU);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function sU(){return rU||(rU=aU(hM()))}oU[XM]=!0,oU[LL]=oU.remove,oU.merge=oU.concat=oU.union,oU.withMutations=QD,oU.asImmutable=eM,oU["@@transducer/init"]=oU.asMutable=ZD,oU["@@transducer/step"]=function(e,t){return e.add(t)},oU["@@transducer/result"]=function(e){return e.asImmutable()},oU.__empty=sU,oU.__make=aU;var lU,cU=function(e){function t(e,n,r){if(void 0===r&&(r=1),!(this instanceof t))return new t(e,n,r);if(OD(0!==r,"Cannot step a Range by 0"),OD(void 0!==e,"You must define a start value when using Range"),OD(void 0!==n,"You must define an end value when using Range"),r=Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(lU)return lU;lU=this}}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+FL(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return qL(e,n,this.size)?this:(e=BL(e,this.size),(n=HL(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==e(o,t?n-++i:i++,this);)o+=t?-r:r;return i},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;return new g$((function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=t?-r:r,m$(e,t?n-++i:i++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:ZM(this,e)},t}(I$);function uU(e,t,n){for(var r=ND(t),o=0;o!==r.length;)if((e=LD(e,r[o++],ML))===ML)return n;return e}function dU(e,t){return uU(this,e,t)}function pU(){xD(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e}t$.Iterator=g$,eU(t$,{toArray:function(){xD(this.size);var e=new Array(this.size||0),t=KL(this),n=0;return this.__iterate((function(r,o){e[n++]=t?[o,r]:r})),e},toIndexedSeq:function(){return new aD(this)},toJS:function(){return tU(this)},toKeyedSeq:function(){return new iD(this,!0)},toMap:function(){return nM(this.toKeyedSeq())},toObject:pU,toOrderedMap:function(){return VM(this.toKeyedSeq())},toOrderedSet:function(){return AU(KL(this)?this.valueSeq():this)},toSet:function(){return nU(KL(this)?this.valueSeq():this)},toSetSeq:function(){return new sD(this)},toSeq:function(){return ZL(this)?this.toIndexedSeq():KL(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return HM(KL(this)?this.valueSeq():this)},toList:function(){return IM(KL(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return SD(this,function(e,t){var n=KL(e),r=[e].concat(t).map((function(e){return YL(e)?n&&(e=n$(e)):e=n?C$(e):L$(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&KL(o)||ZL(e)&&ZL(o))return o}return new gD(r)}(this,e))},includes:function(e){return this.some((function(t){return G$(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){xD(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return SD(this,pD(this,e,t,!0))},partition:function(e,t){return function(e,t,n){var r=KL(e),o=[[],[]];e.__iterate((function(i,a){o[t.call(n,i,a,e)?1:0].push(r?[a,i]:i)}));var i=wD(e);return o.map((function(t){return SD(e,i(t))}))}(this,e,t)},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return xD(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){xD(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return SD(this,uD(this,e,t))},reduce:function(e,t,n){return vU(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return vU(this,e,t,n,arguments.length<2,!0)},reverse:function(){return SD(this,dD(this,!0))},slice:function(e,t){return SD(this,fD(this,e,t,!0))},some:function(e,t){xD(this.size);var n=!1;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=!0,!1})),n},sort:function(e){return SD(this,vD(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return GL(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=nM().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return ZM(this,e)},entrySeq:function(){var e=this;if(e._cache)return new O$(e._cache);var t=e.toSeq().map(yU).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(TU(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(jL,null,e)},flatMap:function(e,t){return SD(this,function(e,t,n){var r=wD(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return SD(this,mD(this,e,!0))},fromEntrySeq:function(){return new lD(this)},get:function(e,t){return this.find((function(t,n){return G$(n,e)}),void 0,t)},getIn:dU,groupBy:function(e,t){return function(e,t,n){var r=KL(e),o=(d$(e)?VM():nM()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=wD(e);return o.map((function(t){return SD(e,i(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,ML)!==ML},hasIn:function(e){return uU(this,e,ML)!==ML},isSubset:function(e){return e="function"==typeof e.includes?e:t$(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:t$(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return G$(t,e)}))},keySeq:function(){return this.toSeq().map(_U).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return _D(this,e)},maxBy:function(e,t){return _D(this,t,e)},min:function(e){return _D(this,e?SU(e):wU)},minBy:function(e,t){return _D(this,t?SU(t):wU,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return SD(this,hD(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(TU(e),t)},sortBy:function(e,t){return SD(this,vD(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return SD(this,function(e,t,n){var r=ED(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(2,o),s=!0;return new g$((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,l=o[0],c=o[1];return t.call(n,c,l,i)?2===r?e:m$(r,l,c,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(TU(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=d$(e),n=KL(e),r=t?1:0;return e.__iterate(n?t?function(e,t){r=31*r+EU(B$(e),B$(t))|0}:function(e,t){r=r+EU(B$(e),B$(t))|0}:t?function(e){r=31*r+B$(e)|0}:function(e){r=r+B$(e)|0}),function(e,t){return t=F$(t,3432918353),t=F$(t<<15|t>>>-15,461845907),t=F$(t<<13|t>>>-13,5),t=F$((t=t+3864292196^e)^t>>>16,2246822507),t=j$((t=F$(t^t>>>13,3266489909))^t>>>16)}(e.size,r)}(this))}});var fU=t$.prototype;fU[WL]=!0,fU[h$]=fU.values,fU.toJSON=fU.toArray,fU.__toStringMapper=CD,fU.inspect=fU.toSource=function(){return this.toString()},fU.chain=fU.flatMap,fU.contains=fU.includes,eU(n$,{flip:function(){return SD(this,cD(this))},mapEntries:function(e,t){var n=this,r=0;return SD(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return SD(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var hU=n$.prototype;hU[XL]=!0,hU[h$]=fU.entries,hU.toJSON=pU,hU.__toStringMapper=function(e,t){return CD(t)+": "+CD(e)},eU(r$,{toKeyedSeq:function(){return new iD(this,!1)},filter:function(e,t){return SD(this,pD(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return SD(this,dD(this,!1))},slice:function(e,t){return SD(this,fD(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=BL(e,e<0?this.count():this.size);var r=this.slice(0,e);return SD(this,1===n?r:r.concat(RD(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return SD(this,mD(this,e,!1))},get:function(e,t){return(e=FL(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=FL(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return SD(this,function(e,t){var n=ED(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(1,r),a=0;return new g$((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?m$(n,a++,t):m$(n,a++,o.value,o)}))},n}(this,e))},interleave:function(){var e=[this].concat(RD(arguments)),t=TD(this.toSeq(),I$.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),SD(this,n)},keySeq:function(){return cU(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return SD(this,hD(this,e,t,!1))},zip:function(){return SD(this,TD(this,bU,[this].concat(RD(arguments))))},zipAll:function(){return SD(this,TD(this,bU,[this].concat(RD(arguments)),!0))},zipWith:function(e){var t=RD(arguments);return t[0]=this,SD(this,TD(this,e,t))}});var gU=r$.prototype;gU[QL]=!0,gU[u$]=!0,eU(o$,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var mU=o$.prototype;function vU(e,t,n,r,o,i){return xD(e.size),e.__iterate((function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)}),i),n}function _U(e,t){return t}function yU(e,t){return[t,e]}function TU(e){return function(){return!e.apply(this,arguments)}}function SU(e){return function(){return-e.apply(this,arguments)}}function bU(){return RD(arguments)}function wU(e,t){return e<t?1:e>t?-1:0}function EU(e,t){return e^t+2654435769+(e<<6)+(e>>2)}mU.has=fU.includes,mU.contains=mU.includes,mU.keys=mU.values,eU(A$,hU),eU(I$,gU),eU(R$,mU);var AU=function(e){function t(e){return null==e?xU():QM(e)?e:xU().withMutations((function(t){var n=o$(e);xD(n.size),n.forEach((function(e){return t.add(e)}))}))}return t.__proto__=e,t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(n$(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(nU);AU.isOrderedSet=QM;var IU,RU=AU.prototype;function OU(e,t){var n=Object.create(RU);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function xU(){return IU||(IU=OU(FM()))}RU[u$]=!0,RU.zip=gU.zip,RU.zipWith=gU.zipWith,RU.zipAll=gU.zipAll,RU.__empty=xU,RU.__make=OU;var NU=function(e,t){var n;!function(e){if(l$(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(c$(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(e),l=o._indices={};o._name=t,o._keys=s,o._defaultValues=e;for(var c=0;c<s.length;c++){var u=s[c];l[u]=c,o[u]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+CU(this)+' with property "'+u+'" since that property name is part of the Record API.'):$U(o,u)}}return this.__ownerID=void 0,this._values=IM().withMutations((function(e){e.setSize(a._keys.length),n$(i).forEach((function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)}))})),this},o=r.prototype=Object.create(PU);return o.constructor=r,t&&(r.displayName=t),r};NU.prototype.toString=function(){for(var e,t=CU(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)t+=(r?", ":"")+(e=n[r])+": "+CD(this.get(e));return t+" }"},NU.prototype.equals=function(e){return this===e||l$(e)&&LU(this).equals(LU(e))},NU.prototype.hashCode=function(){return LU(this).hashCode()},NU.prototype.has=function(e){return this._indices.hasOwnProperty(e)},NU.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},NU.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return kU(this,n)}return this},NU.prototype.remove=function(e){return this.set(e)},NU.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:kU(this,e)},NU.prototype.wasAltered=function(){return this._values.wasAltered()},NU.prototype.toSeq=function(){return LU(this)},NU.prototype.toJS=function(){return tU(this)},NU.prototype.entries=function(){return this.__iterator(2)},NU.prototype.__iterator=function(e,t){return LU(this).__iterator(e,t)},NU.prototype.__iterate=function(e,t){return LU(this).__iterate(e,t)},NU.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?kU(this,t,e):(this.__ownerID=e,this._values=t,this)},NU.isRecord=l$,NU.getDescriptiveName=CU;var PU=NU.prototype;function kU(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function CU(e){return e.constructor.displayName||e.constructor.name||"Record"}function LU(e){return C$(e._keys.map((function(t){return[t,e.get(t)]})))}function $U(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){OD(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}function DU(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function MU(e,t,n){for(let r=0;r<28;r+=7){const o=e>>>r,i=!(o>>>7==0&&0==t),a=255&(i?128|o:o);if(n.push(a),!i)return}const r=e>>>28&15|(7&t)<<4,o=!!(t>>3);if(n.push(255&(o?128|r:r)),o){for(let e=3;e<31;e+=7){const r=t>>>e,o=!(r>>>7==0),i=255&(o?128|r:r);if(n.push(i),!o)return}n.push(t>>>31&1)}}PU[s$]=!0,PU[LL]=PU.remove,PU.deleteIn=PU.removeIn=VD,PU.getIn=dU,PU.hasIn=fU.hasIn,PU.merge=qD,PU.mergeWith=BD,PU.mergeIn=XD,PU.mergeDeep=WD,PU.mergeDeepWith=YD,PU.mergeDeepIn=KD,PU.setIn=UD,PU.update=FD,PU.updateIn=jD,PU.withMutations=QD,PU.asMutable=ZD,PU.asImmutable=eM,PU[h$]=PU.entries,PU.toJSON=PU.toObject=fU.toObject,PU.inspect=PU.toSource=function(){return this.toString()};const UU=4294967296;function VU(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let r=0,o=0;function i(t,i){const a=Number(e.slice(t,i));o*=n,r=r*n+a,r>=UU&&(o+=r/UU|0,r%=UU)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?jU(r,o):FU(r,o)}function GU(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(UU*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let o=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,a=2*r;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+qU(i)+qU(o)}function FU(e,t){return{lo:0|e,hi:0|t}}function jU(e,t){return t=~t,e?e=1+~e:t+=1,FU(e,t)}const qU=e=>{const t=String(e);return"0000000".slice(t.length)+t};function BU(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function HU(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const JU=zU();function zU(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error(`invalid int64: ${e}`);return r},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>o||t<r)throw new Error(`invalid uint64: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),WU(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),YU(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),WU(e),VU(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),YU(e),VU(e)),dec:(e,t)=>function(e,t){let n=FU(e,t);const r=2147483648&n.hi;r&&(n=jU(n.lo,n.hi));const o=GU(n.lo,n.hi);return r?"-"+o:o}(e,t),uDec:(e,t)=>GU(e,t)}}function WU(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function YU(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}const XU=Symbol.for("@bufbuild/protobuf/text-encoding");function KU(){if(null==globalThis[XU]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[XU]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[XU]}var QU;!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(QU||(QU={}));const ZU=34028234663852886e22,eV=-34028234663852886e22;class tV{constructor(e=KU().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(oV(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return rV(e),BU(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>ZU||e<eV))throw new Error("invalid float32: "+e)}(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){oV(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){rV(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return rV(e),BU(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=JU.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=JU.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=JU.enc(e);return MU(t.lo,t.hi,this.buf),this}sint64(e){let t=JU.enc(e),n=t.hi>>31;return MU(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=JU.uEnc(e);return MU(t.lo,t.hi,this.buf),this}}class nV{constructor(e,t=KU().decodeUtf8){this.decodeUtf8=t,this.varint64=DU,this.uint32=HU,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case QU.Varint:for(;128&this.buf[this.pos++];);break;case QU.Bit64:this.pos+=4;case QU.Bit32:this.pos+=4;break;case QU.LengthDelimited:let n=this.uint32();this.pos+=n;break;case QU.StartGroup:for(;;){const[e,n]=this.tag();if(n===QU.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return JU.dec(...this.varint64())}uint64(){return JU.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,JU.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return JU.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return JU.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}function rV(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int32: "+e)}function oV(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint32: "+e)}const iV={$type:"google.protobuf.Duration",encode:(e,t=new tV)=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Duration",seconds:0,nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=aV(n.int64());continue;case 2:if(16!==e)break;o.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:iV.$type,seconds:sV(e.seconds)?globalThis.Number(e.seconds):0,nanos:sV(e.nanos)?globalThis.Number(e.nanos):0}),toJSON(e){const t={};return 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>iV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"google.protobuf.Duration",seconds:0,nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:0,r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}};function aV(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function sV(e){return null!=e}const lV={$type:"google.protobuf.Timestamp",encode:(e,t=new tV)=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Timestamp",seconds:0,nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=cV(n.int64());continue;case 2:if(16!==e)break;o.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lV.$type,seconds:uV(e.seconds)?globalThis.Number(e.seconds):0,nanos:uV(e.nanos)?globalThis.Number(e.nanos):0}),toJSON(e){const t={};return 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>lV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"google.protobuf.Timestamp",seconds:0,nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:0,r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}};function cV(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function uV(e){return null!=e}const dV={$type:"google.protobuf.Int32Value",encode:(e,t=new tV)=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Int32Value",value:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.value=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:dV.$type,value:(t=e.value,null!=t?globalThis.Number(e.value):0)};var t},toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>dV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"google.protobuf.Int32Value",value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}};const pV={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:pV.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>pV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const fV={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativeHighlightPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&pV.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativeHighlightPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=pV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:fV.$type,flowId:(t=e.flowId,null!=t?pV.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=pV.toJSON(e.flowId)),t},create:e=>fV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativeHighlightPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?pV.fromPartial(e.flowId):void 0,t}};const hV={$type:"deepl.pb.interactive_text_api.AnnotationId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AnnotationId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:hV.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>hV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.AnnotationId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const gV={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",encode(e,t=new tV){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.targetHighlights)hV.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",text:"",targetHighlights:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.targetHighlights.push(hV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:gV.$type,text:(t=e.text,null!=t?globalThis.String(e.text):""),targetHighlights:globalThis.Array.isArray(null==e?void 0:e.targetHighlights)?e.targetHighlights.map((e=>hV.fromJSON(e))):[]};var t},toJSON(e){var t;const n={};return""!==e.text&&(n.text=e.text),(null===(t=e.targetHighlights)||void 0===t?void 0:t.length)&&(n.targetHighlights=e.targetHighlights.map((e=>hV.toJSON(e)))),n},create:e=>gV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",text:"",targetHighlights:[]};return r.text=null!==(t=e.text)&&void 0!==t?t:"",r.targetHighlights=(null===(n=e.targetHighlights)||void 0===n?void 0:n.map((e=>hV.fromPartial(e))))||[],r}};const mV={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",encode(e,t=new tV){void 0!==e.flowId&&pV.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)gV.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=pV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(gV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:mV.$type,flowId:(t=e.flowId,null!=t?pV.fromJSON(e.flowId):void 0),alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>gV.fromJSON(e))):[]};var t},toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=pV.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>gV.toJSON(e)))),n},create:e=>mV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?pV.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>gV.fromPartial(e))))||[],n}};const vV={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:vV.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>vV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const _V={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&vV.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=vV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:_V.$type,flowId:(t=e.flowId,null!=t?vV.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=vV.toJSON(e.flowId)),t},create:e=>_V.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?vV.fromPartial(e.flowId):void 0,t}};const yV={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&pV.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=pV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:yV.$type,flowId:(t=e.flowId,null!=t?pV.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=pV.toJSON(e.flowId)),t},create:e=>yV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?pV.fromPartial(e.flowId):void 0,t}};const TV={$type:"deepl.pb.interactive_text_api.TextRange",encode:(e,t=new tV)=>(0!==e.start&&t.uint32(8).int32(e.start),0!==e.end&&t.uint32(16).int32(e.end),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.TextRange",start:0,end:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.start=n.int32();continue;case 2:if(16!==e)break;o.end=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:TV.$type,start:SV(e.start)?globalThis.Number(e.start):0,end:SV(e.end)?globalThis.Number(e.end):0}),toJSON(e){const t={};return 0!==e.start&&(t.start=Math.round(e.start)),0!==e.end&&(t.end=Math.round(e.end)),t},create:e=>TV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.TextRange",start:0,end:0};return r.start=null!==(t=e.start)&&void 0!==t?t:0,r.end=null!==(n=e.end)&&void 0!==n?n:0,r}};function SV(e){return null!=e}const bV={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativeDiff",encode:(e,t=new tV)=>(void 0!==e.sourceRange&&TV.encode(e.sourceRange,t.uint32(10).fork()).join(),void 0!==e.alternativeRange&&TV.encode(e.alternativeRange,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativeDiff",sourceRange:void 0,alternativeRange:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceRange=TV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternativeRange=TV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bV.$type,sourceRange:wV(e.sourceRange)?TV.fromJSON(e.sourceRange):void 0,alternativeRange:wV(e.alternativeRange)?TV.fromJSON(e.alternativeRange):void 0}),toJSON(e){const t={};return void 0!==e.sourceRange&&(t.sourceRange=TV.toJSON(e.sourceRange)),void 0!==e.alternativeRange&&(t.alternativeRange=TV.toJSON(e.alternativeRange)),t},create:e=>bV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativeDiff",sourceRange:void 0,alternativeRange:void 0};return t.sourceRange=void 0!==e.sourceRange&&null!==e.sourceRange?TV.fromPartial(e.sourceRange):void 0,t.alternativeRange=void 0!==e.alternativeRange&&null!==e.alternativeRange?TV.fromPartial(e.alternativeRange):void 0,t}};function wV(e){return null!=e}const EV={$type:"deepl.pb.interactive_text_api.common.free_text_prompts.FreeTextPromptList",encode(e,t=new tV){for(const n of e.prompts)t.uint32(10).string(n);return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.free_text_prompts.FreeTextPromptList",prompts:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.prompts.push(n.string());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:EV.$type,prompts:globalThis.Array.isArray(null==e?void 0:e.prompts)?e.prompts.map((e=>globalThis.String(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.prompts)||void 0===t?void 0:t.length)&&(n.prompts=e.prompts),n},create:e=>EV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.free_text_prompts.FreeTextPromptList",prompts:[]};return n.prompts=(null===(t=e.prompts)||void 0===t?void 0:t.map((e=>e)))||[],n}};const AV={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",encode:(e,t=new tV)=>(""!==e.id&&t.uint32(10).string(e.id),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",id:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:AV.$type,id:(t=e.id,null!=t?globalThis.String(e.id):"")};var t},toJSON(e){const t={};return""!==e.id&&(t.id=e.id),t},create:e=>AV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",id:""};return n.id=null!==(t=e.id)&&void 0!==t?t:"",n}};var IV,RV;function OV(e){switch(e){case 0:case"CALCULATED_LANGUAGE_ORIGIN_UNSPECIFIED":return IV.UNSPECIFIED;case 1:case"CALCULATED_LANGUAGE_ORIGIN_REQUESTED_LANGUAGE":return IV.REQUESTED_LANGUAGE;case 2:case"CALCULATED_LANGUAGE_ORIGIN_LANGUAGE_DETECTION":return IV.LANGUAGE_DETECTION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CalculatedLanguageOrigin")}}function xV(e){switch(e){case IV.UNSPECIFIED:return"CALCULATED_LANGUAGE_ORIGIN_UNSPECIFIED";case IV.REQUESTED_LANGUAGE:return"CALCULATED_LANGUAGE_ORIGIN_REQUESTED_LANGUAGE";case IV.LANGUAGE_DETECTION:return"CALCULATED_LANGUAGE_ORIGIN_LANGUAGE_DETECTION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CalculatedLanguageOrigin")}}function NV(e){switch(e){case 0:case"CUSTOM_RULE_HIGHLIGHT_KIND_UNSPECIFIED":return RV.UNSPECIFIED;case 1:case"CUSTOM_RULE_HIGHLIGHT_KIND_COMPLIANCE":return RV.COMPLIANCE;case 2:case"CUSTOM_RULE_HIGHLIGHT_KIND_VIOLATION":return RV.VIOLATION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CustomRuleHighlightKind")}}function PV(e){switch(e){case RV.UNSPECIFIED:return"CUSTOM_RULE_HIGHLIGHT_KIND_UNSPECIFIED";case RV.COMPLIANCE:return"CUSTOM_RULE_HIGHLIGHT_KIND_COMPLIANCE";case RV.VIOLATION:return"CUSTOM_RULE_HIGHLIGHT_KIND_VIOLATION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CustomRuleHighlightKind")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REQUESTED_LANGUAGE=1]="REQUESTED_LANGUAGE",e[e.LANGUAGE_DETECTION=2]="LANGUAGE_DETECTION"}(IV||(IV={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.COMPLIANCE=1]="COMPLIANCE",e[e.VIOLATION=2]="VIOLATION"}(RV||(RV={}));const kV={$type:"deepl.pb.interactive_text_api.common.styleguides.CustomRuleHighlight",encode(e,t=new tV){""!==e.id&&t.uint32(10).string(e.id),!1!==e.isFreeTextRule&&t.uint32(16).bool(e.isFreeTextRule),0!==e.kind&&t.uint32(24).int32(e.kind);for(const n of e.ranges)TV.encode(n,t.uint32(34).fork()).join();for(const n of e.originalRanges)TV.encode(n,t.uint32(42).fork()).join();return""!==e.description&&t.uint32(50).string(e.description),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.styleguides.CustomRuleHighlight",id:"",isFreeTextRule:!1,kind:0,ranges:[],originalRanges:[],description:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(16!==e)break;o.isFreeTextRule=n.bool();continue;case 3:if(24!==e)break;o.kind=n.int32();continue;case 4:if(34!==e)break;o.ranges.push(TV.decode(n,n.uint32()));continue;case 5:if(42!==e)break;o.originalRanges.push(TV.decode(n,n.uint32()));continue;case 6:if(50!==e)break;o.description=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kV.$type,id:LV(e.id)?globalThis.String(e.id):"",isFreeTextRule:!!LV(e.isFreeTextRule)&&globalThis.Boolean(e.isFreeTextRule),kind:LV(e.kind)?NV(e.kind):0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>TV.fromJSON(e))):[],originalRanges:globalThis.Array.isArray(null==e?void 0:e.originalRanges)?e.originalRanges.map((e=>TV.fromJSON(e))):[],description:LV(e.description)?globalThis.String(e.description):""}),toJSON(e){var t,n;const r={};return""!==e.id&&(r.id=e.id),!1!==e.isFreeTextRule&&(r.isFreeTextRule=e.isFreeTextRule),0!==e.kind&&(r.kind=PV(e.kind)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(r.ranges=e.ranges.map((e=>TV.toJSON(e)))),(null===(n=e.originalRanges)||void 0===n?void 0:n.length)&&(r.originalRanges=e.originalRanges.map((e=>TV.toJSON(e)))),""!==e.description&&(r.description=e.description),r},create:e=>kV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,a;const s={$type:"deepl.pb.interactive_text_api.common.styleguides.CustomRuleHighlight",id:"",isFreeTextRule:!1,kind:0,ranges:[],originalRanges:[],description:""};return s.id=null!==(t=e.id)&&void 0!==t?t:"",s.isFreeTextRule=null!==(n=e.isFreeTextRule)&&void 0!==n&&n,s.kind=null!==(r=e.kind)&&void 0!==r?r:0,s.ranges=(null===(o=e.ranges)||void 0===o?void 0:o.map((e=>TV.fromPartial(e))))||[],s.originalRanges=(null===(i=e.originalRanges)||void 0===i?void 0:i.map((e=>TV.fromPartial(e))))||[],s.description=null!==(a=e.description)&&void 0!==a?a:"",s}};const CV={$type:"deepl.pb.interactive_text_api.common.styleguides.CustomRuleAnnotationPayload",encode:(e,t=new tV)=>(""!==e.id&&t.uint32(10).string(e.id),!1!==e.isFreeTextRule&&t.uint32(16).bool(e.isFreeTextRule),0!==e.kind&&t.uint32(24).int32(e.kind),""!==e.description&&t.uint32(50).string(e.description),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.styleguides.CustomRuleAnnotationPayload",id:"",isFreeTextRule:!1,kind:0,description:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(16!==e)break;o.isFreeTextRule=n.bool();continue;case 3:if(24!==e)break;o.kind=n.int32();continue;case 6:if(50!==e)break;o.description=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CV.$type,id:LV(e.id)?globalThis.String(e.id):"",isFreeTextRule:!!LV(e.isFreeTextRule)&&globalThis.Boolean(e.isFreeTextRule),kind:LV(e.kind)?NV(e.kind):0,description:LV(e.description)?globalThis.String(e.description):""}),toJSON(e){const t={};return""!==e.id&&(t.id=e.id),!1!==e.isFreeTextRule&&(t.isFreeTextRule=e.isFreeTextRule),0!==e.kind&&(t.kind=PV(e.kind)),""!==e.description&&(t.description=e.description),t},create:e=>CV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.common.styleguides.CustomRuleAnnotationPayload",id:"",isFreeTextRule:!1,kind:0,description:""};return i.id=null!==(t=e.id)&&void 0!==t?t:"",i.isFreeTextRule=null!==(n=e.isFreeTextRule)&&void 0!==n&&n,i.kind=null!==(r=e.kind)&&void 0!==r?r:0,i.description=null!==(o=e.description)&&void 0!==o?o:"",i}};function LV(e){return null!=e}const $V={$type:"deepl.pb.interactive_text_api.common.styleguides.StyleGuideId",encode:(e,t=new tV)=>(""!==e.id&&t.uint32(10).string(e.id),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.styleguides.StyleGuideId",id:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:$V.$type,id:(t=e.id,null!=t?globalThis.String(e.id):"")};var t},toJSON(e){const t={};return""!==e.id&&(t.id=e.id),t},create:e=>$V.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.styleguides.StyleGuideId",id:""};return n.id=null!==(t=e.id)&&void 0!==t?t:"",n}};const DV={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:DV.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>DV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const MV={$type:"deepl.pb.interactive_text_api.common.free_text_prompts.FreeTextPrompt",encode:(e,t=new tV)=>(""!==e.clientPromptId&&t.uint32(10).string(e.clientPromptId),""!==e.prompt&&t.uint32(18).string(e.prompt),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.free_text_prompts.FreeTextPrompt",clientPromptId:"",prompt:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.clientPromptId=n.string();continue;case 2:if(18!==e)break;o.prompt=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:MV.$type,clientPromptId:UV(e.clientPromptId)?globalThis.String(e.clientPromptId):"",prompt:UV(e.prompt)?globalThis.String(e.prompt):""}),toJSON(e){const t={};return""!==e.clientPromptId&&(t.clientPromptId=e.clientPromptId),""!==e.prompt&&(t.prompt=e.prompt),t},create:e=>MV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.common.free_text_prompts.FreeTextPrompt",clientPromptId:"",prompt:""};return r.clientPromptId=null!==(t=e.clientPromptId)&&void 0!==t?t:"",r.prompt=null!==(n=e.prompt)&&void 0!==n?n:"",r}};function UV(e){return null!=e}const VV={$type:"deepl.pb.interactive_text_api.write.Customizations",encode(e,t=new tV){for(const n of e.freeTextPrompts)MV.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.Customizations",freeTextPrompts:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.freeTextPrompts.push(MV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:VV.$type,freeTextPrompts:globalThis.Array.isArray(null==e?void 0:e.freeTextPrompts)?e.freeTextPrompts.map((e=>MV.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.freeTextPrompts)||void 0===t?void 0:t.length)&&(n.freeTextPrompts=e.freeTextPrompts.map((e=>MV.toJSON(e)))),n},create:e=>VV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.Customizations",freeTextPrompts:[]};return n.freeTextPrompts=(null===(t=e.freeTextPrompts)||void 0===t?void 0:t.map((e=>MV.fromPartial(e))))||[],n}};var GV,FV;function jV(e){switch(e){case 0:case"INLINE_SUGGESTION_USER_CHOICE_UNSPECIFIED":return FV.UNSPECIFIED;case 1:case"INLINE_SUGGESTION_USER_CHOICE_PENDING":return FV.PENDING;case 2:case"INLINE_SUGGESTION_USER_CHOICE_CORRECT":return FV.CORRECT;case 3:case"INLINE_SUGGESTION_USER_CHOICE_RETAIN":return FV.RETAIN;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InlineSuggestionUserChoice")}}function qV(e){switch(e){case FV.UNSPECIFIED:return"INLINE_SUGGESTION_USER_CHOICE_UNSPECIFIED";case FV.PENDING:return"INLINE_SUGGESTION_USER_CHOICE_PENDING";case FV.CORRECT:return"INLINE_SUGGESTION_USER_CHOICE_CORRECT";case FV.RETAIN:return"INLINE_SUGGESTION_USER_CHOICE_RETAIN";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InlineSuggestionUserChoice")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SPELLING=1]="SPELLING",e[e.GRAMMAR=2]="GRAMMAR",e[e.PUNCTUATION=3]="PUNCTUATION",e[e.READABILITY=4]="READABILITY",e[e.FORMATTING=5]="FORMATTING",e[e.OTHER=6]="OTHER"}(GV||(GV={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PENDING=1]="PENDING",e[e.CORRECT=2]="CORRECT",e[e.RETAIN=3]="RETAIN"}(FV||(FV={}));const BV={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.diffUnitId&&sG.encode(e.diffUnitId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",diffUnitId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.diffUnitId=sG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:BV.$type,diffUnitId:MG(e.diffUnitId)?sG.fromJSON(e.diffUnitId):void 0}),toJSON(e){const t={};return void 0!==e.diffUnitId&&(t.diffUnitId=sG.toJSON(e.diffUnitId)),t},create:e=>BV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",diffUnitId:void 0};return t.diffUnitId=void 0!==e.diffUnitId&&null!==e.diffUnitId?sG.fromPartial(e.diffUnitId):void 0,t}};const HV={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",encode(e,t=new tV){void 0!==e.flowId&&vV.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)mG.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=vV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(mG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:HV.$type,flowId:MG(e.flowId)?vV.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>mG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=vV.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>mG.toJSON(e)))),n},create:e=>HV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?vV.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>mG.fromPartial(e))))||[],n}};const JV={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",encode(e,t=new tV){for(const n of e.alternatives)mG.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.alternatives.push(mG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JV.$type,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>mG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>mG.toJSON(e)))),n},create:e=>JV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};return n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>mG.fromPartial(e))))||[],n}};const zV={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",encode(e,t=new tV){for(const n of e.languages)gG.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",languages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languages.push(gG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zV.$type,languages:globalThis.Array.isArray(null==e?void 0:e.languages)?e.languages.map((e=>gG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languages)||void 0===t?void 0:t.length)&&(n.languages=e.languages.map((e=>gG.toJSON(e)))),n},create:e=>zV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",languages:[]};return n.languages=(null===(t=e.languages)||void 0===t?void 0:t.map((e=>gG.fromPartial(e))))||[],n}};const WV={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",encode(e,t=new tV){for(const n of e.languages)gG.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",languages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languages.push(gG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WV.$type,languages:globalThis.Array.isArray(null==e?void 0:e.languages)?e.languages.map((e=>gG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languages)||void 0===t?void 0:t.length)&&(n.languages=e.languages.map((e=>gG.toJSON(e)))),n},create:e=>WV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",languages:[]};return n.languages=(null===(t=e.languages)||void 0===t?void 0:t.map((e=>gG.fromPartial(e))))||[],n}};const YV={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",encode:(e,t=new tV)=>(void 0!==e.language&&gG.encode(e.language,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",language:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=gG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:YV.$type,language:MG(e.language)?gG.fromJSON(e.language):void 0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=gG.toJSON(e.language)),t},create:e=>YV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",language:void 0};return t.language=void 0!==e.language&&null!==e.language?gG.fromPartial(e.language):void 0,t}};const XV={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",encode:(e,t=new tV)=>(void 0!==e.language&&gG.encode(e.language,t.uint32(10).fork()).join(),0!==e.origin&&t.uint32(16).int32(e.origin),!1!==e.isLanguageDetectionConfident&&t.uint32(24).bool(e.isLanguageDetectionConfident),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",language:void 0,origin:0,isLanguageDetectionConfident:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=gG.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.origin=n.int32();continue;case 3:if(24!==e)break;o.isLanguageDetectionConfident=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XV.$type,language:MG(e.language)?gG.fromJSON(e.language):void 0,origin:MG(e.origin)?OV(e.origin):0,isLanguageDetectionConfident:!!MG(e.isLanguageDetectionConfident)&&globalThis.Boolean(e.isLanguageDetectionConfident)}),toJSON(e){const t={};return void 0!==e.language&&(t.language=gG.toJSON(e.language)),0!==e.origin&&(t.origin=xV(e.origin)),!1!==e.isLanguageDetectionConfident&&(t.isLanguageDetectionConfident=e.isLanguageDetectionConfident),t},create:e=>XV.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",language:void 0,origin:0,isLanguageDetectionConfident:!1};return r.language=void 0!==e.language&&null!==e.language?gG.fromPartial(e.language):void 0,r.origin=null!==(t=e.origin)&&void 0!==t?t:0,r.isLanguageDetectionConfident=null!==(n=e.isLanguageDetectionConfident)&&void 0!==n&&n,r}};const KV={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",encode:(e,t=new tV)=>(void 0!==e.glossaryId&&AV.encode(e.glossaryId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",glossaryId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryId=AV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:KV.$type,glossaryId:MG(e.glossaryId)?AV.fromJSON(e.glossaryId):void 0}),toJSON(e){const t={};return void 0!==e.glossaryId&&(t.glossaryId=AV.toJSON(e.glossaryId)),t},create:e=>KV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",glossaryId:void 0};return t.glossaryId=void 0!==e.glossaryId&&null!==e.glossaryId?AV.fromPartial(e.glossaryId):void 0,t}};const QV={$type:"deepl.pb.interactive_text_api.write.StyleGuideIdPropertyValue",encode:(e,t=new tV)=>(void 0!==e.styleGuideId&&$V.encode(e.styleGuideId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleGuideIdPropertyValue",styleGuideId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleGuideId=$V.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:QV.$type,styleGuideId:MG(e.styleGuideId)?$V.fromJSON(e.styleGuideId):void 0}),toJSON(e){const t={};return void 0!==e.styleGuideId&&(t.styleGuideId=$V.toJSON(e.styleGuideId)),t},create:e=>QV.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.StyleGuideIdPropertyValue",styleGuideId:void 0};return t.styleGuideId=void 0!==e.styleGuideId&&null!==e.styleGuideId?$V.fromPartial(e.styleGuideId):void 0,t}};const ZV={$type:"deepl.pb.interactive_text_api.write.CorrectionsOnlyPropertyValue",encode:(e,t=new tV)=>(!1!==e.correctionsOnly&&t.uint32(8).bool(e.correctionsOnly),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.CorrectionsOnlyPropertyValue",correctionsOnly:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.correctionsOnly=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ZV.$type,correctionsOnly:!!MG(e.correctionsOnly)&&globalThis.Boolean(e.correctionsOnly)}),toJSON(e){const t={};return!1!==e.correctionsOnly&&(t.correctionsOnly=e.correctionsOnly),t},create:e=>ZV.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.CorrectionsOnlyPropertyValue",correctionsOnly:!1};return n.correctionsOnly=null!==(t=e.correctionsOnly)&&void 0!==t&&t,n}};const eG={$type:"deepl.pb.interactive_text_api.write.FreeTextPromptListPropertyValue",encode:(e,t=new tV)=>(void 0!==e.freeTextPromptList&&EV.encode(e.freeTextPromptList,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.FreeTextPromptListPropertyValue",freeTextPromptList:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.freeTextPromptList=EV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:eG.$type,freeTextPromptList:MG(e.freeTextPromptList)?EV.fromJSON(e.freeTextPromptList):void 0}),toJSON(e){const t={};return void 0!==e.freeTextPromptList&&(t.freeTextPromptList=EV.toJSON(e.freeTextPromptList)),t},create:e=>eG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.FreeTextPromptListPropertyValue",freeTextPromptList:void 0};return t.freeTextPromptList=void 0!==e.freeTextPromptList&&null!==e.freeTextPromptList?EV.fromPartial(e.freeTextPromptList):void 0,t}};const tG={$type:"deepl.pb.interactive_text_api.write.CustomizationsPropertyValue",encode:(e,t=new tV)=>(void 0!==e.customizations&&VV.encode(e.customizations,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.CustomizationsPropertyValue",customizations:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.customizations=VV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:tG.$type,customizations:MG(e.customizations)?VV.fromJSON(e.customizations):void 0}),toJSON(e){const t={};return void 0!==e.customizations&&(t.customizations=VV.toJSON(e.customizations)),t},create:e=>tG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.CustomizationsPropertyValue",customizations:void 0};return t.customizations=void 0!==e.customizations&&null!==e.customizations?VV.fromPartial(e.customizations):void 0,t}};const nG={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",encode:(e,t=new tV)=>(0!==e.max&&t.uint32(8).int32(e.max),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",max:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.max=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:nG.$type,max:MG(e.max)?globalThis.Number(e.max):0}),toJSON(e){const t={};return 0!==e.max&&(t.max=Math.round(e.max)),t},create:e=>nG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",max:0};return n.max=null!==(t=e.max)&&void 0!==t?t:0,n}};const rG={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",encode(e,t=new tV){for(const n of e.styleVariants)_G.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",styleVariants:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariants.push(_G.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:rG.$type,styleVariants:globalThis.Array.isArray(null==e?void 0:e.styleVariants)?e.styleVariants.map((e=>_G.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.styleVariants)||void 0===t?void 0:t.length)&&(n.styleVariants=e.styleVariants.map((e=>_G.toJSON(e)))),n},create:e=>rG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",styleVariants:[]};return n.styleVariants=(null===(t=e.styleVariants)||void 0===t?void 0:t.map((e=>_G.fromPartial(e))))||[],n}};const oG={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",encode:(e,t=new tV)=>(void 0!==e.styleVariant&&_G.encode(e.styleVariant,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariant=_G.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oG.$type,styleVariant:MG(e.styleVariant)?_G.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.styleVariant&&(t.styleVariant=_G.toJSON(e.styleVariant)),t},create:e=>oG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",styleVariant:void 0};return t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?_G.fromPartial(e.styleVariant):void 0,t}};const iG={$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:iG.$type}),toJSON:e=>({}),create:e=>iG.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue"})};const aG={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionsLoadingPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionsLoadingPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:aG.$type}),toJSON:e=>({}),create:e=>aG.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.InlineSuggestionsLoadingPropertyValue"})};const sG={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sG.$type,value:MG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>sG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const lG={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",encode:(e,t=new tV)=>(""!==e.term&&t.uint32(10).string(e.term),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",term:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.term=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lG.$type,term:MG(e.term)?globalThis.String(e.term):""}),toJSON(e){const t={};return""!==e.term&&(t.term=e.term),t},create:e=>lG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",term:""};return n.term=null!==(t=e.term)&&void 0!==t?t:"",n}};const cG={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",encode(e,t=new tV){for(const n of e.glossaryEntries)lG.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",glossaryEntries:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryEntries.push(lG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cG.$type,glossaryEntries:globalThis.Array.isArray(null==e?void 0:e.glossaryEntries)?e.glossaryEntries.map((e=>lG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.glossaryEntries)||void 0===t?void 0:t.length)&&(n.glossaryEntries=e.glossaryEntries.map((e=>lG.toJSON(e)))),n},create:e=>cG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",glossaryEntries:[]};return n.glossaryEntries=(null===(t=e.glossaryEntries)||void 0===t?void 0:t.map((e=>lG.fromPartial(e))))||[],n}};const uG={$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uG.$type}),toJSON:e=>({}),create:e=>uG.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue"})};const dG={$type:"deepl.pb.interactive_text_api.write.StyleGuideSupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleGuideSupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:dG.$type}),toJSON:e=>({}),create:e=>dG.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.StyleGuideSupportPropertyValue"})};const pG={$type:"deepl.pb.interactive_text_api.write.CorrectionsOnlySupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.CorrectionsOnlySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:pG.$type}),toJSON:e=>({}),create:e=>pG.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.CorrectionsOnlySupportPropertyValue"})};const fG={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativesSupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativesSupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:fG.$type}),toJSON:e=>({}),create:e=>fG.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativesSupportPropertyValue"})};const hG={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",encode(e,t=new tV){void 0!==e.entry&&lG.encode(e.entry,t.uint32(10).fork()).join();for(const n of e.ranges)TV.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",entry:void 0,ranges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entry=lG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.ranges.push(TV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:hG.$type,entry:MG(e.entry)?lG.fromJSON(e.entry):void 0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>TV.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.entry&&(n.entry=lG.toJSON(e.entry)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(n.ranges=e.ranges.map((e=>TV.toJSON(e)))),n},create:e=>hG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",entry:void 0,ranges:[]};return n.entry=void 0!==e.entry&&null!==e.entry?lG.fromPartial(e.entry):void 0,n.ranges=(null===(t=e.ranges)||void 0===t?void 0:t.map((e=>TV.fromPartial(e))))||[],n}};const gG={$type:"deepl.pb.interactive_text_api.write.Language",encode:(e,t=new tV)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.Language",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:gG.$type,code:MG(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>gG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.Language",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const mG={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",encode(e,t=new tV){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.glossaryHighlights)hG.encode(n,t.uint32(18).fork()).join();for(const n of e.diffs)bV.encode(n,t.uint32(26).fork()).join();void 0!==e.rephraseVariant&&vG.encode(e.rephraseVariant,t.uint32(34).fork()).join();for(const n of e.customRuleHighlights)kV.encode(n,t.uint32(42).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",text:"",glossaryHighlights:[],diffs:[],rephraseVariant:void 0,customRuleHighlights:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.glossaryHighlights.push(hG.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.diffs.push(bV.decode(n,n.uint32()));continue;case 4:if(34!==e)break;o.rephraseVariant=vG.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.customRuleHighlights.push(kV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:mG.$type,text:MG(e.text)?globalThis.String(e.text):"",glossaryHighlights:globalThis.Array.isArray(null==e?void 0:e.glossaryHighlights)?e.glossaryHighlights.map((e=>hG.fromJSON(e))):[],diffs:globalThis.Array.isArray(null==e?void 0:e.diffs)?e.diffs.map((e=>bV.fromJSON(e))):[],rephraseVariant:MG(e.rephraseVariant)?vG.fromJSON(e.rephraseVariant):void 0,customRuleHighlights:globalThis.Array.isArray(null==e?void 0:e.customRuleHighlights)?e.customRuleHighlights.map((e=>kV.fromJSON(e))):[]}),toJSON(e){var t,n,r;const o={};return""!==e.text&&(o.text=e.text),(null===(t=e.glossaryHighlights)||void 0===t?void 0:t.length)&&(o.glossaryHighlights=e.glossaryHighlights.map((e=>hG.toJSON(e)))),(null===(n=e.diffs)||void 0===n?void 0:n.length)&&(o.diffs=e.diffs.map((e=>bV.toJSON(e)))),void 0!==e.rephraseVariant&&(o.rephraseVariant=vG.toJSON(e.rephraseVariant)),(null===(r=e.customRuleHighlights)||void 0===r?void 0:r.length)&&(o.customRuleHighlights=e.customRuleHighlights.map((e=>kV.toJSON(e)))),o},create:e=>mG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",text:"",glossaryHighlights:[],diffs:[],rephraseVariant:void 0,customRuleHighlights:[]};return i.text=null!==(t=e.text)&&void 0!==t?t:"",i.glossaryHighlights=(null===(n=e.glossaryHighlights)||void 0===n?void 0:n.map((e=>hG.fromPartial(e))))||[],i.diffs=(null===(r=e.diffs)||void 0===r?void 0:r.map((e=>bV.fromPartial(e))))||[],i.rephraseVariant=void 0!==e.rephraseVariant&&null!==e.rephraseVariant?vG.fromPartial(e.rephraseVariant):void 0,i.customRuleHighlights=(null===(o=e.customRuleHighlights)||void 0===o?void 0:o.map((e=>kV.fromPartial(e))))||[],i}};const vG={$type:"deepl.pb.interactive_text_api.write.RephraseVariant",encode:(e,t=new tV)=>(""!==e.name&&t.uint32(10).string(e.name),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RephraseVariant",name:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.name=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:vG.$type,name:MG(e.name)?globalThis.String(e.name):""}),toJSON(e){const t={};return""!==e.name&&(t.name=e.name),t},create:e=>vG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.RephraseVariant",name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};const _G={$type:"deepl.pb.interactive_text_api.write.StyleVariant",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariant",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_G.$type,value:MG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>_G.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.StyleVariant",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const yG={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yG.$type,value:MG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>yG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const TG={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&yG.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.styleVariant&&_G.encode(e.styleVariant,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",flowId:void 0,styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=yG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.styleVariant=_G.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:TG.$type,flowId:MG(e.flowId)?yG.fromJSON(e.flowId):void 0,styleVariant:MG(e.styleVariant)?_G.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=yG.toJSON(e.flowId)),void 0!==e.styleVariant&&(t.styleVariant=_G.toJSON(e.styleVariant)),t},create:e=>TG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",flowId:void 0,styleVariant:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?yG.fromPartial(e.flowId):void 0,t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?_G.fromPartial(e.styleVariant):void 0,t}};const SG={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",encode:(e,t=new tV)=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:SG.$type,text:MG(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return""!==e.text&&(t.text=e.text),t},create:e=>SG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",text:""};return n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const bG={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",encode(e,t=new tV){void 0!==e.flowId&&yG.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)SG.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=yG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(SG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bG.$type,flowId:MG(e.flowId)?yG.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>SG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=yG.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>SG.toJSON(e)))),n},create:e=>bG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?yG.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>SG.fromPartial(e))))||[],n}};const wG={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&yG.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=yG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:wG.$type,flowId:MG(e.flowId)?yG.fromJSON(e.flowId):void 0,selection:MG(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=yG.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>wG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?yG.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};const EG={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationTemplateId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationTemplateId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:EG.$type,value:MG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>EG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationTemplateId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const AG={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationTemplatesPropertyValue",encode(e,t=new tV){for(const n of e.templateIds)EG.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationTemplatesPropertyValue",templateIds:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.templateIds.push(EG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:AG.$type,templateIds:globalThis.Array.isArray(null==e?void 0:e.templateIds)?e.templateIds.map((e=>EG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.templateIds)||void 0===t?void 0:t.length)&&(n.templateIds=e.templateIds.map((e=>EG.toJSON(e)))),n},create:e=>AG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationTemplatesPropertyValue",templateIds:[]};return n.templateIds=(null===(t=e.templateIds)||void 0===t?void 0:t.map((e=>EG.fromPartial(e))))||[],n}};const IG={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:IG.$type,value:MG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>IG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const RG={$type:"deepl.pb.interactive_text_api.write.RequestTemplateAdaptationAnnotationPayload",encode(e,t=new tV){void 0!==e.flowId&&IG.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.input&&t.uint32(18).string(e.input);for(const n of e.templateIds)EG.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestTemplateAdaptationAnnotationPayload",flowId:void 0,input:"",templateIds:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=IG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.input=n.string();continue;case 3:if(26!==e)break;o.templateIds.push(EG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:RG.$type,flowId:MG(e.flowId)?IG.fromJSON(e.flowId):void 0,input:MG(e.input)?globalThis.String(e.input):"",templateIds:globalThis.Array.isArray(null==e?void 0:e.templateIds)?e.templateIds.map((e=>EG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=IG.toJSON(e.flowId)),""!==e.input&&(n.input=e.input),(null===(t=e.templateIds)||void 0===t?void 0:t.length)&&(n.templateIds=e.templateIds.map((e=>EG.toJSON(e)))),n},create:e=>RG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.write.RequestTemplateAdaptationAnnotationPayload",flowId:void 0,input:"",templateIds:[]};return r.flowId=void 0!==e.flowId&&null!==e.flowId?IG.fromPartial(e.flowId):void 0,r.input=null!==(t=e.input)&&void 0!==t?t:"",r.templateIds=(null===(n=e.templateIds)||void 0===n?void 0:n.map((e=>EG.fromPartial(e))))||[],r}};const OG={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationAdaptedText",encode:(e,t=new tV)=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationAdaptedText",text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:OG.$type,text:MG(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return""!==e.text&&(t.text=e.text),t},create:e=>OG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.TemplateAdaptationAdaptedText",text:""};return n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const xG={$type:"deepl.pb.interactive_text_api.write.ProvidedTemplateAdaptationAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&IG.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.adaptedText&&OG.encode(e.adaptedText,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedTemplateAdaptationAnnotationPayload",flowId:void 0,adaptedText:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=IG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.adaptedText=OG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:xG.$type,flowId:MG(e.flowId)?IG.fromJSON(e.flowId):void 0,adaptedText:MG(e.adaptedText)?OG.fromJSON(e.adaptedText):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=IG.toJSON(e.flowId)),void 0!==e.adaptedText&&(t.adaptedText=OG.toJSON(e.adaptedText)),t},create:e=>xG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.ProvidedTemplateAdaptationAnnotationPayload",flowId:void 0,adaptedText:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?IG.fromPartial(e.flowId):void 0,t.adaptedText=void 0!==e.adaptedText&&null!==e.adaptedText?OG.fromPartial(e.adaptedText):void 0,t}};const NG={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:NG.$type,value:MG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>NG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const PG={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionAnnotationPayload",encode(e,t=new tV){void 0!==e.id&&NG.encode(e.id,t.uint32(10).fork()).join(),t.uint32(18).fork();for(const n of e.categories)t.int32(n);t.join(),""!==e.description&&t.uint32(26).string(e.description),0!==e.userChoice&&t.uint32(32).int32(e.userChoice);for(const n of e.originalSpans)TV.encode(n,t.uint32(42).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionAnnotationPayload",id:void 0,categories:[],description:"",userChoice:0,originalSpans:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=NG.decode(n,n.uint32());continue;case 2:if(16===e){o.categories.push(n.int32());continue}if(18===e){const e=n.uint32()+n.pos;for(;n.pos<e;)o.categories.push(n.int32());continue}break;case 3:if(26!==e)break;o.description=n.string();continue;case 4:if(32!==e)break;o.userChoice=n.int32();continue;case 5:if(42!==e)break;o.originalSpans.push(TV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:PG.$type,id:MG(e.id)?NG.fromJSON(e.id):void 0,categories:globalThis.Array.isArray(null==e?void 0:e.categories)?e.categories.map((e=>function(e){switch(e){case 0:case"INLINE_SUGGESTION_CATEGORY_UNSPECIFIED":return GV.UNSPECIFIED;case 1:case"INLINE_SUGGESTION_CATEGORY_SPELLING":return GV.SPELLING;case 2:case"INLINE_SUGGESTION_CATEGORY_GRAMMAR":return GV.GRAMMAR;case 3:case"INLINE_SUGGESTION_CATEGORY_PUNCTUATION":return GV.PUNCTUATION;case 4:case"INLINE_SUGGESTION_CATEGORY_READABILITY":return GV.READABILITY;case 5:case"INLINE_SUGGESTION_CATEGORY_FORMATTING":return GV.FORMATTING;case 6:case"INLINE_SUGGESTION_CATEGORY_OTHER":return GV.OTHER;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InlineSuggestionCategory")}}(e))):[],description:MG(e.description)?globalThis.String(e.description):"",userChoice:MG(e.userChoice)?jV(e.userChoice):0,originalSpans:globalThis.Array.isArray(null==e?void 0:e.originalSpans)?e.originalSpans.map((e=>TV.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return void 0!==e.id&&(r.id=NG.toJSON(e.id)),(null===(t=e.categories)||void 0===t?void 0:t.length)&&(r.categories=e.categories.map((e=>function(e){switch(e){case GV.UNSPECIFIED:return"INLINE_SUGGESTION_CATEGORY_UNSPECIFIED";case GV.SPELLING:return"INLINE_SUGGESTION_CATEGORY_SPELLING";case GV.GRAMMAR:return"INLINE_SUGGESTION_CATEGORY_GRAMMAR";case GV.PUNCTUATION:return"INLINE_SUGGESTION_CATEGORY_PUNCTUATION";case GV.READABILITY:return"INLINE_SUGGESTION_CATEGORY_READABILITY";case GV.FORMATTING:return"INLINE_SUGGESTION_CATEGORY_FORMATTING";case GV.OTHER:return"INLINE_SUGGESTION_CATEGORY_OTHER";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum InlineSuggestionCategory")}}(e)))),""!==e.description&&(r.description=e.description),0!==e.userChoice&&(r.userChoice=qV(e.userChoice)),(null===(n=e.originalSpans)||void 0===n?void 0:n.length)&&(r.originalSpans=e.originalSpans.map((e=>TV.toJSON(e)))),r},create:e=>PG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionAnnotationPayload",id:void 0,categories:[],description:"",userChoice:0,originalSpans:[]};return i.id=void 0!==e.id&&null!==e.id?NG.fromPartial(e.id):void 0,i.categories=(null===(t=e.categories)||void 0===t?void 0:t.map((e=>e)))||[],i.description=null!==(n=e.description)&&void 0!==n?n:"",i.userChoice=null!==(r=e.userChoice)&&void 0!==r?r:0,i.originalSpans=(null===(o=e.originalSpans)||void 0===o?void 0:o.map((e=>TV.fromPartial(e))))||[],i}};const kG={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionSpanAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.id&&NG.encode(e.id,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionSpanAnnotationPayload",id:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=NG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kG.$type,id:MG(e.id)?NG.fromJSON(e.id):void 0}),toJSON(e){const t={};return void 0!==e.id&&(t.id=NG.toJSON(e.id)),t},create:e=>kG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionSpanAnnotationPayload",id:void 0};return t.id=void 0!==e.id&&null!==e.id?NG.fromPartial(e.id):void 0,t}};const CG={$type:"deepl.pb.interactive_text_api.write.ActOnInlineSuggestionAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.inlineSuggestionId&&NG.encode(e.inlineSuggestionId,t.uint32(10).fork()).join(),0!==e.userChoice&&t.uint32(16).int32(e.userChoice),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ActOnInlineSuggestionAnnotationPayload",inlineSuggestionId:void 0,userChoice:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.inlineSuggestionId=NG.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.userChoice=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CG.$type,inlineSuggestionId:MG(e.inlineSuggestionId)?NG.fromJSON(e.inlineSuggestionId):void 0,userChoice:MG(e.userChoice)?jV(e.userChoice):0}),toJSON(e){const t={};return void 0!==e.inlineSuggestionId&&(t.inlineSuggestionId=NG.toJSON(e.inlineSuggestionId)),0!==e.userChoice&&(t.userChoice=qV(e.userChoice)),t},create:e=>CG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ActOnInlineSuggestionAnnotationPayload",inlineSuggestionId:void 0,userChoice:0};return n.inlineSuggestionId=void 0!==e.inlineSuggestionId&&null!==e.inlineSuggestionId?NG.fromPartial(e.inlineSuggestionId):void 0,n.userChoice=null!==(t=e.userChoice)&&void 0!==t?t:0,n}};const LG={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionsTextUnitStateAnnotationPayload",encode(e,t=new tV){void 0!==e.textUnitId&&DV.encode(e.textUnitId,t.uint32(10).fork()).join();for(const n of e.inlineSuggestionIds)NG.encode(n,t.uint32(18).fork()).join();return""!==e.originalText&&t.uint32(26).string(e.originalText),""!==e.improvedText&&t.uint32(34).string(e.improvedText),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionsTextUnitStateAnnotationPayload",textUnitId:void 0,inlineSuggestionIds:[],originalText:"",improvedText:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textUnitId=DV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.inlineSuggestionIds.push(NG.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.originalText=n.string();continue;case 4:if(34!==e)break;o.improvedText=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:LG.$type,textUnitId:MG(e.textUnitId)?DV.fromJSON(e.textUnitId):void 0,inlineSuggestionIds:globalThis.Array.isArray(null==e?void 0:e.inlineSuggestionIds)?e.inlineSuggestionIds.map((e=>NG.fromJSON(e))):[],originalText:MG(e.originalText)?globalThis.String(e.originalText):"",improvedText:MG(e.improvedText)?globalThis.String(e.improvedText):""}),toJSON(e){var t;const n={};return void 0!==e.textUnitId&&(n.textUnitId=DV.toJSON(e.textUnitId)),(null===(t=e.inlineSuggestionIds)||void 0===t?void 0:t.length)&&(n.inlineSuggestionIds=e.inlineSuggestionIds.map((e=>NG.toJSON(e)))),""!==e.originalText&&(n.originalText=e.originalText),""!==e.improvedText&&(n.improvedText=e.improvedText),n},create:e=>LG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.write.InlineSuggestionsTextUnitStateAnnotationPayload",textUnitId:void 0,inlineSuggestionIds:[],originalText:"",improvedText:""};return o.textUnitId=void 0!==e.textUnitId&&null!==e.textUnitId?DV.fromPartial(e.textUnitId):void 0,o.inlineSuggestionIds=(null===(t=e.inlineSuggestionIds)||void 0===t?void 0:t.map((e=>NG.fromPartial(e))))||[],o.originalText=null!==(n=e.originalText)&&void 0!==n?n:"",o.improvedText=null!==(r=e.improvedText)&&void 0!==r?r:"",o}};const $G={$type:"deepl.pb.interactive_text_api.write.RequestInlineSuggestionImprovedTextAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.inlineSuggestionId&&NG.encode(e.inlineSuggestionId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestInlineSuggestionImprovedTextAnnotationPayload",inlineSuggestionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.inlineSuggestionId=NG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:$G.$type,inlineSuggestionId:MG(e.inlineSuggestionId)?NG.fromJSON(e.inlineSuggestionId):void 0}),toJSON(e){const t={};return void 0!==e.inlineSuggestionId&&(t.inlineSuggestionId=NG.toJSON(e.inlineSuggestionId)),t},create:e=>$G.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestInlineSuggestionImprovedTextAnnotationPayload",inlineSuggestionId:void 0};return t.inlineSuggestionId=void 0!==e.inlineSuggestionId&&null!==e.inlineSuggestionId?NG.fromPartial(e.inlineSuggestionId):void 0,t}};const DG={$type:"deepl.pb.interactive_text_api.write.ProvidedInlineSuggestionImprovedTextAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.inlineSuggestionId&&NG.encode(e.inlineSuggestionId,t.uint32(10).fork()).join(),""!==e.improvedText&&t.uint32(18).string(e.improvedText),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedInlineSuggestionImprovedTextAnnotationPayload",inlineSuggestionId:void 0,improvedText:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.inlineSuggestionId=NG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.improvedText=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DG.$type,inlineSuggestionId:MG(e.inlineSuggestionId)?NG.fromJSON(e.inlineSuggestionId):void 0,improvedText:MG(e.improvedText)?globalThis.String(e.improvedText):""}),toJSON(e){const t={};return void 0!==e.inlineSuggestionId&&(t.inlineSuggestionId=NG.toJSON(e.inlineSuggestionId)),""!==e.improvedText&&(t.improvedText=e.improvedText),t},create:e=>DG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedInlineSuggestionImprovedTextAnnotationPayload",inlineSuggestionId:void 0,improvedText:""};return n.inlineSuggestionId=void 0!==e.inlineSuggestionId&&null!==e.inlineSuggestionId?NG.fromPartial(e.inlineSuggestionId):void 0,n.improvedText=null!==(t=e.improvedText)&&void 0!==t?t:"",n}};function MG(e){return null!=e}const UG={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",encode:(e,t=new tV)=>(""!==e.selection&&t.uint32(10).string(e.selection),void 0!==e.rephraseVariant&&vG.encode(e.rephraseVariant,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",selection:"",rephraseVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.selection=n.string();continue;case 2:if(18!==e)break;o.rephraseVariant=vG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:UG.$type,selection:VG(e.selection)?globalThis.String(e.selection):"",rephraseVariant:VG(e.rephraseVariant)?vG.fromJSON(e.rephraseVariant):void 0}),toJSON(e){const t={};return""!==e.selection&&(t.selection=e.selection),void 0!==e.rephraseVariant&&(t.rephraseVariant=vG.toJSON(e.rephraseVariant)),t},create:e=>UG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",selection:"",rephraseVariant:void 0};return n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n.rephraseVariant=void 0!==e.rephraseVariant&&null!==e.rephraseVariant?vG.fromPartial(e.rephraseVariant):void 0,n}};function VG(e){return null!=e}const GG={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&vV.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),void 0!==e.rephraseVariant&&vG.encode(e.rephraseVariant,t.uint32(26).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",flowId:void 0,selection:"",rephraseVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=vV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue;case 3:if(26!==e)break;o.rephraseVariant=vG.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:GG.$type,flowId:FG(e.flowId)?vV.fromJSON(e.flowId):void 0,selection:FG(e.selection)?globalThis.String(e.selection):"",rephraseVariant:FG(e.rephraseVariant)?vG.fromJSON(e.rephraseVariant):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=vV.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),void 0!==e.rephraseVariant&&(t.rephraseVariant=vG.toJSON(e.rephraseVariant)),t},create:e=>GG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",flowId:void 0,selection:"",rephraseVariant:void 0};return n.flowId=void 0!==e.flowId&&null!==e.flowId?vV.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n.rephraseVariant=void 0!==e.rephraseVariant&&null!==e.rephraseVariant?vG.fromPartial(e.rephraseVariant):void 0,n}};function FG(e){return null!=e}const jG={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&pV.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=pV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jG.$type,flowId:qG(e.flowId)?pV.fromJSON(e.flowId):void 0,selection:qG(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=pV.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>jG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?pV.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function qG(e){return null!=e}const BG={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:BG.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>BG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const HG={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",encode(e,t=new tV){void 0!==e.textFormattingId&&BG.encode(e.textFormattingId,t.uint32(10).fork()).join(),""!==e.name&&t.uint32(18).string(e.name);for(const n of e.children)BG.encode(n,t.uint32(26).fork()).join();return Object.entries(e.attributes).forEach((([e,n])=>{JG.encode({$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload.AttributesEntry",key:e,value:n},t.uint32(34).fork()).join()})),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",textFormattingId:void 0,name:"",children:[],attributes:{}};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textFormattingId=BG.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.children.push(BG.decode(n,n.uint32()));continue;case 4:if(34!==e)break;const t=JG.decode(n,n.uint32());void 0!==t.value&&(o.attributes[t.key]=t.value);continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:HG.$type,textFormattingId:zG(e.textFormattingId)?BG.fromJSON(e.textFormattingId):void 0,name:zG(e.name)?globalThis.String(e.name):"",children:globalThis.Array.isArray(null==e?void 0:e.children)?e.children.map((e=>BG.fromJSON(e))):[],attributes:(t=e.attributes,"object"==typeof t&&null!==t?Object.entries(e.attributes).reduce(((e,[t,n])=>(e[t]=String(n),e)),{}):{})};var t},toJSON(e){var t;const n={};if(void 0!==e.textFormattingId&&(n.textFormattingId=BG.toJSON(e.textFormattingId)),""!==e.name&&(n.name=e.name),(null===(t=e.children)||void 0===t?void 0:t.length)&&(n.children=e.children.map((e=>BG.toJSON(e)))),e.attributes){const t=Object.entries(e.attributes);t.length>0&&(n.attributes={},t.forEach((([e,t])=>{n.attributes[e]=t})))}return n},create:e=>HG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",textFormattingId:void 0,name:"",children:[],attributes:{}};return o.textFormattingId=void 0!==e.textFormattingId&&null!==e.textFormattingId?BG.fromPartial(e.textFormattingId):void 0,o.name=null!==(t=e.name)&&void 0!==t?t:"",o.children=(null===(n=e.children)||void 0===n?void 0:n.map((e=>BG.fromPartial(e))))||[],o.attributes=Object.entries(null!==(r=e.attributes)&&void 0!==r?r:{}).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=globalThis.String(n)),e)),{}),o}};const JG={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload.AttributesEntry",encode:(e,t=new tV)=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload.AttributesEntry",key:"",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JG.$type,key:zG(e.key)?globalThis.String(e.key):"",value:zG(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>JG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload.AttributesEntry",key:"",value:""};return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=null!==(n=e.value)&&void 0!==n?n:"",r}};function zG(e){return null!=e}const WG={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.textUnitId&&DV.encode(e.textUnitId,t.uint32(10).fork()).join(),!1!==e.isUserEdited&&t.uint32(16).bool(e.isUserEdited),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",textUnitId:void 0,isUserEdited:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textUnitId=DV.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.isUserEdited=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WG.$type,textUnitId:YG(e.textUnitId)?DV.fromJSON(e.textUnitId):void 0,isUserEdited:!!YG(e.isUserEdited)&&globalThis.Boolean(e.isUserEdited)}),toJSON(e){const t={};return void 0!==e.textUnitId&&(t.textUnitId=DV.toJSON(e.textUnitId)),!1!==e.isUserEdited&&(t.isUserEdited=e.isUserEdited),t},create:e=>WG.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",textUnitId:void 0,isUserEdited:!1};return n.textUnitId=void 0!==e.textUnitId&&null!==e.textUnitId?DV.fromPartial(e.textUnitId):void 0,n.isUserEdited=null!==(t=e.isUserEdited)&&void 0!==t&&t,n}};function YG(e){return null!=e}const XG={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryDiff",encode:(e,t=new tV)=>(void 0!==e.sourceRange&&TV.encode(e.sourceRange,t.uint32(10).fork()).join(),void 0!==e.matchedRange&&TV.encode(e.matchedRange,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryDiff",sourceRange:void 0,matchedRange:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceRange=TV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.matchedRange=TV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XG.$type,sourceRange:KG(e.sourceRange)?TV.fromJSON(e.sourceRange):void 0,matchedRange:KG(e.matchedRange)?TV.fromJSON(e.matchedRange):void 0}),toJSON(e){const t={};return void 0!==e.sourceRange&&(t.sourceRange=TV.toJSON(e.sourceRange)),void 0!==e.matchedRange&&(t.matchedRange=TV.toJSON(e.matchedRange)),t},create:e=>XG.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryDiff",sourceRange:void 0,matchedRange:void 0};return t.sourceRange=void 0!==e.sourceRange&&null!==e.sourceRange?TV.fromPartial(e.sourceRange):void 0,t.matchedRange=void 0!==e.matchedRange&&null!==e.matchedRange?TV.fromPartial(e.matchedRange):void 0,t}};function KG(e){return null!=e}const QG={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryAnnotationPayload",encode(e,t=new tV){""!==e.id&&t.uint32(10).string(e.id),""!==e.sourceText&&t.uint32(18).string(e.sourceText);for(const n of e.matches)ZG.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryAnnotationPayload",id:"",sourceText:"",matches:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue;case 2:if(18!==e)break;o.sourceText=n.string();continue;case 3:if(26!==e)break;o.matches.push(ZG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:QG.$type,id:eF(e.id)?globalThis.String(e.id):"",sourceText:eF(e.sourceText)?globalThis.String(e.sourceText):"",matches:globalThis.Array.isArray(null==e?void 0:e.matches)?e.matches.map((e=>ZG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return""!==e.id&&(n.id=e.id),""!==e.sourceText&&(n.sourceText=e.sourceText),(null===(t=e.matches)||void 0===t?void 0:t.length)&&(n.matches=e.matches.map((e=>ZG.toJSON(e)))),n},create:e=>QG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryAnnotationPayload",id:"",sourceText:"",matches:[]};return o.id=null!==(t=e.id)&&void 0!==t?t:"",o.sourceText=null!==(n=e.sourceText)&&void 0!==n?n:"",o.matches=(null===(r=e.matches)||void 0===r?void 0:r.map((e=>ZG.fromPartial(e))))||[],o}};const ZG={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryMatch",encode(e,t=new tV){""!==e.matchedText&&t.uint32(10).string(e.matchedText),""!==e.translation&&t.uint32(18).string(e.translation),0!==e.score&&t.uint32(29).float(e.score);for(const n of e.diffs)XG.encode(n,t.uint32(34).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryMatch",matchedText:"",translation:"",score:0,diffs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.matchedText=n.string();continue;case 2:if(18!==e)break;o.translation=n.string();continue;case 3:if(29!==e)break;o.score=n.float();continue;case 4:if(34!==e)break;o.diffs.push(XG.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ZG.$type,matchedText:eF(e.matchedText)?globalThis.String(e.matchedText):"",translation:eF(e.translation)?globalThis.String(e.translation):"",score:eF(e.score)?globalThis.Number(e.score):0,diffs:globalThis.Array.isArray(null==e?void 0:e.diffs)?e.diffs.map((e=>XG.fromJSON(e))):[]}),toJSON(e){var t;const n={};return""!==e.matchedText&&(n.matchedText=e.matchedText),""!==e.translation&&(n.translation=e.translation),0!==e.score&&(n.score=e.score),(null===(t=e.diffs)||void 0===t?void 0:t.length)&&(n.diffs=e.diffs.map((e=>XG.toJSON(e)))),n},create:e=>ZG.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryMatch",matchedText:"",translation:"",score:0,diffs:[]};return i.matchedText=null!==(t=e.matchedText)&&void 0!==t?t:"",i.translation=null!==(n=e.translation)&&void 0!==n?n:"",i.score=null!==(r=e.score)&&void 0!==r?r:0,i.diffs=(null===(o=e.diffs)||void 0===o?void 0:o.map((e=>XG.fromPartial(e))))||[],i}};function eF(e){return null!=e}const tF={$type:"deepl.pb.interactive_text_api.common.translation_memories.MatchId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.MatchId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:tF.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>tF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.translation_memories.MatchId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const nF={$type:"deepl.pb.interactive_text_api.common.translation_memories.SegmentId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.SegmentId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:nF.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>nF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.translation_memories.SegmentId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const rF={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemorySegmentId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemorySegmentId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:rF.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>rF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemorySegmentId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const oF={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemorySegmentAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.id&&rF.encode(e.id,t.uint32(10).fork()).join(),void 0!==e.matchId&&tF.encode(e.matchId,t.uint32(18).fork()).join(),!1!==e.isEdited&&t.uint32(24).bool(e.isEdited),void 0!==e.segmentId&&nF.encode(e.segmentId,t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemorySegmentAnnotationPayload",id:void 0,matchId:void 0,isEdited:!1,segmentId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=rF.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.matchId=tF.decode(n,n.uint32());continue;case 3:if(24!==e)break;o.isEdited=n.bool();continue;case 4:if(34!==e)break;o.segmentId=nF.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oF.$type,id:iF(e.id)?rF.fromJSON(e.id):void 0,matchId:iF(e.matchId)?tF.fromJSON(e.matchId):void 0,isEdited:!!iF(e.isEdited)&&globalThis.Boolean(e.isEdited),segmentId:iF(e.segmentId)?nF.fromJSON(e.segmentId):void 0}),toJSON(e){const t={};return void 0!==e.id&&(t.id=rF.toJSON(e.id)),void 0!==e.matchId&&(t.matchId=tF.toJSON(e.matchId)),!1!==e.isEdited&&(t.isEdited=e.isEdited),void 0!==e.segmentId&&(t.segmentId=nF.toJSON(e.segmentId)),t},create:e=>oF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemorySegmentAnnotationPayload",id:void 0,matchId:void 0,isEdited:!1,segmentId:void 0};return n.id=void 0!==e.id&&null!==e.id?rF.fromPartial(e.id):void 0,n.matchId=void 0!==e.matchId&&null!==e.matchId?tF.fromPartial(e.matchId):void 0,n.isEdited=null!==(t=e.isEdited)&&void 0!==t&&t,n.segmentId=void 0!==e.segmentId&&null!==e.segmentId?nF.fromPartial(e.segmentId):void 0,n}};function iF(e){return null!=e}const aF={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:aF.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>aF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const sF={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:sF.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>sF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemoryId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const lF={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemory",encode:(e,t=new tV)=>(void 0!==e.id&&sF.encode(e.id,t.uint32(10).fork()).join(),""!==e.name&&t.uint32(18).string(e.name),!1!==e.isRecommendedByStyleProfile&&t.uint32(24).bool(e.isRecommendedByStyleProfile),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemory",id:void 0,name:"",isRecommendedByStyleProfile:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=sF.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(24!==e)break;o.isRecommendedByStyleProfile=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lF.$type,id:cF(e.id)?sF.fromJSON(e.id):void 0,name:cF(e.name)?globalThis.String(e.name):"",isRecommendedByStyleProfile:!!cF(e.isRecommendedByStyleProfile)&&globalThis.Boolean(e.isRecommendedByStyleProfile)}),toJSON(e){const t={};return void 0!==e.id&&(t.id=sF.toJSON(e.id)),""!==e.name&&(t.name=e.name),!1!==e.isRecommendedByStyleProfile&&(t.isRecommendedByStyleProfile=e.isRecommendedByStyleProfile),t},create:e=>lF.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.common.translation_memories.TranslationMemory",id:void 0,name:"",isRecommendedByStyleProfile:!1};return r.id=void 0!==e.id&&null!==e.id?sF.fromPartial(e.id):void 0,r.name=null!==(t=e.name)&&void 0!==t?t:"",r.isRecommendedByStyleProfile=null!==(n=e.isRecommendedByStyleProfile)&&void 0!==n&&n,r}};function cF(e){return null!=e}const uF={$type:"deepl.pb.interactive_text_api.translator.Customizations",encode(e,t=new tV){for(const n of e.glossaryIds)AV.encode(n,t.uint32(10).fork()).join();for(const n of e.freeTextPrompts)MV.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.Customizations",glossaryIds:[],freeTextPrompts:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryIds.push(AV.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.freeTextPrompts.push(MV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uF.$type,glossaryIds:globalThis.Array.isArray(null==e?void 0:e.glossaryIds)?e.glossaryIds.map((e=>AV.fromJSON(e))):[],freeTextPrompts:globalThis.Array.isArray(null==e?void 0:e.freeTextPrompts)?e.freeTextPrompts.map((e=>MV.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return(null===(t=e.glossaryIds)||void 0===t?void 0:t.length)&&(r.glossaryIds=e.glossaryIds.map((e=>AV.toJSON(e)))),(null===(n=e.freeTextPrompts)||void 0===n?void 0:n.length)&&(r.freeTextPrompts=e.freeTextPrompts.map((e=>MV.toJSON(e)))),r},create:e=>uF.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.Customizations",glossaryIds:[],freeTextPrompts:[]};return r.glossaryIds=(null===(t=e.glossaryIds)||void 0===t?void 0:t.map((e=>AV.fromPartial(e))))||[],r.freeTextPrompts=(null===(n=e.freeTextPrompts)||void 0===n?void 0:n.map((e=>MV.fromPartial(e))))||[],r}};var dF,pF,fF,hF;function gF(e){switch(e){case 0:case"TEXT_DIRECTION_UNSPECIFIED":return dF.UNSPECIFIED;case 1:case"TEXT_DIRECTION_LEFT_TO_RIGHT":return dF.LEFT_TO_RIGHT;case 2:case"TEXT_DIRECTION_RIGHT_TO_LEFT":return dF.RIGHT_TO_LEFT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TextDirection")}}function mF(e){switch(e){case 0:case"CLARIFY_STATUS_UNSPECIFIED":return pF.UNSPECIFIED;case 1:case"CLARIFY_STATUS_SUCCESS":return pF.SUCCESS;case 2:case"CLARIFY_STATUS_ERROR":return pF.ERROR;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ClarifyStatus")}}function vF(e){switch(e){case 0:case"USAGE_TYPE_UNSPECIFIED":return fF.UNSPECIFIED;case 1:case"USAGE_TYPE_TRANSLATE":return fF.TRANSLATE;case 2:case"USAGE_TYPE_FULL_PAGE_TRANSLATION":return fF.FULL_PAGE_TRANSLATION;case 4:case"USAGE_TYPE_OCR":return fF.OCR;case 5:case"USAGE_TYPE_VOICE_FOR_CONVERSATIONS":return fF.VOICE_FOR_CONVERSATIONS;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UsageType")}}function _F(e){switch(e){case 0:case"REPHRASE_TARGET_TEXT_STATUS_UNSPECIFIED":return hF.UNSPECIFIED;case 1:case"REPHRASE_TARGET_TEXT_STATUS_AVAILABLE":return hF.AVAILABLE;case 2:case"REPHRASE_TARGET_TEXT_STATUS_IN_PROGRESS":return hF.IN_PROGRESS;case 3:case"REPHRASE_TARGET_TEXT_STATUS_NO_EDIT":return hF.NO_EDIT;case 4:case"REPHRASE_TARGET_TEXT_STATUS_LANGUAGE_NOT_SUPPORTED":return hF.LANGUAGE_NOT_SUPPORTED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum RephraseTargetTextStatus")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=2]="RIGHT_TO_LEFT"}(dF||(dF={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR"}(pF||(pF={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATE=1]="TRANSLATE",e[e.FULL_PAGE_TRANSLATION=2]="FULL_PAGE_TRANSLATION",e[e.OCR=4]="OCR",e[e.VOICE_FOR_CONVERSATIONS=5]="VOICE_FOR_CONVERSATIONS"}(fF||(fF={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AVAILABLE=1]="AVAILABLE",e[e.IN_PROGRESS=2]="IN_PROGRESS",e[e.NO_EDIT=3]="NO_EDIT",e[e.LANGUAGE_NOT_SUPPORTED=4]="LANGUAGE_NOT_SUPPORTED"}(hF||(hF={}));const yF={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&aF.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=aF.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yF.$type,flowId:Lj(e.flowId)?aF.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=aF.toJSON(e.flowId)),t},create:e=>yF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?aF.fromPartial(e.flowId):void 0,t}};const TF={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",encode(e,t=new tV){void 0!==e.flowId&&aF.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.autocompletions)wj.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",flowId:void 0,autocompletions:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=aF.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.autocompletions.push(wj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:TF.$type,flowId:Lj(e.flowId)?aF.fromJSON(e.flowId):void 0,autocompletions:globalThis.Array.isArray(null==e?void 0:e.autocompletions)?e.autocompletions.map((e=>wj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=aF.toJSON(e.flowId)),(null===(t=e.autocompletions)||void 0===t?void 0:t.length)&&(n.autocompletions=e.autocompletions.map((e=>wj.toJSON(e)))),n},create:e=>TF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",flowId:void 0,autocompletions:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?aF.fromPartial(e.flowId):void 0,n.autocompletions=(null===(t=e.autocompletions)||void 0===t?void 0:t.map((e=>wj.fromPartial(e))))||[],n}};const SF={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&aF.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=aF.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:SF.$type,flowId:Lj(e.flowId)?aF.fromJSON(e.flowId):void 0,selection:Lj(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=aF.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>SF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?aF.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};const bF={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.replacement&&_j.encode(e.replacement,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",replacement:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.replacement=_j.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bF.$type,replacement:Lj(e.replacement)?_j.fromJSON(e.replacement):void 0}),toJSON(e){const t={};return void 0!==e.replacement&&(t.replacement=_j.toJSON(e.replacement)),t},create:e=>bF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",replacement:void 0};return t.replacement=void 0!==e.replacement&&null!==e.replacement?_j.fromPartial(e.replacement):void 0,t}};const wF={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",encode(e,t=new tV){void 0!==e.flowId&&vV.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)wj.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=vV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(wj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:wF.$type,flowId:Lj(e.flowId)?vV.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>wj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=vV.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>wj.toJSON(e)))),n},create:e=>wF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?vV.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>wj.fromPartial(e))))||[],n}};const EF={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",encode(e,t=new tV){for(const n of e.alternatives)wj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.alternatives.push(wj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:EF.$type,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>wj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>wj.toJSON(e)))),n},create:e=>EF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};return n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>wj.fromPartial(e))))||[],n}};const AF={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&xj.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=xj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:AF.$type,flowId:Lj(e.flowId)?xj.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=xj.toJSON(e.flowId)),t},create:e=>AF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?xj.fromPartial(e.flowId):void 0,t}};const IF={$type:"deepl.pb.interactive_text_api.translator.ClarifyStatusAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&xj.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.referenceId&&hV.encode(e.referenceId,t.uint32(18).fork()).join(),0!==e.status&&t.uint32(24).int32(e.status),void 0!==e.errorInfo&&kj.encode(e.errorInfo,t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyStatusAnnotationPayload",flowId:void 0,referenceId:void 0,status:0,errorInfo:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=xj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.referenceId=hV.decode(n,n.uint32());continue;case 3:if(24!==e)break;o.status=n.int32();continue;case 4:if(34!==e)break;o.errorInfo=kj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:IF.$type,flowId:Lj(e.flowId)?xj.fromJSON(e.flowId):void 0,referenceId:Lj(e.referenceId)?hV.fromJSON(e.referenceId):void 0,status:Lj(e.status)?mF(e.status):0,errorInfo:Lj(e.errorInfo)?kj.fromJSON(e.errorInfo):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=xj.toJSON(e.flowId)),void 0!==e.referenceId&&(t.referenceId=hV.toJSON(e.referenceId)),0!==e.status&&(t.status=function(e){switch(e){case pF.UNSPECIFIED:return"CLARIFY_STATUS_UNSPECIFIED";case pF.SUCCESS:return"CLARIFY_STATUS_SUCCESS";case pF.ERROR:return"CLARIFY_STATUS_ERROR";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum ClarifyStatus")}}(e.status)),void 0!==e.errorInfo&&(t.errorInfo=kj.toJSON(e.errorInfo)),t},create:e=>IF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyStatusAnnotationPayload",flowId:void 0,referenceId:void 0,status:0,errorInfo:void 0};return n.flowId=void 0!==e.flowId&&null!==e.flowId?xj.fromPartial(e.flowId):void 0,n.referenceId=void 0!==e.referenceId&&null!==e.referenceId?hV.fromPartial(e.referenceId):void 0,n.status=null!==(t=e.status)&&void 0!==t?t:0,n.errorInfo=void 0!==e.errorInfo&&null!==e.errorInfo?kj.fromPartial(e.errorInfo):void 0,n}};const RF={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&xj.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionId&&Pj.encode(e.questionId,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",flowId:void 0,questionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=xj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionId=Pj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:RF.$type,flowId:Lj(e.flowId)?xj.fromJSON(e.flowId):void 0,questionId:Lj(e.questionId)?Pj.fromJSON(e.questionId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=xj.toJSON(e.flowId)),void 0!==e.questionId&&(t.questionId=Pj.toJSON(e.questionId)),t},create:e=>RF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",flowId:void 0,questionId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?xj.fromPartial(e.flowId):void 0,t.questionId=void 0!==e.questionId&&null!==e.questionId?Pj.fromPartial(e.questionId):void 0,t}};const OF={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&xj.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionWithAnswers&&Rj.encode(e.questionWithAnswers,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",flowId:void 0,questionWithAnswers:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=xj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionWithAnswers=Rj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:OF.$type,flowId:Lj(e.flowId)?xj.fromJSON(e.flowId):void 0,questionWithAnswers:Lj(e.questionWithAnswers)?Rj.fromJSON(e.questionWithAnswers):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=xj.toJSON(e.flowId)),void 0!==e.questionWithAnswers&&(t.questionWithAnswers=Rj.toJSON(e.questionWithAnswers)),t},create:e=>OF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",flowId:void 0,questionWithAnswers:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?xj.fromPartial(e.flowId):void 0,t.questionWithAnswers=void 0!==e.questionWithAnswers&&null!==e.questionWithAnswers?Rj.fromPartial(e.questionWithAnswers):void 0,t}};const xF={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&xj.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionId&&Pj.encode(e.questionId,t.uint32(18).fork()).join(),void 0!==e.answer&&Oj.encode(e.answer,t.uint32(26).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",flowId:void 0,questionId:void 0,answer:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=xj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionId=Pj.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.answer=Oj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:xF.$type,flowId:Lj(e.flowId)?xj.fromJSON(e.flowId):void 0,questionId:Lj(e.questionId)?Pj.fromJSON(e.questionId):void 0,answer:Lj(e.answer)?Oj.fromJSON(e.answer):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=xj.toJSON(e.flowId)),void 0!==e.questionId&&(t.questionId=Pj.toJSON(e.questionId)),void 0!==e.answer&&(t.answer=Oj.toJSON(e.answer)),t},create:e=>xF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",flowId:void 0,questionId:void 0,answer:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?xj.fromPartial(e.flowId):void 0,t.questionId=void 0!==e.questionId&&null!==e.questionId?Pj.fromPartial(e.questionId):void 0,t.answer=void 0!==e.answer&&null!==e.answer?Oj.fromPartial(e.answer):void 0,t}};const NF={$type:"deepl.pb.interactive_text_api.translator.RequestRephraseTargetTextAnnotationPayload",encode:(e,t=new tV)=>(""!==e.flowId&&t.uint32(10).string(e.flowId),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestRephraseTargetTextAnnotationPayload",flowId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:NF.$type,flowId:Lj(e.flowId)?globalThis.String(e.flowId):""}),toJSON(e){const t={};return""!==e.flowId&&(t.flowId=e.flowId),t},create:e=>NF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.RequestRephraseTargetTextAnnotationPayload",flowId:""};return n.flowId=null!==(t=e.flowId)&&void 0!==t?t:"",n}};const PF={$type:"deepl.pb.interactive_text_api.translator.HypothesesComparisonDiff",encode:(e,t=new tV)=>(void 0!==e.originalRange&&TV.encode(e.originalRange,t.uint32(10).fork()).join(),void 0!==e.alternativeRange&&TV.encode(e.alternativeRange,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.HypothesesComparisonDiff",originalRange:void 0,alternativeRange:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.originalRange=TV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternativeRange=TV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:PF.$type,originalRange:Lj(e.originalRange)?TV.fromJSON(e.originalRange):void 0,alternativeRange:Lj(e.alternativeRange)?TV.fromJSON(e.alternativeRange):void 0}),toJSON(e){const t={};return void 0!==e.originalRange&&(t.originalRange=TV.toJSON(e.originalRange)),void 0!==e.alternativeRange&&(t.alternativeRange=TV.toJSON(e.alternativeRange)),t},create:e=>PF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.HypothesesComparisonDiff",originalRange:void 0,alternativeRange:void 0};return t.originalRange=void 0!==e.originalRange&&null!==e.originalRange?TV.fromPartial(e.originalRange):void 0,t.alternativeRange=void 0!==e.alternativeRange&&null!==e.alternativeRange?TV.fromPartial(e.alternativeRange):void 0,t}};const kF={$type:"deepl.pb.interactive_text_api.translator.ProvidedHypothesesComparisonStateAnnotationPayload",encode(e,t=new tV){""!==e.flowId&&t.uint32(10).string(e.flowId),""!==e.alternativeTranslation&&t.uint32(18).string(e.alternativeTranslation),""!==e.originalTranslationHash&&t.uint32(26).string(e.originalTranslationHash),""!==e.testName&&t.uint32(34).string(e.testName);for(const n of e.diffs)PF.encode(n,t.uint32(42).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedHypothesesComparisonStateAnnotationPayload",flowId:"",alternativeTranslation:"",originalTranslationHash:"",testName:"",diffs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=n.string();continue;case 2:if(18!==e)break;o.alternativeTranslation=n.string();continue;case 3:if(26!==e)break;o.originalTranslationHash=n.string();continue;case 4:if(34!==e)break;o.testName=n.string();continue;case 5:if(42!==e)break;o.diffs.push(PF.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kF.$type,flowId:Lj(e.flowId)?globalThis.String(e.flowId):"",alternativeTranslation:Lj(e.alternativeTranslation)?globalThis.String(e.alternativeTranslation):"",originalTranslationHash:Lj(e.originalTranslationHash)?globalThis.String(e.originalTranslationHash):"",testName:Lj(e.testName)?globalThis.String(e.testName):"",diffs:globalThis.Array.isArray(null==e?void 0:e.diffs)?e.diffs.map((e=>PF.fromJSON(e))):[]}),toJSON(e){var t;const n={};return""!==e.flowId&&(n.flowId=e.flowId),""!==e.alternativeTranslation&&(n.alternativeTranslation=e.alternativeTranslation),""!==e.originalTranslationHash&&(n.originalTranslationHash=e.originalTranslationHash),""!==e.testName&&(n.testName=e.testName),(null===(t=e.diffs)||void 0===t?void 0:t.length)&&(n.diffs=e.diffs.map((e=>PF.toJSON(e)))),n},create:e=>kF.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const a={$type:"deepl.pb.interactive_text_api.translator.ProvidedHypothesesComparisonStateAnnotationPayload",flowId:"",alternativeTranslation:"",originalTranslationHash:"",testName:"",diffs:[]};return a.flowId=null!==(t=e.flowId)&&void 0!==t?t:"",a.alternativeTranslation=null!==(n=e.alternativeTranslation)&&void 0!==n?n:"",a.originalTranslationHash=null!==(r=e.originalTranslationHash)&&void 0!==r?r:"",a.testName=null!==(o=e.testName)&&void 0!==o?o:"",a.diffs=(null===(i=e.diffs)||void 0===i?void 0:i.map((e=>PF.fromPartial(e))))||[],a}};const CF={$type:"deepl.pb.interactive_text_api.translator.SelectHypothesesComparisonVariantAnnotationPayload",encode:(e,t=new tV)=>(""!==e.flowId&&t.uint32(10).string(e.flowId),0!==e.selection&&t.uint32(16).int32(e.selection),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectHypothesesComparisonVariantAnnotationPayload",flowId:"",selection:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=n.string();continue;case 2:if(16!==e)break;o.selection=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CF.$type,flowId:Lj(e.flowId)?globalThis.String(e.flowId):"",selection:Lj(e.selection)?globalThis.Number(e.selection):0}),toJSON(e){const t={};return""!==e.flowId&&(t.flowId=e.flowId),0!==e.selection&&(t.selection=Math.round(e.selection)),t},create:e=>CF.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.SelectHypothesesComparisonVariantAnnotationPayload",flowId:"",selection:0};return r.flowId=null!==(t=e.flowId)&&void 0!==t?t:"",r.selection=null!==(n=e.selection)&&void 0!==n?n:0,r}};const LF={$type:"deepl.pb.interactive_text_api.translator.SkipHypothesesComparisonAnnotationPayload",encode:(e,t=new tV)=>(""!==e.flowId&&t.uint32(10).string(e.flowId),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SkipHypothesesComparisonAnnotationPayload",flowId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:LF.$type,flowId:Lj(e.flowId)?globalThis.String(e.flowId):""}),toJSON(e){const t={};return""!==e.flowId&&(t.flowId=e.flowId),t},create:e=>LF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SkipHypothesesComparisonAnnotationPayload",flowId:""};return n.flowId=null!==(t=e.flowId)&&void 0!==t?t:"",n}};const $F={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemorySegmentsAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&Nj.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemorySegmentsAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=Nj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:$F.$type,flowId:Lj(e.flowId)?Nj.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=Nj.toJSON(e.flowId)),t},create:e=>$F.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemorySegmentsAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?Nj.fromPartial(e.flowId):void 0,t}};const DF={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemorySegmentsResultAnnotationPayload",encode:(e,t=new tV)=>(void 0!==e.flowId&&Nj.encode(e.flowId,t.uint32(10).fork()).join(),0!==e.updatedSegments&&t.uint32(16).int32(e.updatedSegments),0!==e.createdSegments&&t.uint32(24).int32(e.createdSegments),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemorySegmentsResultAnnotationPayload",flowId:void 0,updatedSegments:0,createdSegments:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=Nj.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.updatedSegments=n.int32();continue;case 3:if(24!==e)break;o.createdSegments=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DF.$type,flowId:Lj(e.flowId)?Nj.fromJSON(e.flowId):void 0,updatedSegments:Lj(e.updatedSegments)?globalThis.Number(e.updatedSegments):0,createdSegments:Lj(e.createdSegments)?globalThis.Number(e.createdSegments):0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=Nj.toJSON(e.flowId)),0!==e.updatedSegments&&(t.updatedSegments=Math.round(e.updatedSegments)),0!==e.createdSegments&&(t.createdSegments=Math.round(e.createdSegments)),t},create:e=>DF.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemorySegmentsResultAnnotationPayload",flowId:void 0,updatedSegments:0,createdSegments:0};return r.flowId=void 0!==e.flowId&&null!==e.flowId?Nj.fromPartial(e.flowId):void 0,r.updatedSegments=null!==(t=e.updatedSegments)&&void 0!==t?t:0,r.createdSegments=null!==(n=e.createdSegments)&&void 0!==n?n:0,r}};const MF={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",encode(e,t=new tV){for(const n of e.sourceLanguages)Sj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",sourceLanguages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguages.push(Sj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:MF.$type,sourceLanguages:globalThis.Array.isArray(null==e?void 0:e.sourceLanguages)?e.sourceLanguages.map((e=>Sj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.sourceLanguages)||void 0===t?void 0:t.length)&&(n.sourceLanguages=e.sourceLanguages.map((e=>Sj.toJSON(e)))),n},create:e=>MF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",sourceLanguages:[]};return n.sourceLanguages=(null===(t=e.sourceLanguages)||void 0===t?void 0:t.map((e=>Sj.fromPartial(e))))||[],n}};const UF={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",encode(e,t=new tV){for(const n of e.targetLanguages)bj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",targetLanguages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguages.push(bj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:UF.$type,targetLanguages:globalThis.Array.isArray(null==e?void 0:e.targetLanguages)?e.targetLanguages.map((e=>bj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.targetLanguages)||void 0===t?void 0:t.length)&&(n.targetLanguages=e.targetLanguages.map((e=>bj.toJSON(e)))),n},create:e=>UF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",targetLanguages:[]};return n.targetLanguages=(null===(t=e.targetLanguages)||void 0===t?void 0:t.map((e=>bj.fromPartial(e))))||[],n}};const VF={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",encode:(e,t=new tV)=>(void 0!==e.sourceLanguage&&Sj.encode(e.sourceLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",sourceLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=Sj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:VF.$type,sourceLanguage:Lj(e.sourceLanguage)?Sj.fromJSON(e.sourceLanguage):void 0}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=Sj.toJSON(e.sourceLanguage)),t},create:e=>VF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",sourceLanguage:void 0};return t.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?Sj.fromPartial(e.sourceLanguage):void 0,t}};const GF={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",encode:(e,t=new tV)=>(void 0!==e.sourceLanguage&&Sj.encode(e.sourceLanguage,t.uint32(10).fork()).join(),0!==e.origin&&t.uint32(16).int32(e.origin),!1!==e.isLanguageDetectionConfident&&t.uint32(24).bool(e.isLanguageDetectionConfident),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",sourceLanguage:void 0,origin:0,isLanguageDetectionConfident:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=Sj.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.origin=n.int32();continue;case 3:if(24!==e)break;o.isLanguageDetectionConfident=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:GF.$type,sourceLanguage:Lj(e.sourceLanguage)?Sj.fromJSON(e.sourceLanguage):void 0,origin:Lj(e.origin)?OV(e.origin):0,isLanguageDetectionConfident:!!Lj(e.isLanguageDetectionConfident)&&globalThis.Boolean(e.isLanguageDetectionConfident)}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=Sj.toJSON(e.sourceLanguage)),0!==e.origin&&(t.origin=xV(e.origin)),!1!==e.isLanguageDetectionConfident&&(t.isLanguageDetectionConfident=e.isLanguageDetectionConfident),t},create:e=>GF.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",sourceLanguage:void 0,origin:0,isLanguageDetectionConfident:!1};return r.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?Sj.fromPartial(e.sourceLanguage):void 0,r.origin=null!==(t=e.origin)&&void 0!==t?t:0,r.isLanguageDetectionConfident=null!==(n=e.isLanguageDetectionConfident)&&void 0!==n&&n,r}};const FF={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",encode:(e,t=new tV)=>(void 0!==e.targetLanguage&&bj.encode(e.targetLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",targetLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguage=bj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:FF.$type,targetLanguage:Lj(e.targetLanguage)?bj.fromJSON(e.targetLanguage):void 0}),toJSON(e){const t={};return void 0!==e.targetLanguage&&(t.targetLanguage=bj.toJSON(e.targetLanguage)),t},create:e=>FF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",targetLanguage:void 0};return t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?bj.fromPartial(e.targetLanguage):void 0,t}};const jF={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",encode:(e,t=new tV)=>(void 0!==e.targetLanguage&&bj.encode(e.targetLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",targetLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguage=bj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jF.$type,targetLanguage:Lj(e.targetLanguage)?bj.fromJSON(e.targetLanguage):void 0}),toJSON(e){const t={};return void 0!==e.targetLanguage&&(t.targetLanguage=bj.toJSON(e.targetLanguage)),t},create:e=>jF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",targetLanguage:void 0};return t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?bj.fromPartial(e.targetLanguage):void 0,t}};const qF={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",encode:(e,t=new tV)=>(void 0!==e.glossaryId&&AV.encode(e.glossaryId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",glossaryId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryId=AV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:qF.$type,glossaryId:Lj(e.glossaryId)?AV.fromJSON(e.glossaryId):void 0}),toJSON(e){const t={};return void 0!==e.glossaryId&&(t.glossaryId=AV.toJSON(e.glossaryId)),t},create:e=>qF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",glossaryId:void 0};return t.glossaryId=void 0!==e.glossaryId&&null!==e.glossaryId?AV.fromPartial(e.glossaryId):void 0,t}};const BF={$type:"deepl.pb.interactive_text_api.translator.StyleGuideIdPropertyValue",encode:(e,t=new tV)=>(void 0!==e.styleGuideId&&$V.encode(e.styleGuideId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.StyleGuideIdPropertyValue",styleGuideId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleGuideId=$V.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:BF.$type,styleGuideId:Lj(e.styleGuideId)?$V.fromJSON(e.styleGuideId):void 0}),toJSON(e){const t={};return void 0!==e.styleGuideId&&(t.styleGuideId=$V.toJSON(e.styleGuideId)),t},create:e=>BF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.StyleGuideIdPropertyValue",styleGuideId:void 0};return t.styleGuideId=void 0!==e.styleGuideId&&null!==e.styleGuideId?$V.fromPartial(e.styleGuideId):void 0,t}};const HF={$type:"deepl.pb.interactive_text_api.translator.InterfaceLanguagePropertyValue",encode:(e,t=new tV)=>(""!==e.interfaceLanguage&&t.uint32(10).string(e.interfaceLanguage),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.InterfaceLanguagePropertyValue",interfaceLanguage:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.interfaceLanguage=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:HF.$type,interfaceLanguage:Lj(e.interfaceLanguage)?globalThis.String(e.interfaceLanguage):""}),toJSON(e){const t={};return""!==e.interfaceLanguage&&(t.interfaceLanguage=e.interfaceLanguage),t},create:e=>HF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.InterfaceLanguagePropertyValue",interfaceLanguage:""};return n.interfaceLanguage=null!==(t=e.interfaceLanguage)&&void 0!==t?t:"",n}};const JF={$type:"deepl.pb.interactive_text_api.translator.FreeTextPromptListPropertyValue",encode:(e,t=new tV)=>(void 0!==e.freeTextPromptList&&EV.encode(e.freeTextPromptList,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FreeTextPromptListPropertyValue",freeTextPromptList:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.freeTextPromptList=EV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JF.$type,freeTextPromptList:Lj(e.freeTextPromptList)?EV.fromJSON(e.freeTextPromptList):void 0}),toJSON(e){const t={};return void 0!==e.freeTextPromptList&&(t.freeTextPromptList=EV.toJSON(e.freeTextPromptList)),t},create:e=>JF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.FreeTextPromptListPropertyValue",freeTextPromptList:void 0};return t.freeTextPromptList=void 0!==e.freeTextPromptList&&null!==e.freeTextPromptList?EV.fromPartial(e.freeTextPromptList):void 0,t}};const zF={$type:"deepl.pb.interactive_text_api.translator.CustomizationsPropertyValue",encode:(e,t=new tV)=>(void 0!==e.customizations&&uF.encode(e.customizations,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CustomizationsPropertyValue",customizations:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.customizations=uF.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zF.$type,customizations:Lj(e.customizations)?uF.fromJSON(e.customizations):void 0}),toJSON(e){const t={};return void 0!==e.customizations&&(t.customizations=uF.toJSON(e.customizations)),t},create:e=>zF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.CustomizationsPropertyValue",customizations:void 0};return t.customizations=void 0!==e.customizations&&null!==e.customizations?uF.fromPartial(e.customizations):void 0,t}};const WF={$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WF.$type}),toJSON:e=>({}),create:e=>WF.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue"})};const YF={$type:"deepl.pb.interactive_text_api.translator.StyleGuideSupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.StyleGuideSupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:YF.$type}),toJSON:e=>({}),create:e=>YF.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.StyleGuideSupportPropertyValue"})};const XF={$type:"deepl.pb.interactive_text_api.translator.RtfSupportPropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RtfSupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XF.$type}),toJSON:e=>({}),create:e=>XF.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.RtfSupportPropertyValue"})};const KF={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",encode:(e,t=new tV)=>(0!==e.progressInPercent&&t.uint32(8).int32(e.progressInPercent),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",progressInPercent:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.progressInPercent=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:KF.$type,progressInPercent:Lj(e.progressInPercent)?globalThis.Number(e.progressInPercent):0}),toJSON(e){const t={};return 0!==e.progressInPercent&&(t.progressInPercent=Math.round(e.progressInPercent)),t},create:e=>KF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",progressInPercent:0};return n.progressInPercent=null!==(t=e.progressInPercent)&&void 0!==t?t:0,n}};const QF={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",encode(e,t=new tV){for(const n of e.formalityModes)hj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",formalityModes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.formalityModes.push(hj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:QF.$type,formalityModes:globalThis.Array.isArray(null==e?void 0:e.formalityModes)?e.formalityModes.map((e=>hj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.formalityModes)||void 0===t?void 0:t.length)&&(n.formalityModes=e.formalityModes.map((e=>hj.toJSON(e)))),n},create:e=>QF.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",formalityModes:[]};return n.formalityModes=(null===(t=e.formalityModes)||void 0===t?void 0:t.map((e=>hj.fromPartial(e))))||[],n}};const ZF={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",encode:(e,t=new tV)=>(void 0!==e.formalityMode&&hj.encode(e.formalityMode,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",formalityMode:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.formalityMode=hj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ZF.$type,formalityMode:Lj(e.formalityMode)?hj.fromJSON(e.formalityMode):void 0}),toJSON(e){const t={};return void 0!==e.formalityMode&&(t.formalityMode=hj.toJSON(e.formalityMode)),t},create:e=>ZF.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",formalityMode:void 0};return t.formalityMode=void 0!==e.formalityMode&&null!==e.formalityMode?hj.fromPartial(e.formalityMode):void 0,t}};const ej={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",encode(e,t=new tV){for(const n of e.languageModels)gj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",languageModels:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languageModels.push(gj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ej.$type,languageModels:globalThis.Array.isArray(null==e?void 0:e.languageModels)?e.languageModels.map((e=>gj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languageModels)||void 0===t?void 0:t.length)&&(n.languageModels=e.languageModels.map((e=>gj.toJSON(e)))),n},create:e=>ej.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",languageModels:[]};return n.languageModels=(null===(t=e.languageModels)||void 0===t?void 0:t.map((e=>gj.fromPartial(e))))||[],n}};const tj={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",encode:(e,t=new tV)=>(void 0!==e.languageModel&&gj.encode(e.languageModel,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",languageModel:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languageModel=gj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:tj.$type,languageModel:Lj(e.languageModel)?gj.fromJSON(e.languageModel):void 0}),toJSON(e){const t={};return void 0!==e.languageModel&&(t.languageModel=gj.toJSON(e.languageModel)),t},create:e=>tj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",languageModel:void 0};return t.languageModel=void 0!==e.languageModel&&null!==e.languageModel?gj.fromPartial(e.languageModel):void 0,t}};const nj={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",encode:(e,t=new tV)=>(0!==e.textDirection&&t.uint32(8).int32(e.textDirection),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",textDirection:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.textDirection=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:nj.$type,textDirection:Lj(e.textDirection)?gF(e.textDirection):0}),toJSON(e){const t={};return 0!==e.textDirection&&(t.textDirection=function(e){switch(e){case dF.UNSPECIFIED:return"TEXT_DIRECTION_UNSPECIFIED";case dF.LEFT_TO_RIGHT:return"TEXT_DIRECTION_LEFT_TO_RIGHT";case dF.RIGHT_TO_LEFT:return"TEXT_DIRECTION_RIGHT_TO_LEFT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TextDirection")}}(e.textDirection)),t},create:e=>nj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",textDirection:0};return n.textDirection=null!==(t=e.textDirection)&&void 0!==t?t:0,n}};const rj={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",encode:(e,t=new tV)=>(0!==e.max&&t.uint32(8).int32(e.max),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",max:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.max=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:rj.$type,max:Lj(e.max)?globalThis.Number(e.max):0}),toJSON(e){const t={};return 0!==e.max&&(t.max=Math.round(e.max)),t},create:e=>rj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",max:0};return n.max=null!==(t=e.max)&&void 0!==t?t:0,n}};const oj={$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oj.$type}),toJSON:e=>({}),create:e=>oj.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue"})};const ij={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",encode(e,t=new tV){for(const n of e.weights)Ej.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",weights:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.weights.push(Ej.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ij.$type,weights:globalThis.Array.isArray(null==e?void 0:e.weights)?e.weights.map((e=>Ej.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.weights)||void 0===t?void 0:t.length)&&(n.weights=e.weights.map((e=>Ej.toJSON(e)))),n},create:e=>ij.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",weights:[]};return n.weights=(null===(t=e.weights)||void 0===t?void 0:t.map((e=>Ej.fromPartial(e))))||[],n}};const aj={$type:"deepl.pb.interactive_text_api.translator.StyleVariantsPropertyValue",encode(e,t=new tV){for(const n of e.styleVariants)Cj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.StyleVariantsPropertyValue",styleVariants:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariants.push(Cj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:aj.$type,styleVariants:globalThis.Array.isArray(null==e?void 0:e.styleVariants)?e.styleVariants.map((e=>Cj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.styleVariants)||void 0===t?void 0:t.length)&&(n.styleVariants=e.styleVariants.map((e=>Cj.toJSON(e)))),n},create:e=>aj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.StyleVariantsPropertyValue",styleVariants:[]};return n.styleVariants=(null===(t=e.styleVariants)||void 0===t?void 0:t.map((e=>Cj.fromPartial(e))))||[],n}};const sj={$type:"deepl.pb.interactive_text_api.translator.StyleVariantPropertyValue",encode:(e,t=new tV)=>(void 0!==e.styleVariant&&Cj.encode(e.styleVariant,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.StyleVariantPropertyValue",styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariant=Cj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sj.$type,styleVariant:Lj(e.styleVariant)?Cj.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.styleVariant&&(t.styleVariant=Cj.toJSON(e.styleVariant)),t},create:e=>sj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.StyleVariantPropertyValue",styleVariant:void 0};return t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?Cj.fromPartial(e.styleVariant):void 0,t}};const lj={$type:"deepl.pb.interactive_text_api.translator.TranslationMemoryListPropertyValue",encode(e,t=new tV){for(const n of e.translationMemories)lF.encode(n,t.uint32(10).fork()).join();return void 0!==e.error&&cj.encode(e.error,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TranslationMemoryListPropertyValue",translationMemories:[],error:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.translationMemories.push(lF.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.error=cj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lj.$type,translationMemories:globalThis.Array.isArray(null==e?void 0:e.translationMemories)?e.translationMemories.map((e=>lF.fromJSON(e))):[],error:Lj(e.error)?cj.fromJSON(e.error):void 0}),toJSON(e){var t;const n={};return(null===(t=e.translationMemories)||void 0===t?void 0:t.length)&&(n.translationMemories=e.translationMemories.map((e=>lF.toJSON(e)))),void 0!==e.error&&(n.error=cj.toJSON(e.error)),n},create:e=>lj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TranslationMemoryListPropertyValue",translationMemories:[],error:void 0};return n.translationMemories=(null===(t=e.translationMemories)||void 0===t?void 0:t.map((e=>lF.fromPartial(e))))||[],n.error=void 0!==e.error&&null!==e.error?cj.fromPartial(e.error):void 0,n}};const cj={$type:"deepl.pb.interactive_text_api.translator.TranslationMemoryListError",encode:(e,t=new tV)=>(""!==e.message&&t.uint32(10).string(e.message),""!==e.code&&t.uint32(18).string(e.code),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TranslationMemoryListError",message:"",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.message=n.string();continue;case 2:if(18!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cj.$type,message:Lj(e.message)?globalThis.String(e.message):"",code:Lj(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.message&&(t.message=e.message),""!==e.code&&(t.code=e.code),t},create:e=>cj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.TranslationMemoryListError",message:"",code:""};return r.message=null!==(t=e.message)&&void 0!==t?t:"",r.code=null!==(n=e.code)&&void 0!==n?n:"",r}};const uj={$type:"deepl.pb.interactive_text_api.translator.SelectedTranslationMemoryPropertyValue",encode:(e,t=new tV)=>(void 0!==e.translationMemoryId&&sF.encode(e.translationMemoryId,t.uint32(10).fork()).join(),0!==e.threshold&&t.uint32(21).float(e.threshold),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectedTranslationMemoryPropertyValue",translationMemoryId:void 0,threshold:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.translationMemoryId=sF.decode(n,n.uint32());continue;case 2:if(21!==e)break;o.threshold=n.float();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uj.$type,translationMemoryId:Lj(e.translationMemoryId)?sF.fromJSON(e.translationMemoryId):void 0,threshold:Lj(e.threshold)?globalThis.Number(e.threshold):0}),toJSON(e){const t={};return void 0!==e.translationMemoryId&&(t.translationMemoryId=sF.toJSON(e.translationMemoryId)),0!==e.threshold&&(t.threshold=e.threshold),t},create:e=>uj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SelectedTranslationMemoryPropertyValue",translationMemoryId:void 0,threshold:0};return n.translationMemoryId=void 0!==e.translationMemoryId&&null!==e.translationMemoryId?sF.fromPartial(e.translationMemoryId):void 0,n.threshold=null!==(t=e.threshold)&&void 0!==t?t:0,n}};const dj={$type:"deepl.pb.interactive_text_api.translator.RephraseTargetTextStatusPropertyValue",encode:(e,t=new tV)=>(0!==e.rephraseTargetTextStatus&&t.uint32(8).int32(e.rephraseTargetTextStatus),void 0!==e.flowId&&t.uint32(18).string(e.flowId),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RephraseTargetTextStatusPropertyValue",rephraseTargetTextStatus:0,flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.rephraseTargetTextStatus=n.int32();continue;case 2:if(18!==e)break;o.flowId=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:dj.$type,rephraseTargetTextStatus:Lj(e.rephraseTargetTextStatus)?_F(e.rephraseTargetTextStatus):0,flowId:Lj(e.flowId)?globalThis.String(e.flowId):void 0}),toJSON(e){const t={};return 0!==e.rephraseTargetTextStatus&&(t.rephraseTargetTextStatus=function(e){switch(e){case hF.UNSPECIFIED:return"REPHRASE_TARGET_TEXT_STATUS_UNSPECIFIED";case hF.AVAILABLE:return"REPHRASE_TARGET_TEXT_STATUS_AVAILABLE";case hF.IN_PROGRESS:return"REPHRASE_TARGET_TEXT_STATUS_IN_PROGRESS";case hF.NO_EDIT:return"REPHRASE_TARGET_TEXT_STATUS_NO_EDIT";case hF.LANGUAGE_NOT_SUPPORTED:return"REPHRASE_TARGET_TEXT_STATUS_LANGUAGE_NOT_SUPPORTED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum RephraseTargetTextStatus")}}(e.rephraseTargetTextStatus)),void 0!==e.flowId&&(t.flowId=e.flowId),t},create:e=>dj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.RephraseTargetTextStatusPropertyValue",rephraseTargetTextStatus:0,flowId:void 0};return r.rephraseTargetTextStatus=null!==(t=e.rephraseTargetTextStatus)&&void 0!==t?t:0,r.flowId=null!==(n=e.flowId)&&void 0!==n?n:void 0,r}};const pj={$type:"deepl.pb.interactive_text_api.translator.HypothesesComparisonEnabledPropertyValue",encode:(e,t=new tV)=>(!1!==e.enabled&&t.uint32(8).bool(e.enabled),void 0!==e.browserLanguage&&t.uint32(18).string(e.browserLanguage),void 0!==e.userCountry&&t.uint32(26).string(e.userCountry),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.HypothesesComparisonEnabledPropertyValue",enabled:!1,browserLanguage:void 0,userCountry:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.enabled=n.bool();continue;case 2:if(18!==e)break;o.browserLanguage=n.string();continue;case 3:if(26!==e)break;o.userCountry=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:pj.$type,enabled:!!Lj(e.enabled)&&globalThis.Boolean(e.enabled),browserLanguage:Lj(e.browserLanguage)?globalThis.String(e.browserLanguage):void 0,userCountry:Lj(e.userCountry)?globalThis.String(e.userCountry):void 0}),toJSON(e){const t={};return!1!==e.enabled&&(t.enabled=e.enabled),void 0!==e.browserLanguage&&(t.browserLanguage=e.browserLanguage),void 0!==e.userCountry&&(t.userCountry=e.userCountry),t},create:e=>pj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.HypothesesComparisonEnabledPropertyValue",enabled:!1,browserLanguage:void 0,userCountry:void 0};return o.enabled=null!==(t=e.enabled)&&void 0!==t&&t,o.browserLanguage=null!==(n=e.browserLanguage)&&void 0!==n?n:void 0,o.userCountry=null!==(r=e.userCountry)&&void 0!==r?r:void 0,o}};const fj={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",encode:(e,t=new tV)=>(!1!==e.enableTranscription&&t.uint32(8).bool(e.enableTranscription),!1!==e.enableTranslatorQuoteConversion&&t.uint32(16).bool(e.enableTranslatorQuoteConversion),!1!==e.disableLanguageWeights&&t.uint32(24).bool(e.disableLanguageWeights),!1!==e.doNotOverrideRequestedSourceLanguage&&t.uint32(32).bool(e.doNotOverrideRequestedSourceLanguage),!1!==e.enableInlineSuggestions&&t.uint32(40).bool(e.enableInlineSuggestions),0!==e.usageType&&t.uint32(48).int32(e.usageType),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",enableTranscription:!1,enableTranslatorQuoteConversion:!1,disableLanguageWeights:!1,doNotOverrideRequestedSourceLanguage:!1,enableInlineSuggestions:!1,usageType:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.enableTranscription=n.bool();continue;case 2:if(16!==e)break;o.enableTranslatorQuoteConversion=n.bool();continue;case 3:if(24!==e)break;o.disableLanguageWeights=n.bool();continue;case 4:if(32!==e)break;o.doNotOverrideRequestedSourceLanguage=n.bool();continue;case 5:if(40!==e)break;o.enableInlineSuggestions=n.bool();continue;case 6:if(48!==e)break;o.usageType=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:fj.$type,enableTranscription:!!Lj(e.enableTranscription)&&globalThis.Boolean(e.enableTranscription),enableTranslatorQuoteConversion:!!Lj(e.enableTranslatorQuoteConversion)&&globalThis.Boolean(e.enableTranslatorQuoteConversion),disableLanguageWeights:!!Lj(e.disableLanguageWeights)&&globalThis.Boolean(e.disableLanguageWeights),doNotOverrideRequestedSourceLanguage:!!Lj(e.doNotOverrideRequestedSourceLanguage)&&globalThis.Boolean(e.doNotOverrideRequestedSourceLanguage),enableInlineSuggestions:!!Lj(e.enableInlineSuggestions)&&globalThis.Boolean(e.enableInlineSuggestions),usageType:Lj(e.usageType)?vF(e.usageType):0}),toJSON(e){const t={};return!1!==e.enableTranscription&&(t.enableTranscription=e.enableTranscription),!1!==e.enableTranslatorQuoteConversion&&(t.enableTranslatorQuoteConversion=e.enableTranslatorQuoteConversion),!1!==e.disableLanguageWeights&&(t.disableLanguageWeights=e.disableLanguageWeights),!1!==e.doNotOverrideRequestedSourceLanguage&&(t.doNotOverrideRequestedSourceLanguage=e.doNotOverrideRequestedSourceLanguage),!1!==e.enableInlineSuggestions&&(t.enableInlineSuggestions=e.enableInlineSuggestions),0!==e.usageType&&(t.usageType=function(e){switch(e){case fF.UNSPECIFIED:return"USAGE_TYPE_UNSPECIFIED";case fF.TRANSLATE:return"USAGE_TYPE_TRANSLATE";case fF.FULL_PAGE_TRANSLATION:return"USAGE_TYPE_FULL_PAGE_TRANSLATION";case fF.OCR:return"USAGE_TYPE_OCR";case fF.VOICE_FOR_CONVERSATIONS:return"USAGE_TYPE_VOICE_FOR_CONVERSATIONS";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum UsageType")}}(e.usageType)),t},create:e=>fj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,a;const s={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",enableTranscription:!1,enableTranslatorQuoteConversion:!1,disableLanguageWeights:!1,doNotOverrideRequestedSourceLanguage:!1,enableInlineSuggestions:!1,usageType:0};return s.enableTranscription=null!==(t=e.enableTranscription)&&void 0!==t&&t,s.enableTranslatorQuoteConversion=null!==(n=e.enableTranslatorQuoteConversion)&&void 0!==n&&n,s.disableLanguageWeights=null!==(r=e.disableLanguageWeights)&&void 0!==r&&r,s.doNotOverrideRequestedSourceLanguage=null!==(o=e.doNotOverrideRequestedSourceLanguage)&&void 0!==o&&o,s.enableInlineSuggestions=null!==(i=e.enableInlineSuggestions)&&void 0!==i&&i,s.usageType=null!==(a=e.usageType)&&void 0!==a?a:0,s}};const hj={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:hj.$type,value:Lj(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>hj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const gj={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:gj.$type,value:Lj(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>gj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const mj={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPreference",encode:(e,t=new tV)=>(void 0!==e.sourceLanguage&&Sj.encode(e.sourceLanguage,t.uint32(10).fork()).join(),void 0!==e.targetLanguage&&bj.encode(e.targetLanguage,t.uint32(18).fork()).join(),void 0!==e.model&&gj.encode(e.model,t.uint32(26).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPreference",sourceLanguage:void 0,targetLanguage:void 0,model:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=Sj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.targetLanguage=bj.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.model=gj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:mj.$type,sourceLanguage:Lj(e.sourceLanguage)?Sj.fromJSON(e.sourceLanguage):void 0,targetLanguage:Lj(e.targetLanguage)?bj.fromJSON(e.targetLanguage):void 0,model:Lj(e.model)?gj.fromJSON(e.model):void 0}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=Sj.toJSON(e.sourceLanguage)),void 0!==e.targetLanguage&&(t.targetLanguage=bj.toJSON(e.targetLanguage)),void 0!==e.model&&(t.model=gj.toJSON(e.model)),t},create:e=>mj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPreference",sourceLanguage:void 0,targetLanguage:void 0,model:void 0};return t.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?Sj.fromPartial(e.sourceLanguage):void 0,t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?bj.fromPartial(e.targetLanguage):void 0,t.model=void 0!==e.model&&null!==e.model?gj.fromPartial(e.model):void 0,t}};const vj={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPreferencesPropertyValue",encode(e,t=new tV){for(const n of e.preferences)mj.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPreferencesPropertyValue",preferences:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.preferences.push(mj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:vj.$type,preferences:globalThis.Array.isArray(null==e?void 0:e.preferences)?e.preferences.map((e=>mj.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.preferences)||void 0===t?void 0:t.length)&&(n.preferences=e.preferences.map((e=>mj.toJSON(e)))),n},create:e=>vj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPreferencesPropertyValue",preferences:[]};return n.preferences=(null===(t=e.preferences)||void 0===t?void 0:t.map((e=>mj.fromPartial(e))))||[],n}};const _j={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",encode:(e,t=new tV)=>(""!==e.source&&t.uint32(10).string(e.source),""!==e.target&&t.uint32(18).string(e.target),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",source:"",target:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source=n.string();continue;case 2:if(18!==e)break;o.target=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_j.$type,source:Lj(e.source)?globalThis.String(e.source):"",target:Lj(e.target)?globalThis.String(e.target):""}),toJSON(e){const t={};return""!==e.source&&(t.source=e.source),""!==e.target&&(t.target=e.target),t},create:e=>_j.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",source:"",target:""};return r.source=null!==(t=e.source)&&void 0!==t?t:"",r.target=null!==(n=e.target)&&void 0!==n?n:"",r}};const yj={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",encode(e,t=new tV){for(const n of e.glossaryEntries)_j.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",glossaryEntries:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryEntries.push(_j.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yj.$type,glossaryEntries:globalThis.Array.isArray(null==e?void 0:e.glossaryEntries)?e.glossaryEntries.map((e=>_j.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.glossaryEntries)||void 0===t?void 0:t.length)&&(n.glossaryEntries=e.glossaryEntries.map((e=>_j.toJSON(e)))),n},create:e=>yj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",glossaryEntries:[]};return n.glossaryEntries=(null===(t=e.glossaryEntries)||void 0===t?void 0:t.map((e=>_j.fromPartial(e))))||[],n}};const Tj={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",encode(e,t=new tV){void 0!==e.entry&&_j.encode(e.entry,t.uint32(10).fork()).join();for(const n of e.ranges)TV.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",entry:void 0,ranges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entry=_j.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.ranges.push(TV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Tj.$type,entry:Lj(e.entry)?_j.fromJSON(e.entry):void 0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>TV.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.entry&&(n.entry=_j.toJSON(e.entry)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(n.ranges=e.ranges.map((e=>TV.toJSON(e)))),n},create:e=>Tj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",entry:void 0,ranges:[]};return n.entry=void 0!==e.entry&&null!==e.entry?_j.fromPartial(e.entry):void 0,n.ranges=(null===(t=e.ranges)||void 0===t?void 0:t.map((e=>TV.fromPartial(e))))||[],n}};const Sj={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",encode:(e,t=new tV)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Sj.$type,code:Lj(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>Sj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const bj={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",encode:(e,t=new tV)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bj.$type,code:Lj(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>bj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const wj={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",encode(e,t=new tV){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.glossaryHighlights)Tj.encode(n,t.uint32(18).fork()).join();""!==e.transcription&&t.uint32(26).string(e.transcription);for(const n of e.diffs)bV.encode(n,t.uint32(34).fork()).join();for(const n of e.customRuleHighlights)kV.encode(n,t.uint32(42).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",text:"",glossaryHighlights:[],transcription:"",diffs:[],customRuleHighlights:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.glossaryHighlights.push(Tj.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.transcription=n.string();continue;case 4:if(34!==e)break;o.diffs.push(bV.decode(n,n.uint32()));continue;case 5:if(42!==e)break;o.customRuleHighlights.push(kV.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:wj.$type,text:Lj(e.text)?globalThis.String(e.text):"",glossaryHighlights:globalThis.Array.isArray(null==e?void 0:e.glossaryHighlights)?e.glossaryHighlights.map((e=>Tj.fromJSON(e))):[],transcription:Lj(e.transcription)?globalThis.String(e.transcription):"",diffs:globalThis.Array.isArray(null==e?void 0:e.diffs)?e.diffs.map((e=>bV.fromJSON(e))):[],customRuleHighlights:globalThis.Array.isArray(null==e?void 0:e.customRuleHighlights)?e.customRuleHighlights.map((e=>kV.fromJSON(e))):[]}),toJSON(e){var t,n,r;const o={};return""!==e.text&&(o.text=e.text),(null===(t=e.glossaryHighlights)||void 0===t?void 0:t.length)&&(o.glossaryHighlights=e.glossaryHighlights.map((e=>Tj.toJSON(e)))),""!==e.transcription&&(o.transcription=e.transcription),(null===(n=e.diffs)||void 0===n?void 0:n.length)&&(o.diffs=e.diffs.map((e=>bV.toJSON(e)))),(null===(r=e.customRuleHighlights)||void 0===r?void 0:r.length)&&(o.customRuleHighlights=e.customRuleHighlights.map((e=>kV.toJSON(e)))),o},create:e=>wj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const a={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",text:"",glossaryHighlights:[],transcription:"",diffs:[],customRuleHighlights:[]};return a.text=null!==(t=e.text)&&void 0!==t?t:"",a.glossaryHighlights=(null===(n=e.glossaryHighlights)||void 0===n?void 0:n.map((e=>Tj.fromPartial(e))))||[],a.transcription=null!==(r=e.transcription)&&void 0!==r?r:"",a.diffs=(null===(o=e.diffs)||void 0===o?void 0:o.map((e=>bV.fromPartial(e))))||[],a.customRuleHighlights=(null===(i=e.customRuleHighlights)||void 0===i?void 0:i.map((e=>kV.fromPartial(e))))||[],a}};const Ej={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",encode:(e,t=new tV)=>(void 0!==e.language&&Sj.encode(e.language,t.uint32(10).fork()).join(),0!==e.weight&&t.uint32(17).double(e.weight),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",language:void 0,weight:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=Sj.decode(n,n.uint32());continue;case 2:if(17!==e)break;o.weight=n.double();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Ej.$type,language:Lj(e.language)?Sj.fromJSON(e.language):void 0,weight:Lj(e.weight)?globalThis.Number(e.weight):0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=Sj.toJSON(e.language)),0!==e.weight&&(t.weight=e.weight),t},create:e=>Ej.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",language:void 0,weight:0};return n.language=void 0!==e.language&&null!==e.language?Sj.fromPartial(e.language):void 0,n.weight=null!==(t=e.weight)&&void 0!==t?t:0,n}};const Aj={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",encode:(e,t=new tV)=>(void 0!==e.id&&Pj.encode(e.id,t.uint32(10).fork()).join(),""!==e.title&&t.uint32(18).string(e.title),""!==e.question&&t.uint32(26).string(e.question),""!==e.category&&t.uint32(34).string(e.category),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",id:void 0,title:"",question:"",category:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=Pj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.title=n.string();continue;case 3:if(26!==e)break;o.question=n.string();continue;case 4:if(34!==e)break;o.category=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Aj.$type,id:Lj(e.id)?Pj.fromJSON(e.id):void 0,title:Lj(e.title)?globalThis.String(e.title):"",question:Lj(e.question)?globalThis.String(e.question):"",category:Lj(e.category)?globalThis.String(e.category):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=Pj.toJSON(e.id)),""!==e.title&&(t.title=e.title),""!==e.question&&(t.question=e.question),""!==e.category&&(t.category=e.category),t},create:e=>Aj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",id:void 0,title:"",question:"",category:""};return o.id=void 0!==e.id&&null!==e.id?Pj.fromPartial(e.id):void 0,o.title=null!==(t=e.title)&&void 0!==t?t:"",o.question=null!==(n=e.question)&&void 0!==n?n:"",o.category=null!==(r=e.category)&&void 0!==r?r:"",o}};const Ij={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",encode:(e,t=new tV)=>(""!==e.answer&&t.uint32(10).string(e.answer),!1!==e.isDefault&&t.uint32(16).bool(e.isDefault),void 0!==e.hint&&t.uint32(26).string(e.hint),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",answer:"",isDefault:!1,hint:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.answer=n.string();continue;case 2:if(16!==e)break;o.isDefault=n.bool();continue;case 3:if(26!==e)break;o.hint=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Ij.$type,answer:Lj(e.answer)?globalThis.String(e.answer):"",isDefault:!!Lj(e.isDefault)&&globalThis.Boolean(e.isDefault),hint:Lj(e.hint)?globalThis.String(e.hint):void 0}),toJSON(e){const t={};return""!==e.answer&&(t.answer=e.answer),!1!==e.isDefault&&(t.isDefault=e.isDefault),void 0!==e.hint&&(t.hint=e.hint),t},create:e=>Ij.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",answer:"",isDefault:!1,hint:void 0};return o.answer=null!==(t=e.answer)&&void 0!==t?t:"",o.isDefault=null!==(n=e.isDefault)&&void 0!==n&&n,o.hint=null!==(r=e.hint)&&void 0!==r?r:void 0,o}};const Rj={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",encode(e,t=new tV){void 0!==e.question&&Aj.encode(e.question,t.uint32(10).fork()).join();for(const n of e.answers)Ij.encode(n,t.uint32(18).fork()).join();return void 0!==e.language&&t.uint32(26).string(e.language),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",question:void 0,answers:[],language:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.question=Aj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.answers.push(Ij.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.language=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Rj.$type,question:Lj(e.question)?Aj.fromJSON(e.question):void 0,answers:globalThis.Array.isArray(null==e?void 0:e.answers)?e.answers.map((e=>Ij.fromJSON(e))):[],language:Lj(e.language)?globalThis.String(e.language):void 0}),toJSON(e){var t;const n={};return void 0!==e.question&&(n.question=Aj.toJSON(e.question)),(null===(t=e.answers)||void 0===t?void 0:t.length)&&(n.answers=e.answers.map((e=>Ij.toJSON(e)))),void 0!==e.language&&(n.language=e.language),n},create:e=>Rj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",question:void 0,answers:[],language:void 0};return r.question=void 0!==e.question&&null!==e.question?Aj.fromPartial(e.question):void 0,r.answers=(null===(t=e.answers)||void 0===t?void 0:t.map((e=>Ij.fromPartial(e))))||[],r.language=null!==(n=e.language)&&void 0!==n?n:void 0,r}};const Oj={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",encode:(e,t=new tV)=>(""!==e.answer&&t.uint32(10).string(e.answer),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.answer=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Oj.$type,answer:Lj(e.answer)?globalThis.String(e.answer):""}),toJSON(e){const t={};return""!==e.answer&&(t.answer=e.answer),t},create:e=>Oj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:""};return n.answer=null!==(t=e.answer)&&void 0!==t?t:"",n}};const xj={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:xj.$type,value:Lj(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>xj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const Nj={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemoryFlowId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemoryFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Nj.$type,value:Lj(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>Nj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.UpdateTranslationMemoryFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const Pj={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Pj.$type,value:Lj(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>Pj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const kj={$type:"deepl.pb.interactive_text_api.translator.ClarifyErrorInfo",encode:(e,t=new tV)=>(""!==e.errorCode&&t.uint32(10).string(e.errorCode),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyErrorInfo",errorCode:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.errorCode=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kj.$type,errorCode:Lj(e.errorCode)?globalThis.String(e.errorCode):""}),toJSON(e){const t={};return""!==e.errorCode&&(t.errorCode=e.errorCode),t},create:e=>kj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyErrorInfo",errorCode:""};return n.errorCode=null!==(t=e.errorCode)&&void 0!==t?t:"",n}};const Cj={$type:"deepl.pb.interactive_text_api.translator.StyleVariant",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.StyleVariant",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Cj.$type,value:Lj(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>Cj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.StyleVariant",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};function Lj(e){return null!=e}var $j,Dj,Mj;function Uj(e){switch(e){case 0:case"FIELD_NAME_UNSPECIFIED":return $j.UNSPECIFIED;case 1:case"FIELD_NAME_TRANSLATOR_SOURCE_TEXT":return $j.TRANSLATOR_SOURCE_TEXT;case 2:case"FIELD_NAME_TRANSLATOR_TARGET_TEXT":return $j.TRANSLATOR_TARGET_TEXT;case 4:case"FIELD_NAME_TRANSLATOR_TARGET_TRANSCRIPTION_TEXT":return $j.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT;case 5:case"FIELD_NAME_WRITE_SOURCE_TEXT":return $j.WRITE_SOURCE_TEXT;case 6:case"FIELD_NAME_WRITE_TARGET_TEXT":return $j.WRITE_TARGET_TEXT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FieldName")}}function Vj(e){switch(e){case $j.UNSPECIFIED:return"FIELD_NAME_UNSPECIFIED";case $j.TRANSLATOR_SOURCE_TEXT:return"FIELD_NAME_TRANSLATOR_SOURCE_TEXT";case $j.TRANSLATOR_TARGET_TEXT:return"FIELD_NAME_TRANSLATOR_TARGET_TEXT";case $j.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT:return"FIELD_NAME_TRANSLATOR_TARGET_TRANSCRIPTION_TEXT";case $j.WRITE_SOURCE_TEXT:return"FIELD_NAME_WRITE_SOURCE_TEXT";case $j.WRITE_TARGET_TEXT:return"FIELD_NAME_WRITE_TARGET_TEXT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FieldName")}}function Gj(e){switch(e){case 0:case"PROPERTY_NAME_UNSPECIFIED":return Dj.UNSPECIFIED;case 1:case"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGES":return Dj.TRANSLATOR_SOURCE_LANGUAGES;case 2:case"PROPERTY_NAME_TRANSLATOR_TARGET_LANGUAGES":return Dj.TRANSLATOR_TARGET_LANGUAGES;case 3:case"PROPERTY_NAME_TRANSLATOR_REQUESTED_SOURCE_LANGUAGE":return Dj.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE;case 4:case"PROPERTY_NAME_TRANSLATOR_CALCULATED_SOURCE_LANGUAGE":return Dj.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE;case 5:case"PROPERTY_NAME_TRANSLATOR_REQUESTED_TARGET_LANGUAGE":return Dj.TRANSLATOR_REQUESTED_TARGET_LANGUAGE;case 7:case"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODES":return Dj.TRANSLATOR_FORMALITY_MODES;case 8:case"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODE":return Dj.TRANSLATOR_FORMALITY_MODE;case 9:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUPPORT":return Dj.TRANSLATOR_GLOSSARY_SUPPORT;case 10:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_LIST":return Dj.TRANSLATOR_GLOSSARY_LIST;case 12:case"PROPERTY_NAME_TRANSLATOR_TEXT_DIRECTION":return Dj.TRANSLATOR_TEXT_DIRECTION;case 13:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUGGESTIONS":return Dj.TRANSLATOR_GLOSSARY_SUGGESTIONS;case 14:case"PROPERTY_NAME_TRANSLATOR_MAXIMUM_TEXT_LENGTH":return Dj.TRANSLATOR_MAXIMUM_TEXT_LENGTH;case 15:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODELS":return Dj.TRANSLATOR_LANGUAGE_MODELS;case 16:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL":return Dj.TRANSLATOR_LANGUAGE_MODEL;case 17:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_ID":return Dj.TRANSLATOR_GLOSSARY_ID;case 18:case"PROPERTY_NAME_TRANSLATOR_CALCULATED_TARGET_LANGUAGE":return Dj.TRANSLATOR_CALCULATED_TARGET_LANGUAGE;case 19:case"PROPERTY_NAME_TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE":return Dj.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE;case 20:case"PROPERTY_NAME_WRITE_LANGUAGES":return Dj.WRITE_LANGUAGES;case 21:case"PROPERTY_NAME_WRITE_REQUESTED_LANGUAGE":return Dj.WRITE_REQUESTED_LANGUAGE;case 22:case"PROPERTY_NAME_WRITE_CALCULATED_LANGUAGE":return Dj.WRITE_CALCULATED_LANGUAGE;case 23:case"PROPERTY_NAME_WRITE_STYLE_VARIANTS":return Dj.WRITE_STYLE_VARIANTS;case 24:case"PROPERTY_NAME_WRITE_STYLE_VARIANT":return Dj.WRITE_STYLE_VARIANT;case 25:case"PROPERTY_NAME_WRITE_GLOSSARY_ID":return Dj.WRITE_GLOSSARY_ID;case 26:case"PROPERTY_NAME_WRITE_GLOSSARY_LIST":return Dj.WRITE_GLOSSARY_LIST;case 27:case"PROPERTY_NAME_WRITE_GLOSSARY_SUPPORT":return Dj.WRITE_GLOSSARY_SUPPORT;case 28:case"PROPERTY_NAME_WRITE_MAXIMUM_TEXT_LENGTH":return Dj.WRITE_MAXIMUM_TEXT_LENGTH;case 29:case"PROPERTY_NAME_WRITE_UNSUPPORTED_LANGUAGE":return Dj.WRITE_UNSUPPORTED_LANGUAGE;case 30:case"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS":return Dj.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS;case 31:case"PROPERTY_NAME_WRITE_GLOSSARY_LANGUAGES":return Dj.WRITE_GLOSSARY_LANGUAGES;case 32:case"PROPERTY_NAME_WRITE_STYLE_GUIDE_SUPPORT":return Dj.WRITE_STYLE_GUIDE_SUPPORT;case 33:case"PROPERTY_NAME_WRITE_STYLE_GUIDE_ID":return Dj.WRITE_STYLE_GUIDE_ID;case 34:case"PROPERTY_NAME_WRITE_TEMPLATE_ADAPTATION_TEMPLATES":return Dj.WRITE_TEMPLATE_ADAPTATION_TEMPLATES;case 35:case"PROPERTY_NAME_TRANSLATOR_STYLE_GUIDE_SUPPORT":return Dj.TRANSLATOR_STYLE_GUIDE_SUPPORT;case 36:case"PROPERTY_NAME_TRANSLATOR_STYLE_GUIDE_ID":return Dj.TRANSLATOR_STYLE_GUIDE_ID;case 37:case"PROPERTY_NAME_TRANSLATOR_INTERFACE_LANGUAGE":return Dj.TRANSLATOR_INTERFACE_LANGUAGE;case 38:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL_PREFERENCES":return Dj.TRANSLATOR_LANGUAGE_MODEL_PREFERENCES;case 39:case"PROPERTY_NAME_TRANSLATOR_FREE_TEXT_PROMPT_LIST":return Dj.TRANSLATOR_FREE_TEXT_PROMPT_LIST;case 40:case"PROPERTY_NAME_WRITE_FREE_TEXT_PROMPT_LIST":return Dj.WRITE_FREE_TEXT_PROMPT_LIST;case 41:case"PROPERTY_NAME_WRITE_INLINE_SUGGESTIONS_LOADING":return Dj.WRITE_INLINE_SUGGESTIONS_LOADING;case 42:case"PROPERTY_NAME_WRITE_CORRECTIONS_ONLY_SUPPORT":return Dj.WRITE_CORRECTIONS_ONLY_SUPPORT;case 43:case"PROPERTY_NAME_WRITE_CORRECTIONS_ONLY":return Dj.WRITE_CORRECTIONS_ONLY;case 44:case"PROPERTY_NAME_TRANSLATOR_RTF_SUPPORT":return Dj.TRANSLATOR_RTF_SUPPORT;case 45:case"PROPERTY_NAME_TRANSLATOR_STYLE_VARIANTS":return Dj.TRANSLATOR_STYLE_VARIANTS;case 46:case"PROPERTY_NAME_TRANSLATOR_STYLE_VARIANT":return Dj.TRANSLATOR_STYLE_VARIANT;case 47:case"PROPERTY_NAME_WRITE_TEXT_UNIT_ALTERNATIVES_SUPPORT":return Dj.WRITE_TEXT_UNIT_ALTERNATIVES_SUPPORT;case 48:case"PROPERTY_NAME_TRANSLATOR_TRANSLATION_MEMORY_LIST":return Dj.TRANSLATOR_TRANSLATION_MEMORY_LIST;case 49:case"PROPERTY_NAME_TRANSLATOR_SELECTED_TRANSLATION_MEMORY":return Dj.TRANSLATOR_SELECTED_TRANSLATION_MEMORY;case 50:case"PROPERTY_NAME_TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS":return Dj.TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS;case 51:case"PROPERTY_NAME_TRANSLATOR_CUSTOMIZATIONS":return Dj.TRANSLATOR_CUSTOMIZATIONS;case 52:case"PROPERTY_NAME_WRITE_CUSTOMIZATIONS":return Dj.WRITE_CUSTOMIZATIONS;case 53:case"PROPERTY_NAME_TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED":return Dj.TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum PropertyName")}}function Fj(e){switch(e){case 0:case"SESSION_MODE_UNSPECIFIED":return Mj.UNSPECIFIED;case 1:case"SESSION_MODE_TRANSLATOR":return Mj.TRANSLATOR;case 2:case"SESSION_MODE_WRITE":return Mj.WRITE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionMode")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR_SOURCE_TEXT=1]="TRANSLATOR_SOURCE_TEXT",e[e.TRANSLATOR_TARGET_TEXT=2]="TRANSLATOR_TARGET_TEXT",e[e.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT=4]="TRANSLATOR_TARGET_TRANSCRIPTION_TEXT",e[e.WRITE_SOURCE_TEXT=5]="WRITE_SOURCE_TEXT",e[e.WRITE_TARGET_TEXT=6]="WRITE_TARGET_TEXT"}($j||($j={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR_SOURCE_LANGUAGES=1]="TRANSLATOR_SOURCE_LANGUAGES",e[e.TRANSLATOR_TARGET_LANGUAGES=2]="TRANSLATOR_TARGET_LANGUAGES",e[e.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE=3]="TRANSLATOR_REQUESTED_SOURCE_LANGUAGE",e[e.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE=4]="TRANSLATOR_CALCULATED_SOURCE_LANGUAGE",e[e.TRANSLATOR_REQUESTED_TARGET_LANGUAGE=5]="TRANSLATOR_REQUESTED_TARGET_LANGUAGE",e[e.TRANSLATOR_FORMALITY_MODES=7]="TRANSLATOR_FORMALITY_MODES",e[e.TRANSLATOR_FORMALITY_MODE=8]="TRANSLATOR_FORMALITY_MODE",e[e.TRANSLATOR_GLOSSARY_SUPPORT=9]="TRANSLATOR_GLOSSARY_SUPPORT",e[e.TRANSLATOR_GLOSSARY_LIST=10]="TRANSLATOR_GLOSSARY_LIST",e[e.TRANSLATOR_TEXT_DIRECTION=12]="TRANSLATOR_TEXT_DIRECTION",e[e.TRANSLATOR_GLOSSARY_SUGGESTIONS=13]="TRANSLATOR_GLOSSARY_SUGGESTIONS",e[e.TRANSLATOR_MAXIMUM_TEXT_LENGTH=14]="TRANSLATOR_MAXIMUM_TEXT_LENGTH",e[e.TRANSLATOR_LANGUAGE_MODELS=15]="TRANSLATOR_LANGUAGE_MODELS",e[e.TRANSLATOR_LANGUAGE_MODEL=16]="TRANSLATOR_LANGUAGE_MODEL",e[e.TRANSLATOR_GLOSSARY_ID=17]="TRANSLATOR_GLOSSARY_ID",e[e.TRANSLATOR_CALCULATED_TARGET_LANGUAGE=18]="TRANSLATOR_CALCULATED_TARGET_LANGUAGE",e[e.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE=19]="TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE",e[e.WRITE_LANGUAGES=20]="WRITE_LANGUAGES",e[e.WRITE_REQUESTED_LANGUAGE=21]="WRITE_REQUESTED_LANGUAGE",e[e.WRITE_CALCULATED_LANGUAGE=22]="WRITE_CALCULATED_LANGUAGE",e[e.WRITE_STYLE_VARIANTS=23]="WRITE_STYLE_VARIANTS",e[e.WRITE_STYLE_VARIANT=24]="WRITE_STYLE_VARIANT",e[e.WRITE_GLOSSARY_ID=25]="WRITE_GLOSSARY_ID",e[e.WRITE_GLOSSARY_LIST=26]="WRITE_GLOSSARY_LIST",e[e.WRITE_GLOSSARY_SUPPORT=27]="WRITE_GLOSSARY_SUPPORT",e[e.WRITE_MAXIMUM_TEXT_LENGTH=28]="WRITE_MAXIMUM_TEXT_LENGTH",e[e.WRITE_UNSUPPORTED_LANGUAGE=29]="WRITE_UNSUPPORTED_LANGUAGE",e[e.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS=30]="TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS",e[e.WRITE_GLOSSARY_LANGUAGES=31]="WRITE_GLOSSARY_LANGUAGES",e[e.WRITE_STYLE_GUIDE_SUPPORT=32]="WRITE_STYLE_GUIDE_SUPPORT",e[e.WRITE_STYLE_GUIDE_ID=33]="WRITE_STYLE_GUIDE_ID",e[e.WRITE_TEMPLATE_ADAPTATION_TEMPLATES=34]="WRITE_TEMPLATE_ADAPTATION_TEMPLATES",e[e.TRANSLATOR_STYLE_GUIDE_SUPPORT=35]="TRANSLATOR_STYLE_GUIDE_SUPPORT",e[e.TRANSLATOR_STYLE_GUIDE_ID=36]="TRANSLATOR_STYLE_GUIDE_ID",e[e.TRANSLATOR_INTERFACE_LANGUAGE=37]="TRANSLATOR_INTERFACE_LANGUAGE",e[e.TRANSLATOR_LANGUAGE_MODEL_PREFERENCES=38]="TRANSLATOR_LANGUAGE_MODEL_PREFERENCES",e[e.TRANSLATOR_FREE_TEXT_PROMPT_LIST=39]="TRANSLATOR_FREE_TEXT_PROMPT_LIST",e[e.WRITE_FREE_TEXT_PROMPT_LIST=40]="WRITE_FREE_TEXT_PROMPT_LIST",e[e.WRITE_INLINE_SUGGESTIONS_LOADING=41]="WRITE_INLINE_SUGGESTIONS_LOADING",e[e.WRITE_CORRECTIONS_ONLY_SUPPORT=42]="WRITE_CORRECTIONS_ONLY_SUPPORT",e[e.WRITE_CORRECTIONS_ONLY=43]="WRITE_CORRECTIONS_ONLY",e[e.TRANSLATOR_RTF_SUPPORT=44]="TRANSLATOR_RTF_SUPPORT",e[e.TRANSLATOR_STYLE_VARIANTS=45]="TRANSLATOR_STYLE_VARIANTS",e[e.TRANSLATOR_STYLE_VARIANT=46]="TRANSLATOR_STYLE_VARIANT",e[e.WRITE_TEXT_UNIT_ALTERNATIVES_SUPPORT=47]="WRITE_TEXT_UNIT_ALTERNATIVES_SUPPORT",e[e.TRANSLATOR_TRANSLATION_MEMORY_LIST=48]="TRANSLATOR_TRANSLATION_MEMORY_LIST",e[e.TRANSLATOR_SELECTED_TRANSLATION_MEMORY=49]="TRANSLATOR_SELECTED_TRANSLATION_MEMORY",e[e.TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS=50]="TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS",e[e.TRANSLATOR_CUSTOMIZATIONS=51]="TRANSLATOR_CUSTOMIZATIONS",e[e.WRITE_CUSTOMIZATIONS=52]="WRITE_CUSTOMIZATIONS",e[e.TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED=53]="TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED"}(Dj||(Dj={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR=1]="TRANSLATOR",e[e.WRITE=2]="WRITE"}(Mj||(Mj={}));const jj={$type:"deepl.pb.interactive_text_api.TextChangeOperation",encode:(e,t=new tV)=>(void 0!==e.range&&TV.encode(e.range,t.uint32(10).fork()).join(),""!==e.text&&t.uint32(18).string(e.text),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.TextChangeOperation",range:void 0,text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.range=TV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jj.$type,range:pq(e.range)?TV.fromJSON(e.range):void 0,text:pq(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return void 0!==e.range&&(t.range=TV.toJSON(e.range)),""!==e.text&&(t.text=e.text),t},create:e=>jj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.TextChangeOperation",range:void 0,text:""};return n.range=void 0!==e.range&&null!==e.range?TV.fromPartial(e.range):void 0,n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const qj={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",encode:(e,t=new tV)=>(void 0!==e.annotationId&&hV.encode(e.annotationId,t.uint32(10).fork()).join(),void 0!==e.range&&TV.encode(e.range,t.uint32(18).fork()).join(),void 0!==e.textUnitPayload&&WG.encode(e.textUnitPayload,t.uint32(26).fork()).join(),void 0!==e.requestWordAlternativesPayload&&yV.encode(e.requestWordAlternativesPayload,t.uint32(34).fork()).join(),void 0!==e.providedWordAlternativesPayload&&mV.encode(e.providedWordAlternativesPayload,t.uint32(42).fork()).join(),void 0!==e.selectWordAlternativePayload&&jG.encode(e.selectWordAlternativePayload,t.uint32(50).fork()).join(),void 0!==e.translatorGlossaryReplacementPayload&&bF.encode(e.translatorGlossaryReplacementPayload,t.uint32(58).fork()).join(),void 0!==e.requestTextUnitAlternativesPayload&&_V.encode(e.requestTextUnitAlternativesPayload,t.uint32(66).fork()).join(),void 0!==e.translatorProvidedTextUnitAlternativesPayload&&wF.encode(e.translatorProvidedTextUnitAlternativesPayload,t.uint32(74).fork()).join(),void 0!==e.selectTextUnitAlternativePayload&&GG.encode(e.selectTextUnitAlternativePayload,t.uint32(82).fork()).join(),void 0!==e.translatorRequestAutocompletionPayload&&yF.encode(e.translatorRequestAutocompletionPayload,t.uint32(90).fork()).join(),void 0!==e.translatorProvidedAutocompletionPayload&&TF.encode(e.translatorProvidedAutocompletionPayload,t.uint32(98).fork()).join(),void 0!==e.translatorSelectAutocompletionPayload&&SF.encode(e.translatorSelectAutocompletionPayload,t.uint32(106).fork()).join(),void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&EF.encode(e.translatorProvidedAutomaticTextUnitAlternativesPayload,t.uint32(114).fork()).join(),void 0!==e.selectAutomaticTextUnitAlternativePayload&&UG.encode(e.selectAutomaticTextUnitAlternativePayload,t.uint32(122).fork()).join(),void 0!==e.writeDiffUnitPayload&&BV.encode(e.writeDiffUnitPayload,t.uint32(130).fork()).join(),void 0!==e.textFormattingPayload&&HG.encode(e.textFormattingPayload,t.uint32(138).fork()).join(),void 0!==e.writeProvidedTextUnitAlternativesPayload&&HV.encode(e.writeProvidedTextUnitAlternativesPayload,t.uint32(146).fork()).join(),void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&JV.encode(e.writeProvidedAutomaticTextUnitAlternativesPayload,t.uint32(154).fork()).join(),void 0!==e.translatorRequestClarifyPayload&&AF.encode(e.translatorRequestClarifyPayload,t.uint32(162).fork()).join(),void 0!==e.translatorProvidedClarifyQuestionPayload&&OF.encode(e.translatorProvidedClarifyQuestionPayload,t.uint32(170).fork()).join(),void 0!==e.translatorProvidedClarifyHighlightPayload&&RF.encode(e.translatorProvidedClarifyHighlightPayload,t.uint32(178).fork()).join(),void 0!==e.translatorSelectClarifyAnswerPayload&&xF.encode(e.translatorSelectClarifyAnswerPayload,t.uint32(186).fork()).join(),void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&TG.encode(e.writeRequestChangeStyleAlternativesAnnotationPayload,t.uint32(194).fork()).join(),void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&bG.encode(e.writeProvidedChangeStyleAlternativesAnnotationPayload,t.uint32(202).fork()).join(),void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&wG.encode(e.writeSelectChangeStyleAlternativeAnnotationPayload,t.uint32(210).fork()).join(),void 0!==e.translatorClarifyStatusPayload&&IF.encode(e.translatorClarifyStatusPayload,t.uint32(218).fork()).join(),void 0!==e.customRuleAnnotationPayload&&CV.encode(e.customRuleAnnotationPayload,t.uint32(226).fork()).join(),void 0!==e.writeRequestTemplateAdaptationAnnotationPayload&&RG.encode(e.writeRequestTemplateAdaptationAnnotationPayload,t.uint32(234).fork()).join(),void 0!==e.writeProvidedTemplateAdaptationAnnotationPayload&&xG.encode(e.writeProvidedTemplateAdaptationAnnotationPayload,t.uint32(242).fork()).join(),void 0!==e.providedWordAlternativeHighlightPayload&&fV.encode(e.providedWordAlternativeHighlightPayload,t.uint32(250).fork()).join(),void 0!==e.writeInlineSuggestionAnnotationPayload&&PG.encode(e.writeInlineSuggestionAnnotationPayload,t.uint32(258).fork()).join(),void 0!==e.writeInlineSuggestionSpanAnnotationPayload&&kG.encode(e.writeInlineSuggestionSpanAnnotationPayload,t.uint32(266).fork()).join(),void 0!==e.writeActOnInlineSuggestionAnnotationPayload&&CG.encode(e.writeActOnInlineSuggestionAnnotationPayload,t.uint32(274).fork()).join(),void 0!==e.writeInlineSuggestionsTextUnitStateAnnotationPayload&&LG.encode(e.writeInlineSuggestionsTextUnitStateAnnotationPayload,t.uint32(282).fork()).join(),void 0!==e.writeRequestInlineSuggestionImprovedTextAnnotationPayload&&$G.encode(e.writeRequestInlineSuggestionImprovedTextAnnotationPayload,t.uint32(290).fork()).join(),void 0!==e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload&&DG.encode(e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload,t.uint32(298).fork()).join(),void 0!==e.translatorRequestRephraseTargetTextAnnotationPayload&&NF.encode(e.translatorRequestRephraseTargetTextAnnotationPayload,t.uint32(306).fork()).join(),void 0!==e.translationMemoryAnnotationPayload&&QG.encode(e.translationMemoryAnnotationPayload,t.uint32(314).fork()).join(),void 0!==e.translatorProvidedHypothesesComparisonStateAnnotationPayload&&kF.encode(e.translatorProvidedHypothesesComparisonStateAnnotationPayload,t.uint32(322).fork()).join(),void 0!==e.translatorSelectHypothesesComparisonVariantAnnotationPayload&&CF.encode(e.translatorSelectHypothesesComparisonVariantAnnotationPayload,t.uint32(330).fork()).join(),void 0!==e.translatorSkipHypothesesComparisonAnnotationPayload&&LF.encode(e.translatorSkipHypothesesComparisonAnnotationPayload,t.uint32(338).fork()).join(),void 0!==e.translationMemorySegmentAnnotationPayload&&oF.encode(e.translationMemorySegmentAnnotationPayload,t.uint32(346).fork()).join(),void 0!==e.translatorUpdateTranslationMemorySegmentsAnnotationPayload&&$F.encode(e.translatorUpdateTranslationMemorySegmentsAnnotationPayload,t.uint32(354).fork()).join(),void 0!==e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload&&DF.encode(e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload,t.uint32(362).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",annotationId:void 0,range:void 0,textUnitPayload:void 0,requestWordAlternativesPayload:void 0,providedWordAlternativesPayload:void 0,selectWordAlternativePayload:void 0,translatorGlossaryReplacementPayload:void 0,requestTextUnitAlternativesPayload:void 0,translatorProvidedTextUnitAlternativesPayload:void 0,selectTextUnitAlternativePayload:void 0,translatorRequestAutocompletionPayload:void 0,translatorProvidedAutocompletionPayload:void 0,translatorSelectAutocompletionPayload:void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:void 0,selectAutomaticTextUnitAlternativePayload:void 0,writeDiffUnitPayload:void 0,textFormattingPayload:void 0,writeProvidedTextUnitAlternativesPayload:void 0,writeProvidedAutomaticTextUnitAlternativesPayload:void 0,translatorRequestClarifyPayload:void 0,translatorProvidedClarifyQuestionPayload:void 0,translatorProvidedClarifyHighlightPayload:void 0,translatorSelectClarifyAnswerPayload:void 0,writeRequestChangeStyleAlternativesAnnotationPayload:void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:void 0,writeSelectChangeStyleAlternativeAnnotationPayload:void 0,translatorClarifyStatusPayload:void 0,customRuleAnnotationPayload:void 0,writeRequestTemplateAdaptationAnnotationPayload:void 0,writeProvidedTemplateAdaptationAnnotationPayload:void 0,providedWordAlternativeHighlightPayload:void 0,writeInlineSuggestionAnnotationPayload:void 0,writeInlineSuggestionSpanAnnotationPayload:void 0,writeActOnInlineSuggestionAnnotationPayload:void 0,writeInlineSuggestionsTextUnitStateAnnotationPayload:void 0,writeRequestInlineSuggestionImprovedTextAnnotationPayload:void 0,writeProvidedInlineSuggestionImprovedTextAnnotationPayload:void 0,translatorRequestRephraseTargetTextAnnotationPayload:void 0,translationMemoryAnnotationPayload:void 0,translatorProvidedHypothesesComparisonStateAnnotationPayload:void 0,translatorSelectHypothesesComparisonVariantAnnotationPayload:void 0,translatorSkipHypothesesComparisonAnnotationPayload:void 0,translationMemorySegmentAnnotationPayload:void 0,translatorUpdateTranslationMemorySegmentsAnnotationPayload:void 0,translatorUpdateTranslationMemorySegmentsResultAnnotationPayload:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.annotationId=hV.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.range=TV.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.textUnitPayload=WG.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.requestWordAlternativesPayload=yV.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.providedWordAlternativesPayload=mV.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.selectWordAlternativePayload=jG.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.translatorGlossaryReplacementPayload=bF.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.requestTextUnitAlternativesPayload=_V.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.translatorProvidedTextUnitAlternativesPayload=wF.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.selectTextUnitAlternativePayload=GG.decode(n,n.uint32());continue;case 11:if(90!==e)break;o.translatorRequestAutocompletionPayload=yF.decode(n,n.uint32());continue;case 12:if(98!==e)break;o.translatorProvidedAutocompletionPayload=TF.decode(n,n.uint32());continue;case 13:if(106!==e)break;o.translatorSelectAutocompletionPayload=SF.decode(n,n.uint32());continue;case 14:if(114!==e)break;o.translatorProvidedAutomaticTextUnitAlternativesPayload=EF.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.selectAutomaticTextUnitAlternativePayload=UG.decode(n,n.uint32());continue;case 16:if(130!==e)break;o.writeDiffUnitPayload=BV.decode(n,n.uint32());continue;case 17:if(138!==e)break;o.textFormattingPayload=HG.decode(n,n.uint32());continue;case 18:if(146!==e)break;o.writeProvidedTextUnitAlternativesPayload=HV.decode(n,n.uint32());continue;case 19:if(154!==e)break;o.writeProvidedAutomaticTextUnitAlternativesPayload=JV.decode(n,n.uint32());continue;case 20:if(162!==e)break;o.translatorRequestClarifyPayload=AF.decode(n,n.uint32());continue;case 21:if(170!==e)break;o.translatorProvidedClarifyQuestionPayload=OF.decode(n,n.uint32());continue;case 22:if(178!==e)break;o.translatorProvidedClarifyHighlightPayload=RF.decode(n,n.uint32());continue;case 23:if(186!==e)break;o.translatorSelectClarifyAnswerPayload=xF.decode(n,n.uint32());continue;case 24:if(194!==e)break;o.writeRequestChangeStyleAlternativesAnnotationPayload=TG.decode(n,n.uint32());continue;case 25:if(202!==e)break;o.writeProvidedChangeStyleAlternativesAnnotationPayload=bG.decode(n,n.uint32());continue;case 26:if(210!==e)break;o.writeSelectChangeStyleAlternativeAnnotationPayload=wG.decode(n,n.uint32());continue;case 27:if(218!==e)break;o.translatorClarifyStatusPayload=IF.decode(n,n.uint32());continue;case 28:if(226!==e)break;o.customRuleAnnotationPayload=CV.decode(n,n.uint32());continue;case 29:if(234!==e)break;o.writeRequestTemplateAdaptationAnnotationPayload=RG.decode(n,n.uint32());continue;case 30:if(242!==e)break;o.writeProvidedTemplateAdaptationAnnotationPayload=xG.decode(n,n.uint32());continue;case 31:if(250!==e)break;o.providedWordAlternativeHighlightPayload=fV.decode(n,n.uint32());continue;case 32:if(258!==e)break;o.writeInlineSuggestionAnnotationPayload=PG.decode(n,n.uint32());continue;case 33:if(266!==e)break;o.writeInlineSuggestionSpanAnnotationPayload=kG.decode(n,n.uint32());continue;case 34:if(274!==e)break;o.writeActOnInlineSuggestionAnnotationPayload=CG.decode(n,n.uint32());continue;case 35:if(282!==e)break;o.writeInlineSuggestionsTextUnitStateAnnotationPayload=LG.decode(n,n.uint32());continue;case 36:if(290!==e)break;o.writeRequestInlineSuggestionImprovedTextAnnotationPayload=$G.decode(n,n.uint32());continue;case 37:if(298!==e)break;o.writeProvidedInlineSuggestionImprovedTextAnnotationPayload=DG.decode(n,n.uint32());continue;case 38:if(306!==e)break;o.translatorRequestRephraseTargetTextAnnotationPayload=NF.decode(n,n.uint32());continue;case 39:if(314!==e)break;o.translationMemoryAnnotationPayload=QG.decode(n,n.uint32());continue;case 40:if(322!==e)break;o.translatorProvidedHypothesesComparisonStateAnnotationPayload=kF.decode(n,n.uint32());continue;case 41:if(330!==e)break;o.translatorSelectHypothesesComparisonVariantAnnotationPayload=CF.decode(n,n.uint32());continue;case 42:if(338!==e)break;o.translatorSkipHypothesesComparisonAnnotationPayload=LF.decode(n,n.uint32());continue;case 43:if(346!==e)break;o.translationMemorySegmentAnnotationPayload=oF.decode(n,n.uint32());continue;case 44:if(354!==e)break;o.translatorUpdateTranslationMemorySegmentsAnnotationPayload=$F.decode(n,n.uint32());continue;case 45:if(362!==e)break;o.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload=DF.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:qj.$type,annotationId:pq(e.annotationId)?hV.fromJSON(e.annotationId):void 0,range:pq(e.range)?TV.fromJSON(e.range):void 0,textUnitPayload:pq(e.textUnitPayload)?WG.fromJSON(e.textUnitPayload):void 0,requestWordAlternativesPayload:pq(e.requestWordAlternativesPayload)?yV.fromJSON(e.requestWordAlternativesPayload):void 0,providedWordAlternativesPayload:pq(e.providedWordAlternativesPayload)?mV.fromJSON(e.providedWordAlternativesPayload):void 0,selectWordAlternativePayload:pq(e.selectWordAlternativePayload)?jG.fromJSON(e.selectWordAlternativePayload):void 0,translatorGlossaryReplacementPayload:pq(e.translatorGlossaryReplacementPayload)?bF.fromJSON(e.translatorGlossaryReplacementPayload):void 0,requestTextUnitAlternativesPayload:pq(e.requestTextUnitAlternativesPayload)?_V.fromJSON(e.requestTextUnitAlternativesPayload):void 0,translatorProvidedTextUnitAlternativesPayload:pq(e.translatorProvidedTextUnitAlternativesPayload)?wF.fromJSON(e.translatorProvidedTextUnitAlternativesPayload):void 0,selectTextUnitAlternativePayload:pq(e.selectTextUnitAlternativePayload)?GG.fromJSON(e.selectTextUnitAlternativePayload):void 0,translatorRequestAutocompletionPayload:pq(e.translatorRequestAutocompletionPayload)?yF.fromJSON(e.translatorRequestAutocompletionPayload):void 0,translatorProvidedAutocompletionPayload:pq(e.translatorProvidedAutocompletionPayload)?TF.fromJSON(e.translatorProvidedAutocompletionPayload):void 0,translatorSelectAutocompletionPayload:pq(e.translatorSelectAutocompletionPayload)?SF.fromJSON(e.translatorSelectAutocompletionPayload):void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:pq(e.translatorProvidedAutomaticTextUnitAlternativesPayload)?EF.fromJSON(e.translatorProvidedAutomaticTextUnitAlternativesPayload):void 0,selectAutomaticTextUnitAlternativePayload:pq(e.selectAutomaticTextUnitAlternativePayload)?UG.fromJSON(e.selectAutomaticTextUnitAlternativePayload):void 0,writeDiffUnitPayload:pq(e.writeDiffUnitPayload)?BV.fromJSON(e.writeDiffUnitPayload):void 0,textFormattingPayload:pq(e.textFormattingPayload)?HG.fromJSON(e.textFormattingPayload):void 0,writeProvidedTextUnitAlternativesPayload:pq(e.writeProvidedTextUnitAlternativesPayload)?HV.fromJSON(e.writeProvidedTextUnitAlternativesPayload):void 0,writeProvidedAutomaticTextUnitAlternativesPayload:pq(e.writeProvidedAutomaticTextUnitAlternativesPayload)?JV.fromJSON(e.writeProvidedAutomaticTextUnitAlternativesPayload):void 0,translatorRequestClarifyPayload:pq(e.translatorRequestClarifyPayload)?AF.fromJSON(e.translatorRequestClarifyPayload):void 0,translatorProvidedClarifyQuestionPayload:pq(e.translatorProvidedClarifyQuestionPayload)?OF.fromJSON(e.translatorProvidedClarifyQuestionPayload):void 0,translatorProvidedClarifyHighlightPayload:pq(e.translatorProvidedClarifyHighlightPayload)?RF.fromJSON(e.translatorProvidedClarifyHighlightPayload):void 0,translatorSelectClarifyAnswerPayload:pq(e.translatorSelectClarifyAnswerPayload)?xF.fromJSON(e.translatorSelectClarifyAnswerPayload):void 0,writeRequestChangeStyleAlternativesAnnotationPayload:pq(e.writeRequestChangeStyleAlternativesAnnotationPayload)?TG.fromJSON(e.writeRequestChangeStyleAlternativesAnnotationPayload):void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:pq(e.writeProvidedChangeStyleAlternativesAnnotationPayload)?bG.fromJSON(e.writeProvidedChangeStyleAlternativesAnnotationPayload):void 0,writeSelectChangeStyleAlternativeAnnotationPayload:pq(e.writeSelectChangeStyleAlternativeAnnotationPayload)?wG.fromJSON(e.writeSelectChangeStyleAlternativeAnnotationPayload):void 0,translatorClarifyStatusPayload:pq(e.translatorClarifyStatusPayload)?IF.fromJSON(e.translatorClarifyStatusPayload):void 0,customRuleAnnotationPayload:pq(e.customRuleAnnotationPayload)?CV.fromJSON(e.customRuleAnnotationPayload):void 0,writeRequestTemplateAdaptationAnnotationPayload:pq(e.writeRequestTemplateAdaptationAnnotationPayload)?RG.fromJSON(e.writeRequestTemplateAdaptationAnnotationPayload):void 0,writeProvidedTemplateAdaptationAnnotationPayload:pq(e.writeProvidedTemplateAdaptationAnnotationPayload)?xG.fromJSON(e.writeProvidedTemplateAdaptationAnnotationPayload):void 0,providedWordAlternativeHighlightPayload:pq(e.providedWordAlternativeHighlightPayload)?fV.fromJSON(e.providedWordAlternativeHighlightPayload):void 0,writeInlineSuggestionAnnotationPayload:pq(e.writeInlineSuggestionAnnotationPayload)?PG.fromJSON(e.writeInlineSuggestionAnnotationPayload):void 0,writeInlineSuggestionSpanAnnotationPayload:pq(e.writeInlineSuggestionSpanAnnotationPayload)?kG.fromJSON(e.writeInlineSuggestionSpanAnnotationPayload):void 0,writeActOnInlineSuggestionAnnotationPayload:pq(e.writeActOnInlineSuggestionAnnotationPayload)?CG.fromJSON(e.writeActOnInlineSuggestionAnnotationPayload):void 0,writeInlineSuggestionsTextUnitStateAnnotationPayload:pq(e.writeInlineSuggestionsTextUnitStateAnnotationPayload)?LG.fromJSON(e.writeInlineSuggestionsTextUnitStateAnnotationPayload):void 0,writeRequestInlineSuggestionImprovedTextAnnotationPayload:pq(e.writeRequestInlineSuggestionImprovedTextAnnotationPayload)?$G.fromJSON(e.writeRequestInlineSuggestionImprovedTextAnnotationPayload):void 0,writeProvidedInlineSuggestionImprovedTextAnnotationPayload:pq(e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload)?DG.fromJSON(e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload):void 0,translatorRequestRephraseTargetTextAnnotationPayload:pq(e.translatorRequestRephraseTargetTextAnnotationPayload)?NF.fromJSON(e.translatorRequestRephraseTargetTextAnnotationPayload):void 0,translationMemoryAnnotationPayload:pq(e.translationMemoryAnnotationPayload)?QG.fromJSON(e.translationMemoryAnnotationPayload):void 0,translatorProvidedHypothesesComparisonStateAnnotationPayload:pq(e.translatorProvidedHypothesesComparisonStateAnnotationPayload)?kF.fromJSON(e.translatorProvidedHypothesesComparisonStateAnnotationPayload):void 0,translatorSelectHypothesesComparisonVariantAnnotationPayload:pq(e.translatorSelectHypothesesComparisonVariantAnnotationPayload)?CF.fromJSON(e.translatorSelectHypothesesComparisonVariantAnnotationPayload):void 0,translatorSkipHypothesesComparisonAnnotationPayload:pq(e.translatorSkipHypothesesComparisonAnnotationPayload)?LF.fromJSON(e.translatorSkipHypothesesComparisonAnnotationPayload):void 0,translationMemorySegmentAnnotationPayload:pq(e.translationMemorySegmentAnnotationPayload)?oF.fromJSON(e.translationMemorySegmentAnnotationPayload):void 0,translatorUpdateTranslationMemorySegmentsAnnotationPayload:pq(e.translatorUpdateTranslationMemorySegmentsAnnotationPayload)?$F.fromJSON(e.translatorUpdateTranslationMemorySegmentsAnnotationPayload):void 0,translatorUpdateTranslationMemorySegmentsResultAnnotationPayload:pq(e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload)?DF.fromJSON(e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload):void 0}),toJSON(e){const t={};return void 0!==e.annotationId&&(t.annotationId=hV.toJSON(e.annotationId)),void 0!==e.range&&(t.range=TV.toJSON(e.range)),void 0!==e.textUnitPayload&&(t.textUnitPayload=WG.toJSON(e.textUnitPayload)),void 0!==e.requestWordAlternativesPayload&&(t.requestWordAlternativesPayload=yV.toJSON(e.requestWordAlternativesPayload)),void 0!==e.providedWordAlternativesPayload&&(t.providedWordAlternativesPayload=mV.toJSON(e.providedWordAlternativesPayload)),void 0!==e.selectWordAlternativePayload&&(t.selectWordAlternativePayload=jG.toJSON(e.selectWordAlternativePayload)),void 0!==e.translatorGlossaryReplacementPayload&&(t.translatorGlossaryReplacementPayload=bF.toJSON(e.translatorGlossaryReplacementPayload)),void 0!==e.requestTextUnitAlternativesPayload&&(t.requestTextUnitAlternativesPayload=_V.toJSON(e.requestTextUnitAlternativesPayload)),void 0!==e.translatorProvidedTextUnitAlternativesPayload&&(t.translatorProvidedTextUnitAlternativesPayload=wF.toJSON(e.translatorProvidedTextUnitAlternativesPayload)),void 0!==e.selectTextUnitAlternativePayload&&(t.selectTextUnitAlternativePayload=GG.toJSON(e.selectTextUnitAlternativePayload)),void 0!==e.translatorRequestAutocompletionPayload&&(t.translatorRequestAutocompletionPayload=yF.toJSON(e.translatorRequestAutocompletionPayload)),void 0!==e.translatorProvidedAutocompletionPayload&&(t.translatorProvidedAutocompletionPayload=TF.toJSON(e.translatorProvidedAutocompletionPayload)),void 0!==e.translatorSelectAutocompletionPayload&&(t.translatorSelectAutocompletionPayload=SF.toJSON(e.translatorSelectAutocompletionPayload)),void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&(t.translatorProvidedAutomaticTextUnitAlternativesPayload=EF.toJSON(e.translatorProvidedAutomaticTextUnitAlternativesPayload)),void 0!==e.selectAutomaticTextUnitAlternativePayload&&(t.selectAutomaticTextUnitAlternativePayload=UG.toJSON(e.selectAutomaticTextUnitAlternativePayload)),void 0!==e.writeDiffUnitPayload&&(t.writeDiffUnitPayload=BV.toJSON(e.writeDiffUnitPayload)),void 0!==e.textFormattingPayload&&(t.textFormattingPayload=HG.toJSON(e.textFormattingPayload)),void 0!==e.writeProvidedTextUnitAlternativesPayload&&(t.writeProvidedTextUnitAlternativesPayload=HV.toJSON(e.writeProvidedTextUnitAlternativesPayload)),void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&(t.writeProvidedAutomaticTextUnitAlternativesPayload=JV.toJSON(e.writeProvidedAutomaticTextUnitAlternativesPayload)),void 0!==e.translatorRequestClarifyPayload&&(t.translatorRequestClarifyPayload=AF.toJSON(e.translatorRequestClarifyPayload)),void 0!==e.translatorProvidedClarifyQuestionPayload&&(t.translatorProvidedClarifyQuestionPayload=OF.toJSON(e.translatorProvidedClarifyQuestionPayload)),void 0!==e.translatorProvidedClarifyHighlightPayload&&(t.translatorProvidedClarifyHighlightPayload=RF.toJSON(e.translatorProvidedClarifyHighlightPayload)),void 0!==e.translatorSelectClarifyAnswerPayload&&(t.translatorSelectClarifyAnswerPayload=xF.toJSON(e.translatorSelectClarifyAnswerPayload)),void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&(t.writeRequestChangeStyleAlternativesAnnotationPayload=TG.toJSON(e.writeRequestChangeStyleAlternativesAnnotationPayload)),void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&(t.writeProvidedChangeStyleAlternativesAnnotationPayload=bG.toJSON(e.writeProvidedChangeStyleAlternativesAnnotationPayload)),void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&(t.writeSelectChangeStyleAlternativeAnnotationPayload=wG.toJSON(e.writeSelectChangeStyleAlternativeAnnotationPayload)),void 0!==e.translatorClarifyStatusPayload&&(t.translatorClarifyStatusPayload=IF.toJSON(e.translatorClarifyStatusPayload)),void 0!==e.customRuleAnnotationPayload&&(t.customRuleAnnotationPayload=CV.toJSON(e.customRuleAnnotationPayload)),void 0!==e.writeRequestTemplateAdaptationAnnotationPayload&&(t.writeRequestTemplateAdaptationAnnotationPayload=RG.toJSON(e.writeRequestTemplateAdaptationAnnotationPayload)),void 0!==e.writeProvidedTemplateAdaptationAnnotationPayload&&(t.writeProvidedTemplateAdaptationAnnotationPayload=xG.toJSON(e.writeProvidedTemplateAdaptationAnnotationPayload)),void 0!==e.providedWordAlternativeHighlightPayload&&(t.providedWordAlternativeHighlightPayload=fV.toJSON(e.providedWordAlternativeHighlightPayload)),void 0!==e.writeInlineSuggestionAnnotationPayload&&(t.writeInlineSuggestionAnnotationPayload=PG.toJSON(e.writeInlineSuggestionAnnotationPayload)),void 0!==e.writeInlineSuggestionSpanAnnotationPayload&&(t.writeInlineSuggestionSpanAnnotationPayload=kG.toJSON(e.writeInlineSuggestionSpanAnnotationPayload)),void 0!==e.writeActOnInlineSuggestionAnnotationPayload&&(t.writeActOnInlineSuggestionAnnotationPayload=CG.toJSON(e.writeActOnInlineSuggestionAnnotationPayload)),void 0!==e.writeInlineSuggestionsTextUnitStateAnnotationPayload&&(t.writeInlineSuggestionsTextUnitStateAnnotationPayload=LG.toJSON(e.writeInlineSuggestionsTextUnitStateAnnotationPayload)),void 0!==e.writeRequestInlineSuggestionImprovedTextAnnotationPayload&&(t.writeRequestInlineSuggestionImprovedTextAnnotationPayload=$G.toJSON(e.writeRequestInlineSuggestionImprovedTextAnnotationPayload)),void 0!==e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload&&(t.writeProvidedInlineSuggestionImprovedTextAnnotationPayload=DG.toJSON(e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload)),void 0!==e.translatorRequestRephraseTargetTextAnnotationPayload&&(t.translatorRequestRephraseTargetTextAnnotationPayload=NF.toJSON(e.translatorRequestRephraseTargetTextAnnotationPayload)),void 0!==e.translationMemoryAnnotationPayload&&(t.translationMemoryAnnotationPayload=QG.toJSON(e.translationMemoryAnnotationPayload)),void 0!==e.translatorProvidedHypothesesComparisonStateAnnotationPayload&&(t.translatorProvidedHypothesesComparisonStateAnnotationPayload=kF.toJSON(e.translatorProvidedHypothesesComparisonStateAnnotationPayload)),void 0!==e.translatorSelectHypothesesComparisonVariantAnnotationPayload&&(t.translatorSelectHypothesesComparisonVariantAnnotationPayload=CF.toJSON(e.translatorSelectHypothesesComparisonVariantAnnotationPayload)),void 0!==e.translatorSkipHypothesesComparisonAnnotationPayload&&(t.translatorSkipHypothesesComparisonAnnotationPayload=LF.toJSON(e.translatorSkipHypothesesComparisonAnnotationPayload)),void 0!==e.translationMemorySegmentAnnotationPayload&&(t.translationMemorySegmentAnnotationPayload=oF.toJSON(e.translationMemorySegmentAnnotationPayload)),void 0!==e.translatorUpdateTranslationMemorySegmentsAnnotationPayload&&(t.translatorUpdateTranslationMemorySegmentsAnnotationPayload=$F.toJSON(e.translatorUpdateTranslationMemorySegmentsAnnotationPayload)),void 0!==e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload&&(t.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload=DF.toJSON(e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload)),t},create:e=>qj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",annotationId:void 0,range:void 0,textUnitPayload:void 0,requestWordAlternativesPayload:void 0,providedWordAlternativesPayload:void 0,selectWordAlternativePayload:void 0,translatorGlossaryReplacementPayload:void 0,requestTextUnitAlternativesPayload:void 0,translatorProvidedTextUnitAlternativesPayload:void 0,selectTextUnitAlternativePayload:void 0,translatorRequestAutocompletionPayload:void 0,translatorProvidedAutocompletionPayload:void 0,translatorSelectAutocompletionPayload:void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:void 0,selectAutomaticTextUnitAlternativePayload:void 0,writeDiffUnitPayload:void 0,textFormattingPayload:void 0,writeProvidedTextUnitAlternativesPayload:void 0,writeProvidedAutomaticTextUnitAlternativesPayload:void 0,translatorRequestClarifyPayload:void 0,translatorProvidedClarifyQuestionPayload:void 0,translatorProvidedClarifyHighlightPayload:void 0,translatorSelectClarifyAnswerPayload:void 0,writeRequestChangeStyleAlternativesAnnotationPayload:void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:void 0,writeSelectChangeStyleAlternativeAnnotationPayload:void 0,translatorClarifyStatusPayload:void 0,customRuleAnnotationPayload:void 0,writeRequestTemplateAdaptationAnnotationPayload:void 0,writeProvidedTemplateAdaptationAnnotationPayload:void 0,providedWordAlternativeHighlightPayload:void 0,writeInlineSuggestionAnnotationPayload:void 0,writeInlineSuggestionSpanAnnotationPayload:void 0,writeActOnInlineSuggestionAnnotationPayload:void 0,writeInlineSuggestionsTextUnitStateAnnotationPayload:void 0,writeRequestInlineSuggestionImprovedTextAnnotationPayload:void 0,writeProvidedInlineSuggestionImprovedTextAnnotationPayload:void 0,translatorRequestRephraseTargetTextAnnotationPayload:void 0,translationMemoryAnnotationPayload:void 0,translatorProvidedHypothesesComparisonStateAnnotationPayload:void 0,translatorSelectHypothesesComparisonVariantAnnotationPayload:void 0,translatorSkipHypothesesComparisonAnnotationPayload:void 0,translationMemorySegmentAnnotationPayload:void 0,translatorUpdateTranslationMemorySegmentsAnnotationPayload:void 0,translatorUpdateTranslationMemorySegmentsResultAnnotationPayload:void 0};return t.annotationId=void 0!==e.annotationId&&null!==e.annotationId?hV.fromPartial(e.annotationId):void 0,t.range=void 0!==e.range&&null!==e.range?TV.fromPartial(e.range):void 0,t.textUnitPayload=void 0!==e.textUnitPayload&&null!==e.textUnitPayload?WG.fromPartial(e.textUnitPayload):void 0,t.requestWordAlternativesPayload=void 0!==e.requestWordAlternativesPayload&&null!==e.requestWordAlternativesPayload?yV.fromPartial(e.requestWordAlternativesPayload):void 0,t.providedWordAlternativesPayload=void 0!==e.providedWordAlternativesPayload&&null!==e.providedWordAlternativesPayload?mV.fromPartial(e.providedWordAlternativesPayload):void 0,t.selectWordAlternativePayload=void 0!==e.selectWordAlternativePayload&&null!==e.selectWordAlternativePayload?jG.fromPartial(e.selectWordAlternativePayload):void 0,t.translatorGlossaryReplacementPayload=void 0!==e.translatorGlossaryReplacementPayload&&null!==e.translatorGlossaryReplacementPayload?bF.fromPartial(e.translatorGlossaryReplacementPayload):void 0,t.requestTextUnitAlternativesPayload=void 0!==e.requestTextUnitAlternativesPayload&&null!==e.requestTextUnitAlternativesPayload?_V.fromPartial(e.requestTextUnitAlternativesPayload):void 0,t.translatorProvidedTextUnitAlternativesPayload=void 0!==e.translatorProvidedTextUnitAlternativesPayload&&null!==e.translatorProvidedTextUnitAlternativesPayload?wF.fromPartial(e.translatorProvidedTextUnitAlternativesPayload):void 0,t.selectTextUnitAlternativePayload=void 0!==e.selectTextUnitAlternativePayload&&null!==e.selectTextUnitAlternativePayload?GG.fromPartial(e.selectTextUnitAlternativePayload):void 0,t.translatorRequestAutocompletionPayload=void 0!==e.translatorRequestAutocompletionPayload&&null!==e.translatorRequestAutocompletionPayload?yF.fromPartial(e.translatorRequestAutocompletionPayload):void 0,t.translatorProvidedAutocompletionPayload=void 0!==e.translatorProvidedAutocompletionPayload&&null!==e.translatorProvidedAutocompletionPayload?TF.fromPartial(e.translatorProvidedAutocompletionPayload):void 0,t.translatorSelectAutocompletionPayload=void 0!==e.translatorSelectAutocompletionPayload&&null!==e.translatorSelectAutocompletionPayload?SF.fromPartial(e.translatorSelectAutocompletionPayload):void 0,t.translatorProvidedAutomaticTextUnitAlternativesPayload=void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&null!==e.translatorProvidedAutomaticTextUnitAlternativesPayload?EF.fromPartial(e.translatorProvidedAutomaticTextUnitAlternativesPayload):void 0,t.selectAutomaticTextUnitAlternativePayload=void 0!==e.selectAutomaticTextUnitAlternativePayload&&null!==e.selectAutomaticTextUnitAlternativePayload?UG.fromPartial(e.selectAutomaticTextUnitAlternativePayload):void 0,t.writeDiffUnitPayload=void 0!==e.writeDiffUnitPayload&&null!==e.writeDiffUnitPayload?BV.fromPartial(e.writeDiffUnitPayload):void 0,t.textFormattingPayload=void 0!==e.textFormattingPayload&&null!==e.textFormattingPayload?HG.fromPartial(e.textFormattingPayload):void 0,t.writeProvidedTextUnitAlternativesPayload=void 0!==e.writeProvidedTextUnitAlternativesPayload&&null!==e.writeProvidedTextUnitAlternativesPayload?HV.fromPartial(e.writeProvidedTextUnitAlternativesPayload):void 0,t.writeProvidedAutomaticTextUnitAlternativesPayload=void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&null!==e.writeProvidedAutomaticTextUnitAlternativesPayload?JV.fromPartial(e.writeProvidedAutomaticTextUnitAlternativesPayload):void 0,t.translatorRequestClarifyPayload=void 0!==e.translatorRequestClarifyPayload&&null!==e.translatorRequestClarifyPayload?AF.fromPartial(e.translatorRequestClarifyPayload):void 0,t.translatorProvidedClarifyQuestionPayload=void 0!==e.translatorProvidedClarifyQuestionPayload&&null!==e.translatorProvidedClarifyQuestionPayload?OF.fromPartial(e.translatorProvidedClarifyQuestionPayload):void 0,t.translatorProvidedClarifyHighlightPayload=void 0!==e.translatorProvidedClarifyHighlightPayload&&null!==e.translatorProvidedClarifyHighlightPayload?RF.fromPartial(e.translatorProvidedClarifyHighlightPayload):void 0,t.translatorSelectClarifyAnswerPayload=void 0!==e.translatorSelectClarifyAnswerPayload&&null!==e.translatorSelectClarifyAnswerPayload?xF.fromPartial(e.translatorSelectClarifyAnswerPayload):void 0,t.writeRequestChangeStyleAlternativesAnnotationPayload=void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&null!==e.writeRequestChangeStyleAlternativesAnnotationPayload?TG.fromPartial(e.writeRequestChangeStyleAlternativesAnnotationPayload):void 0,t.writeProvidedChangeStyleAlternativesAnnotationPayload=void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&null!==e.writeProvidedChangeStyleAlternativesAnnotationPayload?bG.fromPartial(e.writeProvidedChangeStyleAlternativesAnnotationPayload):void 0,t.writeSelectChangeStyleAlternativeAnnotationPayload=void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&null!==e.writeSelectChangeStyleAlternativeAnnotationPayload?wG.fromPartial(e.writeSelectChangeStyleAlternativeAnnotationPayload):void 0,t.translatorClarifyStatusPayload=void 0!==e.translatorClarifyStatusPayload&&null!==e.translatorClarifyStatusPayload?IF.fromPartial(e.translatorClarifyStatusPayload):void 0,t.customRuleAnnotationPayload=void 0!==e.customRuleAnnotationPayload&&null!==e.customRuleAnnotationPayload?CV.fromPartial(e.customRuleAnnotationPayload):void 0,t.writeRequestTemplateAdaptationAnnotationPayload=void 0!==e.writeRequestTemplateAdaptationAnnotationPayload&&null!==e.writeRequestTemplateAdaptationAnnotationPayload?RG.fromPartial(e.writeRequestTemplateAdaptationAnnotationPayload):void 0,t.writeProvidedTemplateAdaptationAnnotationPayload=void 0!==e.writeProvidedTemplateAdaptationAnnotationPayload&&null!==e.writeProvidedTemplateAdaptationAnnotationPayload?xG.fromPartial(e.writeProvidedTemplateAdaptationAnnotationPayload):void 0,t.providedWordAlternativeHighlightPayload=void 0!==e.providedWordAlternativeHighlightPayload&&null!==e.providedWordAlternativeHighlightPayload?fV.fromPartial(e.providedWordAlternativeHighlightPayload):void 0,t.writeInlineSuggestionAnnotationPayload=void 0!==e.writeInlineSuggestionAnnotationPayload&&null!==e.writeInlineSuggestionAnnotationPayload?PG.fromPartial(e.writeInlineSuggestionAnnotationPayload):void 0,t.writeInlineSuggestionSpanAnnotationPayload=void 0!==e.writeInlineSuggestionSpanAnnotationPayload&&null!==e.writeInlineSuggestionSpanAnnotationPayload?kG.fromPartial(e.writeInlineSuggestionSpanAnnotationPayload):void 0,t.writeActOnInlineSuggestionAnnotationPayload=void 0!==e.writeActOnInlineSuggestionAnnotationPayload&&null!==e.writeActOnInlineSuggestionAnnotationPayload?CG.fromPartial(e.writeActOnInlineSuggestionAnnotationPayload):void 0,t.writeInlineSuggestionsTextUnitStateAnnotationPayload=void 0!==e.writeInlineSuggestionsTextUnitStateAnnotationPayload&&null!==e.writeInlineSuggestionsTextUnitStateAnnotationPayload?LG.fromPartial(e.writeInlineSuggestionsTextUnitStateAnnotationPayload):void 0,t.writeRequestInlineSuggestionImprovedTextAnnotationPayload=void 0!==e.writeRequestInlineSuggestionImprovedTextAnnotationPayload&&null!==e.writeRequestInlineSuggestionImprovedTextAnnotationPayload?$G.fromPartial(e.writeRequestInlineSuggestionImprovedTextAnnotationPayload):void 0,t.writeProvidedInlineSuggestionImprovedTextAnnotationPayload=void 0!==e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload&&null!==e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload?DG.fromPartial(e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload):void 0,t.translatorRequestRephraseTargetTextAnnotationPayload=void 0!==e.translatorRequestRephraseTargetTextAnnotationPayload&&null!==e.translatorRequestRephraseTargetTextAnnotationPayload?NF.fromPartial(e.translatorRequestRephraseTargetTextAnnotationPayload):void 0,t.translationMemoryAnnotationPayload=void 0!==e.translationMemoryAnnotationPayload&&null!==e.translationMemoryAnnotationPayload?QG.fromPartial(e.translationMemoryAnnotationPayload):void 0,t.translatorProvidedHypothesesComparisonStateAnnotationPayload=void 0!==e.translatorProvidedHypothesesComparisonStateAnnotationPayload&&null!==e.translatorProvidedHypothesesComparisonStateAnnotationPayload?kF.fromPartial(e.translatorProvidedHypothesesComparisonStateAnnotationPayload):void 0,t.translatorSelectHypothesesComparisonVariantAnnotationPayload=void 0!==e.translatorSelectHypothesesComparisonVariantAnnotationPayload&&null!==e.translatorSelectHypothesesComparisonVariantAnnotationPayload?CF.fromPartial(e.translatorSelectHypothesesComparisonVariantAnnotationPayload):void 0,t.translatorSkipHypothesesComparisonAnnotationPayload=void 0!==e.translatorSkipHypothesesComparisonAnnotationPayload&&null!==e.translatorSkipHypothesesComparisonAnnotationPayload?LF.fromPartial(e.translatorSkipHypothesesComparisonAnnotationPayload):void 0,t.translationMemorySegmentAnnotationPayload=void 0!==e.translationMemorySegmentAnnotationPayload&&null!==e.translationMemorySegmentAnnotationPayload?oF.fromPartial(e.translationMemorySegmentAnnotationPayload):void 0,t.translatorUpdateTranslationMemorySegmentsAnnotationPayload=void 0!==e.translatorUpdateTranslationMemorySegmentsAnnotationPayload&&null!==e.translatorUpdateTranslationMemorySegmentsAnnotationPayload?$F.fromPartial(e.translatorUpdateTranslationMemorySegmentsAnnotationPayload):void 0,t.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload=void 0!==e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload&&null!==e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload?DF.fromPartial(e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload):void 0,t}};const Bj={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",encode:(e,t=new tV)=>(void 0!==e.annotationId&&hV.encode(e.annotationId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",annotationId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.annotationId=hV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Bj.$type,annotationId:pq(e.annotationId)?hV.fromJSON(e.annotationId):void 0}),toJSON(e){const t={};return void 0!==e.annotationId&&(t.annotationId=hV.toJSON(e.annotationId)),t},create:e=>Bj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",annotationId:void 0};return t.annotationId=void 0!==e.annotationId&&null!==e.annotationId?hV.fromPartial(e.annotationId):void 0,t}};const Hj={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",encode:(e,t=new tV)=>(0!==e.propertyName&&t.uint32(8).int32(e.propertyName),void 0!==e.translatorSourceLanguagesValue&&MF.encode(e.translatorSourceLanguagesValue,t.uint32(18).fork()).join(),void 0!==e.translatorTargetLanguagesValue&&UF.encode(e.translatorTargetLanguagesValue,t.uint32(26).fork()).join(),void 0!==e.translatorRequestedSourceLanguageValue&&VF.encode(e.translatorRequestedSourceLanguageValue,t.uint32(34).fork()).join(),void 0!==e.translatorRequestedTargetLanguageValue&&FF.encode(e.translatorRequestedTargetLanguageValue,t.uint32(42).fork()).join(),void 0!==e.translatorFormalityModesValue&&QF.encode(e.translatorFormalityModesValue,t.uint32(58).fork()).join(),void 0!==e.translatorFormalityModeValue&&ZF.encode(e.translatorFormalityModeValue,t.uint32(66).fork()).join(),void 0!==e.translatorGlossarySupportValue&&WF.encode(e.translatorGlossarySupportValue,t.uint32(74).fork()).join(),void 0!==e.translatorGlossaryListValue&&yj.encode(e.translatorGlossaryListValue,t.uint32(82).fork()).join(),void 0!==e.translatorTextDirectionValue&&nj.encode(e.translatorTextDirectionValue,t.uint32(98).fork()).join(),void 0!==e.translatorCalculatedSourceLanguageValue&&GF.encode(e.translatorCalculatedSourceLanguageValue,t.uint32(106).fork()).join(),void 0!==e.translatorMaximumTextLengthValue&&rj.encode(e.translatorMaximumTextLengthValue,t.uint32(114).fork()).join(),void 0!==e.translatorLanguageModelsValue&&ej.encode(e.translatorLanguageModelsValue,t.uint32(122).fork()).join(),void 0!==e.translatorLanguageModelValue&&tj.encode(e.translatorLanguageModelValue,t.uint32(130).fork()).join(),void 0!==e.translatorGlossaryIdValue&&qF.encode(e.translatorGlossaryIdValue,t.uint32(138).fork()).join(),void 0!==e.translatorCalculatedTargetLanguageValue&&jF.encode(e.translatorCalculatedTargetLanguageValue,t.uint32(146).fork()).join(),void 0!==e.translatorUnsupportedSourceLanguageValue&&oj.encode(e.translatorUnsupportedSourceLanguageValue,t.uint32(154).fork()).join(),void 0!==e.writeLanguagesValue&&zV.encode(e.writeLanguagesValue,t.uint32(162).fork()).join(),void 0!==e.writeRequestedLanguageValue&&YV.encode(e.writeRequestedLanguageValue,t.uint32(170).fork()).join(),void 0!==e.writeCalculatedLanguageValue&&XV.encode(e.writeCalculatedLanguageValue,t.uint32(178).fork()).join(),void 0!==e.writeStyleVariantsValue&&rG.encode(e.writeStyleVariantsValue,t.uint32(186).fork()).join(),void 0!==e.writeStyleVariantValue&&oG.encode(e.writeStyleVariantValue,t.uint32(194).fork()).join(),void 0!==e.writeGlossaryIdValue&&KV.encode(e.writeGlossaryIdValue,t.uint32(202).fork()).join(),void 0!==e.writeGlossaryListValue&&cG.encode(e.writeGlossaryListValue,t.uint32(210).fork()).join(),void 0!==e.writeGlossarySupportValue&&uG.encode(e.writeGlossarySupportValue,t.uint32(218).fork()).join(),void 0!==e.writeMaximumTextLengthValue&&nG.encode(e.writeMaximumTextLengthValue,t.uint32(226).fork()).join(),void 0!==e.writeUnsupportedLanguageValue&&iG.encode(e.writeUnsupportedLanguageValue,t.uint32(234).fork()).join(),void 0!==e.translatorSourceLanguageDetectionWeightsValue&&ij.encode(e.translatorSourceLanguageDetectionWeightsValue,t.uint32(242).fork()).join(),void 0!==e.writeGlossaryLanguagesValue&&WV.encode(e.writeGlossaryLanguagesValue,t.uint32(250).fork()).join(),void 0!==e.writeStyleGuideSupportValue&&dG.encode(e.writeStyleGuideSupportValue,t.uint32(258).fork()).join(),void 0!==e.writeStyleGuideIdValue&&QV.encode(e.writeStyleGuideIdValue,t.uint32(266).fork()).join(),void 0!==e.writeTemplateAdaptationTemplatesValue&&AG.encode(e.writeTemplateAdaptationTemplatesValue,t.uint32(274).fork()).join(),void 0!==e.translatorStyleGuideSupportValue&&YF.encode(e.translatorStyleGuideSupportValue,t.uint32(282).fork()).join(),void 0!==e.translatorStyleGuideIdValue&&BF.encode(e.translatorStyleGuideIdValue,t.uint32(290).fork()).join(),void 0!==e.interfaceLanguageValue&&HF.encode(e.interfaceLanguageValue,t.uint32(298).fork()).join(),void 0!==e.translatorLanguageModelPreferencesValue&&vj.encode(e.translatorLanguageModelPreferencesValue,t.uint32(306).fork()).join(),void 0!==e.translatorFreeTextPromptListValue&&JF.encode(e.translatorFreeTextPromptListValue,t.uint32(314).fork()).join(),void 0!==e.writeFreeTextPromptListValue&&eG.encode(e.writeFreeTextPromptListValue,t.uint32(322).fork()).join(),void 0!==e.writeInlineSuggestionsLoadingValue&&aG.encode(e.writeInlineSuggestionsLoadingValue,t.uint32(330).fork()).join(),void 0!==e.writeCorrectionsOnlySupportValue&&pG.encode(e.writeCorrectionsOnlySupportValue,t.uint32(338).fork()).join(),void 0!==e.writeCorrectionsOnlyValue&&ZV.encode(e.writeCorrectionsOnlyValue,t.uint32(346).fork()).join(),void 0!==e.translatorRtfSupportValue&&XF.encode(e.translatorRtfSupportValue,t.uint32(354).fork()).join(),void 0!==e.translatorStyleVariantsValue&&aj.encode(e.translatorStyleVariantsValue,t.uint32(362).fork()).join(),void 0!==e.translatorStyleVariantValue&&sj.encode(e.translatorStyleVariantValue,t.uint32(370).fork()).join(),void 0!==e.writeTextUnitAlternativesSupportValue&&fG.encode(e.writeTextUnitAlternativesSupportValue,t.uint32(378).fork()).join(),void 0!==e.translatorTranslationMemoryListValue&&lj.encode(e.translatorTranslationMemoryListValue,t.uint32(386).fork()).join(),void 0!==e.translatorSelectedTranslationMemoryValue&&uj.encode(e.translatorSelectedTranslationMemoryValue,t.uint32(394).fork()).join(),void 0!==e.translatorRephraseTargetTextStatusValue&&dj.encode(e.translatorRephraseTargetTextStatusValue,t.uint32(402).fork()).join(),void 0!==e.translatorCustomizationsValue&&zF.encode(e.translatorCustomizationsValue,t.uint32(410).fork()).join(),void 0!==e.writeCustomizationsValue&&tG.encode(e.writeCustomizationsValue,t.uint32(418).fork()).join(),void 0!==e.translatorHypothesesComparisonEnabledValue&&pj.encode(e.translatorHypothesesComparisonEnabledValue,t.uint32(426).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",propertyName:0,translatorSourceLanguagesValue:void 0,translatorTargetLanguagesValue:void 0,translatorRequestedSourceLanguageValue:void 0,translatorRequestedTargetLanguageValue:void 0,translatorFormalityModesValue:void 0,translatorFormalityModeValue:void 0,translatorGlossarySupportValue:void 0,translatorGlossaryListValue:void 0,translatorTextDirectionValue:void 0,translatorCalculatedSourceLanguageValue:void 0,translatorMaximumTextLengthValue:void 0,translatorLanguageModelsValue:void 0,translatorLanguageModelValue:void 0,translatorGlossaryIdValue:void 0,translatorCalculatedTargetLanguageValue:void 0,translatorUnsupportedSourceLanguageValue:void 0,writeLanguagesValue:void 0,writeRequestedLanguageValue:void 0,writeCalculatedLanguageValue:void 0,writeStyleVariantsValue:void 0,writeStyleVariantValue:void 0,writeGlossaryIdValue:void 0,writeGlossaryListValue:void 0,writeGlossarySupportValue:void 0,writeMaximumTextLengthValue:void 0,writeUnsupportedLanguageValue:void 0,translatorSourceLanguageDetectionWeightsValue:void 0,writeGlossaryLanguagesValue:void 0,writeStyleGuideSupportValue:void 0,writeStyleGuideIdValue:void 0,writeTemplateAdaptationTemplatesValue:void 0,translatorStyleGuideSupportValue:void 0,translatorStyleGuideIdValue:void 0,interfaceLanguageValue:void 0,translatorLanguageModelPreferencesValue:void 0,translatorFreeTextPromptListValue:void 0,writeFreeTextPromptListValue:void 0,writeInlineSuggestionsLoadingValue:void 0,writeCorrectionsOnlySupportValue:void 0,writeCorrectionsOnlyValue:void 0,translatorRtfSupportValue:void 0,translatorStyleVariantsValue:void 0,translatorStyleVariantValue:void 0,writeTextUnitAlternativesSupportValue:void 0,translatorTranslationMemoryListValue:void 0,translatorSelectedTranslationMemoryValue:void 0,translatorRephraseTargetTextStatusValue:void 0,translatorCustomizationsValue:void 0,writeCustomizationsValue:void 0,translatorHypothesesComparisonEnabledValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.propertyName=n.int32();continue;case 2:if(18!==e)break;o.translatorSourceLanguagesValue=MF.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.translatorTargetLanguagesValue=UF.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.translatorRequestedSourceLanguageValue=VF.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.translatorRequestedTargetLanguageValue=FF.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.translatorFormalityModesValue=QF.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.translatorFormalityModeValue=ZF.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.translatorGlossarySupportValue=WF.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.translatorGlossaryListValue=yj.decode(n,n.uint32());continue;case 12:if(98!==e)break;o.translatorTextDirectionValue=nj.decode(n,n.uint32());continue;case 13:if(106!==e)break;o.translatorCalculatedSourceLanguageValue=GF.decode(n,n.uint32());continue;case 14:if(114!==e)break;o.translatorMaximumTextLengthValue=rj.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.translatorLanguageModelsValue=ej.decode(n,n.uint32());continue;case 16:if(130!==e)break;o.translatorLanguageModelValue=tj.decode(n,n.uint32());continue;case 17:if(138!==e)break;o.translatorGlossaryIdValue=qF.decode(n,n.uint32());continue;case 18:if(146!==e)break;o.translatorCalculatedTargetLanguageValue=jF.decode(n,n.uint32());continue;case 19:if(154!==e)break;o.translatorUnsupportedSourceLanguageValue=oj.decode(n,n.uint32());continue;case 20:if(162!==e)break;o.writeLanguagesValue=zV.decode(n,n.uint32());continue;case 21:if(170!==e)break;o.writeRequestedLanguageValue=YV.decode(n,n.uint32());continue;case 22:if(178!==e)break;o.writeCalculatedLanguageValue=XV.decode(n,n.uint32());continue;case 23:if(186!==e)break;o.writeStyleVariantsValue=rG.decode(n,n.uint32());continue;case 24:if(194!==e)break;o.writeStyleVariantValue=oG.decode(n,n.uint32());continue;case 25:if(202!==e)break;o.writeGlossaryIdValue=KV.decode(n,n.uint32());continue;case 26:if(210!==e)break;o.writeGlossaryListValue=cG.decode(n,n.uint32());continue;case 27:if(218!==e)break;o.writeGlossarySupportValue=uG.decode(n,n.uint32());continue;case 28:if(226!==e)break;o.writeMaximumTextLengthValue=nG.decode(n,n.uint32());continue;case 29:if(234!==e)break;o.writeUnsupportedLanguageValue=iG.decode(n,n.uint32());continue;case 30:if(242!==e)break;o.translatorSourceLanguageDetectionWeightsValue=ij.decode(n,n.uint32());continue;case 31:if(250!==e)break;o.writeGlossaryLanguagesValue=WV.decode(n,n.uint32());continue;case 32:if(258!==e)break;o.writeStyleGuideSupportValue=dG.decode(n,n.uint32());continue;case 33:if(266!==e)break;o.writeStyleGuideIdValue=QV.decode(n,n.uint32());continue;case 34:if(274!==e)break;o.writeTemplateAdaptationTemplatesValue=AG.decode(n,n.uint32());continue;case 35:if(282!==e)break;o.translatorStyleGuideSupportValue=YF.decode(n,n.uint32());continue;case 36:if(290!==e)break;o.translatorStyleGuideIdValue=BF.decode(n,n.uint32());continue;case 37:if(298!==e)break;o.interfaceLanguageValue=HF.decode(n,n.uint32());continue;case 38:if(306!==e)break;o.translatorLanguageModelPreferencesValue=vj.decode(n,n.uint32());continue;case 39:if(314!==e)break;o.translatorFreeTextPromptListValue=JF.decode(n,n.uint32());continue;case 40:if(322!==e)break;o.writeFreeTextPromptListValue=eG.decode(n,n.uint32());continue;case 41:if(330!==e)break;o.writeInlineSuggestionsLoadingValue=aG.decode(n,n.uint32());continue;case 42:if(338!==e)break;o.writeCorrectionsOnlySupportValue=pG.decode(n,n.uint32());continue;case 43:if(346!==e)break;o.writeCorrectionsOnlyValue=ZV.decode(n,n.uint32());continue;case 44:if(354!==e)break;o.translatorRtfSupportValue=XF.decode(n,n.uint32());continue;case 45:if(362!==e)break;o.translatorStyleVariantsValue=aj.decode(n,n.uint32());continue;case 46:if(370!==e)break;o.translatorStyleVariantValue=sj.decode(n,n.uint32());continue;case 47:if(378!==e)break;o.writeTextUnitAlternativesSupportValue=fG.decode(n,n.uint32());continue;case 48:if(386!==e)break;o.translatorTranslationMemoryListValue=lj.decode(n,n.uint32());continue;case 49:if(394!==e)break;o.translatorSelectedTranslationMemoryValue=uj.decode(n,n.uint32());continue;case 50:if(402!==e)break;o.translatorRephraseTargetTextStatusValue=dj.decode(n,n.uint32());continue;case 51:if(410!==e)break;o.translatorCustomizationsValue=zF.decode(n,n.uint32());continue;case 52:if(418!==e)break;o.writeCustomizationsValue=tG.decode(n,n.uint32());continue;case 53:if(426!==e)break;o.translatorHypothesesComparisonEnabledValue=pj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Hj.$type,propertyName:pq(e.propertyName)?Gj(e.propertyName):0,translatorSourceLanguagesValue:pq(e.translatorSourceLanguagesValue)?MF.fromJSON(e.translatorSourceLanguagesValue):void 0,translatorTargetLanguagesValue:pq(e.translatorTargetLanguagesValue)?UF.fromJSON(e.translatorTargetLanguagesValue):void 0,translatorRequestedSourceLanguageValue:pq(e.translatorRequestedSourceLanguageValue)?VF.fromJSON(e.translatorRequestedSourceLanguageValue):void 0,translatorRequestedTargetLanguageValue:pq(e.translatorRequestedTargetLanguageValue)?FF.fromJSON(e.translatorRequestedTargetLanguageValue):void 0,translatorFormalityModesValue:pq(e.translatorFormalityModesValue)?QF.fromJSON(e.translatorFormalityModesValue):void 0,translatorFormalityModeValue:pq(e.translatorFormalityModeValue)?ZF.fromJSON(e.translatorFormalityModeValue):void 0,translatorGlossarySupportValue:pq(e.translatorGlossarySupportValue)?WF.fromJSON(e.translatorGlossarySupportValue):void 0,translatorGlossaryListValue:pq(e.translatorGlossaryListValue)?yj.fromJSON(e.translatorGlossaryListValue):void 0,translatorTextDirectionValue:pq(e.translatorTextDirectionValue)?nj.fromJSON(e.translatorTextDirectionValue):void 0,translatorCalculatedSourceLanguageValue:pq(e.translatorCalculatedSourceLanguageValue)?GF.fromJSON(e.translatorCalculatedSourceLanguageValue):void 0,translatorMaximumTextLengthValue:pq(e.translatorMaximumTextLengthValue)?rj.fromJSON(e.translatorMaximumTextLengthValue):void 0,translatorLanguageModelsValue:pq(e.translatorLanguageModelsValue)?ej.fromJSON(e.translatorLanguageModelsValue):void 0,translatorLanguageModelValue:pq(e.translatorLanguageModelValue)?tj.fromJSON(e.translatorLanguageModelValue):void 0,translatorGlossaryIdValue:pq(e.translatorGlossaryIdValue)?qF.fromJSON(e.translatorGlossaryIdValue):void 0,translatorCalculatedTargetLanguageValue:pq(e.translatorCalculatedTargetLanguageValue)?jF.fromJSON(e.translatorCalculatedTargetLanguageValue):void 0,translatorUnsupportedSourceLanguageValue:pq(e.translatorUnsupportedSourceLanguageValue)?oj.fromJSON(e.translatorUnsupportedSourceLanguageValue):void 0,writeLanguagesValue:pq(e.writeLanguagesValue)?zV.fromJSON(e.writeLanguagesValue):void 0,writeRequestedLanguageValue:pq(e.writeRequestedLanguageValue)?YV.fromJSON(e.writeRequestedLanguageValue):void 0,writeCalculatedLanguageValue:pq(e.writeCalculatedLanguageValue)?XV.fromJSON(e.writeCalculatedLanguageValue):void 0,writeStyleVariantsValue:pq(e.writeStyleVariantsValue)?rG.fromJSON(e.writeStyleVariantsValue):void 0,writeStyleVariantValue:pq(e.writeStyleVariantValue)?oG.fromJSON(e.writeStyleVariantValue):void 0,writeGlossaryIdValue:pq(e.writeGlossaryIdValue)?KV.fromJSON(e.writeGlossaryIdValue):void 0,writeGlossaryListValue:pq(e.writeGlossaryListValue)?cG.fromJSON(e.writeGlossaryListValue):void 0,writeGlossarySupportValue:pq(e.writeGlossarySupportValue)?uG.fromJSON(e.writeGlossarySupportValue):void 0,writeMaximumTextLengthValue:pq(e.writeMaximumTextLengthValue)?nG.fromJSON(e.writeMaximumTextLengthValue):void 0,writeUnsupportedLanguageValue:pq(e.writeUnsupportedLanguageValue)?iG.fromJSON(e.writeUnsupportedLanguageValue):void 0,translatorSourceLanguageDetectionWeightsValue:pq(e.translatorSourceLanguageDetectionWeightsValue)?ij.fromJSON(e.translatorSourceLanguageDetectionWeightsValue):void 0,writeGlossaryLanguagesValue:pq(e.writeGlossaryLanguagesValue)?WV.fromJSON(e.writeGlossaryLanguagesValue):void 0,writeStyleGuideSupportValue:pq(e.writeStyleGuideSupportValue)?dG.fromJSON(e.writeStyleGuideSupportValue):void 0,writeStyleGuideIdValue:pq(e.writeStyleGuideIdValue)?QV.fromJSON(e.writeStyleGuideIdValue):void 0,writeTemplateAdaptationTemplatesValue:pq(e.writeTemplateAdaptationTemplatesValue)?AG.fromJSON(e.writeTemplateAdaptationTemplatesValue):void 0,translatorStyleGuideSupportValue:pq(e.translatorStyleGuideSupportValue)?YF.fromJSON(e.translatorStyleGuideSupportValue):void 0,translatorStyleGuideIdValue:pq(e.translatorStyleGuideIdValue)?BF.fromJSON(e.translatorStyleGuideIdValue):void 0,interfaceLanguageValue:pq(e.interfaceLanguageValue)?HF.fromJSON(e.interfaceLanguageValue):void 0,translatorLanguageModelPreferencesValue:pq(e.translatorLanguageModelPreferencesValue)?vj.fromJSON(e.translatorLanguageModelPreferencesValue):void 0,translatorFreeTextPromptListValue:pq(e.translatorFreeTextPromptListValue)?JF.fromJSON(e.translatorFreeTextPromptListValue):void 0,writeFreeTextPromptListValue:pq(e.writeFreeTextPromptListValue)?eG.fromJSON(e.writeFreeTextPromptListValue):void 0,writeInlineSuggestionsLoadingValue:pq(e.writeInlineSuggestionsLoadingValue)?aG.fromJSON(e.writeInlineSuggestionsLoadingValue):void 0,writeCorrectionsOnlySupportValue:pq(e.writeCorrectionsOnlySupportValue)?pG.fromJSON(e.writeCorrectionsOnlySupportValue):void 0,writeCorrectionsOnlyValue:pq(e.writeCorrectionsOnlyValue)?ZV.fromJSON(e.writeCorrectionsOnlyValue):void 0,translatorRtfSupportValue:pq(e.translatorRtfSupportValue)?XF.fromJSON(e.translatorRtfSupportValue):void 0,translatorStyleVariantsValue:pq(e.translatorStyleVariantsValue)?aj.fromJSON(e.translatorStyleVariantsValue):void 0,translatorStyleVariantValue:pq(e.translatorStyleVariantValue)?sj.fromJSON(e.translatorStyleVariantValue):void 0,writeTextUnitAlternativesSupportValue:pq(e.writeTextUnitAlternativesSupportValue)?fG.fromJSON(e.writeTextUnitAlternativesSupportValue):void 0,translatorTranslationMemoryListValue:pq(e.translatorTranslationMemoryListValue)?lj.fromJSON(e.translatorTranslationMemoryListValue):void 0,translatorSelectedTranslationMemoryValue:pq(e.translatorSelectedTranslationMemoryValue)?uj.fromJSON(e.translatorSelectedTranslationMemoryValue):void 0,translatorRephraseTargetTextStatusValue:pq(e.translatorRephraseTargetTextStatusValue)?dj.fromJSON(e.translatorRephraseTargetTextStatusValue):void 0,translatorCustomizationsValue:pq(e.translatorCustomizationsValue)?zF.fromJSON(e.translatorCustomizationsValue):void 0,writeCustomizationsValue:pq(e.writeCustomizationsValue)?tG.fromJSON(e.writeCustomizationsValue):void 0,translatorHypothesesComparisonEnabledValue:pq(e.translatorHypothesesComparisonEnabledValue)?pj.fromJSON(e.translatorHypothesesComparisonEnabledValue):void 0}),toJSON(e){const t={};return 0!==e.propertyName&&(t.propertyName=function(e){switch(e){case Dj.UNSPECIFIED:return"PROPERTY_NAME_UNSPECIFIED";case Dj.TRANSLATOR_SOURCE_LANGUAGES:return"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGES";case Dj.TRANSLATOR_TARGET_LANGUAGES:return"PROPERTY_NAME_TRANSLATOR_TARGET_LANGUAGES";case Dj.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_REQUESTED_SOURCE_LANGUAGE";case Dj.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_CALCULATED_SOURCE_LANGUAGE";case Dj.TRANSLATOR_REQUESTED_TARGET_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_REQUESTED_TARGET_LANGUAGE";case Dj.TRANSLATOR_FORMALITY_MODES:return"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODES";case Dj.TRANSLATOR_FORMALITY_MODE:return"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODE";case Dj.TRANSLATOR_GLOSSARY_SUPPORT:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUPPORT";case Dj.TRANSLATOR_GLOSSARY_LIST:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_LIST";case Dj.TRANSLATOR_TEXT_DIRECTION:return"PROPERTY_NAME_TRANSLATOR_TEXT_DIRECTION";case Dj.TRANSLATOR_GLOSSARY_SUGGESTIONS:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUGGESTIONS";case Dj.TRANSLATOR_MAXIMUM_TEXT_LENGTH:return"PROPERTY_NAME_TRANSLATOR_MAXIMUM_TEXT_LENGTH";case Dj.TRANSLATOR_LANGUAGE_MODELS:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODELS";case Dj.TRANSLATOR_LANGUAGE_MODEL:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL";case Dj.TRANSLATOR_GLOSSARY_ID:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_ID";case Dj.TRANSLATOR_CALCULATED_TARGET_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_CALCULATED_TARGET_LANGUAGE";case Dj.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE";case Dj.WRITE_LANGUAGES:return"PROPERTY_NAME_WRITE_LANGUAGES";case Dj.WRITE_REQUESTED_LANGUAGE:return"PROPERTY_NAME_WRITE_REQUESTED_LANGUAGE";case Dj.WRITE_CALCULATED_LANGUAGE:return"PROPERTY_NAME_WRITE_CALCULATED_LANGUAGE";case Dj.WRITE_STYLE_VARIANTS:return"PROPERTY_NAME_WRITE_STYLE_VARIANTS";case Dj.WRITE_STYLE_VARIANT:return"PROPERTY_NAME_WRITE_STYLE_VARIANT";case Dj.WRITE_GLOSSARY_ID:return"PROPERTY_NAME_WRITE_GLOSSARY_ID";case Dj.WRITE_GLOSSARY_LIST:return"PROPERTY_NAME_WRITE_GLOSSARY_LIST";case Dj.WRITE_GLOSSARY_SUPPORT:return"PROPERTY_NAME_WRITE_GLOSSARY_SUPPORT";case Dj.WRITE_MAXIMUM_TEXT_LENGTH:return"PROPERTY_NAME_WRITE_MAXIMUM_TEXT_LENGTH";case Dj.WRITE_UNSUPPORTED_LANGUAGE:return"PROPERTY_NAME_WRITE_UNSUPPORTED_LANGUAGE";case Dj.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS:return"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS";case Dj.WRITE_GLOSSARY_LANGUAGES:return"PROPERTY_NAME_WRITE_GLOSSARY_LANGUAGES";case Dj.WRITE_STYLE_GUIDE_SUPPORT:return"PROPERTY_NAME_WRITE_STYLE_GUIDE_SUPPORT";case Dj.WRITE_STYLE_GUIDE_ID:return"PROPERTY_NAME_WRITE_STYLE_GUIDE_ID";case Dj.WRITE_TEMPLATE_ADAPTATION_TEMPLATES:return"PROPERTY_NAME_WRITE_TEMPLATE_ADAPTATION_TEMPLATES";case Dj.TRANSLATOR_STYLE_GUIDE_SUPPORT:return"PROPERTY_NAME_TRANSLATOR_STYLE_GUIDE_SUPPORT";case Dj.TRANSLATOR_STYLE_GUIDE_ID:return"PROPERTY_NAME_TRANSLATOR_STYLE_GUIDE_ID";case Dj.TRANSLATOR_INTERFACE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_INTERFACE_LANGUAGE";case Dj.TRANSLATOR_LANGUAGE_MODEL_PREFERENCES:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL_PREFERENCES";case Dj.TRANSLATOR_FREE_TEXT_PROMPT_LIST:return"PROPERTY_NAME_TRANSLATOR_FREE_TEXT_PROMPT_LIST";case Dj.WRITE_FREE_TEXT_PROMPT_LIST:return"PROPERTY_NAME_WRITE_FREE_TEXT_PROMPT_LIST";case Dj.WRITE_INLINE_SUGGESTIONS_LOADING:return"PROPERTY_NAME_WRITE_INLINE_SUGGESTIONS_LOADING";case Dj.WRITE_CORRECTIONS_ONLY_SUPPORT:return"PROPERTY_NAME_WRITE_CORRECTIONS_ONLY_SUPPORT";case Dj.WRITE_CORRECTIONS_ONLY:return"PROPERTY_NAME_WRITE_CORRECTIONS_ONLY";case Dj.TRANSLATOR_RTF_SUPPORT:return"PROPERTY_NAME_TRANSLATOR_RTF_SUPPORT";case Dj.TRANSLATOR_STYLE_VARIANTS:return"PROPERTY_NAME_TRANSLATOR_STYLE_VARIANTS";case Dj.TRANSLATOR_STYLE_VARIANT:return"PROPERTY_NAME_TRANSLATOR_STYLE_VARIANT";case Dj.WRITE_TEXT_UNIT_ALTERNATIVES_SUPPORT:return"PROPERTY_NAME_WRITE_TEXT_UNIT_ALTERNATIVES_SUPPORT";case Dj.TRANSLATOR_TRANSLATION_MEMORY_LIST:return"PROPERTY_NAME_TRANSLATOR_TRANSLATION_MEMORY_LIST";case Dj.TRANSLATOR_SELECTED_TRANSLATION_MEMORY:return"PROPERTY_NAME_TRANSLATOR_SELECTED_TRANSLATION_MEMORY";case Dj.TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS:return"PROPERTY_NAME_TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS";case Dj.TRANSLATOR_CUSTOMIZATIONS:return"PROPERTY_NAME_TRANSLATOR_CUSTOMIZATIONS";case Dj.WRITE_CUSTOMIZATIONS:return"PROPERTY_NAME_WRITE_CUSTOMIZATIONS";case Dj.TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED:return"PROPERTY_NAME_TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum PropertyName")}}(e.propertyName)),void 0!==e.translatorSourceLanguagesValue&&(t.translatorSourceLanguagesValue=MF.toJSON(e.translatorSourceLanguagesValue)),void 0!==e.translatorTargetLanguagesValue&&(t.translatorTargetLanguagesValue=UF.toJSON(e.translatorTargetLanguagesValue)),void 0!==e.translatorRequestedSourceLanguageValue&&(t.translatorRequestedSourceLanguageValue=VF.toJSON(e.translatorRequestedSourceLanguageValue)),void 0!==e.translatorRequestedTargetLanguageValue&&(t.translatorRequestedTargetLanguageValue=FF.toJSON(e.translatorRequestedTargetLanguageValue)),void 0!==e.translatorFormalityModesValue&&(t.translatorFormalityModesValue=QF.toJSON(e.translatorFormalityModesValue)),void 0!==e.translatorFormalityModeValue&&(t.translatorFormalityModeValue=ZF.toJSON(e.translatorFormalityModeValue)),void 0!==e.translatorGlossarySupportValue&&(t.translatorGlossarySupportValue=WF.toJSON(e.translatorGlossarySupportValue)),void 0!==e.translatorGlossaryListValue&&(t.translatorGlossaryListValue=yj.toJSON(e.translatorGlossaryListValue)),void 0!==e.translatorTextDirectionValue&&(t.translatorTextDirectionValue=nj.toJSON(e.translatorTextDirectionValue)),void 0!==e.translatorCalculatedSourceLanguageValue&&(t.translatorCalculatedSourceLanguageValue=GF.toJSON(e.translatorCalculatedSourceLanguageValue)),void 0!==e.translatorMaximumTextLengthValue&&(t.translatorMaximumTextLengthValue=rj.toJSON(e.translatorMaximumTextLengthValue)),void 0!==e.translatorLanguageModelsValue&&(t.translatorLanguageModelsValue=ej.toJSON(e.translatorLanguageModelsValue)),void 0!==e.translatorLanguageModelValue&&(t.translatorLanguageModelValue=tj.toJSON(e.translatorLanguageModelValue)),void 0!==e.translatorGlossaryIdValue&&(t.translatorGlossaryIdValue=qF.toJSON(e.translatorGlossaryIdValue)),void 0!==e.translatorCalculatedTargetLanguageValue&&(t.translatorCalculatedTargetLanguageValue=jF.toJSON(e.translatorCalculatedTargetLanguageValue)),void 0!==e.translatorUnsupportedSourceLanguageValue&&(t.translatorUnsupportedSourceLanguageValue=oj.toJSON(e.translatorUnsupportedSourceLanguageValue)),void 0!==e.writeLanguagesValue&&(t.writeLanguagesValue=zV.toJSON(e.writeLanguagesValue)),void 0!==e.writeRequestedLanguageValue&&(t.writeRequestedLanguageValue=YV.toJSON(e.writeRequestedLanguageValue)),void 0!==e.writeCalculatedLanguageValue&&(t.writeCalculatedLanguageValue=XV.toJSON(e.writeCalculatedLanguageValue)),void 0!==e.writeStyleVariantsValue&&(t.writeStyleVariantsValue=rG.toJSON(e.writeStyleVariantsValue)),void 0!==e.writeStyleVariantValue&&(t.writeStyleVariantValue=oG.toJSON(e.writeStyleVariantValue)),void 0!==e.writeGlossaryIdValue&&(t.writeGlossaryIdValue=KV.toJSON(e.writeGlossaryIdValue)),void 0!==e.writeGlossaryListValue&&(t.writeGlossaryListValue=cG.toJSON(e.writeGlossaryListValue)),void 0!==e.writeGlossarySupportValue&&(t.writeGlossarySupportValue=uG.toJSON(e.writeGlossarySupportValue)),void 0!==e.writeMaximumTextLengthValue&&(t.writeMaximumTextLengthValue=nG.toJSON(e.writeMaximumTextLengthValue)),void 0!==e.writeUnsupportedLanguageValue&&(t.writeUnsupportedLanguageValue=iG.toJSON(e.writeUnsupportedLanguageValue)),void 0!==e.translatorSourceLanguageDetectionWeightsValue&&(t.translatorSourceLanguageDetectionWeightsValue=ij.toJSON(e.translatorSourceLanguageDetectionWeightsValue)),void 0!==e.writeGlossaryLanguagesValue&&(t.writeGlossaryLanguagesValue=WV.toJSON(e.writeGlossaryLanguagesValue)),void 0!==e.writeStyleGuideSupportValue&&(t.writeStyleGuideSupportValue=dG.toJSON(e.writeStyleGuideSupportValue)),void 0!==e.writeStyleGuideIdValue&&(t.writeStyleGuideIdValue=QV.toJSON(e.writeStyleGuideIdValue)),void 0!==e.writeTemplateAdaptationTemplatesValue&&(t.writeTemplateAdaptationTemplatesValue=AG.toJSON(e.writeTemplateAdaptationTemplatesValue)),void 0!==e.translatorStyleGuideSupportValue&&(t.translatorStyleGuideSupportValue=YF.toJSON(e.translatorStyleGuideSupportValue)),void 0!==e.translatorStyleGuideIdValue&&(t.translatorStyleGuideIdValue=BF.toJSON(e.translatorStyleGuideIdValue)),void 0!==e.interfaceLanguageValue&&(t.interfaceLanguageValue=HF.toJSON(e.interfaceLanguageValue)),void 0!==e.translatorLanguageModelPreferencesValue&&(t.translatorLanguageModelPreferencesValue=vj.toJSON(e.translatorLanguageModelPreferencesValue)),void 0!==e.translatorFreeTextPromptListValue&&(t.translatorFreeTextPromptListValue=JF.toJSON(e.translatorFreeTextPromptListValue)),void 0!==e.writeFreeTextPromptListValue&&(t.writeFreeTextPromptListValue=eG.toJSON(e.writeFreeTextPromptListValue)),void 0!==e.writeInlineSuggestionsLoadingValue&&(t.writeInlineSuggestionsLoadingValue=aG.toJSON(e.writeInlineSuggestionsLoadingValue)),void 0!==e.writeCorrectionsOnlySupportValue&&(t.writeCorrectionsOnlySupportValue=pG.toJSON(e.writeCorrectionsOnlySupportValue)),void 0!==e.writeCorrectionsOnlyValue&&(t.writeCorrectionsOnlyValue=ZV.toJSON(e.writeCorrectionsOnlyValue)),void 0!==e.translatorRtfSupportValue&&(t.translatorRtfSupportValue=XF.toJSON(e.translatorRtfSupportValue)),void 0!==e.translatorStyleVariantsValue&&(t.translatorStyleVariantsValue=aj.toJSON(e.translatorStyleVariantsValue)),void 0!==e.translatorStyleVariantValue&&(t.translatorStyleVariantValue=sj.toJSON(e.translatorStyleVariantValue)),void 0!==e.writeTextUnitAlternativesSupportValue&&(t.writeTextUnitAlternativesSupportValue=fG.toJSON(e.writeTextUnitAlternativesSupportValue)),void 0!==e.translatorTranslationMemoryListValue&&(t.translatorTranslationMemoryListValue=lj.toJSON(e.translatorTranslationMemoryListValue)),void 0!==e.translatorSelectedTranslationMemoryValue&&(t.translatorSelectedTranslationMemoryValue=uj.toJSON(e.translatorSelectedTranslationMemoryValue)),void 0!==e.translatorRephraseTargetTextStatusValue&&(t.translatorRephraseTargetTextStatusValue=dj.toJSON(e.translatorRephraseTargetTextStatusValue)),void 0!==e.translatorCustomizationsValue&&(t.translatorCustomizationsValue=zF.toJSON(e.translatorCustomizationsValue)),void 0!==e.writeCustomizationsValue&&(t.writeCustomizationsValue=tG.toJSON(e.writeCustomizationsValue)),void 0!==e.translatorHypothesesComparisonEnabledValue&&(t.translatorHypothesesComparisonEnabledValue=pj.toJSON(e.translatorHypothesesComparisonEnabledValue)),t},create:e=>Hj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",propertyName:0,translatorSourceLanguagesValue:void 0,translatorTargetLanguagesValue:void 0,translatorRequestedSourceLanguageValue:void 0,translatorRequestedTargetLanguageValue:void 0,translatorFormalityModesValue:void 0,translatorFormalityModeValue:void 0,translatorGlossarySupportValue:void 0,translatorGlossaryListValue:void 0,translatorTextDirectionValue:void 0,translatorCalculatedSourceLanguageValue:void 0,translatorMaximumTextLengthValue:void 0,translatorLanguageModelsValue:void 0,translatorLanguageModelValue:void 0,translatorGlossaryIdValue:void 0,translatorCalculatedTargetLanguageValue:void 0,translatorUnsupportedSourceLanguageValue:void 0,writeLanguagesValue:void 0,writeRequestedLanguageValue:void 0,writeCalculatedLanguageValue:void 0,writeStyleVariantsValue:void 0,writeStyleVariantValue:void 0,writeGlossaryIdValue:void 0,writeGlossaryListValue:void 0,writeGlossarySupportValue:void 0,writeMaximumTextLengthValue:void 0,writeUnsupportedLanguageValue:void 0,translatorSourceLanguageDetectionWeightsValue:void 0,writeGlossaryLanguagesValue:void 0,writeStyleGuideSupportValue:void 0,writeStyleGuideIdValue:void 0,writeTemplateAdaptationTemplatesValue:void 0,translatorStyleGuideSupportValue:void 0,translatorStyleGuideIdValue:void 0,interfaceLanguageValue:void 0,translatorLanguageModelPreferencesValue:void 0,translatorFreeTextPromptListValue:void 0,writeFreeTextPromptListValue:void 0,writeInlineSuggestionsLoadingValue:void 0,writeCorrectionsOnlySupportValue:void 0,writeCorrectionsOnlyValue:void 0,translatorRtfSupportValue:void 0,translatorStyleVariantsValue:void 0,translatorStyleVariantValue:void 0,writeTextUnitAlternativesSupportValue:void 0,translatorTranslationMemoryListValue:void 0,translatorSelectedTranslationMemoryValue:void 0,translatorRephraseTargetTextStatusValue:void 0,translatorCustomizationsValue:void 0,writeCustomizationsValue:void 0,translatorHypothesesComparisonEnabledValue:void 0};return n.propertyName=null!==(t=e.propertyName)&&void 0!==t?t:0,n.translatorSourceLanguagesValue=void 0!==e.translatorSourceLanguagesValue&&null!==e.translatorSourceLanguagesValue?MF.fromPartial(e.translatorSourceLanguagesValue):void 0,n.translatorTargetLanguagesValue=void 0!==e.translatorTargetLanguagesValue&&null!==e.translatorTargetLanguagesValue?UF.fromPartial(e.translatorTargetLanguagesValue):void 0,n.translatorRequestedSourceLanguageValue=void 0!==e.translatorRequestedSourceLanguageValue&&null!==e.translatorRequestedSourceLanguageValue?VF.fromPartial(e.translatorRequestedSourceLanguageValue):void 0,n.translatorRequestedTargetLanguageValue=void 0!==e.translatorRequestedTargetLanguageValue&&null!==e.translatorRequestedTargetLanguageValue?FF.fromPartial(e.translatorRequestedTargetLanguageValue):void 0,n.translatorFormalityModesValue=void 0!==e.translatorFormalityModesValue&&null!==e.translatorFormalityModesValue?QF.fromPartial(e.translatorFormalityModesValue):void 0,n.translatorFormalityModeValue=void 0!==e.translatorFormalityModeValue&&null!==e.translatorFormalityModeValue?ZF.fromPartial(e.translatorFormalityModeValue):void 0,n.translatorGlossarySupportValue=void 0!==e.translatorGlossarySupportValue&&null!==e.translatorGlossarySupportValue?WF.fromPartial(e.translatorGlossarySupportValue):void 0,n.translatorGlossaryListValue=void 0!==e.translatorGlossaryListValue&&null!==e.translatorGlossaryListValue?yj.fromPartial(e.translatorGlossaryListValue):void 0,n.translatorTextDirectionValue=void 0!==e.translatorTextDirectionValue&&null!==e.translatorTextDirectionValue?nj.fromPartial(e.translatorTextDirectionValue):void 0,n.translatorCalculatedSourceLanguageValue=void 0!==e.translatorCalculatedSourceLanguageValue&&null!==e.translatorCalculatedSourceLanguageValue?GF.fromPartial(e.translatorCalculatedSourceLanguageValue):void 0,n.translatorMaximumTextLengthValue=void 0!==e.translatorMaximumTextLengthValue&&null!==e.translatorMaximumTextLengthValue?rj.fromPartial(e.translatorMaximumTextLengthValue):void 0,n.translatorLanguageModelsValue=void 0!==e.translatorLanguageModelsValue&&null!==e.translatorLanguageModelsValue?ej.fromPartial(e.translatorLanguageModelsValue):void 0,n.translatorLanguageModelValue=void 0!==e.translatorLanguageModelValue&&null!==e.translatorLanguageModelValue?tj.fromPartial(e.translatorLanguageModelValue):void 0,n.translatorGlossaryIdValue=void 0!==e.translatorGlossaryIdValue&&null!==e.translatorGlossaryIdValue?qF.fromPartial(e.translatorGlossaryIdValue):void 0,n.translatorCalculatedTargetLanguageValue=void 0!==e.translatorCalculatedTargetLanguageValue&&null!==e.translatorCalculatedTargetLanguageValue?jF.fromPartial(e.translatorCalculatedTargetLanguageValue):void 0,n.translatorUnsupportedSourceLanguageValue=void 0!==e.translatorUnsupportedSourceLanguageValue&&null!==e.translatorUnsupportedSourceLanguageValue?oj.fromPartial(e.translatorUnsupportedSourceLanguageValue):void 0,n.writeLanguagesValue=void 0!==e.writeLanguagesValue&&null!==e.writeLanguagesValue?zV.fromPartial(e.writeLanguagesValue):void 0,n.writeRequestedLanguageValue=void 0!==e.writeRequestedLanguageValue&&null!==e.writeRequestedLanguageValue?YV.fromPartial(e.writeRequestedLanguageValue):void 0,n.writeCalculatedLanguageValue=void 0!==e.writeCalculatedLanguageValue&&null!==e.writeCalculatedLanguageValue?XV.fromPartial(e.writeCalculatedLanguageValue):void 0,n.writeStyleVariantsValue=void 0!==e.writeStyleVariantsValue&&null!==e.writeStyleVariantsValue?rG.fromPartial(e.writeStyleVariantsValue):void 0,n.writeStyleVariantValue=void 0!==e.writeStyleVariantValue&&null!==e.writeStyleVariantValue?oG.fromPartial(e.writeStyleVariantValue):void 0,n.writeGlossaryIdValue=void 0!==e.writeGlossaryIdValue&&null!==e.writeGlossaryIdValue?KV.fromPartial(e.writeGlossaryIdValue):void 0,n.writeGlossaryListValue=void 0!==e.writeGlossaryListValue&&null!==e.writeGlossaryListValue?cG.fromPartial(e.writeGlossaryListValue):void 0,n.writeGlossarySupportValue=void 0!==e.writeGlossarySupportValue&&null!==e.writeGlossarySupportValue?uG.fromPartial(e.writeGlossarySupportValue):void 0,n.writeMaximumTextLengthValue=void 0!==e.writeMaximumTextLengthValue&&null!==e.writeMaximumTextLengthValue?nG.fromPartial(e.writeMaximumTextLengthValue):void 0,n.writeUnsupportedLanguageValue=void 0!==e.writeUnsupportedLanguageValue&&null!==e.writeUnsupportedLanguageValue?iG.fromPartial(e.writeUnsupportedLanguageValue):void 0,n.translatorSourceLanguageDetectionWeightsValue=void 0!==e.translatorSourceLanguageDetectionWeightsValue&&null!==e.translatorSourceLanguageDetectionWeightsValue?ij.fromPartial(e.translatorSourceLanguageDetectionWeightsValue):void 0,n.writeGlossaryLanguagesValue=void 0!==e.writeGlossaryLanguagesValue&&null!==e.writeGlossaryLanguagesValue?WV.fromPartial(e.writeGlossaryLanguagesValue):void 0,n.writeStyleGuideSupportValue=void 0!==e.writeStyleGuideSupportValue&&null!==e.writeStyleGuideSupportValue?dG.fromPartial(e.writeStyleGuideSupportValue):void 0,n.writeStyleGuideIdValue=void 0!==e.writeStyleGuideIdValue&&null!==e.writeStyleGuideIdValue?QV.fromPartial(e.writeStyleGuideIdValue):void 0,n.writeTemplateAdaptationTemplatesValue=void 0!==e.writeTemplateAdaptationTemplatesValue&&null!==e.writeTemplateAdaptationTemplatesValue?AG.fromPartial(e.writeTemplateAdaptationTemplatesValue):void 0,n.translatorStyleGuideSupportValue=void 0!==e.translatorStyleGuideSupportValue&&null!==e.translatorStyleGuideSupportValue?YF.fromPartial(e.translatorStyleGuideSupportValue):void 0,n.translatorStyleGuideIdValue=void 0!==e.translatorStyleGuideIdValue&&null!==e.translatorStyleGuideIdValue?BF.fromPartial(e.translatorStyleGuideIdValue):void 0,n.interfaceLanguageValue=void 0!==e.interfaceLanguageValue&&null!==e.interfaceLanguageValue?HF.fromPartial(e.interfaceLanguageValue):void 0,n.translatorLanguageModelPreferencesValue=void 0!==e.translatorLanguageModelPreferencesValue&&null!==e.translatorLanguageModelPreferencesValue?vj.fromPartial(e.translatorLanguageModelPreferencesValue):void 0,n.translatorFreeTextPromptListValue=void 0!==e.translatorFreeTextPromptListValue&&null!==e.translatorFreeTextPromptListValue?JF.fromPartial(e.translatorFreeTextPromptListValue):void 0,n.writeFreeTextPromptListValue=void 0!==e.writeFreeTextPromptListValue&&null!==e.writeFreeTextPromptListValue?eG.fromPartial(e.writeFreeTextPromptListValue):void 0,n.writeInlineSuggestionsLoadingValue=void 0!==e.writeInlineSuggestionsLoadingValue&&null!==e.writeInlineSuggestionsLoadingValue?aG.fromPartial(e.writeInlineSuggestionsLoadingValue):void 0,n.writeCorrectionsOnlySupportValue=void 0!==e.writeCorrectionsOnlySupportValue&&null!==e.writeCorrectionsOnlySupportValue?pG.fromPartial(e.writeCorrectionsOnlySupportValue):void 0,n.writeCorrectionsOnlyValue=void 0!==e.writeCorrectionsOnlyValue&&null!==e.writeCorrectionsOnlyValue?ZV.fromPartial(e.writeCorrectionsOnlyValue):void 0,n.translatorRtfSupportValue=void 0!==e.translatorRtfSupportValue&&null!==e.translatorRtfSupportValue?XF.fromPartial(e.translatorRtfSupportValue):void 0,n.translatorStyleVariantsValue=void 0!==e.translatorStyleVariantsValue&&null!==e.translatorStyleVariantsValue?aj.fromPartial(e.translatorStyleVariantsValue):void 0,n.translatorStyleVariantValue=void 0!==e.translatorStyleVariantValue&&null!==e.translatorStyleVariantValue?sj.fromPartial(e.translatorStyleVariantValue):void 0,n.writeTextUnitAlternativesSupportValue=void 0!==e.writeTextUnitAlternativesSupportValue&&null!==e.writeTextUnitAlternativesSupportValue?fG.fromPartial(e.writeTextUnitAlternativesSupportValue):void 0,n.translatorTranslationMemoryListValue=void 0!==e.translatorTranslationMemoryListValue&&null!==e.translatorTranslationMemoryListValue?lj.fromPartial(e.translatorTranslationMemoryListValue):void 0,n.translatorSelectedTranslationMemoryValue=void 0!==e.translatorSelectedTranslationMemoryValue&&null!==e.translatorSelectedTranslationMemoryValue?uj.fromPartial(e.translatorSelectedTranslationMemoryValue):void 0,n.translatorRephraseTargetTextStatusValue=void 0!==e.translatorRephraseTargetTextStatusValue&&null!==e.translatorRephraseTargetTextStatusValue?dj.fromPartial(e.translatorRephraseTargetTextStatusValue):void 0,n.translatorCustomizationsValue=void 0!==e.translatorCustomizationsValue&&null!==e.translatorCustomizationsValue?zF.fromPartial(e.translatorCustomizationsValue):void 0,n.writeCustomizationsValue=void 0!==e.writeCustomizationsValue&&null!==e.writeCustomizationsValue?tG.fromPartial(e.writeCustomizationsValue):void 0,n.translatorHypothesesComparisonEnabledValue=void 0!==e.translatorHypothesesComparisonEnabledValue&&null!==e.translatorHypothesesComparisonEnabledValue?pj.fromPartial(e.translatorHypothesesComparisonEnabledValue):void 0,n}};const Jj={$type:"deepl.pb.interactive_text_api.StartSessionRequest",encode:(e,t=new tV)=>(0!==e.sessionMode&&t.uint32(8).int32(e.sessionMode),void 0!==e.baseDocument&&lq.encode(e.baseDocument,t.uint32(18).fork()).join(),void 0!==e.translatorSessionOptions&&fj.encode(e.translatorSessionOptions,t.uint32(26).fork()).join(),void 0!==e.appInformation&&rq.encode(e.appInformation,t.uint32(34).fork()).join(),void 0!==e.previousSessionId&&oq.encode(e.previousSessionId,t.uint32(42).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.StartSessionRequest",sessionMode:0,baseDocument:void 0,translatorSessionOptions:void 0,appInformation:void 0,previousSessionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.sessionMode=n.int32();continue;case 2:if(18!==e)break;o.baseDocument=lq.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.translatorSessionOptions=fj.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.appInformation=rq.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.previousSessionId=oq.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Jj.$type,sessionMode:pq(e.sessionMode)?Fj(e.sessionMode):0,baseDocument:pq(e.baseDocument)?lq.fromJSON(e.baseDocument):void 0,translatorSessionOptions:pq(e.translatorSessionOptions)?fj.fromJSON(e.translatorSessionOptions):void 0,appInformation:pq(e.appInformation)?rq.fromJSON(e.appInformation):void 0,previousSessionId:pq(e.previousSessionId)?oq.fromJSON(e.previousSessionId):void 0}),toJSON(e){const t={};return 0!==e.sessionMode&&(t.sessionMode=function(e){switch(e){case Mj.UNSPECIFIED:return"SESSION_MODE_UNSPECIFIED";case Mj.TRANSLATOR:return"SESSION_MODE_TRANSLATOR";case Mj.WRITE:return"SESSION_MODE_WRITE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionMode")}}(e.sessionMode)),void 0!==e.baseDocument&&(t.baseDocument=lq.toJSON(e.baseDocument)),void 0!==e.translatorSessionOptions&&(t.translatorSessionOptions=fj.toJSON(e.translatorSessionOptions)),void 0!==e.appInformation&&(t.appInformation=rq.toJSON(e.appInformation)),void 0!==e.previousSessionId&&(t.previousSessionId=oq.toJSON(e.previousSessionId)),t},create:e=>Jj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.StartSessionRequest",sessionMode:0,baseDocument:void 0,translatorSessionOptions:void 0,appInformation:void 0,previousSessionId:void 0};return n.sessionMode=null!==(t=e.sessionMode)&&void 0!==t?t:0,n.baseDocument=void 0!==e.baseDocument&&null!==e.baseDocument?lq.fromPartial(e.baseDocument):void 0,n.translatorSessionOptions=void 0!==e.translatorSessionOptions&&null!==e.translatorSessionOptions?fj.fromPartial(e.translatorSessionOptions):void 0,n.appInformation=void 0!==e.appInformation&&null!==e.appInformation?rq.fromPartial(e.appInformation):void 0,n.previousSessionId=void 0!==e.previousSessionId&&null!==e.previousSessionId?oq.fromPartial(e.previousSessionId):void 0,n}};const zj={$type:"deepl.pb.interactive_text_api.StartSessionResponse",encode:(e,t=new tV)=>(void 0!==e.sessionId&&oq.encode(e.sessionId,t.uint32(10).fork()).join(),void 0!==e.participantId&&sq.encode(e.participantId,t.uint32(18).fork()).join(),""!==e.sessionToken&&t.uint32(26).string(e.sessionToken),void 0!==e.versionRemovedAt&&lV.encode(function(e){const t=Math.trunc(e.getTime()/1e3),n=e.getTime()%1e3*1e6;return{$type:"google.protobuf.Timestamp",seconds:t,nanos:n}}(e.versionRemovedAt),t.uint32(34).fork()).join(),void 0!==e.signalrEndpoint&&t.uint32(42).string(e.signalrEndpoint),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.StartSessionResponse",sessionId:void 0,participantId:void 0,sessionToken:"",versionRemovedAt:void 0,signalrEndpoint:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sessionId=oq.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.participantId=sq.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.sessionToken=n.string();continue;case 4:if(34!==e)break;o.versionRemovedAt=uq(lV.decode(n,n.uint32()));continue;case 5:if(42!==e)break;o.signalrEndpoint=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zj.$type,sessionId:pq(e.sessionId)?oq.fromJSON(e.sessionId):void 0,participantId:pq(e.participantId)?sq.fromJSON(e.participantId):void 0,sessionToken:pq(e.sessionToken)?globalThis.String(e.sessionToken):"",versionRemovedAt:pq(e.versionRemovedAt)?dq(e.versionRemovedAt):void 0,signalrEndpoint:pq(e.signalrEndpoint)?globalThis.String(e.signalrEndpoint):void 0}),toJSON(e){const t={};return void 0!==e.sessionId&&(t.sessionId=oq.toJSON(e.sessionId)),void 0!==e.participantId&&(t.participantId=sq.toJSON(e.participantId)),""!==e.sessionToken&&(t.sessionToken=e.sessionToken),void 0!==e.versionRemovedAt&&(t.versionRemovedAt=e.versionRemovedAt.toISOString()),void 0!==e.signalrEndpoint&&(t.signalrEndpoint=e.signalrEndpoint),t},create:e=>zj.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.StartSessionResponse",sessionId:void 0,participantId:void 0,sessionToken:"",versionRemovedAt:void 0,signalrEndpoint:void 0};return o.sessionId=void 0!==e.sessionId&&null!==e.sessionId?oq.fromPartial(e.sessionId):void 0,o.participantId=void 0!==e.participantId&&null!==e.participantId?sq.fromPartial(e.participantId):void 0,o.sessionToken=null!==(t=e.sessionToken)&&void 0!==t?t:"",o.versionRemovedAt=null!==(n=e.versionRemovedAt)&&void 0!==n?n:void 0,o.signalrEndpoint=null!==(r=e.signalrEndpoint)&&void 0!==r?r:void 0,o}};const Wj={$type:"deepl.pb.interactive_text_api.ParticipantRequest",encode:(e,t=new tV)=>(void 0!==e.appendMessage&&tq.encode(e.appendMessage,t.uint32(10).fork()).join(),void 0!==e.updateAuthenticationTokenMessage&&nq.encode(e.updateAuthenticationTokenMessage,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantRequest",appendMessage:void 0,updateAuthenticationTokenMessage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.appendMessage=tq.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.updateAuthenticationTokenMessage=nq.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Wj.$type,appendMessage:pq(e.appendMessage)?tq.fromJSON(e.appendMessage):void 0,updateAuthenticationTokenMessage:pq(e.updateAuthenticationTokenMessage)?nq.fromJSON(e.updateAuthenticationTokenMessage):void 0}),toJSON(e){const t={};return void 0!==e.appendMessage&&(t.appendMessage=tq.toJSON(e.appendMessage)),void 0!==e.updateAuthenticationTokenMessage&&(t.updateAuthenticationTokenMessage=nq.toJSON(e.updateAuthenticationTokenMessage)),t},create:e=>Wj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ParticipantRequest",appendMessage:void 0,updateAuthenticationTokenMessage:void 0};return t.appendMessage=void 0!==e.appendMessage&&null!==e.appendMessage?tq.fromPartial(e.appendMessage):void 0,t.updateAuthenticationTokenMessage=void 0!==e.updateAuthenticationTokenMessage&&null!==e.updateAuthenticationTokenMessage?nq.fromPartial(e.updateAuthenticationTokenMessage):void 0,t}};const Yj={$type:"deepl.pb.interactive_text_api.ParticipantResponse",encode:(e,t=new tV)=>(void 0!==e.confirmedMessage&&Xj.encode(e.confirmedMessage,t.uint32(10).fork()).join(),void 0!==e.initializedMessage&&Kj.encode(e.initializedMessage,t.uint32(18).fork()).join(),void 0!==e.publishedMessage&&Qj.encode(e.publishedMessage,t.uint32(26).fork()).join(),void 0!==e.metaInfoMessage&&Zj.encode(e.metaInfoMessage,t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantResponse",confirmedMessage:void 0,initializedMessage:void 0,publishedMessage:void 0,metaInfoMessage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.confirmedMessage=Xj.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.initializedMessage=Kj.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.publishedMessage=Qj.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.metaInfoMessage=Zj.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Yj.$type,confirmedMessage:pq(e.confirmedMessage)?Xj.fromJSON(e.confirmedMessage):void 0,initializedMessage:pq(e.initializedMessage)?Kj.fromJSON(e.initializedMessage):void 0,publishedMessage:pq(e.publishedMessage)?Qj.fromJSON(e.publishedMessage):void 0,metaInfoMessage:pq(e.metaInfoMessage)?Zj.fromJSON(e.metaInfoMessage):void 0}),toJSON(e){const t={};return void 0!==e.confirmedMessage&&(t.confirmedMessage=Xj.toJSON(e.confirmedMessage)),void 0!==e.initializedMessage&&(t.initializedMessage=Kj.toJSON(e.initializedMessage)),void 0!==e.publishedMessage&&(t.publishedMessage=Qj.toJSON(e.publishedMessage)),void 0!==e.metaInfoMessage&&(t.metaInfoMessage=Zj.toJSON(e.metaInfoMessage)),t},create:e=>Yj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ParticipantResponse",confirmedMessage:void 0,initializedMessage:void 0,publishedMessage:void 0,metaInfoMessage:void 0};return t.confirmedMessage=void 0!==e.confirmedMessage&&null!==e.confirmedMessage?Xj.fromPartial(e.confirmedMessage):void 0,t.initializedMessage=void 0!==e.initializedMessage&&null!==e.initializedMessage?Kj.fromPartial(e.initializedMessage):void 0,t.publishedMessage=void 0!==e.publishedMessage&&null!==e.publishedMessage?Qj.fromPartial(e.publishedMessage):void 0,t.metaInfoMessage=void 0!==e.metaInfoMessage&&null!==e.metaInfoMessage?Zj.fromPartial(e.metaInfoMessage):void 0,t}};const Xj={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",encode:(e,t=new tV)=>(void 0!==e.currentVersion&&iq.encode(e.currentVersion,t.uint32(10).fork()).join(),void 0!==e.throttlingDelay&&iV.encode(e.throttlingDelay,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",currentVersion:void 0,throttlingDelay:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.currentVersion=iq.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.throttlingDelay=iV.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Xj.$type,currentVersion:pq(e.currentVersion)?iq.fromJSON(e.currentVersion):void 0,throttlingDelay:pq(e.throttlingDelay)?iV.fromJSON(e.throttlingDelay):void 0}),toJSON(e){const t={};return void 0!==e.currentVersion&&(t.currentVersion=iq.toJSON(e.currentVersion)),void 0!==e.throttlingDelay&&(t.throttlingDelay=iV.toJSON(e.throttlingDelay)),t},create:e=>Xj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",currentVersion:void 0,throttlingDelay:void 0};return t.currentVersion=void 0!==e.currentVersion&&null!==e.currentVersion?iq.fromPartial(e.currentVersion):void 0,t.throttlingDelay=void 0!==e.throttlingDelay&&null!==e.throttlingDelay?iV.fromPartial(e.throttlingDelay):void 0,t}};const Kj={$type:"deepl.pb.interactive_text_api.InitializedMessage",encode:(e,t=new tV)=>t,decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.InitializedMessage"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Kj.$type}),toJSON:e=>({}),create:e=>Kj.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.InitializedMessage"})};const Qj={$type:"deepl.pb.interactive_text_api.PublishedMessage",encode(e,t=new tV){for(const n of e.events)aq.encode(n,t.uint32(10).fork()).join();return void 0!==e.currentVersion&&iq.encode(e.currentVersion,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.PublishedMessage",events:[],currentVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.events.push(aq.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.currentVersion=iq.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Qj.$type,events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map((e=>aq.fromJSON(e))):[],currentVersion:pq(e.currentVersion)?iq.fromJSON(e.currentVersion):void 0}),toJSON(e){var t;const n={};return(null===(t=e.events)||void 0===t?void 0:t.length)&&(n.events=e.events.map((e=>aq.toJSON(e)))),void 0!==e.currentVersion&&(n.currentVersion=iq.toJSON(e.currentVersion)),n},create:e=>Qj.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.PublishedMessage",events:[],currentVersion:void 0};return n.events=(null===(t=e.events)||void 0===t?void 0:t.map((e=>aq.fromPartial(e))))||[],n.currentVersion=void 0!==e.currentVersion&&null!==e.currentVersion?iq.fromPartial(e.currentVersion):void 0,n}};const Zj={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",encode:(e,t=new tV)=>(void 0!==e.idle&&eq.encode(e.idle,t.uint32(10).fork()).join(),void 0!==e.translatorTaskMetaInfo&&KF.encode(e.translatorTaskMetaInfo,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",idle:void 0,translatorTaskMetaInfo:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.idle=eq.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.translatorTaskMetaInfo=KF.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:Zj.$type,idle:pq(e.idle)?eq.fromJSON(e.idle):void 0,translatorTaskMetaInfo:pq(e.translatorTaskMetaInfo)?KF.fromJSON(e.translatorTaskMetaInfo):void 0}),toJSON(e){const t={};return void 0!==e.idle&&(t.idle=eq.toJSON(e.idle)),void 0!==e.translatorTaskMetaInfo&&(t.translatorTaskMetaInfo=KF.toJSON(e.translatorTaskMetaInfo)),t},create:e=>Zj.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",idle:void 0,translatorTaskMetaInfo:void 0};return t.idle=void 0!==e.idle&&null!==e.idle?eq.fromPartial(e.idle):void 0,t.translatorTaskMetaInfo=void 0!==e.translatorTaskMetaInfo&&null!==e.translatorTaskMetaInfo?KF.fromPartial(e.translatorTaskMetaInfo):void 0,t}};const eq={$type:"deepl.pb.interactive_text_api.Idle",encode:(e,t=new tV)=>(void 0!==e.eventVersion&&iq.encode(e.eventVersion,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.Idle",eventVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.eventVersion=iq.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:eq.$type,eventVersion:pq(e.eventVersion)?iq.fromJSON(e.eventVersion):void 0}),toJSON(e){const t={};return void 0!==e.eventVersion&&(t.eventVersion=iq.toJSON(e.eventVersion)),t},create:e=>eq.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.Idle",eventVersion:void 0};return t.eventVersion=void 0!==e.eventVersion&&null!==e.eventVersion?iq.fromPartial(e.eventVersion):void 0,t}};const tq={$type:"deepl.pb.interactive_text_api.AppendMessage",encode(e,t=new tV){for(const n of e.events)aq.encode(n,t.uint32(10).fork()).join();return void 0!==e.baseVersion&&iq.encode(e.baseVersion,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AppendMessage",events:[],baseVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.events.push(aq.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.baseVersion=iq.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:tq.$type,events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map((e=>aq.fromJSON(e))):[],baseVersion:pq(e.baseVersion)?iq.fromJSON(e.baseVersion):void 0}),toJSON(e){var t;const n={};return(null===(t=e.events)||void 0===t?void 0:t.length)&&(n.events=e.events.map((e=>aq.toJSON(e)))),void 0!==e.baseVersion&&(n.baseVersion=iq.toJSON(e.baseVersion)),n},create:e=>tq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.AppendMessage",events:[],baseVersion:void 0};return n.events=(null===(t=e.events)||void 0===t?void 0:t.map((e=>aq.fromPartial(e))))||[],n.baseVersion=void 0!==e.baseVersion&&null!==e.baseVersion?iq.fromPartial(e.baseVersion):void 0,n}};const nq={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",encode:(e,t=new tV)=>(""!==e.token&&t.uint32(10).string(e.token),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",token:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.token=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:nq.$type,token:pq(e.token)?globalThis.String(e.token):""}),toJSON(e){const t={};return""!==e.token&&(t.token=e.token),t},create:e=>nq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",token:""};return n.token=null!==(t=e.token)&&void 0!==t?t:"",n}};const rq={$type:"deepl.pb.interactive_text_api.AppInformation",encode:(e,t=new tV)=>(""!==e.os&&t.uint32(10).string(e.os),""!==e.osVersion&&t.uint32(18).string(e.osVersion),""!==e.appVersion&&t.uint32(26).string(e.appVersion),""!==e.appBuild&&t.uint32(34).string(e.appBuild),""!==e.instanceId&&t.uint32(42).string(e.instanceId),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AppInformation",os:"",osVersion:"",appVersion:"",appBuild:"",instanceId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.os=n.string();continue;case 2:if(18!==e)break;o.osVersion=n.string();continue;case 3:if(26!==e)break;o.appVersion=n.string();continue;case 4:if(34!==e)break;o.appBuild=n.string();continue;case 5:if(42!==e)break;o.instanceId=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:rq.$type,os:pq(e.os)?globalThis.String(e.os):"",osVersion:pq(e.osVersion)?globalThis.String(e.osVersion):"",appVersion:pq(e.appVersion)?globalThis.String(e.appVersion):"",appBuild:pq(e.appBuild)?globalThis.String(e.appBuild):"",instanceId:pq(e.instanceId)?globalThis.String(e.instanceId):""}),toJSON(e){const t={};return""!==e.os&&(t.os=e.os),""!==e.osVersion&&(t.osVersion=e.osVersion),""!==e.appVersion&&(t.appVersion=e.appVersion),""!==e.appBuild&&(t.appBuild=e.appBuild),""!==e.instanceId&&(t.instanceId=e.instanceId),t},create:e=>rq.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const a={$type:"deepl.pb.interactive_text_api.AppInformation",os:"",osVersion:"",appVersion:"",appBuild:"",instanceId:""};return a.os=null!==(t=e.os)&&void 0!==t?t:"",a.osVersion=null!==(n=e.osVersion)&&void 0!==n?n:"",a.appVersion=null!==(r=e.appVersion)&&void 0!==r?r:"",a.appBuild=null!==(o=e.appBuild)&&void 0!==o?o:"",a.instanceId=null!==(i=e.instanceId)&&void 0!==i?i:"",a}};const oq={$type:"deepl.pb.interactive_text_api.SessionId",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.SessionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oq.$type,value:pq(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>oq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.SessionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const iq={$type:"deepl.pb.interactive_text_api.EventVersion",encode:(e,t=new tV)=>(void 0!==e.version&&dV.encode({$type:"google.protobuf.Int32Value",value:e.version},t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.EventVersion",version:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.version=dV.decode(n,n.uint32()).value;continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:iq.$type,version:pq(e.version)?Number(e.version):void 0}),toJSON(e){const t={};return void 0!==e.version&&(t.version=e.version),t},create:e=>iq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.EventVersion",version:void 0};return n.version=null!==(t=e.version)&&void 0!==t?t:void 0,n}};const aq={$type:"deepl.pb.interactive_text_api.FieldEvent",encode:(e,t=new tV)=>(0!==e.fieldName&&t.uint32(8).int32(e.fieldName),void 0!==e.textChangeOperation&&jj.encode(e.textChangeOperation,t.uint32(18).fork()).join(),void 0!==e.createAnnotationOperation&&qj.encode(e.createAnnotationOperation,t.uint32(26).fork()).join(),void 0!==e.removeAnnotationOperation&&Bj.encode(e.removeAnnotationOperation,t.uint32(34).fork()).join(),void 0!==e.setPropertyOperation&&Hj.encode(e.setPropertyOperation,t.uint32(42).fork()).join(),void 0!==e.participantId&&sq.encode(e.participantId,t.uint32(50).fork()).join(),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.FieldEvent",fieldName:0,textChangeOperation:void 0,createAnnotationOperation:void 0,removeAnnotationOperation:void 0,setPropertyOperation:void 0,participantId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fieldName=n.int32();continue;case 2:if(18!==e)break;o.textChangeOperation=jj.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.createAnnotationOperation=qj.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.removeAnnotationOperation=Bj.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.setPropertyOperation=Hj.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.participantId=sq.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:aq.$type,fieldName:pq(e.fieldName)?Uj(e.fieldName):0,textChangeOperation:pq(e.textChangeOperation)?jj.fromJSON(e.textChangeOperation):void 0,createAnnotationOperation:pq(e.createAnnotationOperation)?qj.fromJSON(e.createAnnotationOperation):void 0,removeAnnotationOperation:pq(e.removeAnnotationOperation)?Bj.fromJSON(e.removeAnnotationOperation):void 0,setPropertyOperation:pq(e.setPropertyOperation)?Hj.fromJSON(e.setPropertyOperation):void 0,participantId:pq(e.participantId)?sq.fromJSON(e.participantId):void 0}),toJSON(e){const t={};return 0!==e.fieldName&&(t.fieldName=Vj(e.fieldName)),void 0!==e.textChangeOperation&&(t.textChangeOperation=jj.toJSON(e.textChangeOperation)),void 0!==e.createAnnotationOperation&&(t.createAnnotationOperation=qj.toJSON(e.createAnnotationOperation)),void 0!==e.removeAnnotationOperation&&(t.removeAnnotationOperation=Bj.toJSON(e.removeAnnotationOperation)),void 0!==e.setPropertyOperation&&(t.setPropertyOperation=Hj.toJSON(e.setPropertyOperation)),void 0!==e.participantId&&(t.participantId=sq.toJSON(e.participantId)),t},create:e=>aq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.FieldEvent",fieldName:0,textChangeOperation:void 0,createAnnotationOperation:void 0,removeAnnotationOperation:void 0,setPropertyOperation:void 0,participantId:void 0};return n.fieldName=null!==(t=e.fieldName)&&void 0!==t?t:0,n.textChangeOperation=void 0!==e.textChangeOperation&&null!==e.textChangeOperation?jj.fromPartial(e.textChangeOperation):void 0,n.createAnnotationOperation=void 0!==e.createAnnotationOperation&&null!==e.createAnnotationOperation?qj.fromPartial(e.createAnnotationOperation):void 0,n.removeAnnotationOperation=void 0!==e.removeAnnotationOperation&&null!==e.removeAnnotationOperation?Bj.fromPartial(e.removeAnnotationOperation):void 0,n.setPropertyOperation=void 0!==e.setPropertyOperation&&null!==e.setPropertyOperation?Hj.fromPartial(e.setPropertyOperation):void 0,n.participantId=void 0!==e.participantId&&null!==e.participantId?sq.fromPartial(e.participantId):void 0,n}};const sq={$type:"deepl.pb.interactive_text_api.ParticipantId",encode:(e,t=new tV)=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantId",value:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.value=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sq.$type,value:pq(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>sq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.ParticipantId",value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}};const lq={$type:"deepl.pb.interactive_text_api.BaseDocument",encode(e,t=new tV){for(const n of e.fields)cq.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.BaseDocument",fields:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.fields.push(cq.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lq.$type,fields:globalThis.Array.isArray(null==e?void 0:e.fields)?e.fields.map((e=>cq.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.fields)||void 0===t?void 0:t.length)&&(n.fields=e.fields.map((e=>cq.toJSON(e)))),n},create:e=>lq.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.BaseDocument",fields:[]};return n.fields=(null===(t=e.fields)||void 0===t?void 0:t.map((e=>cq.fromPartial(e))))||[],n}};const cq={$type:"deepl.pb.interactive_text_api.Field",encode(e,t=new tV){0!==e.fieldName&&t.uint32(8).int32(e.fieldName),""!==e.text&&t.uint32(18).string(e.text);for(const n of e.annotations)qj.encode(n,t.uint32(26).fork()).join();for(const n of e.properties)Hj.encode(n,t.uint32(34).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.Field",fieldName:0,text:"",annotations:[],properties:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fieldName=n.int32();continue;case 2:if(18!==e)break;o.text=n.string();continue;case 3:if(26!==e)break;o.annotations.push(qj.decode(n,n.uint32()));continue;case 4:if(34!==e)break;o.properties.push(Hj.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cq.$type,fieldName:pq(e.fieldName)?Uj(e.fieldName):0,text:pq(e.text)?globalThis.String(e.text):"",annotations:globalThis.Array.isArray(null==e?void 0:e.annotations)?e.annotations.map((e=>qj.fromJSON(e))):[],properties:globalThis.Array.isArray(null==e?void 0:e.properties)?e.properties.map((e=>Hj.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return 0!==e.fieldName&&(r.fieldName=Vj(e.fieldName)),""!==e.text&&(r.text=e.text),(null===(t=e.annotations)||void 0===t?void 0:t.length)&&(r.annotations=e.annotations.map((e=>qj.toJSON(e)))),(null===(n=e.properties)||void 0===n?void 0:n.length)&&(r.properties=e.properties.map((e=>Hj.toJSON(e)))),r},create:e=>cq.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.Field",fieldName:0,text:"",annotations:[],properties:[]};return i.fieldName=null!==(t=e.fieldName)&&void 0!==t?t:0,i.text=null!==(n=e.text)&&void 0!==n?n:"",i.annotations=(null===(r=e.annotations)||void 0===r?void 0:r.map((e=>qj.fromPartial(e))))||[],i.properties=(null===(o=e.properties)||void 0===o?void 0:o.map((e=>Hj.fromPartial(e))))||[],i}};function uq(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}function dq(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):uq(lV.fromJSON(e))}function pq(e){return null!=e}const fq=new Set([yV.$type,jG.$type,GG.$type,yF.$type,SF.$type,UG.$type,TG.$type,wG.$type,RG.$type,xG.$type,PG.$type,CG.$type,LG.$type,$G.$type,DG.$type,kF.$type,CF.$type,LF.$type,$F.$type,DF.$type]);function hq(e){return e.translatorSourceLanguagesValue?e.translatorSourceLanguagesValue:e.translatorTargetLanguagesValue?e.translatorTargetLanguagesValue:e.translatorRequestedSourceLanguageValue?e.translatorRequestedSourceLanguageValue:e.translatorCalculatedSourceLanguageValue?e.translatorCalculatedSourceLanguageValue:e.translatorRequestedTargetLanguageValue?e.translatorRequestedTargetLanguageValue:e.translatorCalculatedTargetLanguageValue?e.translatorCalculatedTargetLanguageValue:e.translatorFormalityModesValue?e.translatorFormalityModesValue:e.translatorFormalityModeValue?e.translatorFormalityModeValue:e.translatorGlossarySupportValue?e.translatorGlossarySupportValue:e.translatorGlossaryListValue?e.translatorGlossaryListValue:e.translatorGlossaryIdValue?e.translatorGlossaryIdValue:e.translatorLanguageModelsValue?e.translatorLanguageModelsValue:e.translatorLanguageModelValue?e.translatorLanguageModelValue:e.translatorTextDirectionValue?e.translatorTextDirectionValue:e.translatorMaximumTextLengthValue?e.translatorMaximumTextLengthValue:e.translatorUnsupportedSourceLanguageValue?e.translatorUnsupportedSourceLanguageValue:e.writeGlossarySupportValue?e.writeGlossarySupportValue:e.writeGlossaryListValue?e.writeGlossaryListValue:e.writeGlossaryIdValue?e.writeGlossaryIdValue:e.writeLanguagesValue?e.writeLanguagesValue:e.writeMaximumTextLengthValue?e.writeMaximumTextLengthValue:e.writeUnsupportedLanguageValue?e.writeUnsupportedLanguageValue:e.writeRequestedLanguageValue?e.writeRequestedLanguageValue:e.writeCalculatedLanguageValue?e.writeCalculatedLanguageValue:e.writeStyleVariantsValue?e.writeStyleVariantsValue:e.writeStyleVariantValue?e.writeStyleVariantValue:e.translatorSourceLanguageDetectionWeightsValue?e.translatorSourceLanguageDetectionWeightsValue:e.writeGlossaryLanguagesValue?e.writeGlossaryLanguagesValue:e.writeStyleGuideSupportValue?e.writeStyleGuideSupportValue:e.writeStyleGuideIdValue?e.writeStyleGuideIdValue:e.translatorStyleGuideSupportValue?e.translatorStyleGuideSupportValue:e.translatorStyleGuideIdValue?e.translatorStyleGuideIdValue:e.writeTemplateAdaptationTemplatesValue?e.writeTemplateAdaptationTemplatesValue:e.translatorFreeTextPromptListValue?e.translatorFreeTextPromptListValue:e.writeFreeTextPromptListValue?e.writeFreeTextPromptListValue:e.interfaceLanguageValue?e.interfaceLanguageValue:e.translatorLanguageModelPreferencesValue?e.translatorLanguageModelPreferencesValue:e.writeInlineSuggestionsLoadingValue?e.writeInlineSuggestionsLoadingValue:e.writeCorrectionsOnlySupportValue?e.writeCorrectionsOnlySupportValue:e.writeCorrectionsOnlyValue?e.writeCorrectionsOnlyValue:e.translatorRtfSupportValue?e.translatorRtfSupportValue:e.translatorStyleVariantsValue?e.translatorStyleVariantsValue:e.translatorStyleVariantValue?e.translatorStyleVariantValue:e.writeTextUnitAlternativesSupportValue?e.writeTextUnitAlternativesSupportValue:e.translatorTranslationMemoryListValue?e.translatorTranslationMemoryListValue:e.translatorSelectedTranslationMemoryValue?e.translatorSelectedTranslationMemoryValue:e.translatorRephraseTargetTextStatusValue?e.translatorRephraseTargetTextStatusValue:e.translatorCustomizationsValue?e.translatorCustomizationsValue:e.writeCustomizationsValue?e.writeCustomizationsValue:e.translatorHypothesesComparisonEnabledValue?e.translatorHypothesesComparisonEnabledValue:void 0}function gq(e,t){switch(t.$type){case MF.$type:return Object.assign(Object.assign({},e),{translatorSourceLanguagesValue:t});case VF.$type:return Object.assign(Object.assign({},e),{translatorRequestedSourceLanguageValue:t});case GF.$type:return Object.assign(Object.assign({},e),{translatorCalculatedSourceLanguageValue:t});case UF.$type:return Object.assign(Object.assign({},e),{translatorTargetLanguagesValue:t});case FF.$type:return Object.assign(Object.assign({},e),{translatorRequestedTargetLanguageValue:t});case jF.$type:return Object.assign(Object.assign({},e),{translatorCalculatedTargetLanguageValue:t});case QF.$type:return Object.assign(Object.assign({},e),{translatorFormalityModesValue:t});case ZF.$type:return Object.assign(Object.assign({},e),{translatorFormalityModeValue:t});case WF.$type:return Object.assign(Object.assign({},e),{translatorGlossarySupportValue:t});case yj.$type:return Object.assign(Object.assign({},e),{translatorGlossaryListValue:t});case qF.$type:return Object.assign(Object.assign({},e),{translatorGlossaryIdValue:t});case ej.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelsValue:t});case tj.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelValue:t});case nj.$type:return Object.assign(Object.assign({},e),{translatorTextDirectionValue:t});case rj.$type:return Object.assign(Object.assign({},e),{translatorMaximumTextLengthValue:t});case oj.$type:return Object.assign(Object.assign({},e),{translatorUnsupportedSourceLanguageValue:t});case zV.$type:return Object.assign(Object.assign({},e),{writeLanguagesValue:t});case YV.$type:return Object.assign(Object.assign({},e),{writeRequestedLanguageValue:t});case XV.$type:return Object.assign(Object.assign({},e),{writeCalculatedLanguageValue:t});case rG.$type:return Object.assign(Object.assign({},e),{writeStyleVariantsValue:t});case oG.$type:return Object.assign(Object.assign({},e),{writeStyleVariantValue:t});case KV.$type:return Object.assign(Object.assign({},e),{writeGlossaryIdValue:t});case uG.$type:return Object.assign(Object.assign({},e),{writeGlossarySupportValue:t});case cG.$type:return Object.assign(Object.assign({},e),{writeGlossaryListValue:t});case nG.$type:return Object.assign(Object.assign({},e),{writeMaximumTextLengthValue:t});case iG.$type:return Object.assign(Object.assign({},e),{writeUnsupportedLanguageValue:t});case ij.$type:return Object.assign(Object.assign({},e),{translatorSourceLanguageDetectionWeightsValue:t});case WV.$type:return Object.assign(Object.assign({},e),{writeGlossaryLanguagesValue:t});case dG.$type:return Object.assign(Object.assign({},e),{writeStyleGuideSupportValue:t});case QV.$type:return Object.assign(Object.assign({},e),{writeStyleGuideIdValue:t});case AG.$type:return Object.assign(Object.assign({},e),{writeTemplateAdaptationTemplatesValue:t});case YF.$type:return Object.assign(Object.assign({},e),{translatorStyleGuideSupportValue:t});case BF.$type:return Object.assign(Object.assign({},e),{translatorStyleGuideIdValue:t});case JF.$type:return Object.assign(Object.assign({},e),{translatorFreeTextPromptListValue:t});case eG.$type:return Object.assign(Object.assign({},e),{writeFreeTextPromptListValue:t});case HF.$type:return Object.assign(Object.assign({},e),{interfaceLanguageValue:t});case vj.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelPreferencesValue:t});case aG.$type:return Object.assign(Object.assign({},e),{writeInlineSuggestionsLoadingValue:t});case pG.$type:return Object.assign(Object.assign({},e),{writeCorrectionsOnlySupportValue:t});case ZV.$type:return Object.assign(Object.assign({},e),{writeCorrectionsOnlyValue:t});case XF.$type:return Object.assign(Object.assign({},e),{translatorRtfSupportValue:t});case aj.$type:return Object.assign(Object.assign({},e),{translatorStyleVariantsValue:t});case sj.$type:return Object.assign(Object.assign({},e),{translatorStyleVariantValue:t});case fG.$type:return Object.assign(Object.assign({},e),{writeTextUnitAlternativesSupportValue:t});case lj.$type:return Object.assign(Object.assign({},e),{translatorTranslationMemoryListValue:t});case uj.$type:return Object.assign(Object.assign({},e),{translatorSelectedTranslationMemoryValue:t});case dj.$type:return Object.assign(Object.assign({},e),{translatorRephraseTargetTextStatusValue:t});case zF.$type:return Object.assign(Object.assign({},e),{translatorCustomizationsValue:t});case tG.$type:return Object.assign(Object.assign({},e),{writeCustomizationsValue:t});case pj.$type:return Object.assign(Object.assign({},e),{translatorHypothesesComparisonEnabledValue:t})}}function mq(e,t){const n=hq(e);if(!n)return e;let r;switch(n.$type){case YV.$type:case XV.$type:r=Object.assign(Object.assign({},n),{language:void 0!==t?gG.create({code:t}):void 0});break;case VF.$type:case GF.$type:r=Object.assign(Object.assign({},n),{sourceLanguage:void 0!==t?Sj.create({code:t}):void 0});break;case FF.$type:case jF.$type:r=Object.assign(Object.assign({},n),{targetLanguage:void 0!==t?bj.create({code:t}):void 0});break;default:return e}return gq(e,r)}function vq(e){return e.$type===jj.$type}function _q(e){return e.$type===qj.$type}function yq(e){return e.$type===Bj.$type}function Tq(e){return e.$type===Hj.$type}function Sq(e){if(e.textChangeOperation)return e.textChangeOperation;if(e.createAnnotationOperation)return e.createAnnotationOperation;if(e.removeAnnotationOperation)return e.removeAnnotationOperation;if(e.setPropertyOperation)return e.setPropertyOperation;throw new Error("FieldEvent does not contain an operation")}function bq(e,t,n){const r={fieldName:t,participantId:n,$type:aq.$type};switch(e.$type){case jj.$type:return Object.assign(Object.assign({},r),{textChangeOperation:e});case qj.$type:return Object.assign(Object.assign({},r),{createAnnotationOperation:e});case Bj.$type:return Object.assign(Object.assign({},r),{removeAnnotationOperation:e});case Hj.$type:return Object.assign(Object.assign({},r),{setPropertyOperation:e})}}function wq(e,t,n){return{$type:jj.$type,range:{$type:TV.$type,start:e,end:t},text:n}}function Eq(e,t,n,r){return function(e,t){switch(t.$type){case WG.$type:return Object.assign(Object.assign({},e),{textUnitPayload:t});case yV.$type:return Object.assign(Object.assign({},e),{requestWordAlternativesPayload:t});case mV.$type:return Object.assign(Object.assign({},e),{providedWordAlternativesPayload:t});case jG.$type:return Object.assign(Object.assign({},e),{selectWordAlternativePayload:t});case bF.$type:return Object.assign(Object.assign({},e),{translatorGlossaryReplacementPayload:t});case _V.$type:return Object.assign(Object.assign({},e),{requestTextUnitAlternativesPayload:t});case wF.$type:return Object.assign(Object.assign({},e),{translatorProvidedTextUnitAlternativesPayload:t});case GG.$type:return Object.assign(Object.assign({},e),{selectTextUnitAlternativePayload:t});case yF.$type:return Object.assign(Object.assign({},e),{translatorRequestAutocompletionPayload:t});case TF.$type:return Object.assign(Object.assign({},e),{translatorProvidedAutocompletionPayload:t});case SF.$type:return Object.assign(Object.assign({},e),{translatorSelectAutocompletionPayload:t});case EF.$type:return Object.assign(Object.assign({},e),{translatorProvidedAutomaticTextUnitAlternativesPayload:t});case UG.$type:return Object.assign(Object.assign({},e),{selectAutomaticTextUnitAlternativePayload:t});case HV.$type:return Object.assign(Object.assign({},e),{writeProvidedTextUnitAlternativesPayload:t});case JV.$type:return Object.assign(Object.assign({},e),{writeProvidedAutomaticTextUnitAlternativesPayload:t});case BV.$type:return Object.assign(Object.assign({},e),{writeDiffUnitPayload:t});case HG.$type:return Object.assign(Object.assign({},e),{textFormattingPayload:t});case AF.$type:return Object.assign(Object.assign({},e),{translatorRequestClarifyPayload:t});case xF.$type:return Object.assign(Object.assign({},e),{translatorSelectClarifyAnswerPayload:t});case TG.$type:return Object.assign(Object.assign({},e),{writeRequestChangeStyleAlternativesAnnotationPayload:t});case bG.$type:return Object.assign(Object.assign({},e),{writeProvidedChangeStyleAlternativesAnnotationPayload:t});case wG.$type:return Object.assign(Object.assign({},e),{writeSelectChangeStyleAlternativeAnnotationPayload:t});case RG.$type:return Object.assign(Object.assign({},e),{writeRequestTemplateAdaptationAnnotationPayload:t});case xG.$type:return Object.assign(Object.assign({},e),{writeProvidedTemplateAdaptationAnnotationPayload:t});case PG.$type:return Object.assign(Object.assign({},e),{writeInlineSuggestionAnnotationPayload:t});case kG.$type:return Object.assign(Object.assign({},e),{writeInlineSuggestionSpanAnnotationPayload:t});case CG.$type:return Object.assign(Object.assign({},e),{writeActOnInlineSuggestionAnnotationPayload:t});case LG.$type:return Object.assign(Object.assign({},e),{writeInlineSuggestionsTextUnitStateAnnotationPayload:t});case $G.$type:return Object.assign(Object.assign({},e),{writeRequestInlineSuggestionImprovedTextAnnotationPayload:t});case DG.$type:return Object.assign(Object.assign({},e),{writeProvidedInlineSuggestionImprovedTextAnnotationPayload:t});case CV.$type:return Object.assign(Object.assign({},e),{customRuleAnnotationPayload:t});case NF.$type:return Object.assign(Object.assign({},e),{translatorRequestRephraseTargetTextAnnotationPayload:t});case QG.$type:return Object.assign(Object.assign({},e),{translationMemoryAnnotationPayload:t});case kF.$type:return Object.assign(Object.assign({},e),{translatorProvidedHypothesesComparisonStateAnnotationPayload:t});case CF.$type:return Object.assign(Object.assign({},e),{translatorSelectHypothesesComparisonVariantAnnotationPayload:t});case LF.$type:return Object.assign(Object.assign({},e),{translatorSkipHypothesesComparisonAnnotationPayload:t});case oF.$type:return Object.assign(Object.assign({},e),{translationMemorySegmentAnnotationPayload:t});case $F.$type:return Object.assign(Object.assign({},e),{translatorUpdateTranslationMemorySegmentsAnnotationPayload:t});case DF.$type:return Object.assign(Object.assign({},e),{translatorUpdateTranslationMemorySegmentsResultAnnotationPayload:t});default:throw new Error("Could not match annotation payload.")}}({$type:qj.$type,annotationId:e,range:{$type:TV.$type,start:t,end:n}},r)}function Aq(e,t){const n={$type:Hj.$type,propertyName:e};return void 0===t?n:gq(n,t)}var Iq;function Rq(e,t){return{$type:TV.$type,start:e,end:t}}!function(e){e[e.BaseThenNew=0]="BaseThenNew",e[e.NewThenBase=1]="NewThenBase"}(Iq||(Iq={}));const Oq=(e,t,n=Iq.BaseThenNew)=>{var r,o;if(yq(t)||yq(e)||_q(e)||vq(e)&&(null===(r=e.range)||void 0===r?void 0:r.start)===(null===(o=e.range)||void 0===o?void 0:o.end)&&0===e.text.length)return t;if(Tq(e)&&Tq(t))return((e,t,n)=>e.propertyName!==t.propertyName||n===Iq.BaseThenNew?t:e)(e,t,n);if(Tq(e)||Tq(t))return t;if(vq(e)&&vq(t))return((e,t,n)=>{const r=e.range,o=t.range;if(r.start>o.end)return t;const i=e.text.length+r.start-r.end;if(r.end<o.start)return Object.assign(Object.assign({},t),{range:Rq(o.start+i,o.end+i)});const a=r.start<o.start||r.start===o.start&&n===Iq.BaseThenNew,s=r.end<o.end;if(a){const n=r.start+e.text.length;return s?Object.assign(Object.assign({},t),{range:Rq(n,o.end+i)}):Object.assign(Object.assign({},t),{range:Rq(n,n)})}return s?Object.assign(Object.assign({},t),{range:Rq(o.start,o.end+i),text:t.text+e.text}):Object.assign(Object.assign({},t),{range:Rq(o.start,r.start)})})(e,t,n);if(vq(e)&&_q(t))return((e,t)=>{const n=e.range,r=t.range;if(n.start>r.end)return t;const o=e.text.length+n.start-n.end;if(n.end<r.start)return Object.assign(Object.assign({},t),{range:Rq(r.start+o,r.end+o)});const i=n.start<r.start,a=n.end<r.end,s=n.start+e.text.length;return i?a?Object.assign(Object.assign({},t),{range:Rq(s,r.end+o)}):n.end===r.end?Object.assign(Object.assign({},t),{range:Rq(s,s)}):Object.assign(Object.assign({},t),{range:Rq(n.start,n.start)}):a?n.start===r.start?Object.assign(Object.assign({},t),{range:Rq(s,r.end+o)}):Object.assign(Object.assign({},t),{range:Rq(r.start,r.end+o)}):Object.assign(Object.assign({},t),{range:Rq(r.start,s)})})(e,t);throw new Error(`Operational transform for operations of type [${null==e?void 0:e.$type}, ${null==t?void 0:t.$type}] not implemented.`)},xq=(e,t)=>[Oq(t,e,Iq.NewThenBase),Oq(e,t,Iq.BaseThenNew)],Nq=(e,t)=>{let n=[...e];const r=t.map((e=>{let t=e;return n=n.map((e=>{const[n,r]=xq(t,e);return t=n,r})),t}));return[n,r]},Pq=(e,t)=>{let n=[...t];return{transformedIncomingEvents:e.map((e=>{let t=Sq(e);return n=n.map((n=>{if(e.fieldName!==n.fieldName)return n;const[r,o]=xq(t,Sq(n));return t=r,"participantId"in n?bq(o,n.fieldName,n.participantId):bq(o,n.fieldName)})),bq(t,e.fieldName,e.participantId)})),transformedExistingEvents:n}};function kq(e){return e.$type===tq.$type?{$type:Wj.$type,appendMessage:e}:{$type:Wj.$type,updateAuthenticationTokenMessage:e}}function Cq(e){if(!e.range)throw new Error("TextChangeOperation must have a range to calculate delta");return e.text.length-e.range.end+e.range.start}function Lq(e){const t=[],n=[];let r=0,o=0;for(const i of e){const e=Cq(i);e<0?(o+=e,t.push(Object.assign(Object.assign({},i),{range:Object.assign(Object.assign({},i.range),{start:i.range.start-r,end:i.range.end-r})}))):(r+=e,n.push(Object.assign(Object.assign({},i),{range:Object.assign(Object.assign({},i.range),{start:i.range.start-o,end:i.range.end-o})})))}const[i,a]=Nq(t,n);return[...t,...a]}function $q(e,t){var n;if(""===e||""===t){return[jj.create({range:TV.create({start:0,end:null!==(n=e.length)&&void 0!==n?n:0}),text:t})]}const[r,o,i]=function(e,t){const n=Math.min(e.length,t.length);let r=0,o=0;for(let o=0;o<n&&e[o]===t[o];o+=1)r+=1;for(let r=1;r<=n&&e[e.length-r]===t[t.length-r];r+=1)o+=1;return r+o>n&&(o=n-r),[e.slice(r,e.length-o),t.slice(r,t.length-o),r,o]}(e,t),a=(s=r,l=o,c={ignoreCase:!1,timeout:250},sC.diff(s,l,c));var s,l,c;if(!a)return[jj.create({range:TV.create({start:0,end:e.length}),text:t})];const{compactedOperations:u}=a.reduce((({compactedOperations:e,index:t},n,r)=>{if(!n.added&&!n.removed)return{compactedOperations:e,index:t+n.value.length};const o=a[r-1];if(!o||!o.added&&!o.removed){const r=function(e,t){if(!e.added&&!e.removed)throw new Error("Cannot convert change object that represents common chunk to text change operation");return e.removed?wq(t,t+e.value.length,""):wq(t,t,e.value)}(n,t);return{compactedOperations:[...e,r],index:t+r.text.length}}const i=e[e.length-1],s=function(e,t){return t.removed?wq(e.range.start,e.range.end+t.value.length,e.text):wq(e.range.start,e.range.end,e.text+t.value)}(i,n);return{compactedOperations:[...e.slice(0,-1),s],index:t-Cq(i)+Cq(s)}}),{compactedOperations:[],index:i});return u}const Dq=(e,t)=>e.split("-")[0]===t.split("-")[0];function Mq(e,t){var n;if(!1===e){const e=new Error(null!=t?t:"assertion failure");throw null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,e,Mq),e}}function Uq(e){throw new Error("non-exhaustive case analysis")}const Vq=e=>{const t=document.createElement("div");t.textContent=e;return t.innerHTML.replace(/'/g,"&#39;").replace(/"/g,"&quot;")};function Gq(e,t){return t.includes(e)}function*Fq(e,t){for(let n=0;n<e.length&&n<t.length;n+=1)yield[e[n],t[n]]}function jq(e){return new Promise((t=>{setTimeout(t,e)}))}class qq{constructor(e,t){this.document=e,this.name=t,this.stateReadonly=this.document.stateReadonly.pipe(bL((e=>Zq(this.name,e)))),this.content=this.stateReadonly.pipe(bL((e=>e.content)),AL())}getCurrentContent(){return Zq(this.name,this.document.stateReadonly.value).content}update(e){const t=Lq($q(this.getCurrentContent(),e));return this.document.applyOperationBatch([[this.name,t]]),t}prettyPrint(){const e=Zq(this.name,this.document.stateReadonly.value);return zq(this.name,e)}}const Bq={content:"",properties:nM(),annotations:nM()};function Hq(e,t){if(t.$type===jj.$type){const n=e.content;try{const r=function(e,t){var n,r;if(void 0===t.range||t.range.start>e.length||t.range.start<0||t.range.end>e.length||t.range.end<0||t.range.start>t.range.end)throw new Error(`Tried to apply out of range operation with start: ${null===(n=t.range)||void 0===n?void 0:n.start} and end: ${null===(r=t.range)||void 0===r?void 0:r.end} to string of length: ${e.length}`);return e.slice(0,t.range.start)+t.text+e.slice(t.range.end)}(n,t),o=Wq(e.annotations,[t]);return Object.assign(Object.assign({},e),{content:r,annotations:o})}catch(t){return console.warn(`Error applying text change operation to document: ${t}. Skipping it.`),e}}else{if(t.$type===qj.$type)return function(e,t){const{annotationId:n}=t;Mq(void 0!==n,"CreateAnnotationOperation without ID");const r=function(e){return e.textUnitPayload?e.textUnitPayload:e.requestWordAlternativesPayload?e.requestWordAlternativesPayload:e.providedWordAlternativesPayload?e.providedWordAlternativesPayload:e.providedWordAlternativeHighlightPayload?e.providedWordAlternativeHighlightPayload:e.selectWordAlternativePayload?e.selectWordAlternativePayload:e.translatorGlossaryReplacementPayload?e.translatorGlossaryReplacementPayload:e.requestTextUnitAlternativesPayload?e.requestTextUnitAlternativesPayload:e.translatorProvidedTextUnitAlternativesPayload?e.translatorProvidedTextUnitAlternativesPayload:e.selectTextUnitAlternativePayload?e.selectTextUnitAlternativePayload:e.translatorRequestAutocompletionPayload?e.translatorRequestAutocompletionPayload:e.translatorProvidedAutocompletionPayload?e.translatorProvidedAutocompletionPayload:e.translatorSelectAutocompletionPayload?e.translatorSelectAutocompletionPayload:e.translatorProvidedAutomaticTextUnitAlternativesPayload?e.translatorProvidedAutomaticTextUnitAlternativesPayload:e.selectAutomaticTextUnitAlternativePayload?e.selectAutomaticTextUnitAlternativePayload:e.writeProvidedTextUnitAlternativesPayload?e.writeProvidedTextUnitAlternativesPayload:e.writeProvidedAutomaticTextUnitAlternativesPayload?e.writeProvidedAutomaticTextUnitAlternativesPayload:e.writeDiffUnitPayload?e.writeDiffUnitPayload:e.textFormattingPayload?e.textFormattingPayload:e.translatorProvidedClarifyHighlightPayload?e.translatorProvidedClarifyHighlightPayload:e.translatorProvidedClarifyQuestionPayload?e.translatorProvidedClarifyQuestionPayload:e.translatorRequestClarifyPayload?e.translatorRequestClarifyPayload:e.translatorSelectClarifyAnswerPayload?e.translatorSelectClarifyAnswerPayload:e.writeRequestChangeStyleAlternativesAnnotationPayload?e.writeRequestChangeStyleAlternativesAnnotationPayload:e.writeProvidedChangeStyleAlternativesAnnotationPayload?e.writeProvidedChangeStyleAlternativesAnnotationPayload:e.writeSelectChangeStyleAlternativeAnnotationPayload?e.writeSelectChangeStyleAlternativeAnnotationPayload:e.translatorClarifyStatusPayload?e.translatorClarifyStatusPayload:e.customRuleAnnotationPayload?e.customRuleAnnotationPayload:e.writeRequestTemplateAdaptationAnnotationPayload?e.writeRequestTemplateAdaptationAnnotationPayload:e.writeProvidedTemplateAdaptationAnnotationPayload?e.writeProvidedTemplateAdaptationAnnotationPayload:e.writeInlineSuggestionAnnotationPayload?e.writeInlineSuggestionAnnotationPayload:e.writeInlineSuggestionSpanAnnotationPayload?e.writeInlineSuggestionSpanAnnotationPayload:e.writeActOnInlineSuggestionAnnotationPayload?e.writeActOnInlineSuggestionAnnotationPayload:e.writeInlineSuggestionsTextUnitStateAnnotationPayload?e.writeInlineSuggestionsTextUnitStateAnnotationPayload:e.writeRequestInlineSuggestionImprovedTextAnnotationPayload?e.writeRequestInlineSuggestionImprovedTextAnnotationPayload:e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload?e.writeProvidedInlineSuggestionImprovedTextAnnotationPayload:e.translatorRequestRephraseTargetTextAnnotationPayload?e.translatorRequestRephraseTargetTextAnnotationPayload:e.translationMemoryAnnotationPayload?e.translationMemoryAnnotationPayload:e.translatorProvidedHypothesesComparisonStateAnnotationPayload?e.translatorProvidedHypothesesComparisonStateAnnotationPayload:e.translatorSelectHypothesesComparisonVariantAnnotationPayload?e.translatorSelectHypothesesComparisonVariantAnnotationPayload:e.translatorSkipHypothesesComparisonAnnotationPayload?e.translatorSkipHypothesesComparisonAnnotationPayload:e.translationMemorySegmentAnnotationPayload?e.translationMemorySegmentAnnotationPayload:e.translatorUpdateTranslationMemorySegmentsAnnotationPayload?e.translatorUpdateTranslationMemorySegmentsAnnotationPayload:e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload?e.translatorUpdateTranslationMemorySegmentsResultAnnotationPayload:null}(t);if(null===r)return e;const o={operation:t,specificPayload:r},i=e.annotations.update(r.$type,(e=>void 0===e?[o]:[...e,o]));return Object.assign(Object.assign({},e),{annotations:i})}(e,t);if(t.$type===Bj.$type)return function(e,t){const{annotationId:n}=t;Mq(void 0!==n,"RemoveAnnotationOperation without ID");const r=e.annotations.map((e=>e.filter((e=>{var t;return(null===(t=e.operation.annotationId)||void 0===t?void 0:t.value)!==n.value}))));return Object.assign(Object.assign({},e),{annotations:r})}(e,t);if(t.$type===Hj.$type)return function(e,t){const{propertyName:n}=t,r=hq(t),o=e.properties.get(n);if(void 0===r){const t=e.properties.delete(n);return Object.assign(Object.assign({},e),{properties:t})}if(void 0===o||r.$type===o.type){const t=e.properties.set(n,{type:r.$type,value:r});return Object.assign(Object.assign({},e),{properties:t})}throw new Error(`PropertyValue has type ${r.$type}, but ${o.type} expected`)}(e,t)}Uq()}function Jq(e,t){var n;return[...(null!==(n=e.annotations.get(t))&&void 0!==n?n:nM()).values()]}function zq(e,t){return{fieldName:e,text:t.content,annotations:[...t.annotations.values()].flatMap((e=>[...e.entries()].map((([e,t])=>({id:e,range:t.operation.range,annotationPayload:t.specificPayload}))))),properties:[...t.properties.entries()].map((([e,t])=>({propertyName:e,propertyValue:t.value})))}}function Wq(e,t){return e.map(((e,n)=>{if(function(e){return!fq.has(e)}(n)){const[n,r]=Nq(t,e.map((e=>e.operation)));return[...Fq(e,r)].map((([e,t])=>({operation:t,specificPayload:e.specificPayload})))}return e}))}let Yq=class{constructor(){this.initialState=nM(),this.state=new tL(this.initialState),this.stateReadonly=this.state}updateState(e){this.state.next(e(this.state.value))}updateFieldState(e,t){this.updateState((n=>{const r=Zq(e,n);return n.set(e,t(r))}))}applyItaEventBatch(e){const t=e.reduce(Kq,this.state.value);this.state.next(t)}applyOperationBatch(e){let t=this.state.value;for(const[n,r]of e)for(const e of r)t=Qq(n,t,e);this.state.next(t)}serialize(){return Xq(this.state.value)}prettyPrint(){return{fields:[...this.state.value.entries()].map((([e,t])=>zq(e,t)))}}reset(){this.state.next(this.initialState)}};function Xq(e){return lq.create({fields:[...e.entries()].map((([e,t])=>function(e,t){return{$type:cq.$type,fieldName:e,text:t.content,annotations:[...t.annotations.values()].flatMap((e=>[...e.values()].map((e=>e.operation)))),properties:[...t.properties.entries()].map((([e,t])=>Aq(e,t.value)))}}(e,t)))})}function Kq(e,t){const n=Sq(t);return Qq(t.fieldName,e,n)}function Qq(e,t,n){return t.update(e,((e=Bq)=>Hq(e,n)))}function Zq(e,t){var n;return null!==(n=t.get(e))&&void 0!==n?n:Bq}class eB{constructor(e,t,n){this.name=e,this.sessionMode=t,this.document=n,this.bufferedInitialEvents=[]}addChangeHandler(e){this.onChange=e,this.onChange(this.bufferedInitialEvents),this.bufferedInitialEvents=[]}applyFieldEventBatch(e){this.document.applyItaEventBatch(e)}publishChange(e,t){const n=t.map((t=>bq(t,e)));this.publishEvents(n)}publishChanges(e){const t=e.flatMap((([e,t])=>t.map((t=>bq(t,e)))));this.publishEvents(t)}publishEvents(e){this.onChange?this.onChange(e):this.bufferedInitialEvents=[...this.bufferedInitialEvents,...e]}}function tB(e){return e.$type===Wj.$type}function nB(e){return e.$type===Qj.$type}function rB(e){return e.$type===Zj.$type}function oB(e){if(function(e){return e.$type===Yj.$type}(e))return function(e){if(null==e?void 0:e.confirmedMessage)return e.confirmedMessage;if(null==e?void 0:e.initializedMessage)return e.initializedMessage;if(null==e?void 0:e.publishedMessage)return e.publishedMessage;if(null==e?void 0:e.metaInfoMessage)return e.metaInfoMessage;throw new Error("ParticipantResponse does not contain a message")}(e);if(tB(e))return function(e){if(null==e?void 0:e.appendMessage)return e.appendMessage;if(null==e?void 0:e.updateAuthenticationTokenMessage)return e.updateAuthenticationTokenMessage;throw new Error("ParticipantRequest does not contain a message")}(e);throw new Error("Extracting message failed, you need to pass a ParticipantRequest or ParticipantResponse")}class iB extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class aB extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class sB extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class lB extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class cB extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class uB extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class dB extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class pB extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class fB{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class hB{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}var gB;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(gB||(gB={}));class mB{constructor(){}log(e,t){}}mB.instance=new mB;class vB{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class _B{static get isBrowser(){return!_B.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!_B.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!_B.isNode&&"object"==typeof window&&void 0===window.document}static get isNode(){return"undefined"!=typeof process&&process.release&&"node"===process.release.name}}function yB(e,t){let n="";return TB(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach((e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `})),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function TB(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function SB(e,t,n,r,o,i){const a={},[s,l]=EB();a[s]=l,e.log(gB.Trace,`(${t} transport) sending data. ${yB(o,i.logMessageContent)}.`);const c=TB(o)?"arraybuffer":"text",u=await n.post(r,{content:o,headers:{...a,...i.headers},responseType:c,timeout:i.timeout,withCredentials:i.withCredentials});e.log(gB.Trace,`(${t} transport) request complete. Response status: ${u.statusCode}.`)}class bB{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}class wB{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${gB[e]}: ${t}`;switch(e){case gB.Critical:case gB.Error:this.out.error(n);break;case gB.Warning:this.out.warn(n);break;case gB.Information:this.out.info(n);break;default:this.out.log(n)}}}}function EB(){let e="X-SignalR-User-Agent";return _B.isNode&&(e="User-Agent"),[e,AB("8.0.7",IB(),OB(),RB())]}function AB(e,t,n,r){let o="Microsoft SignalR/";const i=e.split(".");return o+=`${i[0]}.${i[1]}`,o+=` (${e}; `,o+=t&&""!==t?`${t}; `:"Unknown OS; ",o+=`${n}`,o+=r?`; ${r}`:"; Unknown Runtime Version",o+=")",o}function IB(){if(!_B.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function RB(){if(_B.isNode)return process.versions.node}function OB(){return _B.isNode?"NodeJS":"Browser"}function xB(e){return e.stack?e.stack:e.message?e.message:`${e}`}class NB extends hB{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch||_B.isNode){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),"undefined"==typeof fetch?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new sB;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new sB});let r,o=null;if(e.timeout){const r=e.timeout;o=setTimeout((()=>{t.abort(),this._logger.log(gB.Warning,"Timeout from HTTP request."),n=new aB}),r)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},TB(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{r=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(e){if(n)throw n;throw this._logger.log(gB.Warning,`Error from HTTP request. ${e}.`),e}finally{o&&clearTimeout(o),e.abortSignal&&(e.abortSignal.onabort=null)}if(!r.ok){const e=await PB(r,"text");throw new iB(e||r.statusText,r.status)}const i=PB(r,e.responseType),a=await i;return new fB(r.status,r.statusText,a)}getCookieString(e){let t="";return _B.isNode&&this._jar&&this._jar.getCookies(e,((e,n)=>t=n.join("; "))),t}}function PB(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class kB extends hB{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new sB):e.method?e.url?new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(TB(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach((e=>{r.setRequestHeader(e,o[e])})),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new sB)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new fB(r.status,r.statusText,r.response||r.responseText)):n(new iB(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(gB.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new iB(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(gB.Warning,"Timeout from HTTP request."),n(new aB)},r.send(e.content)})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class CB extends hB{constructor(e){if(super(),"undefined"!=typeof fetch||_B.isNode)this._httpClient=new NB(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new kB(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new sB):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class LB{static write(e){return`${e}${LB.RecordSeparator}`}static parse(e){if(e[e.length-1]!==LB.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(LB.RecordSeparator);return t.pop(),t}}LB.RecordSeparatorCode=30,LB.RecordSeparator=String.fromCharCode(LB.RecordSeparatorCode);class $B{writeHandshakeRequest(e){return LB.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(TB(e)){const r=new Uint8Array(e),o=r.indexOf(LB.RecordSeparatorCode);if(-1===o)throw new Error("Message is incomplete.");const i=o+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,i))),n=r.byteLength>i?r.slice(i).buffer:null}else{const r=e,o=r.indexOf(LB.RecordSeparator);if(-1===o)throw new Error("Message is incomplete.");const i=o+1;t=r.substring(0,i),n=r.length>i?r.substring(i):null}const r=LB.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[n,o]}}var DB;!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"}(DB||(DB={}));class MB{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new bB(this,e)}}class UB{constructor(e,t,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=n}async _send(e){const t=this._protocol.writeMessage(e);let n=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let e=()=>{},r=()=>{};TB(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise(((t,n)=>{e=t,r=n}))),this._messages.push(new VB(t,this._totalMessageCount,e,r))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await n}_ack(e){let t=-1;for(let n=0;n<this._messages.length;n++){const r=this._messages[n];if(r._id<=e.sequenceId)t=n,TB(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;r._resolver()}}-1!==t&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type===DB.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){e.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=0!==this._messages.length?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:DB.Sequence,sequenceId:e}));const t=this._messages;for(const e of t)await this._connection.send(e._message);this._reconnectInProgress=!1}_dispose(e){null!=e||(e=new Error("Unable to reconnect to server."));for(const t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case DB.Invocation:case DB.StreamItem:case DB.Completion:case DB.StreamInvocation:case DB.CancelInvocation:return!0;case DB.Close:case DB.Sequence:case DB.Ping:case DB.Ack:return!1}}_ackTimer(){void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout((async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:DB.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}}class VB{constructor(e,t,n,r){this._message=e,this._id=t,this._resolver=n,this._rejector=r}}var GB;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(GB||(GB={}));class FB{static create(e,t,n,r,o,i,a){return new FB(e,t,n,r,o,i,a)}constructor(e,t,n,r,o,i,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(gB.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},vB.isRequired(e,"connection"),vB.isRequired(t,"logger"),vB.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=null!=o?o:3e4,this.keepAliveIntervalInMilliseconds=null!=i?i:15e3,this._statefulReconnectBufferSize=null!=a?a:1e5,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new $B,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=GB.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:DB.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==GB.Disconnected&&this._connectionState!==GB.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==GB.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=GB.Connecting,this._logger.log(gB.Debug,"Starting HubConnection.");try{await this._startInternal(),_B.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=GB.Connected,this._connectionStarted=!0,this._logger.log(gB.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=GB.Disconnected,this._logger.log(gB.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise(((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t}));await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);const n={protocol:this._protocol.name,version:t};if(this._logger.log(gB.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(gB.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new UB(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(gB.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(e){}}_stopInternal(e){if(this._connectionState===GB.Disconnected)return this._logger.log(gB.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===GB.Disconnecting)return this._logger.log(gB.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const t=this._connectionState;return this._connectionState=GB.Disconnecting,this._logger.log(gB.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(gB.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===GB.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new sB("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r);let i;const a=new MB;return a.cancelCallback=()=>{const e=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],i.then((()=>this._sendWithProtocol(e)))},this._callbacks[o.invocationId]=(e,t)=>{t?a.error(t):e&&(e.type===DB.Completion?e.error?a.error(new Error(e.error)):a.complete():a.next(e.item))},i=this._sendWithProtocol(o).catch((e=>{a.error(e),delete this._callbacks[o.invocationId]})),this._launchStreams(n,i),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,o),o}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r),i=new Promise(((e,t)=>{this._callbacks[o.invocationId]=(n,r)=>{r?t(r):n&&(n.type===DB.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(o).catch((e=>{t(e),delete this._callbacks[o.invocationId]}));this._launchStreams(n,r)}));return i}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const e of t)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(e))switch(e.type){case DB.Invocation:this._invokeClientMethod(e).catch((e=>{this._logger.log(gB.Error,`Invoke client method threw error: ${xB(e)}`)}));break;case DB.StreamItem:case DB.Completion:{const t=this._callbacks[e.invocationId];if(t){e.type===DB.Completion&&delete this._callbacks[e.invocationId];try{t(e)}catch(e){this._logger.log(gB.Error,`Stream callback threw error: ${xB(e)}`)}}break}case DB.Ping:break;case DB.Close:{this._logger.log(gB.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}case DB.Ack:this._messageBuffer&&this._messageBuffer._ack(e);break;case DB.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(e);break;default:this._logger.log(gB.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(e){const t="Error parsing handshake response: "+e;this._logger.log(gB.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(gB.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(gB.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===GB.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(gB.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(gB.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),o=!!e.invocationId;let i,a,s;for(const n of r)try{const r=i;i=await n.apply(this,e.arguments),o&&i&&r&&(this._logger.log(gB.Error,`Multiple results provided for '${t}'. Sending error to server.`),s=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(e){a=e,this._logger.log(gB.Error,`A callback for the method '${t}' threw error '${e}'.`)}s?await this._sendWithProtocol(s):o?(a?s=this._createCompletionMessage(e.invocationId,`${a}`,null):void 0!==i?s=this._createCompletionMessage(e.invocationId,null,i):(this._logger.log(gB.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),s=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(s)):i&&this._logger.log(gB.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(gB.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new sB("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===GB.Disconnecting?this._completeClose(e):this._connectionState===GB.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===GB.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=GB.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(null!=e?e:new Error("Connection closed.")),this._messageBuffer=void 0),_B.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(gB.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(n++,0,r);if(null===o)return this._logger.log(gB.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=GB.Reconnecting,e?this._logger.log(gB.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(gB.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(gB.Error,`An onreconnecting callback called with error '${e}' threw error '${t}'.`)}if(this._connectionState!==GB.Reconnecting)return void this._logger.log(gB.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(this._logger.log(gB.Information,`Reconnect attempt number ${n} will start in ${o} ms.`),await new Promise((e=>{this._reconnectDelayHandle=setTimeout(e,o)})),this._reconnectDelayHandle=void 0,this._connectionState!==GB.Reconnecting)return void this._logger.log(gB.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=GB.Connected,this._logger.log(gB.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((e=>e.apply(this,[this.connection.connectionId])))}catch(e){this._logger.log(gB.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`)}return}catch(e){if(this._logger.log(gB.Information,`Reconnect attempt failed because of error '${e}'.`),this._connectionState!==GB.Reconnecting)return this._logger.log(gB.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===GB.Disconnecting&&this._completeClose());r=e instanceof Error?e:new Error(e.toString()),o=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(gB.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(n){return this._logger.log(gB.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${n}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach((n=>{const r=t[n];try{r(null,e)}catch(t){this._logger.log(gB.Error,`Stream 'error' callback called with '${e}' threw error: ${xB(t)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:DB.Invocation}:{arguments:t,target:e,type:DB.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{arguments:t,invocationId:n.toString(),streamIds:r,target:e,type:DB.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:DB.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n))))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n,r))))},next:e=>{t=t.then((()=>this._sendWithProtocol(this._createStreamItemMessage(n,e))))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const o=e[r];if(this._isObservable(o)){const i=this._invocationId;this._invocationId++,t[i]=o,n.push(i.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:DB.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:DB.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:DB.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:DB.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:DB.Completion}:{invocationId:e,result:n,type:DB.Completion}}_createCloseMessage(){return{type:DB.Close}}}const jB=[0,2e3,1e4,3e4,null];class qB{constructor(e){this._retryDelays=void 0!==e?[...e,null]:jB}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class BB{}BB.Authorization="Authorization",BB.Cookie="Cookie";class HB extends hB{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[BB.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[BB.Authorization]&&delete e.headers[BB.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var JB,zB;!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(JB||(JB={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(zB||(zB={}));let WB=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class YB{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new WB,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(vB.isRequired(e,"url"),vB.isRequired(t,"transferFormat"),vB.isIn(t,zB,"transferFormat"),this._url=e,this._logger.log(gB.Trace,"(LongPolling transport) Connecting."),t===zB.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=EB(),o={[n]:r,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===zB.Binary&&(i.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(gB.Trace,`(LongPolling transport) polling: ${a}.`);const s=await this._httpClient.get(a,i);200!==s.statusCode?(this._logger.log(gB.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new iB(s.statusText||"",s.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(gB.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(gB.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(gB.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new iB(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(gB.Trace,`(LongPolling transport) data received. ${yB(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(gB.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){this._running?e instanceof aB?this._logger.log(gB.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=e,this._running=!1):this._logger.log(gB.Trace,`(LongPolling transport) Poll errored after shutdown: ${e.message}`)}}finally{this._logger.log(gB.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?SB(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(gB.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(gB.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,n]=EB();e[t]=n;const r={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,r)}catch(e){o=e}o?o instanceof iB&&(404===o.statusCode?this._logger.log(gB.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(gB.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(gB.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(gB.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(gB.Trace,e),this.onclose(this._closeError)}}}class XB{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return vB.isRequired(e,"url"),vB.isRequired(t,"transferFormat"),vB.isIn(t,zB,"transferFormat"),this._logger.log(gB.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise(((n,r)=>{let o,i=!1;if(t===zB.Text){if(_B.isBrowser||_B.isWebWorker)o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,i]=EB();n[r]=i,o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{o.onmessage=e=>{if(this.onreceive)try{this._logger.log(gB.Trace,`(SSE transport) data received. ${yB(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(e){return void this._close(e)}},o.onerror=e=>{i?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(gB.Information,`SSE connected to ${this._url}`),this._eventSource=o,i=!0,n()}}catch(e){return void r(e)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(e){return this._eventSource?SB(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class KB{constructor(e,t,n,r,o,i){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=i}async connect(e,t){let n;return vB.isRequired(e,"url"),vB.isRequired(t,"transferFormat"),vB.isIn(t,zB,"transferFormat"),this._logger.log(gB.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise(((r,o)=>{let i;e=e.replace(/^http/,"ws");const a=this._httpClient.getCookieString(e);let s=!1;if(_B.isNode||_B.isReactNative){const t={},[r,o]=EB();t[r]=o,n&&(t[BB.Authorization]=`Bearer ${n}`),a&&(t[BB.Cookie]=a),i=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);i||(i=new this._webSocketConstructor(e)),t===zB.Binary&&(i.binaryType="arraybuffer"),i.onopen=t=>{this._logger.log(gB.Information,`WebSocket connected to ${e}.`),this._webSocket=i,s=!0,r()},i.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(gB.Information,`(WebSockets transport) ${t}.`)},i.onmessage=e=>{if(this._logger.log(gB.Trace,`(WebSockets transport) data received. ${yB(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(e){return void this._close(e)}},i.onclose=e=>{if(s)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(t))}}}))}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(gB.Trace,`(WebSockets transport) sending data. ${yB(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(gB.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class QB{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,vB.isRequired(e,"url"),this._logger=function(e){return void 0===e?new wB(gB.Information):null===e?mB.instance:void 0!==e.log?e:new wB(e)}(t.logger),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let n=null,r=null;if(_B.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;n=e("ws"),r=e("eventsource")}_B.isNode||"undefined"==typeof WebSocket||t.WebSocket?_B.isNode&&!t.WebSocket&&n&&(t.WebSocket=n):t.WebSocket=WebSocket,_B.isNode||"undefined"==typeof EventSource||t.EventSource?_B.isNode&&!t.EventSource&&void 0!==r&&(t.EventSource=r):t.EventSource=EventSource,this._httpClient=new HB(t.httpClient||new CB(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||zB.Binary,vB.isIn(e,zB,"transferFormat"),this._logger.log(gB.Debug,`Starting connection with transfer format '${zB[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(gB.Error,e),await this._stopPromise,Promise.reject(new sB(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(gB.Error,e),Promise.reject(new sB(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new ZB(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(gB.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(gB.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((e=>{this._stopPromiseResolver=e})),await this._stopInternal(e),void await this._stopPromise)}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(e){}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(gB.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(gB.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==JB.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(JB.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new sB("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof YB&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(gB.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(e){return this._logger.log(gB.Error,"Failed to start the connection: "+e),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(e)}}async _getNegotiationResponse(e){const t={},[n,r]=EB();t[n]=r;const o=this._resolveNegotiateUrl(e);this._logger.log(gB.Debug,`Sending negotiation request: ${o}.`);try{const e=await this._httpClient.post(o,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n.useStatefulReconnect&&!0!==this._options._useStatefulReconnect?Promise.reject(new dB("Client didn't negotiate Stateful Reconnect but the server did.")):n}catch(e){let t="Failed to complete negotiation with the server: "+e;return e instanceof iB&&404===e.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(gB.Error,t),Promise.reject(new dB(t))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let o=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(gB.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(o,r),void(this.connectionId=n.connectionId);const i=[],a=n.availableTransports||[];let s=n;for(const n of a){const a=this._resolveTransportOrError(n,t,r,!0===(null==s?void 0:s.useStatefulReconnect));if(a instanceof Error)i.push(`${n.transport} failed:`),i.push(a);else if(this._isITransport(a)){if(this.transport=a,!s){try{s=await this._getNegotiationResponse(e)}catch(e){return Promise.reject(e)}o=this._createConnectUrl(e,s.connectionToken)}try{return await this._startTransport(o,r),void(this.connectionId=s.connectionId)}catch(e){if(this._logger.log(gB.Error,`Failed to start the transport '${n.transport}': ${e}`),s=void 0,i.push(new uB(`${n.transport} failed: ${e}`,JB[n.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(gB.Debug,e),Promise.reject(new sB(e))}}}}return i.length>0?Promise.reject(new pB(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case JB.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new KB(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case JB.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new XB(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case JB.LongPolling:return new YB(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let r=!1;if(this.features.reconnect){try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{r=!0}r&&this._stopConnection(n)}else this._stopConnection(n)}:this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n,r){const o=JB[e.transport];if(null==o)return this._logger.log(gB.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||!!(t&e)}(t,o))return this._logger.log(gB.Debug,`Skipping transport '${JB[o]}' because it was disabled by the client.`),new cB(`'${JB[o]}' is disabled by the client.`,o);if(!(e.transferFormats.map((e=>zB[e])).indexOf(n)>=0))return this._logger.log(gB.Debug,`Skipping transport '${JB[o]}' because it does not support the requested transfer format '${zB[n]}'.`),new Error(`'${JB[o]}' does not support ${zB[n]}.`);if(o===JB.WebSockets&&!this._options.WebSocket||o===JB.ServerSentEvents&&!this._options.EventSource)return this._logger.log(gB.Debug,`Skipping transport '${JB[o]}' because it is not supported in your environment.'`),new lB(`'${JB[o]}' is not supported in your environment.`,o);this._logger.log(gB.Debug,`Selecting transport '${JB[o]}'.`);try{return this.features.reconnect=o===JB.WebSockets?r:void 0,this._constructTransport(o)}catch(e){return e}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(gB.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(gB.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(gB.Error,`Connection disconnected with error '${e}'.`):this._logger.log(gB.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((e=>{this._logger.log(gB.Error,`TransportSendQueue.stop() threw error '${e}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(gB.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(gB.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!_B.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(gB.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";const n=new URLSearchParams(t.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?"true"===n.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&n.append("useStatefulReconnect","true"),t.search=n.toString(),t.toString()}}class ZB{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new eH,this._transportResult=new eH,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new eH),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new eH;const e=this._transportResult;this._transportResult=void 0;const t="string"==typeof this._buffer[0]?this._buffer.join(""):ZB._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(t){e.reject(t)}}}static _concatBuffers(e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let r=0;for(const t of e)n.set(new Uint8Array(t),r),r+=t.byteLength;return n.buffer}}class eH{constructor(){this.promise=new Promise(((e,t)=>[this._resolver,this._rejecter]=[e,t]))}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class tH{constructor(){this.name="json",this.version=2,this.transferFormat=zB.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=mB.instance);const n=LB.parse(e),r=[];for(const e of n){const n=JSON.parse(e);if("number"!=typeof n.type)throw new Error("Invalid payload.");switch(n.type){case DB.Invocation:this._isInvocationMessage(n);break;case DB.StreamItem:this._isStreamItemMessage(n);break;case DB.Completion:this._isCompletionMessage(n);break;case DB.Ping:case DB.Close:break;case DB.Ack:this._isAckMessage(n);break;case DB.Sequence:this._isSequenceMessage(n);break;default:t.log(gB.Information,"Unknown message type '"+n.type+"' ignored.");continue}r.push(n)}return r}writeMessage(e){return LB.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const nH={trace:gB.Trace,debug:gB.Debug,info:gB.Information,information:gB.Information,warn:gB.Warning,warning:gB.Warning,error:gB.Error,critical:gB.Critical,none:gB.None};class rH{configureLogging(e){if(vB.isRequired(e,"logging"),function(e){return void 0!==e.log}(e))this.logger=e;else if("string"==typeof e){const t=function(e){const t=nH[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new wB(t)}else this.logger=new wB(e);return this}withUrl(e,t){return vB.isRequired(e,"url"),vB.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return vB.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new qB(e):this.reconnectPolicy=e:this.reconnectPolicy=new qB,this}withServerTimeout(e){return vB.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return vB.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=null==e?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new QB(this.url,e);return FB.create(t,this.logger||mB.instance,this.protocol||new tH,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}var oH,iH,aH,sH=4294967295;function lH(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}function cH(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var uH=("undefined"==typeof process||"never"!==(null===(oH=null===process||void 0===process?void 0:process.env)||void 0===oH?void 0:oH.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function dH(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if(4294967168&o)if(4294965248&o){if(o>=55296&&o<=56319&&r<t){var i=e.charCodeAt(r);56320==(64512&i)&&(++r,o=((1023&o)<<10)+(1023&i)+65536)}n+=4294901760&o?4:3}else n+=2;else n++}return n}var pH=uH?new TextEncoder:void 0,fH=uH?"undefined"!=typeof process&&"force"!==(null===(iH=null===process||void 0===process?void 0:process.env)||void 0===iH?void 0:iH.TEXT_ENCODING)?200:0:sH;var hH=(null==pH?void 0:pH.encodeInto)?function(e,t,n){pH.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(pH.encode(e),n)};function gH(e,t,n){for(var r=t,o=r+n,i=[],a="";r<o;){var s=e[r++];if(128&s)if(192==(224&s)){var l=63&e[r++];i.push((31&s)<<6|l)}else if(224==(240&s)){l=63&e[r++];var c=63&e[r++];i.push((31&s)<<12|l<<6|c)}else if(240==(248&s)){var u=(7&s)<<18|(l=63&e[r++])<<12|(c=63&e[r++])<<6|63&e[r++];u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u)}else i.push(s);else i.push(s);i.length>=4096&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(a+=String.fromCharCode.apply(String,i)),a}var mH=uH?new TextDecoder:null,vH=uH?"undefined"!=typeof process&&"force"!==(null===(aH=null===process||void 0===process?void 0:process.env)||void 0===aH?void 0:aH.TEXT_DECODER)?200:0:sH;var _H=function(e,t){this.type=e,this.data=t},yH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TH=function(e){function t(n){var r=e.call(this,n)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return yH(t,e),t}(Error);var SH={type:-1,encode:function(e){var t,n,r,o;return e instanceof Date?function(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=17179869183){if(0===r&&n<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var i=n/4294967296,a=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,r<<2|3&i),t.setUint32(4,a),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,r),lH(t,4,n),o}((t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),o=Math.floor(r/1e9),{sec:n+o,nsec:r-1e9*o})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:cH(t,4),nsec:t.getUint32(0)};default:throw new TH("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},bH=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(SH)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var o=1+t;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){if(null!=(r=this.builtInEncoders[n]))if(null!=(o=r(e,t)))return new _H(-1-n,o)}for(n=0;n<this.encoders.length;n++){var r,o;if(null!=(r=this.encoders[n]))if(null!=(o=r(e,t)))return new _H(n,o)}return e instanceof _H?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new _H(t,e)},e.defaultCodec=new e,e}();function wH(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var EH=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=bH.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>fH){var t=dH(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),hH(e,this.bytes,this.pos),this.pos+=t}else{t=dH(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,o=n,i=0;i<r;){var a=e.charCodeAt(i++);if(4294967168&a){if(4294965248&a){if(a>=55296&&a<=56319&&i<r){var s=e.charCodeAt(i);56320==(64512&s)&&(++i,a=((1023&a)<<10)+(1023&s)+65536)}4294901760&a?(t[o++]=a>>18&7|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128):(t[o++]=a>>12&15|224,t[o++]=a>>6&63|128)}else t[o++]=a>>6&31|192;t[o++]=63&a|128}else t[o++]=a}}(e,this.bytes,this.pos),this.pos+=t}},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=wH(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,o=e;r<o.length;r++){var i=o[r];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,o=t;r<o.length;r++){void 0!==e[o[r]]&&n++}return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var o=0,i=n;o<i.length;o++){var a=i[o],s=e[a];this.ignoreUndefined&&void 0===s||(this.encodeString(a),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),lH(this.view,this.pos,e),this.pos+=8},e}();function AH(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var IH=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,o=this.caches[n-1];r<o.length;r++){for(var i=o[r],a=i.bytes,s=0;s<n;s++)if(a[s]!==e[t+s])continue e;return i.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var o=gH(e,t,n),i=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(i,o),o},e}(),RH=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},OH=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},xH=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},NH=function(e){return this instanceof NH?(this.v=e,this):new NH(e)},PH=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof NH?Promise.resolve(e.value.v).then(l,c):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},kH=new DataView(new ArrayBuffer(0)),CH=new Uint8Array(kH.buffer),LH=function(){try{kH.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),$H=new LH("Insufficient data"),DH=new IH,MH=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=bH.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=sH),void 0===r&&(r=sH),void 0===o&&(o=sH),void 0===i&&(i=sH),void 0===a&&(a=sH),void 0===s&&(s=DH),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=o,this.maxMapLength=i,this.maxExtLength=a,this.keyDecoder=s,this.totalPos=0,this.pos=0,this.view=kH,this.bytes=CH,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=wH(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=wH(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=wH(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return OH(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,o;return RH(this,void 0,void 0,(function(){var i,a,s,l,c,u,d,p;return OH(this,(function(f){switch(f.label){case 0:i=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),t=xH(e),f.label=2;case 2:return[4,t.next()];case 3:if((n=f.sent()).done)return[3,5];if(s=n.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof LH))throw e}this.totalPos+=this.pos,f.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=f.sent(),r={error:l},[3,12];case 7:return f.trys.push([7,,10,11]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw u=(c=this).headByte,d=c.pos,p=c.totalPos,new RangeError("Insufficient data in parsing ".concat(AH(u)," at ").concat(p," (").concat(d," in the current buffer)"))}}))}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return PH(this,arguments,(function(){var n,r,o,i,a,s,l,c,u;return OH(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=xH(e),d.label=2;case 2:return[4,NH(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(a=i.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,NH(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=d.sent())instanceof LH))throw s;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return l=d.sent(),c={error:l},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(u=o.return)?[4,NH(u.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(c)throw c.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!==(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){n=this.lookU8();t=this.decodeUtf8String(n,1)}else if(218===e){n=this.lookU16();t=this.decodeUtf8String(n,2)}else if(219===e){n=this.lookU32();t=this.decodeUtf8String(n,4)}else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e){r=this.lookU16();t=this.decodeBinary(r,2)}else if(198===e){r=this.lookU32();t=this.decodeBinary(r,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){r=this.lookU8();t=this.decodeExtension(r,1)}else if(200===e){r=this.lookU16();t=this.decodeExtension(r,2)}else{if(201!==e)throw new TH("Unrecognized type byte: ".concat(AH(e)));r=this.lookU32();t=this.decodeExtension(r,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(a=void 0,"string"!==(a=typeof t)&&"number"!==a)throw new TH("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new TH("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new TH("Unrecognized array type byte: ".concat(AH(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new TH("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new TH("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new TH("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw $H;var r,o=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>vH?function(e,t,n){var r=e.subarray(t,t+n);return mH.decode(r)}(this.bytes,o,e):gH(this.bytes,o,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new TH("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw $H;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new TH("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=cH(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}();class UH{static write(e){let t=e.byteLength||e.length;const n=[];do{let e=127&t;t>>=7,t>0&&(e|=128),n.push(e)}while(t>0);t=e.byteLength||e.length;const r=new Uint8Array(n.length+t);return r.set(n,0),r.set(e,n.length),r.buffer}static parse(e){const t=[],n=new Uint8Array(e),r=[0,7,14,21,28];for(let o=0;o<e.byteLength;){let i,a=0,s=0;do{i=n[o+a],s|=(127&i)<<r[a],a++}while(a<Math.min(5,e.byteLength-o)&&128&i);if(128&i&&a<5)throw new Error("Cannot read message size.");if(5===a&&i>7)throw new Error("Messages bigger than 2GB are not supported.");if(!(n.byteLength>=o+a+s))throw new Error("Incomplete message.");t.push(n.slice?n.slice(o+a,o+a+s):n.subarray(o+a,o+a+s)),o=o+a+s}return t}}const VH=new Uint8Array([145,DB.Ping]);class GH{constructor(e){this.name="messagepack",this.version=2,this.transferFormat=zB.Binary,this._errorResult=1,this._voidResult=2,this._nonVoidResult=3,e=e||{},this._encoder=new EH(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat),this._decoder=new MH(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength)}parseMessages(e,t){if(!(n=e)||"undefined"==typeof ArrayBuffer||!(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name))throw new Error("Invalid input for MessagePack hub protocol. Expected an ArrayBuffer.");var n;null===t&&(t=mB.instance);const r=UH.parse(e),o=[];for(const e of r){const n=this._parseMessage(e,t);n&&o.push(n)}return o}writeMessage(e){switch(e.type){case DB.Invocation:return this._writeInvocation(e);case DB.StreamInvocation:return this._writeStreamInvocation(e);case DB.StreamItem:return this._writeStreamItem(e);case DB.Completion:return this._writeCompletion(e);case DB.Ping:return UH.write(VH);case DB.CancelInvocation:return this._writeCancelInvocation(e);case DB.Close:return this._writeClose();case DB.Ack:return this._writeAck(e);case DB.Sequence:return this._writeSequence(e);default:throw new Error("Invalid message type.")}}_parseMessage(e,t){if(0===e.length)throw new Error("Invalid payload.");const n=this._decoder.decode(e);if(0===n.length||!(n instanceof Array))throw new Error("Invalid payload.");const r=n[0];switch(r){case DB.Invocation:return this._createInvocationMessage(this._readHeaders(n),n);case DB.StreamItem:return this._createStreamItemMessage(this._readHeaders(n),n);case DB.Completion:return this._createCompletionMessage(this._readHeaders(n),n);case DB.Ping:return this._createPingMessage(n);case DB.Close:return this._createCloseMessage(n);case DB.Ack:return this._createAckMessage(n);case DB.Sequence:return this._createSequenceMessage(n);default:return t.log(gB.Information,"Unknown message type '"+r+"' ignored."),null}}_createCloseMessage(e){if(e.length<2)throw new Error("Invalid payload for Close message.");return{allowReconnect:e.length>=3?e[2]:void 0,error:e[1],type:DB.Close}}_createPingMessage(e){if(e.length<1)throw new Error("Invalid payload for Ping message.");return{type:DB.Ping}}_createInvocationMessage(e,t){if(t.length<5)throw new Error("Invalid payload for Invocation message.");const n=t[2];return n?{arguments:t[4],headers:e,invocationId:n,streamIds:[],target:t[3],type:DB.Invocation}:{arguments:t[4],headers:e,streamIds:[],target:t[3],type:DB.Invocation}}_createStreamItemMessage(e,t){if(t.length<4)throw new Error("Invalid payload for StreamItem message.");return{headers:e,invocationId:t[2],item:t[3],type:DB.StreamItem}}_createCompletionMessage(e,t){if(t.length<4)throw new Error("Invalid payload for Completion message.");const n=t[3];if(n!==this._voidResult&&t.length<5)throw new Error("Invalid payload for Completion message.");let r,o;switch(n){case this._errorResult:r=t[4];break;case this._nonVoidResult:o=t[4]}return{error:r,headers:e,invocationId:t[2],result:o,type:DB.Completion}}_createAckMessage(e){if(e.length<1)throw new Error("Invalid payload for Ack message.");return{sequenceId:e[1],type:DB.Ack}}_createSequenceMessage(e){if(e.length<1)throw new Error("Invalid payload for Sequence message.");return{sequenceId:e[1],type:DB.Sequence}}_writeInvocation(e){let t;return t=e.streamIds?this._encoder.encode([DB.Invocation,e.headers||{},e.invocationId||null,e.target,e.arguments,e.streamIds]):this._encoder.encode([DB.Invocation,e.headers||{},e.invocationId||null,e.target,e.arguments]),UH.write(t.slice())}_writeStreamInvocation(e){let t;return t=e.streamIds?this._encoder.encode([DB.StreamInvocation,e.headers||{},e.invocationId,e.target,e.arguments,e.streamIds]):this._encoder.encode([DB.StreamInvocation,e.headers||{},e.invocationId,e.target,e.arguments]),UH.write(t.slice())}_writeStreamItem(e){const t=this._encoder.encode([DB.StreamItem,e.headers||{},e.invocationId,e.item]);return UH.write(t.slice())}_writeCompletion(e){const t=e.error?this._errorResult:void 0!==e.result?this._nonVoidResult:this._voidResult;let n;switch(t){case this._errorResult:n=this._encoder.encode([DB.Completion,e.headers||{},e.invocationId,t,e.error]);break;case this._voidResult:n=this._encoder.encode([DB.Completion,e.headers||{},e.invocationId,t]);break;case this._nonVoidResult:n=this._encoder.encode([DB.Completion,e.headers||{},e.invocationId,t,e.result])}return UH.write(n.slice())}_writeCancelInvocation(e){const t=this._encoder.encode([DB.CancelInvocation,e.headers||{},e.invocationId]);return UH.write(t.slice())}_writeClose(){const e=this._encoder.encode([DB.Close,null]);return UH.write(e.slice())}_writeAck(e){const t=this._encoder.encode([DB.Ack,e.sequenceId]);return UH.write(t.slice())}_writeSequence(e){const t=this._encoder.encode([DB.Sequence,e.sequenceId]);return UH.write(t.slice())}_readHeaders(e){const t=e[1];if("object"!=typeof t)throw new Error("Invalid headers.");return t}}var FH,jH,qH=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class BH{constructor(e){var t,n,r,o;this.currentVersion={$type:iq.$type,version:void 0},this.isInitialized=!1,this.pendingEvents=[],this.sentEvents=[],this.confirmedEvents=[],this.syncedSnapshot=nM(),this.incomingEventBatches=e.pipe(bL((e=>oB(e))),(o=RC(t=e=>{(function(e){return e.$type===Xj.$type})(e)&&this.handleConfirmedMessage(e),function(e){return e.$type===Kj.$type}(e)&&this.handleInitializedMessage()})||n||r?{next:t,error:n,complete:r}:t)?YC((function(e,t){var n;null===(n=o.subscribe)||void 0===n||n.call(o);var r=!0;e.subscribe(XC(t,(function(e){var n;null===(n=o.next)||void 0===n||n.call(o,e),t.next(e)}),(function(){var e;r=!1,null===(e=o.complete)||void 0===e||e.call(o),t.complete()}),(function(e){var n;r=!1,null===(n=o.error)||void 0===n||n.call(o,e),t.error(e)}),(function(){var e,t;r&&(null===(e=o.unsubscribe)||void 0===e||e.call(o)),null===(t=o.finalize)||void 0===t||t.call(o)})))})):JC,wL(nB),bL((e=>this.handlePublished(e))),OL())}addClientEvents(e){return qH(this,void 0,void 0,(function*(){this.pendingEvents.push(...e),yield this.trySendPendingEvents()}))}handleConfirmedMessage(e){this.currentVersion=e.currentVersion,this.syncedSnapshot=this.sentEvents.reduce(Kq,this.syncedSnapshot),this.confirmedEvents.push(...this.sentEvents),this.sentEvents=[],this.trySendPendingEvents()}handlePublished(e){const t=e.events;this.syncedSnapshot=t.reduce(Kq,this.syncedSnapshot);const{transformedIncomingEvents:n,transformedExistingEvents:r}=Pq(t,this.sentEvents);this.sentEvents=r;const{transformedIncomingEvents:o,transformedExistingEvents:i}=Pq(n,this.pendingEvents);return this.pendingEvents=i,this.confirmedEvents.push(...o),this.currentVersion=e.currentVersion,this.trySendPendingEvents(),o}connectToSession(e){this.isInitialized=!1,this.sendEvents=e,this.trySendPendingEvents()}trySendPendingEvents(){return qH(this,void 0,void 0,(function*(){if(yield jq(0),0===this.pendingEvents.length||this.sentEvents.length>0||!this.isInitialized||!this.sendEvents)return;const e=this.pendingEvents.reduce(((e,t)=>{if(function(e){var t,n;return void 0!==e&&(null===(t=e.range)||void 0===t?void 0:t.start)===(null===(n=e.range)||void 0===n?void 0:n.end)&&0===e.text.length}(t.textChangeOperation))return e;if(0===e.length)return[t];const n=e[e.length-1];if((null==n?void 0:n.fieldName)!==t.fieldName||!t.textChangeOperation||!(null==n?void 0:n.textChangeOperation))return[...e,t];const r=n.textChangeOperation,o=t.textChangeOperation,i=o.range.start-r.range.start,a=o.range.end-r.range.start,s=Math.max(0,i),l=Math.min(r.text.length,a);if(s>l)return[...e,t];const c=Math.min(0,i),u=a-i-(l-s),d=bq(wq(r.range.start+c,r.range.end+c+u,r.text.slice(0,s)+o.text+r.text.slice(l)),t.fieldName);return[...e.slice(0,-1),d]}),new Array);e.length>0&&(this.sentEvents=this.sendEvents(e,this.currentVersion)),this.pendingEvents=[]}))}handleInitializedMessage(){this.sentEvents.length>0&&this.sendEvents(this.sentEvents,this.currentVersion),this.isInitialized=!0,this.trySendPendingEvents()}}function HH(e){switch(e){case 0:case"STATUS_CODE_UNSPECIFIED":return jH.UNSPECIFIED;case 1:case"STATUS_CODE_CANCELLED":return jH.CANCELLED;case 2:case"STATUS_CODE_UNKNOWN":return jH.UNKNOWN;case 3:case"STATUS_CODE_INVALID_ARGUMENT":return jH.INVALID_ARGUMENT;case 4:case"STATUS_CODE_DEADLINE_EXCEEDED":return jH.DEADLINE_EXCEEDED;case 5:case"STATUS_CODE_NOT_FOUND":return jH.NOT_FOUND;case 6:case"STATUS_CODE_ALREADY_EXISTS":return jH.ALREADY_EXISTS;case 7:case"STATUS_CODE_PERMISSION_DENIED":return jH.PERMISSION_DENIED;case 8:case"STATUS_CODE_RESOURCE_EXHAUSTED":return jH.RESOURCE_EXHAUSTED;case 9:case"STATUS_CODE_FAILED_PRECONDITION":return jH.FAILED_PRECONDITION;case 10:case"STATUS_CODE_ABORTED":return jH.ABORTED;case 11:case"STATUS_CODE_OUT_OF_RANGE":return jH.OUT_OF_RANGE;case 12:case"STATUS_CODE_UNIMPLEMENTED":return jH.UNIMPLEMENTED;case 13:case"STATUS_CODE_INTERNAL":return jH.INTERNAL;case 14:case"STATUS_CODE_UNAVAILABLE":return jH.UNAVAILABLE;case 15:case"STATUS_CODE_DATA_LOSS":return jH.DATA_LOSS;case 16:case"STATUS_CODE_UNAUTHENTICATED":return jH.UNAUTHENTICATED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StatusCode")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.START_SESSION_REQUEST=1]="START_SESSION_REQUEST",e[e.START_SESSION_RESPONSE=2]="START_SESSION_RESPONSE",e[e.EVENT_VERSION=3]="EVENT_VERSION",e[e.PARTICIPANT_REQUEST=4]="PARTICIPANT_REQUEST",e[e.PARTICIPANT_RESPONSE=5]="PARTICIPANT_RESPONSE",e[e.CLIENT_ERROR_INFO=6]="CLIENT_ERROR_INFO"}(FH||(FH={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(jH||(jH={}));const JH={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",encode:(e,t=new tV)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JH.$type,value:WH(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>JH.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const zH={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",encode(e,t=new tV){0!==e.statusCode&&t.uint32(8).int32(e.statusCode),void 0!==e.detailCode&&JH.encode(e.detailCode,t.uint32(18).fork()).join();for(const n of e.fallbackDetailCodes)JH.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof nV?e:new nV(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",statusCode:0,detailCode:void 0,fallbackDetailCodes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.statusCode=n.int32();continue;case 2:if(18!==e)break;o.detailCode=JH.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.fallbackDetailCodes.push(JH.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zH.$type,statusCode:WH(e.statusCode)?HH(e.statusCode):0,detailCode:WH(e.detailCode)?JH.fromJSON(e.detailCode):void 0,fallbackDetailCodes:globalThis.Array.isArray(null==e?void 0:e.fallbackDetailCodes)?e.fallbackDetailCodes.map((e=>JH.fromJSON(e))):[]}),toJSON(e){var t;const n={};return 0!==e.statusCode&&(n.statusCode=function(e){switch(e){case jH.UNSPECIFIED:return"STATUS_CODE_UNSPECIFIED";case jH.CANCELLED:return"STATUS_CODE_CANCELLED";case jH.UNKNOWN:return"STATUS_CODE_UNKNOWN";case jH.INVALID_ARGUMENT:return"STATUS_CODE_INVALID_ARGUMENT";case jH.DEADLINE_EXCEEDED:return"STATUS_CODE_DEADLINE_EXCEEDED";case jH.NOT_FOUND:return"STATUS_CODE_NOT_FOUND";case jH.ALREADY_EXISTS:return"STATUS_CODE_ALREADY_EXISTS";case jH.PERMISSION_DENIED:return"STATUS_CODE_PERMISSION_DENIED";case jH.RESOURCE_EXHAUSTED:return"STATUS_CODE_RESOURCE_EXHAUSTED";case jH.FAILED_PRECONDITION:return"STATUS_CODE_FAILED_PRECONDITION";case jH.ABORTED:return"STATUS_CODE_ABORTED";case jH.OUT_OF_RANGE:return"STATUS_CODE_OUT_OF_RANGE";case jH.UNIMPLEMENTED:return"STATUS_CODE_UNIMPLEMENTED";case jH.INTERNAL:return"STATUS_CODE_INTERNAL";case jH.UNAVAILABLE:return"STATUS_CODE_UNAVAILABLE";case jH.DATA_LOSS:return"STATUS_CODE_DATA_LOSS";case jH.UNAUTHENTICATED:return"STATUS_CODE_UNAUTHENTICATED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StatusCode")}}(e.statusCode)),void 0!==e.detailCode&&(n.detailCode=JH.toJSON(e.detailCode)),(null===(t=e.fallbackDetailCodes)||void 0===t?void 0:t.length)&&(n.fallbackDetailCodes=e.fallbackDetailCodes.map((e=>JH.toJSON(e)))),n},create:e=>zH.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",statusCode:0,detailCode:void 0,fallbackDetailCodes:[]};return r.statusCode=null!==(t=e.statusCode)&&void 0!==t?t:0,r.detailCode=void 0!==e.detailCode&&null!==e.detailCode?JH.fromPartial(e.detailCode):void 0,r.fallbackDetailCodes=(null===(n=e.fallbackDetailCodes)||void 0===n?void 0:n.map((e=>JH.fromPartial(e))))||[],r}};function WH(e){return null!=e}function YH(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function XH(){const e=new bH;return e.register({type:FH.START_SESSION_REQUEST,encode:e=>YH(e)&&"sessionMode"in e?Jj.encode(e).finish():null,decode:e=>Jj.decode(e)}),e.register({type:FH.START_SESSION_RESPONSE,encode:e=>YH(e)&&"sessionId"in e&&"participantId"in e&&"sessionToken"in e?zj.encode(e).finish():null,decode:e=>zj.decode(e)}),e.register({type:FH.EVENT_VERSION,encode:e=>YH(e)&&"version"in e?iq.encode(e).finish():null,decode:e=>iq.decode(e)}),e.register({type:FH.PARTICIPANT_REQUEST,encode:e=>YH(e)&&("appendMessage"in e||"updateAuthenticationTokenMessage"in e)?Wj.encode(e).finish():null,decode:e=>Wj.decode(e)}),e.register({type:FH.PARTICIPANT_RESPONSE,encode:e=>YH(e)&&"confirmedMessage"in e&&"initializedMessage"in e&&"publishedMessage"in e?Yj.encode(e).finish():null,decode:e=>Yj.decode(e)}),e.register({type:FH.CLIENT_ERROR_INFO,encode:e=>YH(e)&&"statusCode"in e&&"detailCode"in e&&"fallbackDetailCodes"in e?zH.encode(e).finish():null,decode:e=>zH.decode(e)}),e}function KH(e,t){return e.start===t.start&&e.end===t.end}function QH(e,t){return t.start<=e.start&&e.end<=t.end}function ZH(e,t){return QH(e,t)&&!KH(e,t)}function eJ(e,t=!1){const n={start:0,end:e.plainText.length};if(t){const t=function(e,t){const n=vJ(e),{remainingForest:r,extractedTrees:o}=mJ(n,t);return o.reduce(gJ,r)}(iJ(e.textFormattingAnnotations,!1),n);return sJ(e.plainText,n,t)}{const t=iJ(e.textFormattingAnnotations);return sJ(e.plainText,n,t)}}function tJ(e,t,n){if(t.nodeType===Node.TEXT_NODE)return{text:t.textContent,id:void 0};const r={$type:BG.$type,value:crypto.randomUUID()};let o=n,i="";const a=[];if(t.hasChildNodes())for(const n of t.childNodes){const t=tJ(e,n,o),r=t.text,s=t.id;o+=r.length,i=i.concat(r),void 0!==s&&a.push(s)}const s={$type:TV.$type,start:n,end:o},l={};if(t instanceof HTMLAnchorElement){t.href.length<=1024?l.href=t.href:console.warn("[text-formatting] discarding href with too many bytes")}if("HTML"!==t.nodeName&&"BODY"!==t.nodeName&&"HEAD"!==t.nodeName){const n={$type:HG.$type,textFormattingId:r,name:t.nodeName,children:a,attributes:l};e.push({operation:{$type:qj.$type,annotationId:{$type:hV.$type,value:crypto.randomUUID()},range:s,textFormattingPayload:n},specificPayload:n})}return{text:i,id:r}}function nJ(e){const t=(new DOMParser).parseFromString(`<body>${e}</body>`,"text/html"),n=new Array,{text:r}=tJ(n,t.body,0);return{plainText:r,textFormattingAnnotations:n}}function rJ(e,t){return Object.assign(Object.assign({},e),{children:t,childTextFormattingIds:t.map((e=>e.textFormattingId))})}function oJ(e){const{textFormattingId:t,name:n,children:r,attributes:o}=e.specificPayload;Mq(void 0!==t,"[text-formatting] text formatting annotation without ID");const{range:i}=e.operation;return Mq(void 0!==i,"[text-formatting] text formatting annotation without range"),Mq(void 0!==e.operation.annotationId,"[text-formatting] annotation without annotationId"),{textFormattingId:t.value,annotationId:e.operation.annotationId.value,tag:n,range:i,childTextFormattingIds:r.map((e=>e.value)),href:o.href}}function iJ(e,t=!0){const n=new Map;for(const r of e){const e=oJ(r);try{Mq(!n.has(e.textFormattingId),"[text-formatting] multiple formatting annotations with same formatting ID"),n.set(e.textFormattingId,e)}catch(e){if(t)throw e;console.warn(e)}}const r=new Set;const o=new Set(n.keys());for(const e of n.values())for(const t of e.childTextFormattingIds)o.delete(t);return[...o].sort(((e,t)=>{const r=n.get(e),o=n.get(t);return r.range.start-o.range.start||r.range.end-o.range.end})).flatMap((function e(o){try{Mq(!r.has(o),`[text-formatting] ID "${o}" is child of multiple annotations.`);const t=n.get(o);return Mq(void 0!==t,`[text-formatting] no annotation for ID "${o}".`),n.delete(o),r.add(o),[rJ(t,t.childTextFormattingIds.flatMap(e))]}catch(e){if(t)throw e;return console.warn(e),[]}}))}function aJ(e,t){const n=sJ(e,t.range,t.children);if("BR"===t.tag)return Mq(""===n,"[text-formatting] BR element with children"),"<BR/>";if("A"===t.tag){return`<A${void 0===t.href||""===t.href?"":` href="${t.href}"`}>${n}</A>`}return`<${t.tag}>${n}</${t.tag}>`}function sJ(e,t,n){let r=t.start,o="";for(const t of n)Mq(r<=t.range.start,"[text-formatting] sibling annotations with overlapping ranges"),o+=Vq(e.slice(r,t.range.start)),o+=aJ(e,t),r=t.range.end;return Mq(r<=t.end,"[text-formatting] child annotation leaks out of parent range"),o+=Vq(e.slice(r,t.end)),o}function lJ(e,t){const n=iJ(e),r=iJ(t);performance.now();const o=function(e,t){const n=new Map,r=(e,t)=>{if(!function(e,t){return e.tag===t.tag&&e.range.start===t.range.start&&e.range.end===t.range.end}(e,t))return 0;if(e.children.length!==t.children.length)return 1;const o=n.get(e.textFormattingId),i=null==o?void 0:o.get(t.textFormattingId);if(void 0!==i)return i;const a=[...Fq(e.children,t.children)].map((([e,t])=>r(e,t))),s=Math.min(...a)+1;return void 0===o?n.set(e.textFormattingId,new Map([[t.textFormattingId,s]])):o.set(t.textFormattingId,s),s},{operations:o}=pJ(e,t,r);return o}(n,r);return performance.now(),o}function cJ(e){return function(e){const t=BG.create({value:e.textFormattingId}),n=HG.create({textFormattingId:t,name:e.tag,children:e.childTextFormattingIds.map((e=>({$type:BG.$type,value:e}))),attributes:e.href?{href:e.href}:{}});return{operation:qj.create({annotationId:hV.create({value:crypto.randomUUID()}),range:TV.create({start:e.range.start,end:e.range.end}),textFormattingPayload:n}),specificPayload:n}}(e).operation}function uJ(e){return Bj.create({annotationId:hV.create({value:e.annotationId})})}function dJ(e){return e.flatMap((e=>[e,...dJ(e.children)]))}function pJ(e,t,n){if(0===e.length)return{resultForest:t,operations:dJ(t).map(cJ)};if(0===t.length)return{resultForest:[],operations:dJ(e).map(uJ)};const[r,...o]=e,[i,...a]=t;if(n(r,i)===1/0){const e=pJ(o,a,n);return{resultForest:[r,...e.resultForest],operations:e.operations}}return fJ(e,t,n)}function fJ(e,t,n){if(0===e.length)return{resultForest:t,operations:dJ(t).map(cJ)};if(0===t.length)return{resultForest:[],operations:dJ(e).map(uJ)};const r=e[e.length-1],o=e.slice(0,-1),i=t[t.length-1],a=t.slice(0,-1),s=n(r,i);if(s===1/0){const e=fJ(o,a,n);return{resultForest:[...e.resultForest,r],operations:e.operations}}const l=pJ(r.children,i.children,n);if(0===s){const e=rJ(i,l.resultForest);return{resultForest:[...a,e],operations:[...l.operations,...dJ(o).map(uJ),uJ(r),...dJ(a).map(cJ),cJ(e)]}}if(1===s){const e=rJ({tag:i.tag,range:i.range,annotationId:i.annotationId,textFormattingId:r.textFormattingId},l.resultForest);return{resultForest:[...a,e],operations:[...l.operations,...dJ(o).map(uJ),uJ(r),...dJ(a).map(cJ),cJ(e)]}}{const e=rJ(r,l.resultForest);return{resultForest:[...a,e],operations:[...l.operations,...dJ(o).map(uJ),...dJ(a).map(cJ)]}}}function hJ(e,t){const n=["DIV","P","H1","H2","H3","H4","H5","H6","UL","OL","LI","A","B","STRONG","I","EM","INS","DEL","CODE","U","S","SPAN","BR"],r=n.indexOf(e.tag);-1===r&&console.warn(`[text-formatting] Don't know how to merge trees with tag <${e.tag}>`);const o=n.indexOf(t.tag);return-1===r&&console.warn(`[text-formatting] Don't know how to merge trees with tag <${t.tag}>`),r<=o?rJ(e,gJ(e.children,t)):rJ(t,gJ(t.children,e))}function gJ(e,t){if(0===e.length)return[t];{const[n,...r]=e;if(t.range.end<=n.range.start)return[t,...e];if(t.range.start>=n.range.end)return[n,...gJ(r,t)];if(KH(t.range,n.range))return[hJ(t,n),...r];if(ZH(t.range,n.range)){return[rJ(n,gJ(n.children,t)),...r]}if(ZH(n.range,t.range)){const e=rJ(t,gJ(t.children,n));return gJ(r,e)}return console.warn("[text-formatting] Dropping annotation with unrecoverable range overlap."),console.warn("tried to insert tree: ",t),console.warn("into forest: ",e),e}}function mJ(e,t){if(0===e.length)return{extractedTrees:[],remainingForest:[]};const[n,...r]=e,o=mJ(n.children,n.range),i=rJ(n,o.remainingForest);if(QH(i.range,t)){const e=mJ(r,{start:i.range.end,end:t.end});return{remainingForest:[i,...e.remainingForest],extractedTrees:[...o.extractedTrees,...e.extractedTrees]}}{console.warn("[text-formatting] Annotation range overlaps with sibling or leaks out of parent. Will try to recover."),console.warn("Offending tree: ",n);const e=mJ(r,t);return{remainingForest:e.remainingForest,extractedTrees:[i,...e.extractedTrees,...o.extractedTrees]}}}function vJ(e){return e.flatMap((e=>"BR"===e.tag&&e.range.start!==e.range.end?(console.warn("[text-formatting] Dropping <BR> with non-zero range."),e.children):[rJ(e,vJ(e.children))]))}const _J="autodetect",yJ="en-US",TJ="autodetect";var SJ,bJ,wJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};!function(e){e[e.Negotiate=0]="Negotiate",e[e.EnforceLongPolling=1]="EnforceLongPolling",e[e.OptimisticWebsocket=2]="OptimisticWebsocket"}(SJ||(SJ={})),function(e){e[e.Connecting=0]="Connecting",e[e.Reconnecting=1]="Reconnecting",e[e.Restoring=2]="Restoring",e[e.Connected=3]="Connected",e[e.Disconnected=4]="Disconnected"}(bJ||(bJ={}));class EJ extends Error{constructor(){super(...arguments),this.name="ConnectionError"}}class AJ extends Error{constructor(e){super("There was an error with the session on the server. See the info property for details."),this.info=e,this.name="SessionError"}}class IJ{constructor(e,t,n,r,o){this.config=e,this.client=t,this.dangerousEnableItaMessageConsoleLogging=n,this.serverUrl=r,this.metaInfo=o,this.participantResponses=new ZC,this.participantRequests=new ZC,this.errorInfoSubject=new tL(null),this.traceIdSubject=new ZC,this.traceId=this.traceIdSubject.asObservable(),this.error=this.errorInfoSubject.pipe(wL((e=>null!==e))),this.statusSubject=new tL(bJ.Disconnected),this.status=this.statusSubject.asObservable(),this.messagesSubject=new ZC,this.messages=this.messagesSubject.asObservable(),this.accountIdAtSessionStart=this.config.accountId.value,this.participantRequests.subscribe((e=>this.messagesSubject.next(e))),this.participantResponses.subscribe((e=>this.messagesSubject.next(e))),this.dangerousEnableItaMessageConsoleLogging&&this.messages.subscribe((e=>{const t=JSON.parse(JSON.stringify(oB(e)));tB(e)?console.info("[Session] send:",t):console.info("[Session] recv:",t)})),this.eventHandler=new BH(this.participantResponses),e.isRestoredSession||this.client.addChangeHandler((e=>{this.eventHandler.addClientEvents(e)})),e.isRestoredSession||this.eventHandler.incomingEventBatches.subscribe((e=>this.client.applyFieldEventBatch(e))),this.participantResponses.pipe(bL(oB),wL(rB)).subscribe((e=>{var t;return null===(t=this.metaInfo)||void 0===t?void 0:t.addMetaInfoMessage(e)})),this.statusSubject.subscribe((e=>{var t;e===bJ.Disconnected&&(null===(t=this.connection)||void 0===t||t.stop())}))}connect(e,t){return wJ(this,void 0,void 0,(function*(){return this.connectInternal({baseDocument:e,appInformation:t})}))}connectInternal(e){return wJ(this,void 0,void 0,(function*(){if(this.statusSubject.value!==bJ.Disconnected)return;this.errorInfoSubject.next(null),this.startSessionResponse&&!e.baseDocument?this.statusSubject.next(bJ.Reconnecting):this.statusSubject.next(bJ.Connecting),this.startSessionResponse&&!e.baseDocument||(this.startSessionResponse=yield this.startSession(e));const{signalrEndpoint:t}=this.startSessionResponse;Mq(void 0!==t,"Signalr V2 endpoint undefined in StartSessionResponse");const n=this.serverUrl.origin+t;let r;try{r=yield RJ(n,this.config.accessToken,this.config.transportStrategy)}catch(e){throw this.statusSubject.next(bJ.Disconnected),e}const o=new tL(null);r.on("OnError",(e=>{o.next(new AJ(e))}));const i=new Promise((e=>{r.onclose(e)}));try{if(yield r.invoke("Participate",this.eventHandler.currentVersion),null!==o.value)throw o.value}catch(e){throw null===o.value?new EJ(`Error calling Participate: ${e}`):o.value}var a;this.eventHandler.connectToSession(((e,t)=>{const n=e.map((e=>Object.assign(Object.assign({},e),{participantId:this.startSessionResponse.participantId})));if(this.statusSubject.value!==bJ.Connected)return n;const r=kq(function(e,t){return{$type:tq.$type,events:e,baseVersion:t}}(n,t));return this.sendAppendRequest(r),n})),this.config.accessToken.pipe(wL((e=>"string"==typeof e)),(a=this.status.pipe(wL((e=>e===bJ.Connected))),YC((function(e,t){var n=!1,r=XC(t,(function(){null==r||r.unsubscribe(),n=!0}),UC);hL(a).subscribe(r),e.subscribe(XC(t,(function(e){return n&&t.next(e)})))}))),PL(this.status.pipe(wL((e=>e===bJ.Disconnected))))).subscribe((e=>this.updateAuthenticationToken(e))),r.on("AppendResponse",(e=>{this.statusSubject.value!==bJ.Connected&&this.statusSubject.next(bJ.Connected),this.participantResponses.next(e)})),o.subscribe((e=>{null!==e&&this.statusSubject.next(bJ.Disconnected),this.errorInfoSubject.next(e)})),i.then((e=>{o.complete(),this.statusSubject.value===bJ.Connected&&(this.statusSubject.next(bJ.Disconnected),this.errorInfoSubject.next(new EJ(`The connection was closed with error: ${e} `)))})),this.connection=r}))}sendAppendRequest(e){return wJ(this,void 0,void 0,(function*(){try{this.participantRequests.next(e),Mq(void 0!==this.connection),yield this.connection.invoke("AppendRequest",e)}catch(e){Mq(e instanceof Error),this.statusSubject.next(bJ.Disconnected);const t="Server timeout elapsed without receiving a message from the server.",n="Cannot send data if the connection is not in the 'Connected' State.";if(/^An unexpected error occurred invoking 'AppendRequest' on the server. HubException(WithLogLevel)?: Message validation failed$/.test(e.message)){const e=zH.create({detailCode:JH.create({value:"304_message_validation_failed"}),fallbackDetailCodes:[]});this.errorInfoSubject.next(new AJ(e))}else e.message===t||e.message===n?(this.errorInfoSubject.next(new EJ(e.message)),this.statusSubject.next(bJ.Disconnected)):(console.error(`[SessionV2] AppendRequest failed with unknown error type: ${e.message}`),this.errorInfoSubject.next(new EJ),this.statusSubject.next(bJ.Disconnected))}}))}startSession(e){return wJ(this,void 0,void 0,(function*(){var t;let n=null==e?void 0:e.appInformation;void 0!==n&&(n=Object.assign(Object.assign({},n),{appVersion:`${n.appVersion} (ITA SDK 6.0.1)`}));const r={$type:Jj.$type,sessionMode:this.client.sessionMode,baseDocument:null==e?void 0:e.baseDocument,previousSessionId:null==e?void 0:e.previousSessionId,translatorSessionOptions:{$type:fj.$type,enableTranscription:this.config.enableTranscription,enableTranslatorQuoteConversion:this.config.enableTranslatorQuoteConversion,disableLanguageWeights:this.config.disableLanguageWeights,doNotOverrideRequestedSourceLanguage:this.config.doNotOverrideRequestedSourceLanguage,enableInlineSuggestions:this.config.enableInlineSuggestions,usageType:fF.UNSPECIFIED},appInformation:n};try{const e=Jj.encode(r).finish(),n=new URL("/v2/startSession",this.serverUrl),o={"Content-Type":"application/x-protobuf"},i=this.config.accessToken.getValue();i&&(o.Authorization=`Bearer ${i}`);const a=yield fetch(n,{method:"POST",headers:o,body:e,credentials:"include"}),s=null!==(t=a.headers.get("x-trace-id"))&&void 0!==t?t:void 0;this.traceIdSubject.next(s);const l=a.headers.get("Content-Type"),c=l&&l.includes("application/x-protobuf"),u=new Uint8Array(yield a.arrayBuffer());if(!a.ok&&c){const e=zH.decode(u);throw new AJ(e)}if(!a.ok)throw new EJ(`HTTP error! Status: ${a.status}`);if(!c)throw new EJ(`Response does not include a StartSessionResponse payload. Status: ${a.status}`);return zj.decode(u)}catch(e){throw this.statusSubject.next(bJ.Disconnected),e instanceof AJ||e instanceof EJ?e:e instanceof TypeError?new EJ(e.message):new EJ(`Error starting session via HTTP POST: ${e}`)}}))}restore(){return wJ(this,void 0,void 0,(function*(){var e,t;const n=this.errorInfoSubject.value,r=n&&n instanceof AJ&&"304_message_validation_failed"===(null===(e=n.info.detailCode)||void 0===e?void 0:e.value);this.errorInfoSubject.next(null),this.statusSubject.next(bJ.Restoring),this.participantResponses.complete(),null===(t=this.connection)||void 0===t||t.stop();const o=Xq(this.eventHandler.syncedSnapshot);return this.restoreFrom(o,null!=r&&r)}))}restoreFrom(e,t){return wJ(this,void 0,void 0,(function*(){var n;const r=Object.assign(Object.assign({},this.config),{isRestoredSession:!0}),o=new IJ(r,this.client,this.dangerousEnableItaMessageConsoleLogging,this.serverUrl,this.metaInfo);o.eventHandler.incomingEventBatches.pipe(PL(o.participantResponses.pipe(wL((e=>!!e.initializedMessage)))),EL(((e,t)=>[...e,...t]),[])).subscribe((n=>{const r=this.client.document.stateReadonly.value;let i=n.reduce(Kq,o.client.document.initialState);if(!t&&(void 0===e||function(e,t){var n;const r=new Set([...e.fields.map((e=>e.fieldName)),...t.keys()]);for(const o of r){const r=e.fields.find((e=>e.fieldName===o));if((null!==(n=null==r?void 0:r.text)&&void 0!==n?n:"")!==Zq(o,t).content)return!1}return!0}(e,i))){let e=[...this.eventHandler.sentEvents,...this.eventHandler.pendingEvents];e=function(e,t,n){const r=e.filter((e=>{var t;return!(null===(t=e.createAnnotationOperation)||void 0===t?void 0:t.textFormattingPayload)})),o=[];for(const[e,r]of n.entries()){const n=lJ(Jq(r,HG.$type),Jq(Zq(e,t),HG.$type));o.push(...n.map((t=>bq(t,e))))}return[...r,...o]}(e,r,i),e=function(e,t){return e.map((e=>{var n;const r=e.setPropertyOperation;if(void 0===r)return e;const o=function(e){var t,n,r,o,i,a;const s=hq(e);if(s)switch(s.$type){case YV.$type:return null===(t=s.language)||void 0===t?void 0:t.code;case XV.$type:return null===(n=s.language)||void 0===n?void 0:n.code;case VF.$type:return null===(r=s.sourceLanguage)||void 0===r?void 0:r.code;case GF.$type:return null===(o=s.sourceLanguage)||void 0===o?void 0:o.code;case FF.$type:return null===(i=s.targetLanguage)||void 0===i?void 0:i.code;case jF.$type:return null===(a=s.targetLanguage)||void 0===a?void 0:a.code;default:return}}(r);if(void 0===o)return e;const i=function(e,t){var n,r,o;if(e===Dj.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE||e===Dj.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE){const e=null===(n=Zq($j.TRANSLATOR_SOURCE_TEXT,t).properties.get(Dj.TRANSLATOR_SOURCE_LANGUAGES))||void 0===n?void 0:n.value;return void 0===e?[]:(Mq(e.$type===MF.$type),e.sourceLanguages.map((e=>e.code)))}if(e===Dj.TRANSLATOR_CALCULATED_TARGET_LANGUAGE||e===Dj.TRANSLATOR_REQUESTED_TARGET_LANGUAGE){const e=null===(r=Zq($j.TRANSLATOR_TARGET_TEXT,t).properties.get(Dj.TRANSLATOR_TARGET_LANGUAGES))||void 0===r?void 0:r.value;return void 0===e?[]:(Mq(e.$type===UF.$type),e.targetLanguages.map((e=>e.code)))}if(e===Dj.WRITE_CALCULATED_LANGUAGE||e===Dj.WRITE_REQUESTED_LANGUAGE){const e=null===(o=Zq($j.WRITE_SOURCE_TEXT,t).properties.get(Dj.WRITE_LANGUAGES))||void 0===o?void 0:o.value;return void 0===e?[]:(Mq(e.$type===zV.$type),e.languages.map((e=>e.code)))}return[]}(r.propertyName,t);if("autodetect"===o||i.includes(o))return e;{const t=null!==(n=function(e){switch(e){case Dj.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE:return _J;case Dj.TRANSLATOR_REQUESTED_TARGET_LANGUAGE:return yJ;case Dj.WRITE_REQUESTED_LANGUAGE:return TJ;default:return}}(r.propertyName))&&void 0!==n?n:i[0];return Mq(["autodetect",...i].includes(t)),Object.assign(Object.assign({},e),{setPropertyOperation:mq(r,t)})}}))}(e,i);const t=e.map((e=>Object.assign(Object.assign({},e),{participantId:o.startSessionResponse.participantId})));i=t.reduce(Kq,i),o.eventHandler.addClientEvents(t),i=function(e,t){let n=e;for(const[e,r]of t){const t=Zq(e,n),o=r.content,i=t.content;Mq(o.startsWith(i),"Logic error while restoring excess field content: New content should be prefix of old content."),n=n.set(e,Object.assign(Object.assign({},t),{content:o}))}return n}(i,r)}o.client.document.updateState((e=>i)),o.client.addChangeHandler((e=>{o.eventHandler.addClientEvents(e)})),o.eventHandler.incomingEventBatches.subscribe((e=>o.client.applyFieldEventBatch(e)))}));try{let t=null===(n=this.startSessionResponse)||void 0===n?void 0:n.sessionId;this.accountIdAtSessionStart!==this.config.accountId.value&&(console.error("[ITA SDK] Warning: Restoring a session for a different account."),t=void 0),yield o.connectInternal({baseDocument:e,previousSessionId:t})}catch(e){throw this.statusSubject.next(bJ.Disconnected),e}return o}))}closeConnection(){return wJ(this,void 0,void 0,(function*(){void 0===this.connection?console.warn("called closeConnection without active connection"):yield this.connection.stop()}))}updateAuthenticationToken(e){const t=kq({$type:nq.$type,token:e});this.sendAppendRequest(t)}}function RJ(e,t,n){return wJ(this,void 0,void 0,(function*(){const r=(new rH).withHubProtocol(new GH({extensionCodec:XH()})).configureLogging(gB.Critical);let o;t.value&&(o=()=>{const e=t.value;return Mq(void 0!==e),e});const i=r.withUrl(e,Object.assign({accessTokenFactory:o},function(e){switch(e){case SJ.EnforceLongPolling:return{transport:JB.LongPolling};case SJ.Negotiate:return{};case SJ.OptimisticWebsocket:return{transport:JB.WebSockets,skipNegotiation:!0};default:Uq()}}(n))).build();try{return yield i.start(),i}catch(r){Mq(r instanceof Error,"Caught value which is not of type Error");const o=r.message.includes("Status code '401'"),i=r.message.includes("Status code '403'");if(o||i)throw new AJ(zH.create({detailCode:JH.create({value:"1601_missing_or_invalid_authentication"})}));if(n===SJ.OptimisticWebsocket)return console.error(`[SessionV2] Initial connection attempt failed with error: ${r}. Retrying with long-polling transport.`),RJ(e,t,SJ.EnforceLongPolling);throw new EJ(`Error starting connection: ${r}`)}}))}var OJ=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const xJ=["301_invalid_session_token","303_unknown_session","1001_session_ended_transient","1300_session_ended_internal_error","900_multiple_invocations_forbidden"],NJ=["400_session_ended_idle_timeout","1301_session_ended_manual_eviction"],PJ=["1002_transient","1302_unhandled_internal_error"],kJ=["000_session_ended_mutual_end","200_session_ended","300_unsupported_session_mode","302_invalid_session_version","304_message_validation_failed","305_invalid_participant_id","700_service_level_mismatch","800_rate_limited","801_rate_limited_restricted","802_quota_exceeded","901_append_not_allowed","1000_participant_evicted","1200_obsolete_version_unavailable","1601_missing_or_invalid_authentication"],CJ=[...xJ,...NJ,...PJ,...kJ,"1600_session_ended_authentication_token_expired"];class LJ{constructor(e,t){this.appInformation=t,this.states=new tL({type:"initial",session:e}),this.statesReadonly=this.states.asObservable(),this.statesReadonly.subscribe((e=>{var t;console.log(`[PersistentSession] state: "${e.type}" ${null!==(t=function(e){var t,n,r;switch(e.type){case"initial":case"connect-on-user-action":case"restore-on-user-action":case"restoring":case"permanently-disconnected":case"await-access-token-update":return;case"connected":return`(session ID: ${null===(r=null===(n=null===(t=e.session)||void 0===t?void 0:t.startSessionResponse)||void 0===n?void 0:n.sessionId)||void 0===r?void 0:r.value})`;case"connecting":return`(retry #${e.retryCount})`;default:Uq()}}(e))&&void 0!==t?t:""}`)})),this.errors=new ZC,this.errorsReadonly=this.errors.asObservable()}getCurrentState(){return this.states.value}onStart(e){const t=this.states.value;Mq("initial"===t.type,'[PersistentSession] called "start" despite already started'),console.log('[PersistentSession] event: "start"'),this.initialConnect(t.session,e),this.states.next({type:"connecting",retryCount:0,session:t.session,recentFailLoopErrorTimestamps:[],visibleError:void 0})}onStop(){"permanently-disconnected"===this.states.value.type?console.warn('[PersistentSession] called "stop" despite already disconnected'):(console.log('[PersistentSession] event: "stop"'),this.states.next({type:"permanently-disconnected",visibleError:void 0}))}onUserAction(){const e=this.states.value;"initial"===e.type||("connect-on-user-action"===e.type?(console.log('[PersistentSession] event: "user action"'),this.reconnect(e.session,0),this.states.next({type:"connecting",retryCount:0,session:e.session,recentFailLoopErrorTimestamps:[],visibleError:void 0})):"restore-on-user-action"===e.type&&(console.log('[PersistentSession] event: "user action"'),this.restore(e.session),this.states.next({type:"restoring",session:e.session,recentFailLoopErrorTimestamps:[],visibleError:void 0})))}onConnected(e){const t=this.states.value;Mq("connecting"===t.type||"restoring"===t.type,`Connection established despite no connection attempt or already connected (current state: "${t.type}")`),this.states.next({type:"connected",session:e,recentFailLoopErrorTimestamps:t.recentFailLoopErrorTimestamps})}onError(e){if(e instanceof EJ)this.errors.next(e),this.onConnectionError(e);else{if(!(e instanceof AJ))throw console.error("[PersistentSession] Uncaught error:"),e;this.errors.next(e),this.onSessionError(e)}}onSessionError(e){const t=this.states.value;Mq("initial"!==t.type,"[PersistentSession] SessionError despite no connection attempt"),Mq("restore-on-user-action"!==t.type,"[PersistentSession] SessionError despite no connection attempt"),Mq("connect-on-user-action"!==t.type,"[PersistentSession] SessionError despite no connection attempt"),Mq("restoring"!==t.type,"[PersistentSession] SessionError despite no session"),Mq("await-access-token-update"!==t.type,"[PersistentSession] SessionError despite no session");const n=function(e){var t;if(void 0!==(null===(t=e.detailCode)||void 0===t?void 0:t.value)&&Gq(e.detailCode.value,CJ))return e.detailCode.value;for(const t of e.fallbackDetailCodes)if(void 0!==t.value&&Gq(t.value,CJ))return t.value}(e.info);if(console.log(`[PersistentSession] event: "session error" (${n})`),"connected"===t.type||"connecting"===t.type)if(Gq(n,NJ))this.states.next({type:"restore-on-user-action",session:t.session,visibleError:void 0});else if("1600_session_ended_authentication_token_expired"===n)this.states.next({type:"await-access-token-update",session:t.session});else if(Gq(n,xJ))this.restore(t.session),this.states.next({type:"restoring",visibleError:void 0,session:t.session,recentFailLoopErrorTimestamps:t.recentFailLoopErrorTimestamps});else if(Gq(n,PJ)){const n=Date.now(),r=[n,...t.recentFailLoopErrorTimestamps.filter((e=>n-e<=12e4))];r.length>=6?this.states.next({type:"permanently-disconnected",visibleError:e}):(this.restore(t.session),this.states.next({type:"restoring",visibleError:e,recentFailLoopErrorTimestamps:r,session:t.session}))}else Gq(n,kJ)||void 0===n?this.states.next({type:"permanently-disconnected",visibleError:e}):Uq();else"permanently-disconnected"===t.type||Uq()}onConnectionError(e){const t=this.states.value;Mq("initial"!==t.type,"[PersistentSession] ConnectionError despite no connection attempt"),Mq("restore-on-user-action"!==t.type,"[PersistentSession] ConnectionError despite no connection attempt"),Mq("connect-on-user-action"!==t.type,"[PersistentSession] ConnectionError despite no connection attempt"),Mq("await-access-token-update"!==t.type,"[PersistentSession] ConnectionError despite no connection attempt"),console.log('[PersistentSession] event: "connection error"'),"connecting"===t.type?t.retryCount>=5?this.states.next({type:"connect-on-user-action",visibleError:e,session:t.session}):(this.reconnect(t.session,t.retryCount),this.states.next({type:"connecting",retryCount:t.retryCount+1,visibleError:void 0,session:t.session,recentFailLoopErrorTimestamps:t.recentFailLoopErrorTimestamps})):"connected"===t.type?(this.reconnect(t.session,0),this.states.next({type:"connecting",retryCount:0,visibleError:void 0,session:t.session,recentFailLoopErrorTimestamps:t.recentFailLoopErrorTimestamps})):"restoring"===t.type?this.states.next({type:"restore-on-user-action",session:t.session,visibleError:e}):"permanently-disconnected"===t.type||Uq()}onAccessTokenUpdate(){const e=this.states.value;console.log('[PersistentSession] event: "access token update"'),"await-access-token-update"===e.type&&(this.restore(e.session),this.states.next({type:"restoring",session:e.session,recentFailLoopErrorTimestamps:[],visibleError:void 0}))}restore(e){return OJ(this,void 0,void 0,(function*(){try{const t=yield e.restore();t.error.subscribe((e=>{this.onError(e)})),this.onConnected(t)}catch(e){yield jq(0),this.onError(e)}}))}initialConnect(e,t){return OJ(this,void 0,void 0,(function*(){try{void 0!==t&&(e.eventHandler.pendingEvents.length>0&&(console.warn("[PersistentSession] Discarded pending client events that happened before receiving base document"),e.eventHandler.pendingEvents=[]),e.client.document.updateState((()=>function(e){let t=nM();for(const n of e.fields){let e=Bq;e=Object.assign(Object.assign({},e),{content:n.text});for(const t of n.annotations)e=Hq(e,t);for(const t of n.properties)e=Hq(e,t);t=t.set(n.fieldName,e)}return t}(t))));const n=yield e.restoreFrom(t,!1);n.error.subscribe((e=>{this.onError(e)})),this.onConnected(n)}catch(e){yield jq(0),this.onError(e)}}))}reconnect(e,t){return OJ(this,void 0,void 0,(function*(){yield function(e){return OJ(this,void 0,void 0,(function*(){e>0&&(yield jq(Math.pow(2,e-1)*$J))}))}(t);try{yield e.connect(void 0,this.appInformation),this.onConnected(e)}catch(e){this.onError(e)}}))}}const $J=500*(1+Math.random());var DJ;function MJ(e){switch(e.type){case"initial":case"connect-on-user-action":case"restore-on-user-action":case"permanently-disconnected":return DJ.Disconnected;case"connected":return DJ.Connected;case"restoring":case"connecting":case"await-access-token-update":return DJ.Connecting;default:Uq()}}!function(e){e[e.Connecting=0]="Connecting",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected"}(DJ||(DJ={}));class UJ{constructor(e,t,n,r){const o=t();var i;this.stateMachine=new LJ(o,r),e.document.stateReadonly.subscribe((()=>{this.stateMachine.onUserAction()})),o.error.subscribe((e=>{this.stateMachine.onError(e)})),n.pipe(AL(),(i=1,wL((function(e,t){return i<=t})))).subscribe((e=>{Mq(void 0!==e,"got undefined access token"),this.stateMachine.onAccessTokenUpdate()})),this.status=this.stateMachine.statesReadonly.pipe(bL(MJ)),this.userVisibleError=this.stateMachine.statesReadonly.pipe(bL((e=>"visibleError"in e?e.visibleError:void 0))),this.anyError=this.stateMachine.errorsReadonly,this.connectionAttemptLatency=this.stateMachine.statesReadonly.pipe(kL(),RL(),wL((([e,t])=>"connecting"===e.value.type&&"connected"===t.value.type)),bL((([e,t])=>t.timestamp-e.timestamp))),this.restorationAttemptLatency=this.stateMachine.statesReadonly.pipe(kL(),RL(),wL((([e,t])=>"restoring"===e.value.type&&"connected"===t.value.type)),bL((([e,t])=>t.timestamp-e.timestamp))),this.failLoopDetected=this.stateMachine.statesReadonly.pipe(wL((e=>"permanently-disconnected"===e.type)),bL((e=>{var t,n;return null===(n=null===(t=e.visibleError)||void 0===t?void 0:t.info.detailCode)||void 0===n?void 0:n.value})),wL((e=>Gq(e,PJ))));const a=this.stateMachine.statesReadonly.pipe(NL((e=>"session"in e?SL(e.session):SL())),AL());this.messages=a.pipe(NL((e=>e.messages))),this.sessionId=this.status.pipe(CL(a),bL((([e,t])=>{var n,r;return null===(r=null===(n=t.startSessionResponse)||void 0===n?void 0:n.sessionId)||void 0===r?void 0:r.value})),AL()),this.traceId=a.pipe(NL((e=>e.traceId)))}start(e){this.stateMachine.onStart(e)}stop(){this.stateMachine.onStop()}}class VJ{constructor(){this.entries=[],this.entry$=new tL(null)}log(e,t){const n={level:e,message:t,timestamp:new Date};switch(this.entries.push(n),this.entry$.next(n),e){case gB.Error:case gB.Critical:console.error(`[ITALogger] ${t}`);case gB.Debug:case gB.Warning:}}subscribe(e){return this.entry$.subscribe(e)}getAllLogs(){return[...this.entries]}}class GJ{constructor(e,t,n){this.serverUrl=e,this.options=n,this.logger=new VJ;const r=new URL(e);r.pathname+="/sessions";const o=[(null==n?void 0:n.disableRateLimiting)?"disable-rate-limiting":null,(null==n?void 0:n.disableBotProtection)?"disable-bot-protection":null,(null==n?void 0:n.dangerousEnableUserTextLogging)?"dangerous-enable-user-text-logging":null].filter(Boolean).join(",");""!==o&&r.searchParams.set("x-deepl-options",o),!0===(null==n?void 0:n.addClientIdentifier)&&r.searchParams.set("client",crypto.randomUUID()),this.accountIdSubject=new tL(null==n?void 0:n.initialAccountId),this.accessTokenSubject=new tL(t)}createPersistentSession(e,t,n,r){var o,i;let a=null!==(i=null===(o=this.options)||void 0===o?void 0:o.transportStrategy)&&void 0!==i?i:SJ.Negotiate;a===SJ.OptimisticWebsocket&&void 0===globalThis.WebSocket&&(a=SJ.EnforceLongPolling);return new UJ(e,(()=>{var r,o;return new IJ(Object.assign({enableTranscription:!1,enableTranslatorQuoteConversion:!1,disableLanguageWeights:!1,doNotOverrideRequestedSourceLanguage:!1,enableInlineSuggestions:!1,accessToken:this.accessTokenSubject,accountId:this.accountIdSubject,transportStrategy:a},n),e,null!==(o=null===(r=this.options)||void 0===r?void 0:r.dangerousEnableItaMessageConsoleLogging)&&void 0!==o&&o,this.serverUrl,t)}),this.accessTokenSubject,r)}updateAccessToken(e){this.accessTokenSubject.next(e)}updateAccountId(e){this.accountIdSubject.next(e)}}class FJ{constructor(e,t,n){this.payloadType=e,this.fieldName=t,this.document=n,this.annotations=this.document.stateReadonly.pipe(bL((e=>this.getAnnotations(e))),AL()),this.payloads=this.annotations.pipe(bL((e=>e.map((e=>e.specificPayload)))),AL())}getAnnotations(e){return Jq(Zq(this.fieldName,e),this.payloadType)}getCurrentAnnotations(){return this.getAnnotations(this.document.stateReadonly.value)}add(e,t,n){const r=Eq({$type:hV.$type,value:crypto.randomUUID()},e,t,n);return this.document.applyItaEventBatch([aq.create({fieldName:this.fieldName,createAnnotationOperation:r})]),[r]}set(e){this.document.updateFieldState(this.fieldName,(t=>{const n=t.annotations.set(this.payloadType,e);return Object.assign(Object.assign({},t),{annotations:n})}))}removeAnnotation(e){const t=function(e){return{$type:Bj.$type,annotationId:e}}(e);return this.document.applyItaEventBatch([aq.create({fieldName:this.fieldName,removeAnnotationOperation:t})]),[t]}serialize(){return this.getAnnotations(this.document.stateReadonly.value).map((e=>e.operation))}prettyPrint(){return this.getAnnotations(this.document.stateReadonly.value).map((e=>{var t;return{id:null===(t=e.operation.annotationId)||void 0===t?void 0:t.value,range:e.operation.range,annotationPayload:e.specificPayload}}))}reset(){this.set([])}}class jJ{constructor(e,t,n,r){this.propertyName=e,this.propertyType=t,this.fieldName=n,this.document=r,this.value=this.document.stateReadonly.pipe(bL((e=>this.valueFrom(e))),AL())}valueFrom(e){var t;const n=null===(t=Zq(this.fieldName,e).properties.get(this.propertyName))||void 0===t?void 0:t.value;if(void 0!==n)return Mq(n.$type===this.propertyType,`Property ${this.propertyName} has unexpected type ${n.$type}, expected ${this.propertyType}`),n}getCurrentValue(){return this.valueFrom(this.document.stateReadonly.value)}set(e){const t=Aq(this.propertyName,e);return this.document.applyItaEventBatch([aq.create({fieldName:this.fieldName,setPropertyOperation:t})]),[t]}prettyPrint(){return{propertyName:Dj[this.propertyName],propertyValue:this.getCurrentValue()}}}class qJ extends jJ{constructor(e,t){super(Dj.TRANSLATOR_TEXT_DIRECTION,nj.$type,e,t),this.isRightToLeft=this.value.pipe(bL((e=>(null==e?void 0:e.textDirection)===dF.RIGHT_TO_LEFT)))}}const BJ=e=>!!e;class HJ extends jJ{constructor(e,t){super(Dj.TRANSLATOR_MAXIMUM_TEXT_LENGTH,rj.$type,e,t),this.max=this.value.pipe(wL(BJ),bL((e=>e.max)))}}class JJ extends jJ{constructor(e,t){super(Dj.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE,oj.$type,e,t),this.unsupported=this.value.pipe(bL((e=>!!e)))}}class zJ extends jJ{constructor(e,t){super(Dj.TRANSLATOR_INTERFACE_LANGUAGE,HF.$type,e,t)}updateInterfaceLanguage(e){return super.set({$type:HF.$type,interfaceLanguage:e})}}class WJ extends jJ{constructor(e){super(Dj.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE,GF.$type,$j.TRANSLATOR_SOURCE_TEXT,e),this.language=this.value.pipe(bL((e=>{var t;return null===(t=null==e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code}))),this.isAutoDetected=this.value.pipe(bL((e=>(null==e?void 0:e.origin)===IV.LANGUAGE_DETECTION)))}updateLanguage(e){return super.set({$type:GF.$type,sourceLanguage:{$type:Sj.$type,code:e},origin:IV.REQUESTED_LANGUAGE,isLanguageDetectionConfident:!1})}getCurrent(){var e,t;return null===(t=null===(e=this.getCurrentValue())||void 0===e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code}}class YJ extends jJ{constructor(e){super(Dj.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE,VF.$type,$j.TRANSLATOR_SOURCE_TEXT,e),this.language=this.value.pipe(bL((e=>{var t;return null===(t=null==e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code})))}updateLanguage(e){if("autodetect"===e){return super.set(void 0)}return super.set({$type:VF.$type,sourceLanguage:{$type:Sj.$type,code:e}})}}class XJ extends jJ{constructor(e){super(Dj.TRANSLATOR_SOURCE_LANGUAGES,MF.$type,$j.TRANSLATOR_SOURCE_TEXT,e),this.sourceLanguages=this.value.pipe(bL((e=>{var t;return null!==(t=null==e?void 0:e.sourceLanguages.map((e=>e.code)))&&void 0!==t?t:[]})))}}class KJ extends jJ{constructor(e){super(Dj.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS,ij.$type,$j.TRANSLATOR_SOURCE_TEXT,e),this.weights=this.value.pipe(bL((e=>{var t;return null!==(t=null==e?void 0:e.weights)&&void 0!==t?t:[]})))}updateSourceLanguageDetectionWeights(e){return super.set(void 0===e?void 0:{$type:ij.$type,weights:e})}}class QJ extends jJ{constructor(e){super(Dj.TRANSLATOR_HYPOTHESES_COMPARISON_ENABLED,pj.$type,$j.TRANSLATOR_SOURCE_TEXT,e)}}class ZJ extends qq{constructor(){super(...arguments),this.calculatedSourceLanguageProperty=new WJ(this.document),this.requestedSourceLanguageProperty=new YJ(this.document),this.sourceLanguagesProperty=new XJ(this.document),this.maximumTextLengthProperty=new HJ($j.TRANSLATOR_SOURCE_TEXT,this.document),this.unsupportedLanguageProperty=new JJ($j.TRANSLATOR_SOURCE_TEXT,this.document),this.sourceLanguageDetectionWeightsProperty=new KJ(this.document),this.interfaceLanguageProperty=new zJ($j.TRANSLATOR_SOURCE_TEXT,this.document),this.textDirection=new qJ($j.TRANSLATOR_SOURCE_TEXT,this.document),this.hypothesesComparisonEnabledProperty=new QJ(this.document),this.sourceTextUnitAnnotations=new FJ(WG.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.textFormattingAnnotations=new FJ(HG.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.requestClarifyAnnotations=new FJ(AF.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.clarifyQuestionAnnotations=new FJ(OF.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.clarifyHighlightAnnotations=new FJ(RF.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.selectClarifyAnswerAnnotations=new FJ(xF.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.clarifyStatusAnnotations=new FJ(IF.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.customRuleHighlightAnnotations=new FJ(CV.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document),this.tmSegmentAnnotations=new FJ(oF.$type,$j.TRANSLATOR_SOURCE_TEXT,this.document)}}class ez extends jJ{constructor(e){super(Dj.TRANSLATOR_TARGET_LANGUAGES,UF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.targetLanguages=this.value.pipe(bL((e=>{var t;return null!==(t=null==e?void 0:e.targetLanguages.map((e=>e.code)))&&void 0!==t?t:[]})))}}class tz extends jJ{constructor(e){super(Dj.TRANSLATOR_CALCULATED_TARGET_LANGUAGE,jF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.language=this.value.pipe(bL((e=>{var t;return null===(t=null==e?void 0:e.targetLanguage)||void 0===t?void 0:t.code})))}updateLanguage(e){return super.set({$type:jF.$type,targetLanguage:{$type:bj.$type,code:e}})}}class nz extends jJ{constructor(e){super(Dj.TRANSLATOR_REQUESTED_TARGET_LANGUAGE,FF.$type,$j.TRANSLATOR_TARGET_TEXT,e)}updateLanguage(e){return super.set({$type:FF.$type,targetLanguage:{$type:bj.$type,code:e}})}getCurrent(){var e,t;return null===(t=null===(e=this.getCurrentValue())||void 0===e?void 0:e.targetLanguage)||void 0===t?void 0:t.code}}class rz extends jJ{constructor(e){super(Dj.TRANSLATOR_STYLE_GUIDE_ID,BF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.styleGuideId=this.value.pipe(bL((e=>null==e?void 0:e.styleGuideId)))}updateStyleGuideId(e){return super.set({$type:BF.$type,styleGuideId:e?{$type:$V.$type,id:e}:void 0})}}class oz extends jJ{constructor(e){super(Dj.TRANSLATOR_FREE_TEXT_PROMPT_LIST,JF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.freeTextPromptList=this.value.pipe(bL((e=>null==e?void 0:e.freeTextPromptList)))}updateFreeTextPromptList(e){return super.set({$type:JF.$type,freeTextPromptList:e?{$type:EV.$type,prompts:e}:void 0})}}class iz extends jJ{constructor(e){super(Dj.TRANSLATOR_CUSTOMIZATIONS,zF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.customizations=this.value.pipe(bL((e=>null==e?void 0:e.customizations)))}updateGlossaryIds(e){var t,n,r;return super.set({$type:zF.$type,customizations:{$type:uF.$type,glossaryIds:null!=e?e:[],freeTextPrompts:null!==(r=null===(n=null===(t=this.getCurrentValue())||void 0===t?void 0:t.customizations)||void 0===n?void 0:n.freeTextPrompts)&&void 0!==r?r:[]}})}updateFreeTextPromptList(e){var t,n,r;return super.set({$type:zF.$type,customizations:{$type:uF.$type,glossaryIds:null!==(r=null===(n=null===(t=this.getCurrentValue())||void 0===t?void 0:t.customizations)||void 0===n?void 0:n.glossaryIds)&&void 0!==r?r:[],freeTextPrompts:null!=e?e:[]}})}}class az extends jJ{constructor(e){super(Dj.TRANSLATOR_STYLE_GUIDE_SUPPORT,YF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.supported=this.value.pipe(bL((e=>!!e)))}}class sz extends jJ{constructor(e){super(Dj.TRANSLATOR_GLOSSARY_SUPPORT,WF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.supported=this.value.pipe(bL((e=>!!e)))}}class lz extends jJ{constructor(e){super(Dj.TRANSLATOR_GLOSSARY_LIST,yj.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.entries=this.value.pipe(bL((e=>{var t;return null!==(t=null==e?void 0:e.glossaryEntries)&&void 0!==t?t:[]})))}updateGlossaryList(e){return super.set(void 0===e?void 0:{$type:yj.$type,glossaryEntries:e})}}class cz extends jJ{constructor(e){super(Dj.TRANSLATOR_GLOSSARY_SUGGESTIONS,yj.$type,$j.TRANSLATOR_TARGET_TEXT,e)}}class uz extends jJ{constructor(e){super(Dj.TRANSLATOR_FORMALITY_MODES,QF.$type,$j.TRANSLATOR_TARGET_TEXT,e)}}class dz extends jJ{constructor(e){super(Dj.TRANSLATOR_FORMALITY_MODE,ZF.$type,$j.TRANSLATOR_TARGET_TEXT,e)}update(e){return super.set(void 0===e?void 0:{$type:ZF.$type,formalityMode:e})}}class pz extends jJ{constructor(e){super(Dj.TRANSLATOR_LANGUAGE_MODELS,ej.$type,$j.TRANSLATOR_TARGET_TEXT,e)}}class fz extends jJ{constructor(e){super(Dj.TRANSLATOR_LANGUAGE_MODEL,tj.$type,$j.TRANSLATOR_TARGET_TEXT,e)}update(e){return super.set(void 0===e?void 0:{$type:tj.$type,languageModel:e})}}class hz extends jJ{constructor(e){super(Dj.TRANSLATOR_LANGUAGE_MODEL_PREFERENCES,vj.$type,$j.TRANSLATOR_TARGET_TEXT,e)}update(e){return super.set(void 0===e?void 0:{$type:vj.$type,preferences:e})}}class gz extends jJ{constructor(e){super(Dj.TRANSLATOR_GLOSSARY_ID,qF.$type,$j.TRANSLATOR_TARGET_TEXT,e)}update(e){return super.set(void 0===e?void 0:{$type:qF.$type,glossaryId:e})}}class mz extends jJ{constructor(e){super(Dj.TRANSLATOR_RTF_SUPPORT,XF.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.supported=this.value.pipe(bL((e=>!!e)))}}class vz extends jJ{constructor(e){super(Dj.TRANSLATOR_STYLE_VARIANTS,aj.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.styleVariants=this.value.pipe(bL((e=>null==e?void 0:e.styleVariants.map((e=>e.value)))))}}class _z extends jJ{constructor(e){super(Dj.TRANSLATOR_STYLE_VARIANT,sj.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.styleVariant=this.value.pipe(bL((e=>null==e?void 0:e.styleVariant)))}updateStyleVariant(e){return super.set({$type:sj.$type,styleVariant:e?{$type:Cj.$type,value:e}:void 0})}}class yz extends jJ{constructor(e){super(Dj.TRANSLATOR_TRANSLATION_MEMORY_LIST,lj.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.translationMemories=this.value.pipe(bL((e=>{var t;return null!==(t=null==e?void 0:e.translationMemories)&&void 0!==t?t:[]}))),this.error=this.value.pipe(bL((e=>null==e?void 0:e.error)))}updateTranslationMemoryList(e){return super.set({$type:lj.$type,translationMemories:e})}}class Tz extends jJ{constructor(e){super(Dj.TRANSLATOR_SELECTED_TRANSLATION_MEMORY,uj.$type,$j.TRANSLATOR_TARGET_TEXT,e),this.selectedTranslationMemoryId=this.value.pipe(bL((e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.translationMemoryId)||void 0===t?void 0:t.value)&&void 0!==n?n:null}))),this.selectedTranslationMemoryThreshold=this.value.pipe(bL((e=>{var t;return null!==(t=null==e?void 0:e.threshold)&&void 0!==t?t:100})))}updateSelectedTranslationMemory(e,t=0){return super.set({$type:uj.$type,translationMemoryId:e?{$type:sF.$type,value:e}:void 0,threshold:t})}}class Sz extends jJ{constructor(e){super(Dj.TRANSLATOR_REPHRASE_TARGET_TEXT_STATUS,dj.$type,$j.TRANSLATOR_TARGET_TEXT,e)}}class bz extends qq{constructor(){super(...arguments),this.requestedTargetLanguageProperty=new nz(this.document),this.calculatedTargetLanguageProperty=new tz(this.document),this.targetLanguagesProperty=new ez(this.document),this.requestWordAlternativesAnnotations=new FJ(yV.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.providedWordAlternativesAnnotations=new FJ(mV.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.selectWordAlternativeAnnotations=new FJ(jG.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.requestTextUnitAlternativesAnnotations=new FJ(_V.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.providedTextUnitAlternativesAnnotations=new FJ(wF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.providedWordAlternativeHighlighAnnotations=new FJ(fV.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.selectTextUnitAlternativeAnnotations=new FJ(GG.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.requestAutocompletionAnnotations=new FJ(yF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.providedAutocompletionAnnotations=new FJ(TF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.selectAutocompletionAnnotations=new FJ(SF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.providedAutomaticTextUnitAlternativesAnnotations=new FJ(EF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.selectAutomaticTextUnitAlternativeAnnotations=new FJ(UG.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.targetTextUnitAnnotations=new FJ(WG.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.glossaryReplacementAnnotations=new FJ(bF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.customRuleHighlightAnnotations=new FJ(CV.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.textFormattingAnnotations=new FJ(HG.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.clarifyHighlightAnnotations=new FJ(RF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.requestRephraseTargetTextAnnotations=new FJ(NF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.translationMemoryHighlightAnnotations=new FJ(QG.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.hypothesesComparisonStateAnnotations=new FJ(kF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.selectHypothesesComparisonVariantAnnotations=new FJ(CF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.skipHypothesesComparisonAnnotations=new FJ(LF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.tmSegmentAnnotations=new FJ(oF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.updateTranslationMemorySegmentsAnnotations=new FJ($F.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.updateTranslationMemorySegmentsResultAnnotations=new FJ(DF.$type,$j.TRANSLATOR_TARGET_TEXT,this.document),this.glossarySupport=new sz(this.document),this.glossaryListProperty=new lz(this.document),this.glossarySuggestions=new cz(this.document),this.formalityModes=new uz(this.document),this.formalityMode=new dz(this.document),this.languageModels=new pz(this.document),this.languageModel=new fz(this.document),this.translationMemoryListProperty=new yz(this.document),this.selectedTranslationMemoryProperty=new Tz(this.document),this.textDirection=new qJ($j.TRANSLATOR_TARGET_TEXT,this.document),this.glossaryId=new gz(this.document),this.maximumTextLengthProperty=new HJ($j.TRANSLATOR_TARGET_TEXT,this.document),this.styleGuideSupport=new az(this.document),this.languageModelPreferences=new hz(this.document),this.freeTextPromptList=new oz(this.document),this.customizations=new iz(this.document),this.styleGuideId=new rz(this.document),this.rtfSupport=new mz(this.document),this.styleVariantsProperty=new vz(this.document),this.styleVariantProperty=new _z(this.document),this.rephraseTargetTextStatus=new Sz(this.document)}}class wz extends qq{constructor(){super(...arguments),this.targetTranscriptionTextUnitAnnotations=new FJ(WG.$type,$j.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT,this.document)}}const Ez=["429_too_many_requests","500_internal_error"];function Az([e,t]){var n;if(0===t.length)return"initial";const r=t.map((e=>{var t;return null===(t=e.operation.annotationId)||void 0===t?void 0:t.value})),o=e.filter((e=>{var t;return r.includes(null===(t=e.specificPayload.referenceId)||void 0===t?void 0:t.value)}));if(t.length!==o.length)return"busy";const i=o.filter((e=>e.specificPayload.status===pF.ERROR));if(i.length>0){const e=null===(n=i[0].specificPayload.errorInfo)||void 0===n?void 0:n.errorCode;return a=e,Ez.includes(a)?e:"500_internal_error"}var a;return"success"}class Iz extends Yq{constructor(){super(...arguments),this.sourceTextField=new ZJ(this,$j.TRANSLATOR_SOURCE_TEXT),this.targetTextField=new bz(this,$j.TRANSLATOR_TARGET_TEXT),this.targetTranscriptionTextField=new wz(this,$j.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT),this.textUnitAnnotations=this.stateReadonly.pipe(bL((e=>{const t=Zq($j.TRANSLATOR_SOURCE_TEXT,e),n=Zq($j.TRANSLATOR_TARGET_TEXT,e),r=Zq($j.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT,e),o=Jq(t,WG.$type),i=Jq(n,WG.$type),a=Jq(r,WG.$type);return o.sort(((e,t)=>e.operation.range.start-t.operation.range.start)).map((e=>{var t,n,r,o;const s=e.operation.range,l=null!==(n=null===(t=i.find((t=>{var n,r;return(null===(n=e.specificPayload.textUnitId)||void 0===n?void 0:n.value)===(null===(r=t.specificPayload.textUnitId)||void 0===r?void 0:r.value)})))||void 0===t?void 0:t.operation.range)&&void 0!==n?n:TV.fromJSON({}),c=null!==(o=null===(r=a.find((t=>{var n,r;return(null===(n=e.specificPayload.textUnitId)||void 0===n?void 0:n.value)===(null===(r=t.specificPayload.textUnitId)||void 0===r?void 0:r.value)})))||void 0===r?void 0:r.operation.range)&&void 0!==o?o:TV.fromJSON({});return{sourceStart:s.start,sourceEnd:s.end,sourceLength:s.end-s.start,targetStart:l.start,targetEnd:l.end,targetLength:l.end-l.start,targetTranscriptionStart:c.start,targetTranscriptionEnd:c.end,targetTranscriptionLength:c.end-c.start}}))})),AL()),this.requestClarifyStatus=this.stateReadonly.pipe(bL((e=>{const t=Zq($j.TRANSLATOR_SOURCE_TEXT,e);return Az([Jq(t,IF.$type),Jq(t,AF.$type)])})),AL()),this.selectClarifyAnswerStatus=this.stateReadonly.pipe(bL((e=>{const t=Zq($j.TRANSLATOR_SOURCE_TEXT,e);return Az([Jq(t,IF.$type),Jq(t,xF.$type)])})),AL())}}class Rz extends eB{constructor(e){super("Translator",Mj.TRANSLATOR,new Iz),this.config=e,this.translationMemoryList=this.document.targetTextField.translationMemoryListProperty.translationMemories,this.translationMemoryListError=this.document.targetTextField.translationMemoryListProperty.error,this.selectedTranslationMemoryId=this.document.targetTextField.selectedTranslationMemoryProperty.selectedTranslationMemoryId,this.selectedTranslationMemoryThreshold=this.document.targetTextField.selectedTranslationMemoryProperty.selectedTranslationMemoryThreshold,this.targetLanguage=this.document.targetTextField.requestedTargetLanguageProperty.value.pipe(bL((e=>{var t;return null===(t=null==e?void 0:e.targetLanguage)||void 0===t?void 0:t.code})),AL()),this.formattedSourceText=this.document.stateReadonly.pipe(bL((e=>{const t=Zq($j.TRANSLATOR_SOURCE_TEXT,e);return eJ({plainText:t.content,textFormattingAnnotations:Jq(t,HG.$type)},!0)})),AL(),OL()),this.formattedTargetText=this.document.stateReadonly.pipe(bL((e=>{const t=Zq($j.TRANSLATOR_TARGET_TEXT,e);return eJ({plainText:t.content,textFormattingAnnotations:Jq(t,HG.$type)},!0)})),AL(),OL()),this.hypothesesComparison={enable:(e,t)=>{const n=this.document.sourceTextField.hypothesesComparisonEnabledProperty.set({$type:pj.$type,enabled:!0,browserLanguage:null!=e?e:void 0,userCountry:null!=t?t:void 0});this.publishChange($j.TRANSLATOR_SOURCE_TEXT,n)},disable:()=>{const e=this.document.sourceTextField.hypothesesComparisonEnabledProperty.set({$type:pj.$type,enabled:!1});this.publishChange($j.TRANSLATOR_SOURCE_TEXT,e)},state:this.document.stateReadonly.pipe(bL((e=>{const t=Jq(Zq($j.TRANSLATOR_TARGET_TEXT,e),kF.$type).map((e=>e.specificPayload));return 1!==t.length?null:t[0]}))),acceptOriginal:e=>{const t=this.document.targetTextField.selectHypothesesComparisonVariantAnnotations.add(0,0,{$type:CF.$type,flowId:e,selection:0});this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)},acceptAlternative:e=>{const t=this.document.targetTextField.selectHypothesesComparisonVariantAnnotations.add(0,0,{$type:CF.$type,flowId:e,selection:1});this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)},skip:e=>{const t=this.document.targetTextField.skipHypothesesComparisonAnnotations.add(0,0,{$type:LF.$type,flowId:e});this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}},this.document.sourceTextField.maximumTextLengthProperty.max.subscribe((t=>{const n=e.maximumSourceTextLength;t!==n&&console.warn(`Source text limit mismatch: local=${n}, backend=${t}`)})),this.document.targetTextField.maximumTextLengthProperty.max.subscribe((t=>{const n=e.maximumTargetTextLength;t!==n&&console.warn(`Target text limit mismatch: local=${n}, backend=${t}`)})),this.config.preventSameLanguages.enabled&&this.document.sourceTextField.calculatedSourceLanguageProperty.language.pipe(wL((e=>!!e))).subscribe((e=>{const t=this.document.targetTextField.requestedTargetLanguageProperty.getCurrent();t&&this.config.preventSameLanguages.enabled&&Dq(e,t)&&this.updateRequestedTargetLanguage(this.config.preventSameLanguages.getAlternativeTargetLanguage(t))}))}applyFieldEventBatch(e){this.document.applyItaEventBatch(e);for(const t of e)if(t.fieldName===$j.TRANSLATOR_TARGET_TEXT&&t.textChangeOperation){const e=[];e.push(...this.cancelTextUnitAlternativesFlows()),e.push(...this.cancelWordAlternativesFlows()),e.push(...this.cancelAutocompletionFlows()),this.publishChange($j.TRANSLATOR_TARGET_TEXT,e)}}updateStyleGuideId(e){const t=this.document.targetTextField.styleGuideId.updateStyleGuideId(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateFreeTextPromptList(e){var t;const n=this.document.targetTextField.customizations.updateFreeTextPromptList(null!==(t=null==e?void 0:e.map(((e,t)=>MV.create({clientPromptId:t.toString(),prompt:e}))))&&void 0!==t?t:null);this.publishChange($j.TRANSLATOR_TARGET_TEXT,n)}updateFreeTextPrompts(e){const t=this.document.targetTextField.customizations.updateFreeTextPromptList(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateGlossaryIds(e){const t=this.document.targetTextField.customizations.updateGlossaryIds(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateSourceText(e){const t=this.document.sourceTextField,n=Rz.toRemoveOperations(t.textFormattingAnnotations),r=t.getCurrentContent(),o=this.config.maximumSourceTextLength,i=Lq($q(r.slice(0,o),e.slice(0,o)));this.publishChanges([[t.name,n],[t.name,i]]),this.document.updateFieldState($j.TRANSLATOR_SOURCE_TEXT,(t=>{const n=Wq(t.annotations.set(HG.$type,[]),i);return Object.assign(Object.assign({},t),{annotations:n,content:e})}))}updateFormattedSourceText(e){this.updateFormattedText(this.document.sourceTextField,e)}updateTargetText(e){const t=this.document.targetTextField,n=Rz.toRemoveOperations(t.textFormattingAnnotations),r=t.getCurrentContent(),o=this.config.maximumTargetTextLength,i=Lq($q(r.slice(0,o),e.slice(0,o)));this.publishChanges([[t.name,this.cancelTextUnitAlternativesFlows()],[t.name,this.cancelWordAlternativesFlows()],[t.name,this.cancelAutocompletionFlows()],[t.name,n],[t.name,i]]),this.document.updateFieldState($j.TRANSLATOR_TARGET_TEXT,(t=>{const n=Wq(t.annotations.set(HG.$type,[]),i);return Object.assign(Object.assign({},t),{annotations:n,content:e})}))}updateFormattedTargetText(e){this.updateFormattedText(this.document.targetTextField,e)}updateRequestedTargetLanguage(e){var t;if(this.config.preventSameLanguages.enabled&&Dq(e,null!==(t=this.document.sourceTextField.calculatedSourceLanguageProperty.getCurrent())&&void 0!==t?t:""))return;const n=this.document.targetTextField.requestedTargetLanguageProperty.updateLanguage(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,n)}updateRequestedSourceLanguage(e){const t=this.document.sourceTextField.requestedSourceLanguageProperty.updateLanguage(e);this.publishChange($j.TRANSLATOR_SOURCE_TEXT,t)}updateInterfaceLanguage(e){const t=this.document.sourceTextField.interfaceLanguageProperty.updateInterfaceLanguage(e);this.publishChange($j.TRANSLATOR_SOURCE_TEXT,t)}switchLanguages(e){var t,n,r,o,i,a,s,l,c;const{sourceTextField:u,targetTextField:d}=this.document,p=this.config.maximumSourceTextLength,f=this.config.maximumTargetTextLength,h=null!==(t=u.calculatedSourceLanguageProperty.getCurrent())&&void 0!==t?t:null===(r=null===(n=u.requestedSourceLanguageProperty.getCurrentValue())||void 0===n?void 0:n.sourceLanguage)||void 0===r?void 0:r.code,g=null!==(a=null===(i=null===(o=d.calculatedTargetLanguageProperty.getCurrentValue())||void 0===o?void 0:o.targetLanguage)||void 0===i?void 0:i.code)&&void 0!==a?a:null===(l=null===(s=d.requestedTargetLanguageProperty.getCurrentValue())||void 0===s?void 0:s.targetLanguage)||void 0===l?void 0:l.code,m=d.getCurrentContent(),v=u.getCurrentContent();if(!h||!g)return;const _=g.split("-")[0],y=null!==(c=e[h])&&void 0!==c?c:h,T=eJ({plainText:null!=m?m:"",textFormattingAnnotations:d.textFormattingAnnotations.getCurrentAnnotations()},!0),S=Rz.toRemoveOperations(d.textFormattingAnnotations),b=Rz.toRemoveOperations(u.textFormattingAnnotations),w=Rz.toRemoveOperations(d.targetTextUnitAnnotations),E=Rz.toRemoveOperations(u.sourceTextUnitAnnotations),A=$q(m,""),I=$q(v,""),R=$q(m.slice(0,f),""),O=$q(v.slice(0,p),"");this.document.applyOperationBatch([[$j.TRANSLATOR_TARGET_TEXT,S],[$j.TRANSLATOR_SOURCE_TEXT,b],[$j.TRANSLATOR_TARGET_TEXT,w],[$j.TRANSLATOR_SOURCE_TEXT,E],[$j.TRANSLATOR_TARGET_TEXT,A],[$j.TRANSLATOR_SOURCE_TEXT,I]]),this.publishChanges([[$j.TRANSLATOR_TARGET_TEXT,S],[$j.TRANSLATOR_SOURCE_TEXT,b],[$j.TRANSLATOR_TARGET_TEXT,R],[$j.TRANSLATOR_SOURCE_TEXT,O],[$j.TRANSLATOR_TARGET_TEXT,d.requestedTargetLanguageProperty.updateLanguage(y)],[$j.TRANSLATOR_SOURCE_TEXT,u.requestedSourceLanguageProperty.updateLanguage(_)]]),""!==T&&this.updateFormattedSourceText(T),u.calculatedSourceLanguageProperty.updateLanguage(_)}updateFormattedText(e,t){const n=e.name===$j.TRANSLATOR_SOURCE_TEXT?this.config.maximumSourceTextLength:this.config.maximumTargetTextLength,r=nJ(t);this.document.updateFieldState(e.name,(t=>{var o;const{textFormattingAnnotations:i}=function(e,t){if(e.plainText.length<=t)return e;const n=e.plainText.slice(0,t),r=e.textFormattingAnnotations.filter((e=>e.operation.range.start<t)).map((e=>e.operation.range.end<=t?e:Object.assign(Object.assign({},e),{operation:Object.assign(Object.assign({},e.operation),{range:Object.assign(Object.assign({},e.operation.range),{end:t})})}))),o=new Set(r.map((e=>e.specificPayload.textFormattingId.value)));return{plainText:n,textFormattingAnnotations:r.map((e=>{const t=e.specificPayload.children.filter((e=>o.has(e.value))),n=Object.assign(Object.assign({},e.specificPayload),{children:t});return{operation:Object.assign(Object.assign({},e.operation),{textFormattingPayload:n}),specificPayload:n}}))}}(r,n),a=t.content,s=r.plainText,l=Lq($q(a.slice(0,n),s.slice(0,n))),c=Wq(t.annotations,l),u={properties:t.properties,content:s,annotations:c},d=lJ(null!==(o=c.get(HG.$type))&&void 0!==o?o:[],i),p=d.reduce(Hq,u);return this.publishChanges([[e.name,[...l,...d]]]),p}))}static toRemoveOperations(e){var t;return null!==(t=e.getCurrentAnnotations().map((e=>({$type:Bj.$type,annotationId:e.operation.annotationId}))))&&void 0!==t?t:[]}cancelWordAlternativesFlows(){return this.document.targetTextField.requestWordAlternativesAnnotations.getCurrentAnnotations().flatMap((e=>this.document.targetTextField.requestWordAlternativesAnnotations.removeAnnotation(e.operation.annotationId)))}cancelTextUnitAlternativesFlows(){return this.document.targetTextField.requestTextUnitAlternativesAnnotations.getCurrentAnnotations().flatMap((e=>this.document.targetTextField.requestTextUnitAlternativesAnnotations.removeAnnotation(e.operation.annotationId)))}cancelAutocompletionFlows(){return this.document.targetTextField.requestAutocompletionAnnotations.getCurrentAnnotations().flatMap((e=>this.document.targetTextField.requestAutocompletionAnnotations.removeAnnotation(e.operation.annotationId)))}requestWordAlternatives(e){Mq(Number.isInteger(e),`[requestWordAlternatives] non-integer offset: ${e}`);const t=this.document.targetTextField.getCurrentContent();Mq(e>=0&&e<=t.length,`[requestWordAlternatives] out of range offset: ${e}`);const n=[];n.push(...this.cancelWordAlternativesFlows());const r=crypto.randomUUID(),o=this.document.targetTextField.requestWordAlternativesAnnotations.add(e,e,{$type:yV.$type,flowId:{$type:pV.$type,value:r}})[0];return n.push(o),this.publishChange($j.TRANSLATOR_TARGET_TEXT,n),r}requestRephraseTargetText(){const e=[],t=crypto.randomUUID(),n=this.document.targetTextField.requestRephraseTargetTextAnnotations.add(0,0,{$type:NF.$type,flowId:t})[0];return e.push(n),this.publishChange($j.TRANSLATOR_TARGET_TEXT,e),this.document.targetTextField.rephraseTargetTextStatus.set({$type:dj.$type,rephraseTargetTextStatus:hF.IN_PROGRESS}),t}requestTextUnitAlternatives(e){Mq(Number.isInteger(e),`[requestTextUnitAlternatives] non-integer offset: ${e}`);const t=this.document.targetTextField.getCurrentContent();Mq(e>=0&&e<=t.length,`[requestTextUnitAlternatives] out of range offset: ${e}`);const n=[];n.push(...this.cancelTextUnitAlternativesFlows());const r=crypto.randomUUID(),o=this.document.targetTextField.requestTextUnitAlternativesAnnotations.add(e,e,{$type:_V.$type,flowId:{$type:vV.$type,value:r}})[0];return n.push(o),this.publishChange($j.TRANSLATOR_TARGET_TEXT,n),r}requestAutocompletion(e){Mq(Number.isInteger(e),`[requestAutocompletion] non-integer offset: ${e}`);const t=this.document.targetTextField.getCurrentContent();Mq(e>=0&&e<=t.length,`[requestAutocompletion] out of range offset: ${e}`);const n=[];n.push(...this.cancelAutocompletionFlows());const r=crypto.randomUUID(),o=this.document.targetTextField.requestAutocompletionAnnotations.add(e,e,{$type:yF.$type,flowId:{$type:aF.$type,value:r}})[0];return n.push(o),this.publishChange($j.TRANSLATOR_TARGET_TEXT,n),r}cancelClarifyFlows(){return this.document.sourceTextField.requestClarifyAnnotations.getCurrentAnnotations().flatMap((e=>this.document.sourceTextField.requestClarifyAnnotations.removeAnnotation(e.operation.annotationId)))}requestClarify(){const e=[];e.push(...this.cancelClarifyFlows());const t=this.document.sourceTextField.getCurrentContent().length,n=crypto.randomUUID(),r=this.document.sourceTextField.requestClarifyAnnotations.add(0,t,{$type:AF.$type,flowId:{$type:xj.$type,value:n}})[0];return e.push(r),this.publishChange($j.TRANSLATOR_SOURCE_TEXT,e),n}resetClarify(){const e=[];e.push(...this.cancelClarifyFlows()),this.publishChange($j.TRANSLATOR_SOURCE_TEXT,e)}selectClarifyAnswer(e,t){var n,r,o,i,a,s;const l=[],c=this.document.sourceTextField.clarifyQuestionAnnotations.getCurrentAnnotations().find((t=>{var n,r,o;return(null===(o=null===(r=null===(n=t.specificPayload.questionWithAnswers)||void 0===n?void 0:n.question)||void 0===r?void 0:r.id)||void 0===o?void 0:o.value)===e}));if(!c)throw new Error(`Unknown question id "${e}" found!`);const u=null!==(r=null===(n=c.operation.range)||void 0===n?void 0:n.start)&&void 0!==r?r:0,d=null!==(i=null===(o=c.operation.range)||void 0===o?void 0:o.end)&&void 0!==i?i:0,p=this.document.sourceTextField.selectClarifyAnswerAnnotations.add(u,d,{$type:xF.$type,flowId:c.specificPayload.flowId,questionId:null===(s=null===(a=c.specificPayload.questionWithAnswers)||void 0===a?void 0:a.question)||void 0===s?void 0:s.id,answer:{$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:t}})[0];l.push(p),this.publishChange($j.TRANSLATOR_SOURCE_TEXT,l)}selectWordAlternative(e,t,n){const r=[];r.push(...this.cancelTextUnitAlternativesFlows()),r.push(...this.cancelAutocompletionFlows());const o=this.document.targetTextField.selectWordAlternativeAnnotations.add(e,e,{$type:jG.$type,flowId:{$type:pV.$type,value:t},selection:n});r.push(...o),this.publishChange($j.TRANSLATOR_TARGET_TEXT,r)}selectTextUnitAlternative(e,t,n){const r=[];r.push(...this.cancelWordAlternativesFlows()),r.push(...this.cancelAutocompletionFlows());const o=this.document.targetTextField.selectTextUnitAlternativeAnnotations.add(e,e,{$type:GG.$type,flowId:{$type:vV.$type,value:t},selection:n});r.push(...o),this.publishChange($j.TRANSLATOR_TARGET_TEXT,r)}selectAutocompletion(e,t,n){const r=[];r.push(...this.cancelWordAlternativesFlows()),r.push(...this.cancelTextUnitAlternativesFlows());const o=this.document.targetTextField.selectAutocompletionAnnotations.add(e,e,{$type:SF.$type,flowId:{$type:aF.$type,value:t},selection:n});r.push(...o),this.publishChange($j.TRANSLATOR_TARGET_TEXT,r)}selectAutomaticTextUnitAlternative(e,t){const n=[],r=this.document.targetTextField.selectAutomaticTextUnitAlternativeAnnotations.add(e,e,{$type:UG.$type,selection:t});n.push(...r),this.publishChange($j.TRANSLATOR_TARGET_TEXT,n)}updateGlossaryList(e){const t=this.document.targetTextField.glossaryListProperty.updateGlossaryList(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateSourceLanguageDetectionWeights(e){const t=this.document.sourceTextField.sourceLanguageDetectionWeightsProperty.updateSourceLanguageDetectionWeights(e);this.publishChange($j.TRANSLATOR_SOURCE_TEXT,t)}updateFormalityMode(e){const t=this.document.targetTextField.formalityMode.update(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateLanguageModel(e){const t=this.document.targetTextField.languageModel.update(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateLanguageModelPreferences(e){const t=this.document.targetTextField.languageModelPreferences.update(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateGlossaryId(e){const t=this.document.targetTextField.glossaryId.update(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateStyleVariant(e){const t=this.document.targetTextField.styleVariantProperty.updateStyleVariant(e);this.publishChange($j.TRANSLATOR_TARGET_TEXT,t)}updateSelectedTranslationMemory(e,t=75){const n=this.document.targetTextField.selectedTranslationMemoryProperty.updateSelectedTranslationMemory(e,t);this.publishChange($j.TRANSLATOR_TARGET_TEXT,n)}updateTranslationMemorySegments(){const e=[],t=crypto.randomUUID(),n=this.document.targetTextField.updateTranslationMemorySegmentsAnnotations.add(0,0,{$type:$F.$type,flowId:{$type:Nj.$type,value:t}})[0];return e.push(n),this.publishChange($j.TRANSLATOR_TARGET_TEXT,e),t}}function Oz(e,t){e&&(t?e.updateGlossaryId({$type:AV.$type,id:t}):e.updateGlossaryId())}function xz(){return Fe(this,void 0,void 0,(function*(){const e=yield iA(["activeTermbaseId","isGlossaryEnabled","hasTermbaseService",Ho.isLoggedIn]);let t;if(e.isGlossaryEnabled&&$y(e)&&e.activeTermbaseId){const[n]=yield QE();t=n.find((t=>t.id===e.activeTermbaseId))}return{glossaryId:null==t?void 0:t.id,isAutoTermbase:null==t?void 0:t.isAutoTermbase,isShared:null==t?void 0:t.shared}}))}function Nz(e){return Fe(this,arguments,void 0,(function*({itaDocumentState:e,accessToken:t}){let n;!function(){Fe(this,void 0,void 0,(function*(){const{session:e}=yield iA(["session"]);!e||(Date.now()-e.timestamp)/6e4>30?yield aA():yield chrome.storage.sync.set({session:Object.assign(Object.assign({},e),{timestamp:Date.now()})})}))}();try{n=yield di()}catch(e){console.error(e)}try{yield SA();const r=yield mA(),o=Cy(r,xr.TRANSLATOR)?"https://ita-pro.www.deepl.com/v1":"https://ita-free.www.deepl.com/v1",{maximumSourceTextLength:i,maximumTargetTextLength:a}=function(e,t){const n={anonymous:{source:1500,target:6e3},freeAccount:{source:5e3,target:2e4},proAccount:{source:3e5,target:12e5}};return e.isLoggedIn?Cy(e,t)?{maximumSourceTextLength:n.proAccount.source,maximumTargetTextLength:n.proAccount.target}:{maximumSourceTextLength:n.freeAccount.source,maximumTargetTextLength:n.freeAccount.target}:{maximumSourceTextLength:n.anonymous.source,maximumTargetTextLength:n.anonymous.target}}(r,xr.TRANSLATOR),s=new GJ(new URL(o),t,{}),l=new Rz({maximumSourceTextLength:i,maximumTargetTextLength:a,preventSameLanguages:{enabled:!1}}),c=s.createPersistentSession(l,void 0,void 0,n);return c.start(e),XT({itaSessionType:Wr,itaSessionEventType:e?Kr:Xr}),jo()&&c.sessionId.subscribe((e=>{console.log("ITA Translate session ID:",e)})),[{session:c,client:l,updateAccessToken:e=>s.updateAccessToken(e)},null]}catch(e){return console.error(e),(null==e?void 0:e.info)&&console.log(e.info),XT({itaSessionType:Wr,itaSessionEventType:Qr,itaErrorType:eo,itaErrorMessage:e.message}),[null,e]}}))}function Pz(t){let n,r,o;return{c(){n=C("svg"),r=C("path"),o=C("path"),G(r,"stroke","currentColor"),G(r,"stroke-linecap","round"),G(r,"stroke-linejoin","round"),G(r,"stroke-width","1.5"),G(r,"d","M14.5 4H9.5L7 7H4C3.46957 7 2.96086 7.21071 2.58579 7.58579C2.21071 7.96086 2 8.46957 2 9V18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20H20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V9C22 8.46957 21.7893 7.96086 21.4142 7.58579C21.0391 7.21071 20.5304 7 20 7H17L14.5 4Z"),G(r,"vector-effect","non-scaling-stroke"),G(o,"stroke","currentColor"),G(o,"stroke-linecap","round"),G(o,"stroke-linejoin","round"),G(o,"stroke-width","1.5"),G(o,"d","M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"),G(o,"vector-effect","non-scaling-stroke"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(n,"width","24"),G(n,"height","24"),G(n,"fill","none"),G(n,"class","Icon"),G(n,"data-name","Camera"),G(n,"viewBox","0 0 24 24")},m(e,t){x(e,n,t),I(n,r),I(n,o)},p:e,i:e,o:e,d(e){e&&N(n)}}}class kz extends Ue{constructor(e){super(),Me(this,e,null,Pz,a,{})}}function Cz(e){let t,n,r,i,a,s,l,c,u,d,p,f,h,g,m,v,_,y,T;function S(e,t){return e[1]?$z:Lz}i=new Xk({});let b=S(e),w=b(e);function E(e,t){return e[1]?Mz:Dz}let A=E(e),R=A(e);return{c(){t=k("div"),n=k("div"),r=k("button"),Ce(i.$$.fragment),a=$(),s=k("div"),l=k("h2"),l.textContent=`${e[5]}`,c=$(),u=k("p"),d=$(),p=k("ul"),f=k("li"),h=$(),g=k("li"),w.c(),m=$(),v=k("button"),R.c(),G(r,"class","close-button svelte-1o7t6om"),G(r,"aria-label","Close"),G(l,"class","title svelte-1o7t6om"),G(l,"id","modal-title"),G(u,"class","description svelte-1o7t6om"),G(f,"class","svelte-1o7t6om"),G(g,"class","svelte-1o7t6om"),G(p,"class","instructions svelte-1o7t6om"),G(v,"type","button"),G(v,"class","edit-shortcut-button svelte-1o7t6om"),G(s,"class","modal-content svelte-1o7t6om"),G(n,"class","modal svelte-1o7t6om"),G(n,"role","dialog"),G(n,"aria-labelledby","modal-title"),G(t,"class","backdrop svelte-1o7t6om"),G(t,"role","presentation"),G(t,"tabindex","-1")},m(o,S){x(o,t,S),I(t,n),I(n,r),Le(i,r,null),I(n,a),I(n,s),I(s,l),I(s,c),I(s,u),u.innerHTML=e[6],I(s,d),I(s,p),I(p,f),f.innerHTML=e[7],I(p,h),I(p,g),w.m(g,null),I(s,m),I(s,v),R.m(v,null),_=!0,y||(T=[M(r,"click",e[3]),M(v,"click",e[4]),M(t,"click",e[2])],y=!0)},p(e,t){b===(b=S(e))&&w?w.p(e,t):(w.d(1),w=b(e),w&&(w.c(),w.m(g,null))),A===(A=E(e))&&R?R.p(e,t):(R.d(1),R=A(e),R&&(R.c(),R.m(v,null)))},i(e){_||(Re(i.$$.fragment,e),_=!0)},o(e){Oe(i.$$.fragment,e),_=!1},d(e){e&&N(t),$e(i),w.d(),R.d(),y=!1,o(T)}}}function Lz(t){let n,r;return{c(){n=new z(!1),r=D(),n.a=r},m(e,o){n.m(t[8],e,o),x(e,r,o)},p:e,d(e){e&&(N(r),n.d())}}}function $z(e){let t,n,r=chrome.i18n.getMessage("screenshot_translation_description_opt_three",e[1])+"";return{c(){t=new z(!1),n=D(),t.a=n},m(e,o){t.m(r,e,o),x(e,n,o)},p(e,n){2&n&&r!==(r=chrome.i18n.getMessage("screenshot_translation_description_opt_three",e[1])+"")&&t.p(r)},d(e){e&&(N(n),t.d())}}}function Dz(t){let n;return{c(){n=L(t[9])},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function Mz(t){let n;return{c(){n=L(t[10])},m(e,t){x(e,n,t)},p:e,d(e){e&&N(n)}}}function Uz(e){let t,n,r=e[0]&&Cz(e);return{c(){r&&r.c(),t=D()},m(e,o){r&&r.m(e,o),x(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&Re(r,1)):(r=Cz(e),r.c(),Re(r,1),r.m(t.parentNode,t)):r&&(Ae(),Oe(r,1,1,(()=>{r=null})),Ie())},i(e){n||(Re(r),n=!0)},o(e){Oe(r),n=!1},d(e){e&&N(t),r&&r.d(e)}}}function Vz(e,t,n){let r,{isOpen:o=!1}=t,{onClose:i=()=>{}}=t;function a(){mo({action:po.dlTrackOcrTranslationInstructionsClosed}),i()}function s(){mo({action:co.dlCheckCommandShortcuts}).then((e=>n(1,r=e?e.filter((e=>e.name==lr))[0].shortcut:"")))}const l=chrome.i18n.getMessage("screenshot_translation_title"),c=chrome.i18n.getMessage("screenshot_translation_description"),u=chrome.i18n.getMessage("screenshot_translation_description_opt_one"),d=chrome.i18n.getMessage("screenshot_translation_description_opt_two"),p=chrome.i18n.getMessage("screenshot_translation_setting_cta_opt_one"),f=chrome.i18n.getMessage("screenshot_translation_setting_cta_opt_two");return ne((()=>{s()})),e.$$set=e=>{"isOpen"in e&&n(0,o=e.isOpen),"onClose"in e&&n(11,i=e.onClose)},e.$$.update=()=>{1&e.$$.dirty&&o&&s()},[o,r,function(e){e.target===e.currentTarget&&a()},function(){a()},function(){mo({action:po.dlTrackUILocationClicked,payload:nr}),mo({action:ho.dlExternalURLRedirect,payload:{destination:_i}}),a()},l,c,u,d,p,f,i]}class Gz extends Ue{constructor(e){super(),Me(this,e,Vz,Uz,a,{isOpen:0,onClose:11})}}function Fz(e){let t,n,r,o,i,a;return r=new kz({}),{c(){t=k("div"),n=k("button"),Ce(r.$$.fragment),G(n,"class","scan-button svelte-bfgoce"),n.disabled=e[6],H(n,"is-open",e[5]),G(t,"class","toolbar svelte-bfgoce")},m(s,l){x(s,t,l),I(t,n),Le(r,n,null),o=!0,i||(a=M(n,"click",e[17]),i=!0)},p(e,t){(!o||64&t)&&(n.disabled=e[6]),(!o||32&t)&&H(n,"is-open",e[5])},i(e){o||(Re(r.$$.fragment,e),o=!0)},o(e){Oe(r.$$.fragment,e),o=!1},d(e){e&&N(t),$e(r),i=!1,a()}}}function jz(e){let t,n;return t=new Gz({props:{isOpen:e[5],onClose:e[18]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.isOpen=e[5]),32&n&&(r.onClose=e[18]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function qz(e){let t,n,r,i,a,s,l,c,u,d,p=e[7]&&Fz(e),f=e[7]&&jz(e);return{c(){t=k("div"),n=k("div"),a=$(),p&&p.c(),s=$(),f&&f.c(),l=D(),q(n,"--placeholder-headline","'"+e[3]+"'"),q(n,"--placeholder-explanation","'"+e[4]+"'"),G(n,"class","input-area editable svelte-bfgoce"),G(n,"data-testid","side-panel-input"),G(n,"contenteditable",r=e[1]?"false":"true"),G(n,"dir",i=$o(e[2]||void 0)),H(n,"isDisabled",e[1]),G(t,"class","source-text-container svelte-bfgoce")},m(r,o){x(r,t,o),I(t,n),e[15](n),I(t,a),p&&p.m(t,null),x(r,s,o),f&&f.m(r,o),x(r,l,o),c=!0,u||(d=[M(n,"input",e[8]),M(n,"paste",e[9]),M(n,"focus",e[14]),M(n,"click",e[16])],u=!0)},p(e,[o]){(!c||8&o)&&q(n,"--placeholder-headline","'"+e[3]+"'"),(!c||16&o)&&q(n,"--placeholder-explanation","'"+e[4]+"'"),(!c||2&o&&r!==(r=e[1]?"false":"true"))&&G(n,"contenteditable",r),(!c||4&o&&i!==(i=$o(e[2]||void 0)))&&G(n,"dir",i),(!c||2&o)&&H(n,"isDisabled",e[1]),e[7]?p?(p.p(e,o),128&o&&Re(p,1)):(p=Fz(e),p.c(),Re(p,1),p.m(t,null)):p&&(Ae(),Oe(p,1,1,(()=>{p=null})),Ie()),e[7]?f?(f.p(e,o),128&o&&Re(f,1)):(f=jz(e),f.c(),Re(f,1),f.m(l.parentNode,l)):f&&(Ae(),Oe(f,1,1,(()=>{f=null})),Ie())},i(e){c||(Re(p),Re(f),c=!0)},o(e){Oe(p),Oe(f),c=!1},d(n){n&&(N(t),N(s),N(l)),e[15](null),p&&p.d(),f&&f.d(n),u=!1,o(d)}}}function Bz(e,t,n){let r,o;u(e,IA,(e=>n(13,o=e)));let{onInputChange:i=e=>{}}=t,{isDisabled:a=!1}=t,{inputRef:s}=t,{sourceLang:l}=t,{isProcessing:c}=t,d=chrome.i18n.getMessage("side_panel_translate_input_prompt"),p=chrome.i18n.getMessage("side_panel_translate_input_prompt_description"),f=!1,h=!1,g=null;re((()=>{g&&clearTimeout(g)})),ne((()=>{setTimeout((()=>{QT({location:Fn,width:s?s.offsetWidth:0,height:s?s.offsetHeight:0})}),2e3)}));return e.$$set=e=>{"onInputChange"in e&&n(10,i=e.onInputChange),"isDisabled"in e&&n(1,a=e.isDisabled),"inputRef"in e&&n(0,s=e.inputRef),"sourceLang"in e&&n(2,l=e.sourceLang),"isProcessing"in e&&n(11,c=e.isProcessing)},e.$$.update=()=>{2048&e.$$.dirty&&c&&n(5,f=!1),8192&e.$$.dirty&&n(7,r=rS(o,tS)&&!hi()),6144&e.$$.dirty&&(g&&(clearTimeout(g),n(12,g=null)),c?n(12,g=setTimeout((()=>{n(6,h=!0),n(12,g=null)}),500)):n(6,h=!1))},[s,a,l,d,p,f,h,r,e=>{n(3,d=""),n(4,p=""),i(e.target.innerText.trim())},function(e){var t;n(3,d=""),n(4,p=""),e.preventDefault();const r=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");console.error(r),document.execCommand("insertText",!1,r)},i,c,g,o,function(t){se.call(this,e,t)},function(e){ce[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},()=>YT(Fn),()=>{h||n(5,f=!0),YT(tr)},()=>n(5,f=!1)]}class Hz extends Ue{constructor(e){super(),Me(this,e,Bz,qz,a,{onInputChange:10,isDisabled:1,inputRef:0,sourceLang:2,isProcessing:11})}}function Jz(e){let t;return{c(){t=k("div"),G(t,"class","sliding-bar svelte-g1fkpi")},m(e,n){x(e,t,n)},d(e){e&&N(t)}}}function zz(t){let n,r=t[0]&&Jz();return{c(){n=k("div"),r&&r.c(),G(n,"class","container svelte-g1fkpi")},m(e,t){x(e,n,t),r&&r.m(n,null)},p(e,[t]){e[0]?r||(r=Jz(),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&N(n),r&&r.d()}}}function Wz(e,t,n){let{isProcessing:r=!1}=t;return e.$$set=e=>{"isProcessing"in e&&n(0,r=e.isProcessing)},[r]}class Yz extends Ue{constructor(e){super(),Me(this,e,Wz,zz,a,{isProcessing:0})}}function Xz(e){let t,n,r;return n=new Yz({props:{isProcessing:e[1]}}),{c(){t=k("div"),Ce(n.$$.fragment),G(t,"class","loading-indicator svelte-10aez33"),G(t,"data-testid","side-panel-target-text-loading-indicator")},m(e,o){x(e,t,o),Le(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isProcessing=e[1]),n.$set(r)},i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){e&&N(t),$e(n)}}}function Kz(e){let t,n,r,o,i,a,s,l=e[4]&&Xz(e);return{c(){t=k("div"),l&&l.c(),n=$(),r=L(e[0]),G(t,"class","output-area svelte-10aez33"),G(t,"data-testid","side-panel-output"),G(t,"dir",o=$o(e[2]||void 0))},m(o,c){x(o,t,c),l&&l.m(t,null),I(t,n),I(t,r),e[6](t),i=!0,a||(s=M(t,"click",e[7]),a=!0)},p(e,[a]){e[4]?l?(l.p(e,a),16&a&&Re(l,1)):(l=Xz(e),l.c(),Re(l,1),l.m(t,n)):l&&(Ae(),Oe(l,1,1,(()=>{l=null})),Ie()),(!i||1&a)&&F(r,e[0]),(!i||4&a&&o!==(o=$o(e[2]||void 0)))&&G(t,"dir",o)},i(e){i||(Re(l),i=!0)},o(e){Oe(l),i=!1},d(n){n&&N(t),l&&l.d(),e[6](null),a=!1,s()}}}function Qz(e,t,n){let r,{targetText:o=""}=t,{isProcessing:i}=t,{targetLang:a}=t,s=!1,l=null;ne((()=>{setTimeout((()=>{QT({location:jn,width:r?r.offsetWidth:0,height:r?r.offsetHeight:0})}),2e3)})),re((()=>{l&&clearTimeout(l)}));return e.$$set=e=>{"targetText"in e&&n(0,o=e.targetText),"isProcessing"in e&&n(1,i=e.isProcessing),"targetLang"in e&&n(2,a=e.targetLang)},e.$$.update=()=>{34&e.$$.dirty&&(i?l||n(5,l=setTimeout((()=>{i&&n(4,s=!0),n(5,l=null)}),500)):(n(4,s=!1),l&&(clearTimeout(l),n(5,l=null))))},[o,i,a,r,s,l,function(e){ce[e?"unshift":"push"]((()=>{r=e,n(3,r)}))},()=>YT(jn)]}class Zz extends Ue{constructor(e){super(),Me(this,e,Qz,Kz,a,{targetText:0,isProcessing:1,targetLang:2})}}function eW(t){let n,r;return{c(){n=C("svg"),r=C("path"),G(r,"stroke","currentColor"),G(r,"stroke-linecap","round"),G(r,"stroke-linejoin","round"),G(r,"stroke-width","1.5"),G(r,"d","M16 3L20 7M20 7L16 11M20 7H4M8 21L4 17M4 17L8 13M4 17H20"),G(r,"vector-effect","non-scaling-stroke"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(n,"width","24"),G(n,"height","24"),G(n,"fill","none"),G(n,"class","Icon Icon--directional"),G(n,"data-name","SwitchHorizontal"),G(n,"viewBox","0 0 24 24")},m(e,t){x(e,n,t),I(n,r)},p:e,i:e,o:e,d(e){e&&N(n)}}}class tW extends Ue{constructor(e){super(),Me(this,e,null,eW,a,{})}}function nW(e){let t,n,r,i,a,s,l,c,u,d,p,f,h;return r=new Ok({props:{value:e[0],dataQaButton:"side-panel-translator-sourcelang",showRegionalVariants:!1,readOnly:e[1],fontSize:"sm",placeholderText:chrome.i18n.getMessage("dropdown_detect_language"),isOneColumnLayout:!0,adjustHeightToViewport:!0}}),r.$on("selection",e[7]),l=new tW({}),d=new Ok({props:{value:e[4].targetLanguageSidePanel,showChooseLanguageOption:!0,dataQaButton:"side-panel-translator-targetlang",fontSize:"sm",readOnly:e[1],showRecentlyUsed:!0,isOneColumnLayout:!0,adjustHeightToViewport:!0,isAlignedToTheRight:!e[2]}}),d.$on("selection",e[10]),{c(){t=k("div"),n=k("div"),Ce(r.$$.fragment),i=$(),a=k("button"),s=k("div"),Ce(l.$$.fragment),c=$(),u=k("div"),Ce(d.$$.fragment),G(n,"class","language-picker svelte-khzgta"),G(s,"class","icon-wrapper svelte-khzgta"),q(s,"transform","rotate("+e[3]+"deg)"),G(a,"class","swap-button svelte-khzgta"),G(a,"data-testid","side-panel-language-swap-button"),H(a,"disabled",!e[0]||!e[4].targetLanguageSidePanel||e[1]),G(u,"class","language-picker svelte-khzgta"),G(t,"class","container svelte-khzgta")},m(o,g){x(o,t,g),I(t,n),Le(r,n,null),I(t,i),I(t,a),I(a,s),Le(l,s,null),I(t,c),I(t,u),Le(d,u,null),p=!0,f||(h=[M(n,"mouseup",e[8]),M(a,"click",e[9]),M(u,"mouseup",e[11])],f=!0)},p(e,[t]){const n={};1&t&&(n.value=e[0]),2&t&&(n.readOnly=e[1]),r.$set(n),(!p||8&t)&&q(s,"transform","rotate("+e[3]+"deg)"),(!p||19&t)&&H(a,"disabled",!e[0]||!e[4].targetLanguageSidePanel||e[1]);const o={};16&t&&(o.value=e[4].targetLanguageSidePanel),2&t&&(o.readOnly=e[1]),4&t&&(o.isAlignedToTheRight=!e[2]),d.$set(o)},i(e){p||(Re(r.$$.fragment,e),Re(l.$$.fragment,e),Re(d.$$.fragment,e),p=!0)},o(e){Oe(r.$$.fragment,e),Oe(l.$$.fragment,e),Oe(d.$$.fragment,e),p=!1},d(e){e&&N(t),$e(r),$e(l),$e(d),f=!1,o(h)}}}function rW(e,t,n){let r;const o=DA();u(e,o,(e=>n(4,r=e)));const i=oe();let{sourceLang:a}=t,{isDisabled:s=!1}=t,l=!1,c=0;ne((()=>{const e=window.matchMedia("(max-width: 325px)");n(2,l=e.matches);const t=e=>{n(2,l=e.matches)};return e.addEventListener&&e.addEventListener("change",t),()=>{e.removeEventListener&&e.removeEventListener("change",t)}}));return e.$$set=e=>{"sourceLang"in e&&n(0,a=e.sourceLang),"isDisabled"in e&&n(1,s=e.isDisabled)},[a,s,l,c,r,o,i,e=>{n(0,a=e.detail.selectedOption.value),i("selectSourceLang",{sourceLang:a})},()=>YT(Vn),()=>{a&&r.targetLanguageSidePanel&&!s&&(n(3,c+=180),i("swapLanguages"))},e=>{const t=e.detail.selectedOption.value;!function(e){Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_SIDE_PANEL_TRANSLATOR_TARGET_LANG_CHANGED,sidePanelLanguageChangeData:{lang:e}})))}))}(t),i("selectTargetLang",{targetLang:t})},()=>YT(Un)]}class oW extends Ue{constructor(e){super(),Me(this,e,rW,nW,a,{sourceLang:0,isDisabled:1})}}function iW(t){let n,r=jo(),o=r&&function(e){let t,n,r,o;return{c(){t=k("div"),n=L(e[1]),G(t,"class","dev-label svelte-ll042z"),H(t,"isInline",e[0]),H(t,"isSmall",e[2])},m(i,a){x(i,t,a),I(t,n),r||(o=M(t,"click",e[3]),r=!0)},p(e,r){2&r&&F(n,e[1]),1&r&&H(t,"isInline",e[0]),4&r&&H(t,"isSmall",e[2])},d(e){e&&N(t),r=!1,o()}}}(t);return{c(){o&&o.c(),n=D()},m(e,t){o&&o.m(e,t),x(e,n,t)},p(e,[t]){r&&o.p(e,t)},i:e,o:e,d(e){e&&N(n),o&&o.d(e)}}}function aW(e,t,n){let{isInline:r=!1}=t,{text:o="DEV"}=t,{isSmall:i=!1}=t;return e.$$set=e=>{"isInline"in e&&n(0,r=e.isInline),"text"in e&&n(1,o=e.text),"isSmall"in e&&n(2,i=e.isSmall)},[r,o,i,function(t){se.call(this,e,t)}]}class sW extends Ue{constructor(e){super(),Me(this,e,aW,iW,a,{isInline:0,text:1,isSmall:2})}}function lW(e){let t,n,r,o,i,a,s,l,c,u,d,p,f,h,g,m,v,_,y,T,S,b,w,E,A,R,O=(e[7]||"N/A")+"",P=e[2]?.length+"",C=e[3]&&cW(e);return A=new Pk({props:{text:"Open dev tools"}}),{c(){t=k("div"),n=k("div"),r=k("pre"),o=L("ITA session id: "),i=L(O),a=$(),s=k("pre"),l=L("ITA session status: "),c=L(e[0]),u=$(),d=k("pre"),p=L("Reconnecting "),f=L(e[5]),h=$(),g=k("pre"),m=L("is processing: "),v=L(e[1]),_=$(),y=k("pre"),T=L("Active subscriptions: "),S=L(P),b=$(),C&&C.c(),w=$(),E=k("div"),Ce(A.$$.fragment),q(E,"width","fit-content"),G(t,"class","dev-info svelte-1tepehe")},m(e,O){x(e,t,O),I(t,n),I(n,r),I(r,o),I(r,i),I(n,a),I(n,s),I(s,l),I(s,c),I(n,u),I(n,d),I(d,p),I(d,f),I(n,h),I(n,g),I(g,m),I(g,v),I(n,_),I(n,y),I(y,T),I(y,S),I(t,b),C&&C.m(t,null),I(t,w),I(t,E),Le(A,E,null),R=!0},p(e,n){(!R||128&n)&&O!==(O=(e[7]||"N/A")+"")&&F(i,O),(!R||1&n)&&F(c,e[0]),(!R||32&n)&&F(f,e[5]),(!R||2&n)&&F(v,e[1]),(!R||4&n)&&P!==(P=e[2]?.length+"")&&F(S,P),e[3]?C?C.p(e,n):(C=cW(e),C.c(),C.m(t,w)):C&&(C.d(1),C=null)},i(e){R||(Re(A.$$.fragment,e),R=!0)},o(e){Oe(A.$$.fragment,e),R=!1},d(e){e&&N(t),C&&C.d(),$e(A)}}}function cW(e){let t,n,r,o,i,a,s,l,c,u,d,p=e[3].info?.statusCode+"",f=e[3].info?.detailCode?.value+"",h=e[3].message+"";return{c(){t=k("pre"),n=L("Error Code: "),r=L(p),o=$(),i=k("pre"),a=L("Error Detail Code: "),s=L(f),l=$(),c=k("pre"),u=L("Error Message: "),d=L(h)},m(e,p){x(e,t,p),I(t,n),I(t,r),x(e,o,p),x(e,i,p),I(i,a),I(i,s),x(e,l,p),x(e,c,p),I(c,u),I(c,d)},p(e,t){8&t&&p!==(p=e[3].info?.statusCode+"")&&F(r,p),8&t&&f!==(f=e[3].info?.detailCode?.value+"")&&F(s,f),8&t&&h!==(h=e[3].message+"")&&F(d,h)},d(e){e&&(N(t),N(o),N(i),N(l),N(c))}}}function uW(e){let t,n,r,o,i;n=new sW({props:{isSmall:!0}}),n.$on("click",e[9]);let a=e[6]&&lW(e);return{c(){t=k("div"),Ce(n.$$.fragment),r=$(),a&&a.c(),o=D(),G(t,"style",e[4])},m(e,s){x(e,t,s),Le(n,t,null),x(e,r,s),a&&a.m(e,s),x(e,o,s),i=!0},p(e,[n]){(!i||16&n)&&G(t,"style",e[4]),e[6]?a?(a.p(e,n),64&n&&Re(a,1)):(a=lW(e),a.c(),Re(a,1),a.m(o.parentNode,o)):a&&(Ae(),Oe(a,1,1,(()=>{a=null})),Ie())},i(e){i||(Re(n.$$.fragment,e),Re(a),i=!0)},o(e){Oe(n.$$.fragment,e),Oe(a),i=!1},d(e){e&&(N(t),N(r),N(o)),$e(n),a&&a.d(e)}}}function dW(e,t,n){let r,{itaSession:o}=t,{sessionStatus:i}=t,{isProcessing:a}=t,{activeItaSubscriptions:s}=t,{sessionError:l}=t,{style:c}=t,{reconnecting:u}=t,d=!1;return e.$$set=e=>{"itaSession"in e&&n(8,o=e.itaSession),"sessionStatus"in e&&n(0,i=e.sessionStatus),"isProcessing"in e&&n(1,a=e.isProcessing),"activeItaSubscriptions"in e&&n(2,s=e.activeItaSubscriptions),"sessionError"in e&&n(3,l=e.sessionError),"style"in e&&n(4,c=e.style),"reconnecting"in e&&n(5,u=e.reconnecting)},e.$$.update=()=>{256&e.$$.dirty&&o&&o.sessionId.subscribe((e=>{n(7,r=e)}))},[i,a,s,l,c,u,d,r,o,()=>n(6,d=!d)]}class pW extends Ue{constructor(e){super(),Me(this,e,dW,uW,a,{itaSession:8,sessionStatus:0,isProcessing:1,activeItaSubscriptions:2,sessionError:3,style:4,reconnecting:5})}}const fW=["ar","bg","de","el","sv","en","nb","tr","es","nl","fr","pl","id","pt","it","ru","uk","ja","zh-Hans","ko","cs","da","et","fi","hu","lv","lt","ro","sk","sl"],hW=(e,t,n)=>Fe(void 0,void 0,void 0,(function*(){yield e.reinitialize(t);const{data:r}=yield e.recognize(n);return{language:t,data:r}})),gW=(()=>{let e,t;return()=>Fe(void 0,void 0,void 0,(function*(){return t&&clearTimeout(t),t=setTimeout((()=>{jo()&&console.log("🧹 Run workers clean up!"),null==e||e.forEach((e=>e.terminate())),e=void 0}),6e5),e||(jo()&&console.log("🤖 Initialize new workers"),e=yield Promise.all(new Array(4).fill(void 0).map((()=>Fe(void 0,void 0,void 0,(function*(){if(!("Tesseract"in window))throw new Error("Tesseract is not defined");return yield window.Tesseract.createWorker("fr",1,{workerPath:chrome.runtime.getURL("tesseract/worker.min.js"),langPath:chrome.runtime.getURL("tesseract/lang-data"),corePath:chrome.runtime.getURL("tesseract"),workerBlobURL:!1,gzip:!1})}))))),jo()&&console.log("✅ 4 workers initialized")),e}))})(),mW=(e,t)=>Fe(void 0,void 0,void 0,(function*(){let n,r,o;try{n=yield gW()}catch(e){const t=e instanceof Error?e.message:String(e)||"";throw new Error(t?`${Ky.OCR_WORKER_INITIALIZATION_FAILED}: ${t}`:Ky.OCR_WORKER_INITIALIZATION_FAILED)}try{r=yield(e=>Fe(void 0,void 0,void 0,(function*(){const t=new Image;t.src=e,yield new Promise((e=>{t.onload=e}));const n=document.createElement("canvas"),r=n.getContext("2d");if(null==r)throw new Error("Context can't be null!");let o=t.width,i=t.height;if(o<1e3||i<1e3){const e=Math.min(Math.max(1e3/o,1e3/i),2);o=Math.floor(o*e),i=Math.floor(i*e)}return n.width=o,n.height=i,r.filter="grayscale(100%) contrast(150%)",r.drawImage(t,0,0,o,i),n.toDataURL()})))(e)}catch(e){const t=e instanceof Error?e.message:String(e)||"";throw new Error(t?`${Ky.OCR_IMAGE_PREPROCESSING_FAILED}: ${t}`:Ky.OCR_IMAGE_PREPROCESSING_FAILED)}if(t&&fW.includes(t))try{const{data:i}=yield hW(n[0],t,e),{data:a}=yield hW(n[0],t,r);if(o=a.confidence>i.confidence?Object.assign({language:t},a):Object.assign({language:t},i),o.confidence>=70)return o.text.trim()}catch(e){}const i=fW.filter((e=>e!==t));for(;i.length>0;){const t=[];for(let r of n){const n=i.shift();n&&t.push(hW(r,n,e))}try{o=(yield Promise.all(t)).reduce(((e,{language:t,data:n})=>!e||e.confidence<n.confidence?{language:t,text:n.text,confidence:n.confidence}:e),o)}catch(e){}}if(!o)throw new Error(Ky.OCR_NO_TEXT_RECOGNIZED);let a;try{const{data:e}=yield hW(n[0],o.language,r);a=e.confidence>o.confidence?Object.assign({language:o.language},e):o}catch(e){a=o}if(a.confidence<75)throw new Error(`${Ky.OCR_CONFIDENCE_THRESHOLD_NOT_MET}: ${a.confidence} < 75`);return a.text.trim()}));function vW(e){let t,n;return t=new FO({props:{error:{error:e[5]},close:e[26]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.error={error:e[5]}),32&n[0]&&(r.close=e[26]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function _W(e){let t,n;return{c(){t=k("img"),q(t,"width","100%"),q(t,"max-height","100px"),q(t,"object-fit","contain"),q(t,"border","1px solid #dbe0e5"),q(t,"border-radius","4px"),l(t.src,n=e[6])||G(t,"src",n)},m(e,n){x(e,t,n)},p(e,r){64&r[0]&&!l(t.src,n=e[6])&&G(t,"src",n)},d(e){e&&N(t)}}}function yW(e){let t,n;return t=new iC({props:{serviceName:xr.TRANSLATOR}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function TW(e){let t,n;return t=new Zz({props:{targetLang:e[16].targetLanguageSidePanel,targetText:e[4],isProcessing:e[8]||e[12]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};65536&n[0]&&(r.targetLang=e[16].targetLanguageSidePanel),16&n[0]&&(r.targetText=e[4]),4352&n[0]&&(r.isProcessing=e[8]||e[12]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function SW(e){let t,n;return t=new FO({props:{error:{error:e[7]},close:e[28]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.error={error:e[7]}),128&n[0]&&(r.close=e[28]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function bW(e){let t,n,r,o,i,a,s,l,c,u,d,p,f,h,g=jo(),m=g&&function(e){let t,n;return t=new pW({props:{style:"position: fixed; left: 35px; top: 43px;",itaSession:e[3],sessionStatus:e[11],isProcessing:e[8],activeItaSubscriptions:e[14],sessionError:e[10],reconnecting:e[12]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.itaSession=e[3]),2048&n[0]&&(r.sessionStatus=e[11]),256&n[0]&&(r.isProcessing=e[8]),16384&n[0]&&(r.activeItaSubscriptions=e[14]),1024&n[0]&&(r.sessionError=e[10]),4096&n[0]&&(r.reconnecting=e[12]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}(e);function v(t){e[22](t)}let _={isDisabled:e[0]||e[12]};void 0!==e[9]&&(_.sourceLang=e[9]),r=new oW({props:_}),ce.push((()=>ke(r,"sourceLang",v))),r.$on("selectSourceLang",e[23]),r.$on("selectTargetLang",e[24]),r.$on("swapLanguages",e[25]);let y=e[5]&&vW(e),T=e[6]&&_W(e),S=e[0]&&yW();function b(t){e[27](t)}let w={sourceLang:e[9],onInputChange:e[20],isDisabled:e[0],isProcessing:e[8]||e[12]};void 0!==e[13]&&(w.inputRef=e[13]),c=new Hz({props:w}),ce.push((()=>ke(c,"inputRef",b))),c.$on("focus",e[21]);const E=[SW,TW],A=[];function R(e,t){return e[7]?0:1}return p=R(e),f=A[p]=E[p](e),{c(){t=k("div"),m&&m.c(),n=$(),Ce(r.$$.fragment),i=$(),y&&y.c(),a=$(),T&&T.c(),s=$(),S&&S.c(),l=$(),Ce(c.$$.fragment),d=$(),f.c(),G(t,"class","translator-container svelte-bad754"),G(t,"data-testid",e[1])},m(e,o){x(e,t,o),m&&m.m(t,null),I(t,n),Le(r,t,null),I(t,i),y&&y.m(t,null),I(t,a),T&&T.m(t,null),I(t,s),S&&S.m(t,null),I(t,l),Le(c,t,null),I(t,d),A[p].m(t,null),h=!0},p(e,n){g&&m.p(e,n);const i={};4097&n[0]&&(i.isDisabled=e[0]||e[12]),!o&&512&n[0]&&(o=!0,i.sourceLang=e[9],ge((()=>o=!1))),r.$set(i),e[5]?y?(y.p(e,n),32&n[0]&&Re(y,1)):(y=vW(e),y.c(),Re(y,1),y.m(t,a)):y&&(Ae(),Oe(y,1,1,(()=>{y=null})),Ie()),e[6]?T?T.p(e,n):(T=_W(e),T.c(),T.m(t,s)):T&&(T.d(1),T=null),e[0]?S?1&n[0]&&Re(S,1):(S=yW(),S.c(),Re(S,1),S.m(t,l)):S&&(Ae(),Oe(S,1,1,(()=>{S=null})),Ie());const d={};512&n[0]&&(d.sourceLang=e[9]),1&n[0]&&(d.isDisabled=e[0]),4352&n[0]&&(d.isProcessing=e[8]||e[12]),!u&&8192&n[0]&&(u=!0,d.inputRef=e[13],ge((()=>u=!1))),c.$set(d);let v=p;p=R(e),p===v?A[p].p(e,n):(Ae(),Oe(A[v],1,1,(()=>{A[v]=null})),Ie(),f=A[p],f?f.p(e,n):(f=A[p]=E[p](e),f.c()),Re(f,1),f.m(t,null)),(!h||2&n[0])&&G(t,"data-testid",e[1])},i(e){h||(Re(m),Re(r.$$.fragment,e),Re(y),Re(S),Re(c.$$.fragment,e),Re(f),h=!0)},o(e){Oe(m),Oe(r.$$.fragment,e),Oe(y),Oe(S),Oe(c.$$.fragment,e),Oe(f),h=!1},d(e){e&&N(t),m&&m.d(),$e(r),y&&y.d(),T&&T.d(),S&&S.d(),$e(c),A[p].d()}}}function wW(e,t,n){let r,o,i;u(e,RA,(e=>n(15,r=e)));var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};let{isTranslateDisabled:s=!1}=t,{dataTestId:l=""}=t;const c=ae("Sentry"),d=MA();u(e,d,(e=>n(36,o=e)));const p=DA();let f,h,g,m,v,_,y,T,S,b,w,E,A,I,R;u(e,p,(e=>n(16,i=e))),UA();let O,x,N=!1,P=[],k=!1;function C(){return a(this,void 0,void 0,(function*(){return h?!N&&(!(!b&&E!==DJ.Disconnected)&&(yield D(),!0)):(yield D(),!0)}))}function L(){return a(this,void 0,void 0,(function*(){let e;try{e=yield FS.getAccessToken(),A&&A(e)}catch(e){return n(5,v=II),console.error(e),[void 0,e]}return[e,null]}))}function $(){for(const e of P)e.unsubscribe();n(14,P=[])}function D(){return a(this,void 0,void 0,(function*(){if(!N){n(12,N=!0),n(10,b=void 0),n(5,v=void 0),n(7,y=void 0);try{const[e]=yield L();$();const[t,s]=yield Nz({itaDocumentState:w,accessToken:e});if(s)throw n(12,N=!1),n(5,v=s.message),s;n(3,h=t.session),A=t.updateAccessToken,n(2,f=t.client),f&&i.targetLanguageSidePanel&&f.updateRequestedTargetLanguage(Do({lang:i.targetLanguageSidePanel,languageList:r}));let l=[];l.push(f.document.targetTextField.content.subscribe((e=>{n(4,g=e)}))),l.push(f.document.sourceTextField.calculatedSourceLanguageProperty.language.subscribe((e=>{n(9,S=null==e?void 0:e.toUpperCase())}))),l.push(h.userVisibleError.subscribe((e=>{var t,r;if(e instanceof AJ){console.error(e),n(10,b=e);const a=null===(r=null===(t=null==b?void 0:b.info)||void 0===t?void 0:t.detailCode)||void 0===r?void 0:r.value;(function(e){switch(e){case OI:case xI:case NI:case PI:case kI:case $I:case DI:case UI:case VI:case GI:case FI:case jI:case qI:case BI:case LI:case MI:return!0;default:return!1}})(a)&&(n(5,v=function(e,t=!1){switch(e){case xI:return TI;case NI:return SI;case OI:return TI;case CI:return II;default:return t?EI:AI}}(a)),zT({errorCode:a||e.name,errorMessage:e.message,domainName:null==o?void 0:o.hostname,targetLang:i.targetLanguageSidePanel,websiteLanguage:S,trigger:ct,characterCount:null==g?void 0:g.length})),XT({itaSessionType:Wr,itaSessionEventType:Qr,itaErrorType:to,itaErrorMessage:a||e.message}),gS({action:Qr,error:a||e.message})}else if(e instanceof EJ){console.error(e);const t=function(e){if(e.includes("Status: 451"))return RI}(e.message);n(5,v=t||AI),XT({itaSessionType:Wr,itaSessionEventType:Qr,itaErrorType:eo,itaErrorMessage:e.message})}null==c||c.captureException(e)}))),l.push(h.status.subscribe((e=>{n(11,E=e)}))),l.push(h.messages.subscribe((e=>a(this,void 0,void 0,(function*(){var t,r,a,s;e&&("metaInfoMessage"in e&&0===(null===(r=null===(t=e.metaInfoMessage)||void 0===t?void 0:t.translatorTaskMetaInfo)||void 0===r?void 0:r.progressInPercent)&&n(8,T=!0),"metaInfoMessage"in e&&100===(null===(s=null===(a=e.metaInfoMessage)||void 0===a?void 0:a.translatorTaskMetaInfo)||void 0===s?void 0:s.progressInPercent)&&(n(8,T=!1),clearTimeout(R),R=setTimeout((()=>{!function(){if(!m||0===m.length)return;(function(e){Fe(this,void 0,void 0,(function*(){return JT((t=>Object.assign(Object.assign({},t),{eventId:dT.EVENT_ID_TRANSLATION_REQUEST,translationRequestData:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({extensionVersion:"1.71.0",domainName:e.domainName,userId:e.installationId,translationTrigger:xT(e.trigger),translationData:{sourceLang:e.websiteLanguage,targetLang:e.targetLanguage,sourceLength:e.characterCount}},e.translationPerformance&&{translationPerformance:e.translationPerformance}),{nicheIntegration:kT(e.nicheIntegration||_r)}),e.glossaryTrackingInfo&&{isGlossaryEnabled:e.glossaryTrackingInfo.isGlossaryEnabled,isGlossaryShared:e.glossaryTrackingInfo.isGlossaryShared,didGlossaryChangeTranslation:e.glossaryTrackingInfo.didGlossaryChangeTranslation,isAutoTermbase:e.glossaryTrackingInfo.isAutoTermbase}),e.isIta&&{isIta:e.isIta}),e.isInputReviewUiUsed&&{isInputReviewUiUsed:e.isInputReviewUiUsed})})))}))})({installationId:i.installationId,trigger:ct,websiteLanguage:S,targetLanguage:i.targetLanguageSidePanel,characterCount:null==m?void 0:m.length,domainName:null==o?void 0:o.hostname,isIta:!0,glossaryTrackingInfo:{isGlossaryEnabled:!!(null==x?void 0:x.glossaryId),isGlossaryShared:!!(null==x?void 0:x.isShared),isAutoTermbase:!!(null==x?void 0:x.isAutoTermbase),didGlossaryChangeTranslation:k}}),gS({action:_o}),ZE()}()}),3e3)))}))))),l.push(f.document.targetTextField.glossaryReplacementAnnotations.annotations.subscribe((e=>{k=e.length>0}))),l.push(h.status.subscribe((e=>{e===DJ.Disconnected&&$()}))),n(14,P=[...l]),x=yield xz(),yield Oz(f,null==x?void 0:x.glossaryId)}catch(e){n(5,v=e.message),n(10,b=e),zT({errorCode:e.name,errorMessage:e.message,domainName:null==o?void 0:o.hostname,targetLang:i.targetLanguageSidePanel,websiteLanguage:S,trigger:ct,characterCount:null==g?void 0:g.length}),gS({action:Qr,error:e.message})}n(12,N=!1)}}))}function M(e){var t,r,o,i,s;return a(this,void 0,void 0,(function*(){((null===(t=e.accountId)||void 0===t?void 0:t.oldValue)||(null===(r=e.accountId)||void 0===r?void 0:r.newValue))&&(n(6,_=void 0),D()),f&&((null===(o=e.isGlossaryEnabled)||void 0===o?void 0:o.oldValue)!==(null===(i=e.isGlossaryEnabled)||void 0===i?void 0:i.newValue)||(null===(s=e.activeTermbaseId)||void 0===s?void 0:s.newValue))&&(x=yield xz(),yield Oz(f,null==x?void 0:x.glossaryId))}))}function U(e,t){return e.action===yo.dlTranslateSelectedArea&&(s?(KT({errorCode:Ky.OCR_TRANSLATE_IS_DISABLED,errorMessage:""}),gS({action:Ky.OCR_TRANSLATE_IS_DISABLED,error:""}),!1):(v===Fy&&n(5,v=""),n(8,T=!0),(e=>Fe(void 0,[e],void 0,(function*({imageUrl:e,selectedArea:{captureRect:t,visualViewport:n}}){const r=document.createElement("canvas"),o=r.getContext("2d");if(null===o)throw new Error("Canvas 2D context is null");const i=new Image(n.width*n.scale,n.height*n.scale);i.setAttribute("src",e),yield new Promise((e=>i.onload=e));const a=i.naturalWidth/n.width,s=i.naturalHeight/n.height;return r.width=t.width*a,r.height=t.height*s,o.drawImage(i,(t.x-n.offsetLeft)*a,(t.y-n.offsetTop)*s,t.width*a,t.height*s,0,0,t.width*a,t.height*s),r.toDataURL("image/png")})))({imageUrl:e.imageUrl,selectedArea:e.selectedArea}).then((e=>a(this,void 0,void 0,(function*(){n(6,_=e);const t=S?Do({lang:S,languageList:r}):void 0,o=yield mW(e,t);n(8,T=!1),""===o&&(n(5,v=Fy),KT({errorCode:Ky.OCR_ERROR,errorMessage:oT}),gS({action:Ky.OCR_ERROR,error:oT})),n(13,O.innerText=o,O),O.dispatchEvent(new InputEvent("input",{bubbles:!0})),n(6,_=e)})))).catch((e=>{n(8,T=!1),n(5,v=Fy);const t=(e instanceof Error?e.message:String(e))||"",{errorCode:r,message:o}=(e=>{for(const t of Object.values(Ky))if(e.startsWith(t))return e===t?{errorCode:t,message:""}:{errorCode:t,message:e.substring(t.length+2)||""};return{errorCode:Ky.OCR_ERROR,message:e}})(t);KT({errorCode:r,errorMessage:o}),gS({action:r,error:o})})),!1))}ne((()=>{chrome.storage.onChanged.addListener(M),chrome.runtime.onMessage.addListener(U),D(),window.addEventListener("online",(()=>{D()})),window.addEventListener("offline",(()=>{n(5,v=Gy)}))})),re((()=>{h&&h.close(),chrome.storage.onChanged.removeListener(M),clearTimeout(I)}));return e.$$set=e=>{"isTranslateDisabled"in e&&n(0,s=e.isTranslateDisabled),"dataTestId"in e&&n(1,l=e.dataTestId)},[s,l,f,h,g,v,_,y,T,S,b,E,N,O,P,r,i,d,p,C,function(e){return a(this,void 0,void 0,(function*(){n(6,_=void 0),n(7,y="");try{yield gb({sourceTexts:[e]})}catch(e){return void n(7,y=e.name)}m=e,f&&f.updateSourceText((e=>e.replaceAll("\r",""))(m)),clearTimeout(I),I=setTimeout((()=>a(this,void 0,void 0,(function*(){!function(){if(!f||!f.document)return;try{w=f.document.serialize()}catch(e){console.error(e)}}(),yield L(),yield C()}))),1e3)}))},function(){return a(this,void 0,void 0,(function*(){yield L(),yield C()}))},function(e){S=e,n(9,S)},()=>{C(),f.updateRequestedSourceLanguage(Do({lang:S,direction:"source",languageList:r}))},e=>{p.set({targetLanguageSidePanel:e.detail.targetLang}),C(),f.updateRequestedTargetLanguage(Do({lang:e.detail.targetLang,languageList:r}))},async()=>{if(!S)return;const e=i.targetLanguageSidePanel;if(!e)return;const t=ko(e);let o="EN"===(a=S)?"EN-GB":"PT"===a?"PT-PT":a;var a;r.some((e=>e.langCode===o))&&(p.set({targetLanguageSidePanel:o}),await C(),f.updateRequestedTargetLanguage(Do({lang:o,languageList:r})),f.updateRequestedSourceLanguage(Do({lang:t,direction:"source",languageList:r})),O&&(n(13,O.innerText=g||"",O),O.dispatchEvent(new InputEvent("input",{bubbles:!0}))))},()=>n(5,v=""),function(e){O=e,n(13,O)},()=>n(7,y="")]}class EW extends Ue{constructor(e){super(),Me(this,e,wW,bW,a,{isTranslateDisabled:0,dataTestId:1},null,[-1,-1])}}function AW(t){let n,r,o,i,a,s,l,c;return{c(){n=k("div"),r=k("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=$(),i=k("div"),a=k("p"),s=k("strong"),s.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,l=$(),c=k("p"),c.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,G(r,"class","icon svelte-16jsbww"),G(i,"class","text svelte-16jsbww"),G(n,"class","container svelte-16jsbww"),G(n,"data-testid","login-required-policy-message")},m(e,t){x(e,n,t),I(n,r),I(n,o),I(n,i),I(i,a),I(a,s),I(i,l),I(i,c)},p:e,i:e,o:e,d(e){e&&N(n)}}}class IW extends Ue{constructor(e){super(),Me(this,e,null,AW,a,{})}}function RW(e){let t,n,r;return n=new lN({}),{c(){t=k("div"),Ce(n.$$.fragment),G(t,"class","fpt-container"),G(t,"data-testid","fpt-container")},m(e,o){x(e,t,o),Le(n,t,null),r=!0},i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){e&&N(t),$e(n)}}}function OW(e){let t,n,r=!e[0]&&e[1]&&RW();return{c(){t=k("fragment"),r&&r.c(),G(t,"slot","fpt-container")},m(e,o){x(e,t,o),r&&r.m(t,null),n=!0},p(e,n){!e[0]&&e[1]?r?3&n&&Re(r,1):(r=RW(),r.c(),Re(r,1),r.m(t,null)):r&&(Ae(),Oe(r,1,1,(()=>{r=null})),Ie())},i(e){n||(Re(r),n=!0)},o(e){Oe(r),n=!1},d(e){e&&N(t),r&&r.d()}}}function xW(t){let n,r,o;return r=new IW({}),{c(){n=k("div"),Ce(r.$$.fragment),G(n,"class","admin-info svelte-mhuesr")},m(e,t){x(e,n,t),Le(r,n,null),o=!0},p:e,i(e){o||(Re(r.$$.fragment,e),o=!0)},o(e){Oe(r.$$.fragment,e),o=!1},d(e){e&&N(n),$e(r)}}}function NW(e){let t,n;return t=new EW({props:{isTranslateDisabled:e[5],dataTestId:"side-panel-translator"}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.isTranslateDisabled=e[5]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function PW(e){let t,n,r,o;const i=[NW,xW],a=[];function s(e,t){return e[0]?1:0}return n=s(e),r=a[n]=i[n](e),{c(){t=k("div"),r.c(),G(t,"class","main-content svelte-mhuesr"),G(t,"slot","main-content")},m(e,r){x(e,t,r),a[n].m(t,null),o=!0},p(e,o){let l=n;n=s(e),n===l?a[n].p(e,o):(Ae(),Oe(a[l],1,1,(()=>{a[l]=null})),Ie(),r=a[n],r?r.p(e,o):(r=a[n]=i[n](e),r.c()),Re(r,1),r.m(t,null))},i(e){o||(Re(r),o=!0)},o(e){Oe(r),o=!1},d(e){e&&N(t),a[n].d()}}}function kW(t){let n,r;return n=new IC({props:{noBorder:!1,dataTestId:"side-panel-inline-corrections"}}),{c(){Ce(n.$$.fragment)},m(e,t){Le(n,e,t),r=!0},p:e,i(e){r||(Re(n.$$.fragment,e),r=!0)},o(e){Oe(n.$$.fragment,e),r=!1},d(e){$e(n,e)}}}function CW(e){let t,n;return t=new yC({props:{noBorder:!e[6],dataTestId:"side-panel-glossary"}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.noBorder=!e[6]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function LW(e){let t,n,r,o,i,a;const s=[CW,kW],l=[];function c(e,t){return 65&t&&(r=null),e[2]?0:(null==r&&(r=!(e[0]||!e[6]||hi())),r?1:-1)}return~(o=c(e,-1))&&(i=l[o]=s[o](e)),{c(){t=k("div"),n=k("div"),i&&i.c(),G(t,"slot","footer")},m(e,r){x(e,t,r),I(t,n),~o&&l[o].m(n,null),a=!0},p(e,t){let r=o;o=c(e,t),o===r?~o&&l[o].p(e,t):(i&&(Ae(),Oe(l[r],1,1,(()=>{l[r]=null})),Ie()),~o?(i=l[o],i?i.p(e,t):(i=l[o]=s[o](e),i.c()),Re(i,1),i.m(n,null)):i=null)},i(e){a||(Re(i),a=!0)},o(e){Oe(i),a=!1},d(e){e&&N(t),~o&&l[o].d()}}}function $W(e){let t,n;return t=new mI({props:{isLoggedIn:e[2],showUpgradeButton:e[3],isProTranslator:e[4],$$slots:{footer:[LW],"main-content":[PW],"fpt-container":[OW]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.isLoggedIn=e[2]),8&n&&(r.showUpgradeButton=e[3]),16&n&&(r.isProTranslator=e[4]),615&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function DW(e,t,n){let r,o,{forceLogin:i=!1}=t,{showFPTWidget:a=!1}=t,{isLoggedIn:s=!1}=t,{showUpgradeButton:l=!1}=t,{isProTranslator:c=!1}=t,{isTranslateDisabled:d=!1}=t;const p=UA();return u(e,p,(e=>n(8,o=e))),e.$$set=e=>{"forceLogin"in e&&n(0,i=e.forceLogin),"showFPTWidget"in e&&n(1,a=e.showFPTWidget),"isLoggedIn"in e&&n(2,s=e.isLoggedIn),"showUpgradeButton"in e&&n(3,l=e.showUpgradeButton),"isProTranslator"in e&&n(4,c=e.isProTranslator),"isTranslateDisabled"in e&&n(5,d=e.isTranslateDisabled)},e.$$.update=()=>{256&e.$$.dirty&&n(6,r=rS(o,nS))},[i,a,s,l,c,d,r,p,o]}class MW extends Ue{constructor(e){super(),Me(this,e,DW,$W,a,{forceLogin:0,showFPTWidget:1,isLoggedIn:2,showUpgradeButton:3,isProTranslator:4,isTranslateDisabled:5})}}function UW(e){let t,n;return t=new MW({props:{forceLogin:e[1],showFPTWidget:e[5],isLoggedIn:e[4],showUpgradeButton:e[2],isProTranslator:e[0],isTranslateDisabled:e[3]}}),{c(){Ce(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.forceLogin=e[1]),32&n&&(r.showFPTWidget=e[5]),16&n&&(r.isLoggedIn=e[4]),4&n&&(r.showUpgradeButton=e[2]),1&n&&(r.isProTranslator=e[0]),8&n&&(r.isTranslateDisabled=e[3]),t.$set(r)},i(e){n||(Re(t.$$.fragment,e),n=!0)},o(e){Oe(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function VW(e,t,n){let r,o,i,a,s,l,c,d,p;u(e,wA,(e=>n(10,d=e))),u(e,AA,(e=>n(11,p=e)));var f=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};let h,g,m,v,_,{Sentry:y}=t,T=!1;function S(){return f(this,void 0,void 0,(function*(){try{yield bo(EA),n(7,h=!0)}catch(e){n(7,h=!1)}}))}return ie("deepl_settings",wA),ie("deepl_website_settings",AA),ie("Sentry",y),ie("deepl_experiments",IA),ne((()=>{_=chrome.runtime.connect({name:"SIDEPANEL_PORT"}),g=()=>S(),chrome.tabs.onActivated.addListener(g),m=()=>S(),chrome.windows.onFocusChanged.addListener(m),v=(e,t)=>{"complete"===t.status&&S()},chrome.tabs.onUpdated.addListener(v),S(),mo({action:po.dlTrackSidePanelOpened}),SA().then().catch((e=>{n(1,T=e.name===rT)})),setTimeout((()=>{QT({location:rr,width:window.innerWidth,height:window.innerHeight})}),2e3)})),re((()=>{_.disconnect(),g&&chrome.tabs.onActivated.removeListener(g),m&&chrome.windows.onFocusChanged.removeListener(m),v&&chrome.tabs.onUpdated.removeListener(v)})),e.$$set=e=>{"Sentry"in e&&n(6,y=e.Sentry)},e.$$.update=()=>{2048&e.$$.dirty&&n(9,r=p&&p.isValidUrlForFullPageTranslation),3712&e.$$.dirty&&n(5,o=p&&d&&Cy(d,xr.TRANSLATOR)&&r&&h),1024&e.$$.dirty&&n(4,i=d.isLoggedIn),1024&e.$$.dirty&&n(0,a=Cy(d,xr.TRANSLATOR)),1024&e.$$.dirty&&n(3,s=((e,t)=>ky(e,t)===kr)(d,xr.TRANSLATOR)),1024&e.$$.dirty&&n(8,l=Cy(d,xr.WRITE)),1281&e.$$.dirty&&n(2,c=d.isLoggedIn&&(!a||!l&&!d.hideWrite))},[a,T,c,s,i,o,y,h,l,r,d,p]}const GW={log:console.log,error:console.error,warn:console.warn,info:console.info,debug:console.debug},FW=(e,t={})=>{if(!{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.LOGGING.SEQ_ENABLED)return;const n=(n,...r)=>{try{let o="";try{for(const e of r)o+=JSON.stringify(e)+" "}catch(e){o=r.toString()}((e,t,...n)=>{Fe(void 0,[e,t,...n],void 0,(function*(e,t,n={}){try{return yield fetch("http://localhost:5579/api/events/raw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Events:[{Timestamp:(new Date).toISOString(),Level:e,MessageTemplate:t,Properties:n}]})})}catch(e){}}))})(n,o.trim(),Object.assign({scope:e},t))}catch(e){}};console.log=(...e)=>{GW.log(...e),n("Information",...e)},console.error=(...e)=>{GW.error(...e),n("Error",...e)},console.warn=(...e)=>{GW.warn(...e),n("Warning",...e)},console.info=(...e)=>{GW.info(...e),n("Information",...e)},console.debug=(...e)=>{GW.debug(...e),n("Debug",...e)}};jo()&&FW("sidepanel-script");const jW=(jo()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";Dy(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";Dy(t)&&e.preventDefault()}))),If(Object.assign({},My)),Uy(Ny),Ny);jW.setContext("appContext",{location:"side_panel"});return new class extends Ue{constructor(e){super(),Me(this,e,VW,UW,a,{Sentry:6})}}({target:document.body,props:{Sentry:jW}})}();
//# sourceMappingURL=sidePanel.js.map
