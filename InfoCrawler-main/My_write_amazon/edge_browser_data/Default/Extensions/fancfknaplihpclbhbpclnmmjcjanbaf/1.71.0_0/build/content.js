var content=function(e){"use strict";function t(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))}function n(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function o(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;const i=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google español",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ES-419",langCodeForSpeech:"es-ES",voice:"Google español",supportsFormality:!0,langCodeForIta:"es-419"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HE",langCodeForSpeech:"he",langCodeForIta:"he"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"VI",langCodeForSpeech:"vi",langCodeForIta:"vi"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],r=["EN-GB","FR","DE","IT","PT-PT","ES"],s={"EN-US":"EN","EN-GB":"EN","ES-419":"ES","PT-PT":"PT","PT-BR":"PT","ZH-HANT":"ZH"},a=[{langCode:"EN",langCodeForIta:"en"},{langCode:"PT",langCodeForIta:"pt"}],l=["EN-GB","EN-US","EN","DE","FR","ES","PT-PT","PT-BR","PT","IT","JA","KO","ZH"],c=["pt-BR","pt-PT","en-GB","en-US","de","fr","it","es","ja","ko","zh-Hans"],d=0,u=1,p=2,g={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},m="",h="ONGOING_WRITE",f=1,v=3,_=4,w="inline",b="automatic",y="manual",E="input",T="customization",x=1,$=2,S=3,C=1500,k=5e3,L=2e3,A=2e3,I={none:0,defaultPopup:1,fptInjectedPopup:2,inlineTooltipPopup:3,itaReviewPopup:4,sidePanel:5},O=1,D=2,M=1,R=2,N=1,P=2,U={deepl_inline_ui:{z_index:2147483639}},q="HINT_KEYBOARD_SHORTCUT",B="INPUT_TRANSLATION",F="INLINE_TRANSLATION",H="FULL_PAGE_TRANSLATION",j="ACCOUNT_SUCCESSFULLY_CREATED",z="SUCCESSFULLY_LOGGED_IN",G="GSLIDES_WARNING_TO_AVOID_ASSET_LOSS",W="SHOW_ADS_FOR_MS_ADDINS",V="NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY",K={green_theme:"green_theme",warning_theme:"warning_theme",ads_theme:"ads_theme"},Z="INLINE_TRANSLATION_TRIGGER_ICON",Y="INLINE_TRANSLATION_SETTINGS_ICON",J="INLINE_TRANSLATION_SETTING_POPUP",X="INLINE_TRANSLATION_TOOLBAR_TARGET_LANGUAGE_SELECTOR",Q="INLINE_TRANSLATION_WRITE_TOOLBAR_LANGUAGE_SELECTOR",ee="INPUT_TRANSLATION_TRIGGER_ICON",te="INPUT_IMPROVE_TRIGGER_ICON",ne="INPUT_TRANSLATION_SETTINGS_ICON",oe="INPUT_TRANSLATION_SETTING_POPUP",ie="INPUT_TRANSLATION_SETTING_LANGUAGE_SELECTOR",re="FPT_HIDE_MODAL",se="FPT_TRANSLATION_POPUP_MENU_OPTION",ae="FPT_TRANSLATION_POPUP_OPEN_SETTINGS",le="FPT_TRANSLATION_POPUP_CLOSE_BUTTON",ce="FPT_TRANSLATION_POPUP_SHOW_ORIGINAL",de="FPT_TRANSLATION_POPUP_OPEN_SIDEBAR_BUTTON",ue="DEEPL_WRITE_ICON",pe="gmailOnboardingPopup",ge="gmailOnboardingIcon",me="gmailCharLimitLogin",he="GSLIDES_CHAR_LIMIT_LOGIN",fe="ZENDESK_TRY_PRO_LINK",ve="INLINE_SELECTION_TRANSLATE_ICON",_e="INLINE_SELECTION__WRITE_ICON",we="INPUT_SELECTION_TRANSLATE_ICON",be="INPUT_SELECTION__WRITE_ICON",ye="INLINE_SELECTION_TRIGGER_OFF_ICON",Ee="INPUT_SELECTION_TRIGGER_OFF_ICON",Te="REVIEW_WINDOW_CLOSE_ICON",xe="REVIEW_WINDOW_TRANSLATE_ALTERNATIVES",$e="REVIEW_WINDOW_WRITE_ALTERNATIVES",Se="EXPERIENCE_FEEDBACK_AMAZING_BUTTON",Ce="EXPERIENCE_FEEDBACK_NOT_GOOD_BUTTON",ke="EXPERIENCE_FEEDBACK_CLOSE_BUTTON",Le="EXPERIENCE_FEEDBACK_REMIND_LATER_BUTTON",Ae="EXPERIENCE_FEEDBACK_WRITE_REVIEW_BUTTON",Ie="INPUT_INLINE_HIGHLIGHT",Oe="INLINE_HIGHLIGHT_DISMISS_BUTTON",De="trigger-translation",Me="CLICK_ON_SHORTCUT_NOTIFICATION",Re="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",Ne="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",Pe="CLICK_ON_LOGOUT_MENU_ENTRY",Ue="DISABLE_PER_SITE",qe="DISABLE_EVERYWHERE",Be="INPUT_TRANSLATION",Fe="INLINE_TRANSLATION",He=1,je=2,ze=0,Ge=1,We=2,Ve=3,Ke=4,Ze="cofdbpoegempjloogbagkncekinflcnj",Ye="fancfknaplihpclbhbpclnmmjcjanbaf",Je="ocpdpnakdghopjcifldjidbdmfobmmoi",Xe="firefox-extension@deepl.com",Qe={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},et={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},tt={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},nt={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW",negative_feedback_end:"NEGATIVE_FEEDBACK_END"},ot=1,it=2,rt=3,st=1,at={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER",gmail:"GMAIL",gslides:"GSLIDES",linkedIn:"LINKEDIN",youtube:"YOUTUBE"},lt="source",ct="target",dt={translate:"translate",write:"write"},ut=["script","style"],pt=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],gt="OPEN_TICKET",mt="DETECT_TICKET_LANGUAGE",ht="SWITCH_TICKET_LANGUAGE",ft="ENABLE_AUTOTRANSLATE",vt="DISABLE_AUTOTRANSLATE",_t="TRANSLATE_MESSAGE",wt="TRANSLATE_INPUT",bt="ERROR",yt="TICKET",Et="LIVE_CHAT",Tt=50,xt={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},$t="free",St="pro",Ct="none",kt="GDOCS_INSERT_COPY",Lt="GDOCS_DISCARD_COPY",At="GDOCS_CHAR_LIMIT_REACHED",It="RESULT_ACCEPTED",Ot="RESULT_REVERTED",Dt="ERROR",Mt="RESULT_ACCEPTED",Rt="RESULT_REVERTED",Nt="SHOWN",Pt="CLICKED",Ut="READING_VIEW_TRANSLATE",qt="COMPOSE_VIEW_TRANSLATE",Bt="COMPOSE_VIEW_IMPROVE",Ft="ANONYMOUS_USER_LIMIT_EXCEEDED",Ht="FREE_ACCOUNT_LIMIT_EXCEEDED",jt="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",zt="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",Gt="PRO_TRIAL",Wt="LOGIN",Vt="SIGNUP",Kt="ANONYMOUS",Zt="FREE",Yt="word",Jt="sentence",Xt="None",Qt="Pro",en="Free",tn={enthusiastic:"enthusiastic",friendly:"friendly",confident:"confident",diplomatic:"diplomatic"},nn=Object.assign(Object.assign({},{simple:"simple",business:"business",academic:"academic",casual:"casual"}),tn),on="formal",rn="informal",sn="undefined",an=[nn.simple,nn.business,nn.academic,nn.casual],ln=[nn.enthusiastic,nn.friendly,nn.confident,nn.diplomatic],cn="inline",dn="input",un="customization",pn="inline_highlights",gn="translation",mn="improvement",hn="inline_correction",fn="login",vn="auto_login",_n="ocr",wn="fpt",bn="page_load",yn={dlRequestLogin:"dlRequestLogin",dlRequestSignUp:"dlRequestSignUp",dlRequestLogout:"dlRequestLogout",dlGetUserState:"dlGetUserState",dlGetClientState:"dlGetClientState",dlManipulateGetClientState:"dlManipulateGetClientState",dlGetUsersCharacterLimit:"dlGetUsersCharacterLimit"},En={dlTextToSpeech:"dlTextToSpeech",dlGetSupportedVoices:"dlGetSupportedVoices",dlStopSpeech:"dlStopSpeech"},Tn={dlSendNotification:"dlSendNotification"},xn={dlTriggerImproveInline:"dlTriggerImproveInline",dlTriggerImproveInput:"dlTriggerImproveInput",dlRequestAlternatives:"dlRequestAlternatives",dlRequestImproveWriting:"dlRequestImproveWriting"},$n={dlCheckCommandShortcuts:"dlCheckCommandShortcuts",dlGetAppSettings:"dlGetAppSettings",dlUpdateAppSettings:"dlUpdateAppSettings"},Sn={dlRequestHtmlTranslation:"dlRequestHtmlTranslation",dlRequestInlineTranslation:"dlRequestInlineTranslation",dlTriggerTranslateInline:"dlTriggerTranslateInline",dlTriggerTranslateInput:"dlTriggerTranslateInput",dlRequestInputTranslation:"dlRequestInputTranslation",dlRequestZendeskInputTranslation:"dlRequestZendeskInputTranslation",dlRequestGmailReceivedEmailTranslation:"dlRequestGmailReceivedEmailTranslation",dlRequestWhatsAppMessageTranslation:"dlRequestWhatsAppMessageTranslation",dlRequestTwitterTweetTranslation:"dlRequestTwitterTweetTranslation",dlRequestYouTubeTranslation:"dlRequestYouTubeTranslation",dlRequestLinkedInPostTranslation:"dlRequestLinkedInPostTranslation",dlRequestZendeskMessageTranslation:"dlRequestZendeskMessageTranslation",dlRequestWhatsAppMessagesTranslation:"dlRequestWhatsAppMessagesTranslation",dlRequestGDocsProcessContent:"dlRequestGDocsProcessContent",dlTranslatedInputTextNotSet:"dlTranslatedInputTextNotSet"},Cn={dlRequestTermbases:"dlRequestTermbases",dlGetDictionary:"dlGetDictionary"},kn={dlStoreTranslationLanguages:"dlStoreTranslationLanguages"},Ln={dlTrackInlineSettingOpened:"dlTrackInlineSettingOpened",dlTrackPolicyLoginRequiredNotification:"dlTrackPolicyLoginRequiredNotification",dlTrackUpgradeNotificationAction:"dlTrackUpgradeNotificationAction",dlTrackLogoClickedEvent:"dlTrackLogoClickedEvent",dlTrackDetectLanguage:"dlTrackDetectLanguage",dlTrackSidePanelOpened:"dlTrackSidePanelOpened",dlTrackFormalitySelected:"dlTrackFormalitySelected",dlTrackWriteTextTonesChanged:"dlTrackWriteTextTonesChanged",dlTrackWriteTextStylesApplied:"dlTrackWriteTextStylesApplied",dlTrackWriteTextStylesChanged:"dlTrackWriteTextStylesChanged",dlTrackClicksOnAdsButton:"dlTrackClicksOnAdsButton",dlTrackIframeTranslationFailed:"dlTrackIframeTranslationFailed",dlTrackSeeAlternativesClicked:"dlTrackSeeAlternativesClicked",dlTrackAlternativeSelected:"dlTrackAlternativeSelected",dlTrackLanguageDetectionForTextProcessing:"dlTrackLanguageDetectionForTextProcessing",dlTrackUpgradeNotificationClosed:"dlTrackUpgradeNotificationClosed",dlTrackUpgradeNotificationIsDisplayed:"dlTrackUpgradeNotificationIsDisplayed",dlOnSuccessfulZendeskTranslation:"dlOnSuccessfulZendeskTranslation",dlTrackAlternativesEvent:"dlTrackAlternativesEvent",dlTrackGmailCharLimitReached:"dlTrackGmailCharLimitReached",dlTrackCustomizationEnabledEvent:"dlTrackCustomizationEnabledEvent",dlTrackTranslateAcceptOrRevertEvent:"dlTrackTranslateAcceptOrRevertEvent",dlTrackGDocsReplaceText:"dlTrackGDocsReplaceText",dlTrackLandingOnWebsite:"dlTrackLandingOnWebsite",dlTrackOnboardingOpenExternalLink:"dlTrackOnboardingOpenExternalLink",dlTrackOnboardingStepChange:"dlTrackOnboardingStepChange",dlTrackIconHover:"dlTrackIconHover",dlTrackVoiceOverStops:"dlTrackVoiceOverStops",dlTrackInlineListen:"dlTrackInlineListen",dlTrackInlineCopy:"dlTrackInlineCopy",dlTrackFptHide:"dlTrackFptHide",dlTrackInlineDragStart:"dlTrackInlineDragStart",dlTrackInlinePositionChange:"dlTrackInlinePositionChange",dlTrackRightClick:"dlTrackRightClick",dlTrackRecommendToAFriendClick:"dlTrackRecommendToAFriendClick",dlTrackDocTransClick:"dlTrackDocTransClick",dlTrackExtensionOpenedEvent:"dlTrackExtensionOpenedEvent",dlTrackInputTranslationInjection:"dlTrackInputTranslationInjection",dlTrackUseOfShortcut:"dlTrackUseOfShortcut",dlTrackUiAction:"dlTrackUiAction",dlTrackSettingChanged:"dlTrackSettingChanged",dlTrackOpenInputHighlighter:"dlTrackOpenInputHighlighter",dlTrackOpenInlineHighlighter:"dlTrackOpenInlineHighlighter",dlTrackCloseInputHighlighter:"dlTrackCloseInputHighlighter",dlTrackCloseInlineHighlighter:"dlTrackCloseInlineHighlighter",dlTrackDictionaryStatus:"dlTrackDictionaryStatus",dlTrackOpenDictionarySection:"dlTrackOpenDictionarySection",dlTrackDisabledDictionaryHover:"dlTrackDisabledDictionaryHover",dlTrackZendeskCustomizationEvent:"dlTrackZendeskCustomizationEvent",dlTrackZendeskGlossaryOpened:"dlTrackZendeskGlossaryOpened",dlTrackGlossaryEnabled:"dlTrackGlossaryEnabled",dlTrackGlossaryDisabled:"dlTrackGlossaryDisabled",dlTrackDeeplWriteEvent:"dlTrackDeeplWriteEvent",dlTrackLingueeErrorData:"dlTrackLingueeErrorData",dlTrackGdocsMaxCharExceededShown:"dlTrackGdocsMaxCharExceededShown",dlTrackGDocsMaxCharExceededTryProClicked:"dlTrackGDocsMaxCharExceededTryProClicked",dlTrackOnboardingModalShown:"dlTrackOnboardingModalShown",dlTrackUILocationClicked:"dlTrackUILocationClicked",dlTrackIframeTranslationSuccessful:"dlTrackIframeTranslationSuccessful",dlTrackReplaceInField:"dlTrackReplaceInField",dlTrackFptPopupOpen:"dlTrackFptPopupOpen",dlTrackExperimentTrigger:"dlTrackExperimentTrigger",dlTrackOcrTranslationInstructionsClosed:"dlTrackOcrTranslationInstructionsClosed",dlTrackInlineHighlightsShown:"dlTrackInlineHighlightsShown"},An={dlGetExperiments:"dlGetExperiments"},In={dlCheckFeatureFlagEnabled:"dlCheckFeatureFlagEnabled",dlGetExperimentParameter:"dlGetExperimentParameter"},On={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",checkForOpenSidePanel:"checkForOpenSidePanel",dlExternalURLRedirect:"dlExternalURLRedirect",newWebsiteState:"newWebsiteState",resetWebsiteState:"resetWebsiteState",dlOpenSidePanel:"dlOpenSidePanel",dlOpenAllBrowserFeedbackSurvey:"dlOpenAllBrowserFeedbackSurvey",dlGetActionLogs:"dlGetActionLogs",dlGetCleanupStats:"dlGetCleanupStats",dlManualCleanupActionLogs:"dlManualCleanupActionLogs"},Dn={dlGetCustomLogo:"dlGetCustomLogo"};function Mn(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){chrome.runtime.lastError&&n(chrome.runtime.lastError.message),e&&"object"==typeof e&&"error"in e&&n(e),t(e)}))}))}function Rn(e){return Mn(e)}function Nn(e,t){return Mn({action:Tn.dlSendNotification,payload:{type:e,options:t}})}function Pn(e){return t(this,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}))}const Un="Unidentified service name supplied to getServiceType",qn=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(xt).includes(t))throw new Error(Un);if(!e.isLoggedIn)return $t;switch(t){case xt.TRANSLATOR:return e.translatorServiceType;case xt.WRITE:return e.writeServiceType;case xt.API:return e.apiServiceType;case xt.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(Un)},Bn=(e,t)=>qn(e,t)===St,Fn=(e,t)=>qn(e,t)===$t,Hn=(e,t)=>qn(e,t)===Ct,jn=e=>!(!Bn(e,xt.TRANSLATOR)&&!Bn(e,xt.WRITE)),zn=e=>!!e.isLoggedIn&&Fn(e,xt.WRITE),Gn=(e,t)=>!!e.isLoggedIn&&Fn(e,t),Wn={accessToken:"a_t",refreshToken:"r_t",idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger",last_login:"last_login",organizationId:"organizationId"},Vn={activeTermbaseId:"activeTermbaseId",isGlossaryEnabled:"isGlossaryEnabled",hasTermbaseService:"hasTermbaseService",canCreateGlossary:"canCreateGlossary"},Kn="browserInstanceId",Zn="whiteLabelLogoId",Yn="translationLanguages",Jn="customTranslatorName",Xn=[];for(let e=0;e<256;++e)Xn.push((e+256).toString(16).slice(1));let Qn;const eo=new Uint8Array(16);var to={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function no(e,t,n){if(to.randomUUID&&!e)return to.randomUUID();const o=(e=e||{}).random??e.rng?.()??function(){if(!Qn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qn=crypto.getRandomValues.bind(crypto)}return Qn(eo)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(e,t=0){return(Xn[e[t+0]]+Xn[e[t+1]]+Xn[e[t+2]]+Xn[e[t+3]]+"-"+Xn[e[t+4]]+Xn[e[t+5]]+"-"+Xn[e[t+6]]+Xn[e[t+7]]+"-"+Xn[e[t+8]]+Xn[e[t+9]]+"-"+Xn[e[t+10]]+Xn[e[t+11]]+Xn[e[t+12]]+Xn[e[t+13]]+Xn[e[t+14]]+Xn[e[t+15]]).toLowerCase()}(o)}const oo=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));function io(){return crypto.randomUUID?crypto.randomUUID():no()}class ro extends Error{}function so(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return atob(t)}}function ao(e){if(void 0!==e)try{return function(e,t){if("string"!=typeof e)throw new ro("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,o=e.split(".")[n];if("string"!=typeof o)throw new ro(`Invalid token specified: missing part #${n+1}`);let i;try{i=so(o)}catch(e){throw new ro(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(i)}catch(e){throw new ro(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}(e)}catch(e){return null}}ro.prototype.name="InvalidTokenError";const lo="DEEPL_COM_PRO",co="DEEPL_COM_PRO_WRITE",uo="DEEPL_COM_TRANSLATOR",po="DEEPL_COM_HOMEPAGE",go="DEEPL_COM_WRITE",mo="SHORTCUT_SETTINGS",ho="CHROME_WRITE_A_REVIEW",fo="EDGE_WRITE_A_REVIEW",vo="FIREFOX_WRITE_A_REVIEW",_o="DEEPL_SUPPORT",wo="ADDINS_ADS",bo="LEARN_WHY_GEO_BLOCKED",yo=Object.prototype.toString;function Eo(e){switch(yo.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Oo(e,Error)}}function To(e,t){return yo.call(e)===`[object ${t}]`}function xo(e){return To(e,"ErrorEvent")}function $o(e){return To(e,"DOMError")}function So(e){return To(e,"String")}function Co(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ko(e){return null===e||Co(e)||"object"!=typeof e&&"function"!=typeof e}function Lo(e){return To(e,"Object")}function Ao(e){return"undefined"!=typeof Event&&Oo(e,Event)}function Io(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Oo(e,t){try{return e instanceof t}catch(e){return!1}}function Do(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function Mo(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Ro(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{Do(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function No(e,t,n=!1){return!!So(e)&&(To(t,"RegExp")?t.test(e):!!So(t)&&(n?e===t:e.includes(t)))}function Po(e,t=[],n=!1){return t.some((t=>No(e,t,n)))}function Uo(e,t,n=250,o,i,r,s){if(!(r.exception&&r.exception.values&&s&&Oo(s.originalException,Error)))return;const a=r.exception.values.length>0?r.exception.values[r.exception.values.length-1]:void 0;var l,c;a&&(r.exception.values=(l=qo(e,t,i,s.originalException,o,r.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=Mo(e.value,c)),e)))))}function qo(e,t,n,o,i,r,s,a){if(r.length>=n+1)return r;let l=[...r];if(Oo(o[i],Error)){Bo(s,a);const r=e(t,o[i]),c=l.length;Fo(r,i,c,a),l=qo(e,t,n,o[i],i,[r,...l],r,c)}return Array.isArray(o.errors)&&o.errors.forEach(((o,r)=>{if(Oo(o,Error)){Bo(s,a);const c=e(t,o),d=l.length;Fo(c,`errors[${r}]`,d,a),l=qo(e,t,n,o,i,[c,...l],c,d)}})),l}function Bo(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Fo(e,t,n,o){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:o}}function Ho(e){return e&&e.Math==Math?e:void 0}const jo="object"==typeof globalThis&&Ho(globalThis)||"object"==typeof window&&Ho(window)||"object"==typeof self&&Ho(self)||"object"==typeof global&&Ho(global)||function(){return this}()||{};function zo(){return jo}function Go(e,t,n){const o=n||jo,i=o.__SENTRY__=o.__SENTRY__||{};return i[e]||(i[e]=t())}const Wo=zo();function Vo(e,t={}){if(!e)return"<unknown>";try{let n=e;const o=5,i=[];let r=0,s=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&r++<o&&(c=Ko(n,d),!("html"===c||r>1&&s+i.length*l+c.length>=u));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function Ko(e,t){const n=e,o=[];let i,r,s,a,l;if(!n||!n.tagName)return"";if(Wo.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;o.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),i=n.className,i&&So(i))for(r=i.split(/\s+/),l=0;l<r.length;l++)o.push(`.${r[l]}`);const d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)s=d[l],a=n.getAttribute(s),a&&o.push(`[${s}="${a}"]`);return o.join("")}const Zo="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Yo=["debug","info","warn","error","log","assert","trace"],Jo={};function Xo(e){if(!("console"in jo))return e();const t=jo.console,n={},o=Object.keys(Jo);o.forEach((e=>{const o=Jo[e];n[e]=t[e],t[e]=o}));try{return e()}finally{o.forEach((e=>{t[e]=n[e]}))}}const Qo=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Zo?Yo.forEach((n=>{t[n]=(...t)=>{e&&Xo((()=>{jo.console[n](`Sentry Logger [${n}]:`,...t)}))}})):Yo.forEach((e=>{t[e]=()=>{}})),t}(),ei=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ti(e,t=!1){const{host:n,path:o,pass:i,port:r,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${r?`:${r}`:""}/${o?`${o}/`:o}${s}`}function ni(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function oi(e){const t="string"==typeof e?function(e){const t=ei.exec(e);if(!t)return void Xo((()=>{}));const[n,o,i="",r,s="",a]=t.slice(1);let l="",c=a;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return ni({host:r,pass:i,path:l,projectId:c,port:s,protocol:n,publicKey:o})}(e):ni(e);if(t&&function(e){if(!Zo)return!0;const{port:t,projectId:n,protocol:o}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Qo.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(o)?t&&isNaN(parseInt(t,10))&&(Qo.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Qo.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(Qo.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class ii extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function ri(e,t,n){if(!(t in e))return;const o=e[t],i=n(o);"function"==typeof i&&ai(i,o),e[t]=i}function si(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){Zo&&Qo.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ai(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,si(e,"__sentry_original__",t)}catch(e){}}function li(e){return e.__sentry_original__}function ci(e){if(Eo(e))return{message:e.message,name:e.name,stack:e.stack,...ui(e)};if(Ao(e)){const t={type:e.type,target:di(e.target),currentTarget:di(e.currentTarget),...ui(e)};return"undefined"!=typeof CustomEvent&&Oo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function di(e){try{return t=e,"undefined"!=typeof Element&&Oo(t,Element)?Vo(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function ui(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function pi(e){return gi(e,new Map)}function gi(e,t){if(function(e){if(!Lo(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const o={};t.set(e,o);for(const n of Object.keys(e))void 0!==e[n]&&(o[n]=gi(e[n],t));return o}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const o=[];return t.set(e,o),e.forEach((e=>{o.push(gi(e,t))})),o}return e}const mi=/\(error: (.*)\)/,hi=/captureMessage|captureException/;const fi="<anonymous>";function vi(e){try{return e&&"function"==typeof e&&e.name||fi}catch(e){return fi}}const _i={},wi={};function bi(e,t){_i[e]=_i[e]||[],_i[e].push(t)}function yi(e,t){wi[e]||(t(),wi[e]=!0)}function Ei(e,t){const n=e&&_i[e];if(n)for(const o of n)try{o(t)}catch(t){Zo&&Qo.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${vi(o)}\nError:`,t)}}function Ti(){"console"in jo&&Yo.forEach((function(e){e in jo.console&&ri(jo.console,e,(function(t){return Jo[e]=t,function(...t){Ei("console",{args:t,level:e});const n=Jo[e];n&&n.apply(jo.console,t)}}))}))}function xi(){const e=jo,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function $i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Si(e){const{message:t,event_id:n}=e;if(t)return t;const o=$i(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function Ci(e,t,n){const o=e.exception=e.exception||{},i=o.values=o.values||[],r=i[0]=i[0]||{};r.value||(r.value=t||""),r.type||(r.type="Error")}function ki(e,t){const n=$i(e);if(!n)return;const o=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...o,...t},t&&"data"in t){const e={...o&&o.data,...t.data};n.mechanism.data=e}}function Li(e){if(e&&e.__sentry_captured__)return!0;try{si(e,"__sentry_captured__",!0)}catch(e){}return!1}const Ai=jo;let Ii,Oi,Di;function Mi(){if(!Ai.document)return;const e=Ei.bind(null,"dom"),t=Ri(e,!0);Ai.document.addEventListener("click",t,!1),Ai.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Ai[t]&&Ai[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ri(n,"addEventListener",(function(t){return function(n,o,i){if("click"===n||"keypress"==n)try{const o=this,r=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){const o=Ri(e);s.handler=o,t.call(this,n,o,i)}s.refCount++}catch(e){}return t.call(this,n,o,i)}})),ri(n,"removeEventListener",(function(e){return function(t,n,o){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},r=i[t];r&&(r.refCount--,r.refCount<=0&&(e.call(this,t,r.handler,o),r.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,o)}})))}))}function Ri(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const o=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,o))return;si(n,"_sentryCaptured",!0),o&&!o._sentryId&&si(o,"_sentryId",xi());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Oi)return!1;try{if(!e.target||e.target._sentryId!==Di)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),Oi=n.type,Di=o?o._sentryId:void 0}clearTimeout(Ii),Ii=Ai.setTimeout((()=>{Di=void 0,Oi=void 0}),1e3)}}const Ni=zo();function Pi(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ui(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Ni))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(Pi(Ni.fetch))return!0;let e=!1;const t=Ni.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Pi(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Zo&&Qo.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function qi(){Ui()&&ri(jo,"fetch",(function(e){return function(...t){const{method:n,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Fi(t),method:Bi(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Fi(t),method:Bi(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:o},startTimestamp:Date.now()};return Ei("fetch",{...i}),e.apply(jo,t).then((e=>(Ei("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Ei("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}function Bi(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Fi(e){return"string"==typeof e?e:e?Bi(e,"url")?e.url:e.toString?e.toString():"":""}let Hi=null;function ji(){Hi=jo.onerror,jo.onerror=function(e,t,n,o,i){return Ei("error",{column:o,error:i,line:n,msg:e,url:t}),!(!Hi||Hi.__SENTRY_LOADER__)&&Hi.apply(this,arguments)},jo.onerror.__SENTRY_INSTRUMENTED__=!0}let zi=null;function Gi(){zi=jo.onunhandledrejection,jo.onunhandledrejection=function(e){return Ei("unhandledrejection",e),!(zi&&!zi.__SENTRY_LOADER__)||zi.apply(this,arguments)},jo.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Wi=zo();const Vi=jo;let Ki;function Zi(){if(!function(){const e=Wi.chrome,t=e&&e.app&&e.app.runtime,n="history"in Wi&&!!Wi.history.pushState&&!!Wi.history.replaceState;return!t&&n}())return;const e=Vi.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Ki,t=String(n);Ki=t;Ei("history",{from:e,to:t})}return e.apply(this,t)}}Vi.onpopstate=function(...t){const n=Vi.location.href,o=Ki;Ki=n;if(Ei("history",{from:o,to:n}),e)try{return e.apply(this,t)}catch(e){}},ri(Vi.history,"pushState",t),ri(Vi.history,"replaceState",t)}const Yi=jo,Ji="__sentry_xhr_v3__";function Xi(){if(!Yi.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ri(e,"open",(function(e){return function(...t){const n=Date.now(),o=So(t[0])?t[0].toUpperCase():void 0,i=function(e){if(So(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!o||!i)return e.apply(this,t);this[Ji]={method:o,url:i,request_headers:{}},"POST"===o&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const r=()=>{const e=this[Ji];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Ei("xhr",{args:[o,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ri(this,"onreadystatechange",(function(e){return function(...t){return r(),e.apply(this,t)}})):this.addEventListener("readystatechange",r),ri(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,i=this[Ji];return i&&So(n)&&So(o)&&(i.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),ri(e,"send",(function(e){return function(...t){const n=this[Ji];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Ei("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function Qi(e,t=100,n=1/0){try{return tr("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function er(e,t=3,n=102400){const o=Qi(e,t);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?er(e,t-1,n):o;var i}function tr(e,t,n=1/0,o=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[r,s]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(a=t)||a==a))return t;var a;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Do(t))return"[VueViewModel]";if(function(e){return Lo(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${vi(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return l.replace("object ","");if(r(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return tr("",d.toJSON(),c-1,o,i)}catch(e){}const u=Array.isArray(t)?[]:{};let p=0;const g=ci(t);for(const e in g){if(!Object.prototype.hasOwnProperty.call(g,e))continue;if(p>=o){u[e]="[MaxProperties ~]";break}const t=g[e];u[e]=tr(e,t,c-1,o,i),p++}return s(t),u}var nr;function or(e){return new rr((t=>{t(e)}))}function ir(e){return new rr(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(nr||(nr={}));class rr{constructor(e){rr.prototype.__init.call(this),rr.prototype.__init2.call(this),rr.prototype.__init3.call(this),rr.prototype.__init4.call(this),this._state=nr.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new rr(((n,o)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){o(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){o(e)}else o(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new rr(((t,n)=>{let o,i;return this.then((t=>{i=!1,o=t,e&&e()}),(t=>{i=!0,o=t,e&&e()})).then((()=>{i?n(o):t(o)}))}))}__init(){this._resolve=e=>{this._setResult(nr.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(nr.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===nr.PENDING&&(Io(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===nr.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===nr.RESOLVED&&e[1](this._value),this._state===nr.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function sr(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return ir(new ii("Not adding Promise because buffer limit was reached."));const i=o();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new rr(((n,o)=>{let i=t.length;if(!i)return n(!0);const r=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{or(e).then((()=>{--i||(clearTimeout(r),n(!0))}),o)}))}))}}}function ar(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",o=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:o,relative:t[5]+n+o}}const lr=["fatal","error","warning","log","info","debug"];function cr(e){return"warn"===e?"warning":lr.includes(e)?e:"log"}function dr(){return Date.now()/1e3}const ur=function(){const{performance:e}=jo;if(!e||!e.now)return dr;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function pr(e,t=[]){return[e,t]}function gr(e,t){const[n,o]=e;return[n,[...o,t]]}function mr(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function hr(e,t){return(t||new TextEncoder).encode(e)}function fr(e,t){const[n,o]=e;let i=JSON.stringify(n);function r(e){"string"==typeof i?i="string"==typeof e?i+e:[hr(i,t),e]:i.push("string"==typeof e?hr(e,t):e)}for(const e of o){const[t,n]=e;if(r(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)r(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Qi(n))}r(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let o=0;for(const t of e)n.set(t,o),o+=t.length;return n}(i)}function vr(e,t){const n="string"==typeof e.data?hr(e.data,t):e.data;return[pi({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(()=>{const{performance:e}=jo;if(!e||!e.now)return;const t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,r=i<t,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+n-o):t;(r||a<t)&&(i<=a&&e.timeOrigin)})();const _r={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function wr(e){return _r[e]}function br(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function yr(e,{statusCode:t,headers:n},o=Date.now()){const i={...e},r=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(r)for(const e of r.trim().split(",")){const[t,n,,,r]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(i[e]=o+a);else i.all=o+a}else s?i.all=o+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${e}`);return isNaN(o)?6e4:o-t}(s,o):429===t&&(i.all=o+6e4);return i}const Er="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Tr="production";function xr(){return Go("globalEventProcessors",(()=>[]))}function $r(e){xr().push(e)}function Sr(e,t,n,o=0){return new rr(((i,r)=>{const s=e[o];if(null===t||"function"!=typeof s)i(t);else{const a=s({...t},n);Er&&s.id&&null===a&&Qo.log(`Event processor "${s.id}" dropped event`),Io(a)?a.then((t=>Sr(e,t,n,o+1).then(i))).then(null,r):Sr(e,a,n,o+1).then(i).then(null,r)}}))}function Cr(e){const t=ur(),n={sid:xi(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return pi({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return kr(n,e),n}function kr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ur(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:xi()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Lr(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:i,parent_span_id:r,status:s,tags:a,origin:l}=Ar(e);return pi({data:o,op:i,parent_span_id:r,span_id:t,status:s,tags:a,trace_id:n,origin:l})}function Ar(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function Ir(e,t,n,o,i,r){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||xi(),timestamp:t.timestamp||dr()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:i,maxValueLength:r=250}=t;"environment"in e||(e.environment="environment"in t?n:Tr);void 0===e.release&&void 0!==o&&(e.release=o);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=Mo(e.message,r));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Mo(s.value,r));const a=e.request;a&&a.url&&(a.url=Mo(a.url,r))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=jo._sentryDebugIds;if(!n)return;let o;const i=Or.get(t);i?o=i:(o=new Map,Or.set(t,o));const r=Object.keys(n).reduce(((e,i)=>{let r;const s=o.get(i);s?r=s:(r=t(i),o.set(i,r));for(let t=r.length-1;t>=0;t--){const o=r[t];if(o.filename){e[o.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=r[e.filename])}))}))}catch(e){}}(l,e.stackParser);const d=function(e,t){if(!t)return e;const n=e?e.clone():new jr;return n.update(t),n}(o,n.captureContext);n.mechanism&&ki(l,n.mechanism);const u=i&&i.getEventProcessors?i.getEventProcessors():[],p=function(){Hr||(Hr=new jr);return Hr}().getScopeData();if(r){Br(p,r.getScopeData())}if(d){Br(p,d.getScopeData())}const g=[...n.attachments||[],...p.attachments];g.length&&(n.attachments=g),qr(l,p);return Sr([...u,...xr(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof s&&s>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Qi(e.data,t,n)}})))},...e.user&&{user:Qi(e.user,t,n)},...e.contexts&&{contexts:Qi(e.contexts,t,n)},...e.extra&&{extra:Qi(e.extra,t,n)}};e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=Qi(e.contexts.trace.data,t,n)));e.spans&&(o.spans=e.spans.map((e=>{const o=Ar(e).data;return o&&(e.data=Qi(o,t,n)),e})));return o}(e,s,a):e)))}const Or=new WeakMap;function Dr(e,t){return Jr().captureEvent(e,t)}function Mr(e,t){Jr().addBreadcrumb(e,t)}function Rr(){return Jr().getClient()}function Nr(e){return e.transaction}function Pr(e,t,n){const o=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:r}=n&&n.getUser()||{},s=pi({environment:o.environment||Tr,release:o.release,user_segment:r,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",s),s}function Ur(e){const t=Rr();if(!t)return{};const n=Pr(Ar(e).trace_id||"",t,Jr().getScope()),o=Nr(e);if(!o)return n;const i=o&&o._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:r,source:s}=o.metadata;null!=r&&(n.sample_rate=`${r}`);const a=Ar(o);return s&&"url"!==s&&(n.transaction=a.description),n.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}(o)),t.emit&&t.emit("createDsc",n),n}function qr(e,t){const{fingerprint:n,span:o,breadcrumbs:i,sdkProcessingMetadata:r}=t;!function(e,t){const{extra:n,tags:o,user:i,contexts:r,level:s,transactionName:a}=t,l=pi(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=pi(o);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=pi(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const u=pi(r);u&&Object.keys(u).length&&(e.contexts={...u,...e.contexts});s&&(e.level=s);a&&(e.transaction=a)}(e,t),o&&function(e,t){e.contexts={trace:Lr(t),...e.contexts};const n=Nr(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ur(t),...e.sdkProcessingMetadata};const o=Ar(n).description;o&&(e.tags={transaction:o,...e.tags})}}(e,o),function(e,t){e.fingerprint=e.fingerprint?function(e){return Array.isArray(e)?e:[e]}(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,r)}function Br(e,t){const{extra:n,tags:o,user:i,contexts:r,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:g,span:m}=t;Fr(e,"extra",n),Fr(e,"tags",o),Fr(e,"user",i),Fr(e,"contexts",r),Fr(e,"sdkProcessingMetadata",a),s&&(e.level=s),g&&(e.transactionName=g),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext={...e.propagationContext,...p}}function Fr(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[t][o]=n[o])}}let Hr;class jr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=zr()}static clone(e){return e?e.clone():new jr}clone(){const e=new jr;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&kr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof jr){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Lo(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=zr(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:dr(),...e},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:o,_extra:i,_user:r,_level:s,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:d,_transactionName:u,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:o,extra:i,user:r,level:s,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:d,transactionName:u,span:p}}applyToEvent(e,t={},n=[]){qr(e,this.getScopeData());return Sr([...n,...xr(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:xi();if(!this._client)return Qo.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:xi();if(!this._client)return Qo.warn("No client configured on scope - will not capture message!"),o;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:xi();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Qo.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function zr(){return{traceId:xi(),spanId:xi().substring(16)}}const Gr="7.120.3",Wr=parseFloat(Gr),Vr=100;class Kr{constructor(e,t,n,o=Wr){let i,r;this._version=o,t?i=t:(i=new jr,i.setClient(e)),n?r=n:(r=new jr,r.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=r}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return Io(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:xi(),o=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:o,...t,event_id:n}),n}captureMessage(e,t,n){const o=this._lastEventId=n&&n.event_id?n.event_id:xi(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o}),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:xi();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:r=Vr}=o.getOptions&&o.getOptions()||{};if(r<=0)return;const s={timestamp:dr(),...e},a=i?Xo((()=>i(s,t))):s;null!==a&&(o.emit&&o.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,r))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Yr(this);try{e(this)}finally{Yr(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Er&&Qo.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(Er&&!n){this.getClient()?Qo.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Qo.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),kr(e,t)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:o,environment:i=Tr}=n&&n.getOptions()||{},{userAgent:r}=jo.navigator||{},s=Cr({release:o,environment:i,user:t.getUser(),...r&&{userAgent:r},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&kr(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Zr().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);Er&&Qo.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Zr(){return jo.__SENTRY__=jo.__SENTRY__||{extensions:{},hub:void 0},jo}function Yr(e){const t=Zr(),n=Xr(t);return Qr(t,e),n}function Jr(){const e=Zr();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Zr()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!Xr(e).isOlderThan(Wr)||Qr(e,new Kr);var t;return Xr(e)}(e)}function Xr(e){return Go("hub",(()=>new Kr),e)}function Qr(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function es(e,t,n,o){const i=br(n),r=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:ti(o)},...i&&{trace:pi({...i})}}}(e,i,o,t);delete e.sdkProcessingMetadata;return pr(s,[[{type:r},e]])}function ts(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}const ns=[];function os(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function is(e,t,n){if(n[t.name])Er&&Qo.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===ns.indexOf(t.name)&&(t.setupOnce($r,Jr),ns.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,o)=>n(t,o,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),o=Object.assign(((t,o)=>n(t,o,e)),{id:t.name});e.addEventProcessor(o)}Er&&Qo.log(`Integration installed: ${t.name}`)}}function rs(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function ss(e,t,n,o){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(i.dsn=ti(t));const r=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),o=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return pr(i,[r])}const as="Not capturing exception because it's already been captured.";class ls{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=oi(e.dsn):Er&&Qo.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,o="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${ts(e,o)}`}(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Li(e))return void(Er&&Qo.log(as));let o=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{o=e}))),o}captureMessage(e,t,n,o){let i=n&&n.event_id;const r=Co(e)?e:String(e),s=ko(e)?this.eventFromMessage(r,t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,o))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&Li(t.originalException))return void(Er&&Qo.log(as));let o=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{o=e}))),o}captureSession(e){"string"!=typeof e.release?Er&&Qo.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),kr(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):or(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return Er&&Qo.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];is(this,e,this._integrations),t||os(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=es(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=gr(n,vr(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const i=br(n);return pr({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!o&&t&&{dsn:ti(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const o="number"==typeof n?n:1,i=`${e}:${t}`;Er&&Qo.log(`Recording outcome: "${i}"${o>1?` (${o} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+o}}captureAggregateMetrics(e){Er&&Qo.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=ss(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&is(e,t,n)})),n}(this,e),os(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,o=!1;const i=t.exception&&t.exception.values;if(i){o=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const r="ok"===e.status;(r&&0===e.errors||r&&n)&&(kr(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new rr((t=>{let n=0;const o=setInterval((()=>{0==this._numProcessing?(clearInterval(o),t(!0)):(n+=1,e&&n>=e&&(clearInterval(o),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=function(){return Jr().getIsolationScope()}()){const i=this.getOptions(),r=Object.keys(this._integrations);return!t.integrations&&r.length>0&&(t.integrations=r),this.emit("preprocessEvent",e,t),Ir(i,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:o,spanId:i,parentSpanId:r,dsc:s}=t;e.contexts={trace:{trace_id:o,span_id:i,parent_span_id:r},...e.contexts};const a=s||Pr(o,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(Er){const t=e;"log"===t.logLevel?Qo.log(t.message):Qo.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:i}=o,r=ds(e),s=cs(e),a=e.type||"error",l=`before send for type \`${a}\``;if(s&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ir(new ii(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===a?"replay":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new ii("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:o,beforeSendTransaction:i}=e;if(cs(t)&&o)return o(t,n);if(ds(t)&&i){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(t,n)}return t}(o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Io(e))return e.then((e=>{if(!Lo(e)&&null!==e)throw new ii(n);return e}),(e=>{throw new ii(`${t} rejected with ${e}`)}));if(!Lo(e)&&null!==e)throw new ii(n);return e}(i,l)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",c,e),r){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new ii(`${l} returned \`null\`, will not send event.`,"log")}const i=n&&n.getSession();if(!r&&i&&this._updateSessionFromEvent(i,o),r){const e=(o.sdkProcessingMetadata&&o.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const s=o.transaction_info;if(r&&s&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...s,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof ii)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new ii(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{Er&&Qo.error("Error while sending event:",e)}));Er&&Qo.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,o]=t.split(":");return{reason:n,category:o,quantity:e[t]}}))}}function cs(e){return void 0===e.type}function ds(e){return"transaction"===e.type}function us(e,t,n=sr(e.bufferSize||30)){let o={};function i(i){const r=[];if(mr(i,((t,n)=>{const i=wr(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(o,i)){const o=ps(t,n);e.recordDroppedEvent("ratelimit_backoff",i,o)}else r.push(t)})),0===r.length)return or();const s=pr(i[0],r),a=t=>{mr(s,((n,o)=>{const i=ps(n,o);e.recordDroppedEvent(t,wr(o),i)}))};return n.add((()=>t({body:fr(s,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Er&&Qo.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),o=yr(o,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof ii)return Er&&Qo.error("Skipped sending event because buffer is full."),a("queue_overflow"),or();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function ps(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const gs=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],ms=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],hs="InboundFilters",fs=(e={})=>({name:hs,setupOnce(){},processEvent(t,n,o){const i=o.getOptions(),r=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:gs],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:ms],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return Er&&Qo.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Si(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));Er&&0===t.length&&Qo.error(`Could not extract message for event ${Si(e)}`);return t}(e).some((e=>Po(e,t)))}(e,t.ignoreErrors))return Er&&Qo.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Si(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Po(n,t)}(e,t.ignoreTransactions))return Er&&Qo.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Si(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=vs(e);return!!n&&Po(n,t)}(e,t.denyUrls))return Er&&Qo.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Si(e)}.\nUrl: ${vs(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=vs(e);return!n||Po(n,t)}(e,t.allowUrls))return Er&&Qo.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Si(e)}.\nUrl: ${vs(e)}`),!0;return!1}(t,r)?null:t}});function vs(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return Er&&Qo.error(`Cannot extract url for event ${Si(e)}`),null}}let _s;rs(hs,fs);const ws="FunctionToString",bs=new WeakMap,ys=()=>({name:ws,setupOnce(){_s=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=li(this),n=bs.has(Rr())&&void 0!==t?t:this;return _s.apply(n,e)}}catch(e){}},setup(e){bs.set(e,!0)}});rs(ws,ys);const Es=jo;let Ts=0;function xs(){return Ts>0}function $s(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(li(e))return e}catch(t){return e}const o=function(){const n=Array.prototype.slice.call(arguments);try{const o=n.map((e=>$s(e,t)));return e.apply(this,o)}catch(e){throw Ts++,setTimeout((()=>{Ts--})),function(...e){const t=Jr();if(2===e.length){const[n,o]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,o(n)))):t.withScope(o)}t.withScope(e[0])}((o=>{var i;o.addEventProcessor((e=>(t.mechanism&&(Ci(e,void 0),ki(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,Jr().captureException(i,void 0)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(e){}ai(o,e),si(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}const Ss="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Cs(e,t){const n=Ls(e,t),o={type:t&&t.name,value:Is(t)};return n.length&&(o.stacktrace={frames:n}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function ks(e,t){return{exception:{values:[Cs(e,t)]}}}function Ls(e,t){const n=t.stacktrace||t.stack||"",o=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(As.test(e.message))return 1}return 0}(t);try{return e(n,o)}catch(e){}return[]}const As=/Minified React error #\d+;/i;function Is(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Os(e,t,n,o,i){let r;if(xo(t)&&t.error){return ks(e,t.error)}if($o(t)||To(t,"DOMException")){const i=t;if("stack"in t)r=ks(e,t);else{const t=i.name||($o(i)?"DOMError":"DOMException"),s=i.message?`${t}: ${i.message}`:t;r=Ds(e,s,n,o),Ci(r,s)}return"code"in i&&(r.tags={...r.tags,"DOMException.code":`${i.code}`}),r}if(Eo(t))return ks(e,t);if(Lo(t)||Ao(t)){return r=function(e,t,n,o){const i=Rr(),r=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:Ao(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:Ms(t,{isUnhandledRejection:o})}]},extra:{__serialized__:er(t,r)}};if(n){const t=Ls(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,i),ki(r,{synthetic:!0}),r}return r=Ds(e,t,n,o),Ci(r,`${t}`),ki(r,{synthetic:!0}),r}function Ds(e,t,n,o){const i={};if(o&&n){const o=Ls(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(Co(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Ms(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(ci(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Mo(n[0],t);for(let e=n.length;e>0;e--){const o=n.slice(0,e).join(", ");if(!(o.length>t))return e===n.length?o:Mo(o,t)}return""}(e),o=t?"promise rejection":"exception";if(xo(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(Ao(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${n}`}class Rs extends ls{constructor(e){!function(e,t,n=[t],o="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:Gr}))),version:Gr}),e._metadata=i}(e,"browser",["browser"],Es.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Es.document&&Es.document.addEventListener("visibilitychange",(()=>{"hidden"===Es.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,o){const i=Os(e,t,n&&n.syntheticException||void 0,o);return ki(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),or(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",o,i){const r=Ds(e,t,o&&o.syntheticException||void 0,i);return r.level=n,o&&o.event_id&&(r.event_id=o.event_id),or(r)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Ss&&Qo.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:o}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:ti(o)}},r=function(e){return[{type:"user_report"},e]}(e);return pr(i,[r])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(Ss&&Qo.log("No outcomes to send"));if(!this._dsn)return void(Ss&&Qo.log("No dsn provided, will not send outcomes"));Ss&&Qo.log("Sending outcomes:",e);const t=(n=e,pr((o=this._options.tunnel&&ti(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:dr(),discarded_events:n}]]));var n,o;this._sendEnvelope(t)}}let Ns;function Ps(e,t=function(){if(Ns)return Ns;if(Pi(Es.fetch))return Ns=Es.fetch.bind(Es);const e=Es.document;let t=Es.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const o=n.contentWindow;o&&o.fetch&&(t=o.fetch),e.head.removeChild(n)}catch(e){Ss&&Qo.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Ns=t.bind(Es)}()){let n=0,o=0;return us(e,(function(i){const r=i.body.length;n+=r,o++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};try{return t(e.url,s).then((e=>(n-=r,o--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Ns=void 0,n-=r,o--,ir(e)}}))}const Us="?";function qs(e,t,n,o){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==o&&(i.colno=o),i}const Bs=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Fs=/\((\S*)(?::(\d+))(?::(\d+))\)/,Hs=[30,e=>{const t=Bs.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Fs.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Ks(t[1]||Us,t[2]);return qs(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],js=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,zs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Gs=[50,e=>{const t=js.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=zs.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Us;return[n,e]=Ks(n,e),qs(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Ws=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Vs=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[],i=e.split("\n");for(let e=n;e<i.length;e++){const n=i[e];if(n.length>1024)continue;const r=mi.test(n)?n.replace(mi,"$1"):n;if(!r.match(/\S*Error: /)){for(const e of t){const t=e(r);if(t){o.push(t);break}}if(o.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),hi.test(t[t.length-1].function||"")&&(t.pop(),hi.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(o)}}(...[Hs,Gs,[40,e=>{const t=Ws.exec(e);return t?qs(t[2],t[1]||Us,+t[3],t[4]?+t[4]:void 0):void 0}]]),Ks=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:Us,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Zs=1024,Ys="Breadcrumbs",Js=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ys,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";bi(t,e),yi(t,Ti)}(function(e){return function(t){if(Rr()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:cr(t.level),message:Ro(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Ro(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Mr(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(Rr()!==e)return;let o,i,r="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>Zs&&(Ss&&Qo.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=Zs),"string"==typeof r&&(r=[r]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;o=Vo(t,{keyAttrs:r,maxStringLength:s}),i=function(e){if(!Wo.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(t)}catch(e){o="<unknown>"}if(0===o.length)return;const a={category:`ui.${n.name}`,message:o};i&&(a.data={"ui.component_name":i}),Mr(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),bi("dom",n),yi("dom",Mi)),t.xhr&&function(e){bi("xhr",e),yi("xhr",Xi)}(function(e){return function(t){if(Rr()!==e)return;const{startTimestamp:n,endTimestamp:o}=t,i=t.xhr[Ji];if(!n||!o||!i)return;const{method:r,url:s,status_code:a,body:l}=i;Mr({category:"xhr",data:{method:r,url:s,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:o})}}(e)),t.fetch&&function(e){const t="fetch";bi(t,e),yi(t,qi)}(function(e){return function(t){if(Rr()!==e)return;const{startTimestamp:n,endTimestamp:o}=t;if(o&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Mr({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:o})}else{const e=t.response;Mr({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:o})}}}(e)),t.history&&function(e){const t="history";bi(t,e),yi(t,Zi)}(function(e){return function(t){if(Rr()!==e)return;let n=t.from,o=t.to;const i=ar(Es.location.href);let r=n?ar(n):void 0;const s=ar(o);r&&r.path||(r=i),i.protocol===s.protocol&&i.host===s.host&&(o=s.relative),i.protocol===r.protocol&&i.host===r.host&&(n=r.relative),Mr({category:"navigation",data:{from:n,to:o}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Rr()===e&&Mr({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Si(t)},{event:t})}}(e))}}};rs(Ys,Js);const Xs="Dedupe",Qs=()=>{let e;return{name:Xs,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,o=t.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!ta(e,t))return!1;if(!ea(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=na(t),o=na(e);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!ta(e,t))return!1;if(!ea(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Ss&&Qo.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function ea(e,t){let n=oa(e),o=oa(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function ta(e,t){let n=e.fingerprint,o=t.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(e){return!1}}function na(e){return e.exception&&e.exception.values&&e.exception.values[0]}function oa(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}rs(Xs,Qs);const ia="GlobalHandlers",ra=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ia,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";bi(t,e),yi(t,ji)}((t=>{const{stackParser:n,attachStacktrace:o}=la();if(Rr()!==e||xs())return;const{msg:i,url:r,line:s,column:a,error:l}=t,c=void 0===l&&So(i)?function(e,t,n,o){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let r=xo(e)?e.message:e,s="Error";const a=r.match(i);a&&(s=a[1],r=a[2]);const l={exception:{values:[{type:s,value:r}]}};return sa(l,t,n,o)}(i,r,s,a):sa(Os(n,l||i,void 0,o,!1),r,s,a);c.level="error",Dr(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),aa("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";bi(t,e),yi(t,Gi)}((t=>{const{stackParser:n,attachStacktrace:o}=la();if(Rr()!==e||xs())return;const i=function(e){if(ko(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),r=ko(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Os(n,i,void 0,o,!0);r.level="error",Dr(r,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),aa("onunhandledrejection"))}}};function sa(e,t,n,o){const i=e.exception=e.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(o,10))?void 0:o,d=isNaN(parseInt(n,10))?void 0:n,u=So(t)&&t.length>0?t:function(){try{return Wo.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:u,function:"?",in_app:!0,lineno:d}),e}function aa(e){Ss&&Qo.log(`Global Handler attached: ${e}`)}function la(){const e=Rr();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}rs(ia,ra);const ca="HttpContext",da=()=>({name:ca,setupOnce(){},preprocessEvent(e){if(!Es.navigator&&!Es.location&&!Es.document)return;const t=e.request&&e.request.url||Es.location&&Es.location.href,{referrer:n}=Es.document||{},{userAgent:o}=Es.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},r={...e.request,...t&&{url:t},headers:i};e.request=r}});rs(ca,da);const ua="LinkedErrors",pa=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:ua,setupOnce(){},preprocessEvent(e,o,i){const r=i.getOptions();Uo(Cs,r.stackParser,r.maxValueLength,n,t,e,o)}}};rs(ua,pa);const ga=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ma="TryCatch",ha=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:ma,setupOnce(){t.setTimeout&&ri(Es,"setTimeout",fa),t.setInterval&&ri(Es,"setInterval",fa),t.requestAnimationFrame&&ri(Es,"requestAnimationFrame",va),t.XMLHttpRequest&&"XMLHttpRequest"in Es&&ri(XMLHttpRequest.prototype,"send",_a);const e=t.eventTarget;if(e){(Array.isArray(e)?e:ga).forEach(wa)}}}};function fa(e){return function(...t){const n=t[0];return t[0]=$s(n,{mechanism:{data:{function:vi(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function va(e){return function(t){return e.apply(this,[$s(t,{mechanism:{data:{function:"requestAnimationFrame",handler:vi(e)},handled:!1,type:"instrument"}})])}}function _a(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&ri(n,e,(function(t){const n={mechanism:{data:{function:e,handler:vi(t)},handled:!1,type:"instrument"}},o=li(t);return o&&(n.mechanism.data.handler=vi(o)),$s(t,n)}))})),e.apply(this,t)}}function wa(e){const t=Es,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ri(n,"addEventListener",(function(t){return function(n,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=$s(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:vi(o),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,$s(o,{mechanism:{data:{function:"addEventListener",handler:vi(o),target:e},handled:!1,type:"instrument"}}),i])}})),ri(n,"removeEventListener",(function(e){return function(t,n,o){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,o)}catch(e){}return e.call(this,t,i,o)}})))}rs(ma,ha);const ba=[fs(),ys(),ha(),Js(),ra(),pa(),Qs(),da()];var ya="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ea(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ta(e,t){let n=[...i,...a];t.length>0&&(n=[...n,...t]);const o=n.find((t=>t.langCodeForIta.toUpperCase()===e.toUpperCase()));return null==o?void 0:o.langCode}function xa(e){return e in s?s[e]:e}function $a(e){return e.split("-")[0]}function Sa(e,t){return ka(e)===t}function Ca(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),i.map((e=>e.langCode)).includes(e))}const ka=e=>$a(e).toUpperCase();function La(e){return t(this,arguments,void 0,(function*(e,t=!1){var n;let o="";const i=yield chrome.i18n.detectLanguage(e);return i&&(null===(n=i.languages)||void 0===n?void 0:n.length)>0&&(o=$a(i.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language).toUpperCase()),t?{langCode:o,isReliable:i.isReliable,detectedLanguages:i.languages.sort(((e,t)=>t.percentage-e.percentage)).map((e=>({langCode:$a(e.language).toUpperCase(),percentage:e.percentage})))}:o}))}const Aa=e=>{let t,n;return(e||i).map((e=>{var o;let i;const r=e.langCode in s;return r&&(({optionLabel:t,selectedLabel:n}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"ES-419":return{optionLabel:chrome.i18n.getMessage("supported_languages_ES_419"),selectedLabel:chrome.i18n.getMessage("supported_languages_ES_419")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(e)),i=e.langCodeForIta),{value:e.langCode,label:r?t:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:r?n:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),regionalVariant:i,isNew:null!==(o=e.isNew)&&void 0!==o&&o}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))},Ia=e=>(e||i).filter((e=>!["PT-BR","EN-US","ES-419","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?Object.assign(Object.assign({},e),{langCode:"EN"}):"PT-PT"===e.langCode?Object.assign(Object.assign({},e),{langCode:"PT"}):e)).map((e=>{var t;return{value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),isNew:null!==(t=e.isNew)&&void 0!==t&&t}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())));function Oa(e){return"EN"===e?["EN-GB","EN-US"]:"ES"===e?["ES","ES-419"]:"PT"===e?["PT-PT","PT-BR"]:"ZH"===e?["ZH","ZH-HANT"]:null}function Da(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}function Ma(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:void 0!==e&&t[e]===n}const Ra=e=>l.includes($a(e).toUpperCase()),Na=e=>{const t=i.find((t=>t.langCode===e));return null==t?void 0:t.supportsFormality},Pa=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur","ckb","kmr"].includes($a(t).toLowerCase())?"rtl":"ltr"};function Ua(e){if("rtl"===e.dir)return!0;return"rtl"===window.getComputedStyle(e).direction}function qa(e,t){if(!t)return e;const n=e.filter((e=>e!==t));return[t,...n].slice(0,6)}const Ba="production",Fa="development";function Ha(){return Ba}function ja(){return Ha()===Fa}function za(){return Ha()===Ba}function Ga(...e){ja()}const Wa=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/,/The message port closed before a response was received/,/NetworkError when attempting to fetch resource/,/JSON.parse: unexpected character at line 1 column 1 of the JSON data/].some((t=>t.test(e))),Va={dsn:"https://0d368beeb4bc3e66f983b2c83eb342dc@o4509354486530048.ingest.de.sentry.io/4509882758201424",release:"deepl-browser-extension@1.71.0",environment:Ha(),tracesSampleRate:za()?.001:1,sampleRate:za()?.001:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/,/The message port closed before a response was received/,/NetworkError when attempting to fetch resource/,/JSON.parse: unexpected character at line 1 column 1 of the JSON data/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return Wa(t)?null:(ja(),e)}};function Ka(e,t){null==t||t.captureException(e)}const Za="NETWORK_ERROR",Ya="RECOGNITION_ERROR",Ja="GEO_BLOCKED",Xa="PROTOCOL_ERROR",Qa="NETWORK_ERROR",el="FULL_PAGE_SERVER_ERROR",tl="-32003",nl="429",ol="403",il="1045601",rl="1042902",sl="ENTRY_NOT_FOUND",al="TRANSLATED_INPUT_NOT_SET",ll="HTML_NODE_CHAR_LENGTH_TOO_LONG",cl="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",dl="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",ul="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",pl="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",gl="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED",ml="LOGIN_REQUIRED";class hl extends Error{constructor(e,t){super(t),this.name=cl,this.limit=e,t&&(this.message=t)}}class fl extends Error{constructor(e,t){super(t),this.name=dl,this.limit=e,t&&(this.message=t)}}class vl extends Error{constructor(e,t){super(t),this.name=pl,this.limit=e,t&&(this.message=t)}}class _l extends Error{constructor(e,t){super(t),this.name=gl,this.limit=e,t&&(this.message=t)}}const wl=60002,bl=60067;function yl(e){switch(e){case Ze:return Ge;case Ye:return We;case Xe:return Ke;case Je:return Ve;default:return ze}}function El(e){switch(e){case $t:return 1;case St:return 2;case Ct:return 3;default:return 0}}function Tl(e){switch(e){case Xt:return 1;case Qt:return 2;case en:return 3;default:return 0}}function xl(e){switch(e){case fn:return 1;case vn:return 2;case _n:return 3;case wn:return 4;default:return 0}}const $l=["accountData","domainName"],Sl=[bl,60068,60069],Cl=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>Cl(e,t))):Object.keys(e).reduce(((n,o)=>(t.includes(o)||(n[o]=Cl(e[o],t)),n)),{}):e;function kl(e){return t(this,void 0,void 0,(function*(){let n,o,i,r,s,a,l,c,d,u,p,g,m=!1;try{const e=yield gp(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);o=e.session.id,n=e.installationId,u=e.firefoxAnonPermissionGranted,p=e.firefoxPersonalPermissionGranted}catch(e){Error}try{g=yield function(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Wn.organizationId]);return null==e?void 0:e.organizationId}))}()}catch(e){}try{const e=yield function(){return t(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([Wn.isLoggedIn,"isProUser","sessionType",Wn.translatorServiceType,Wn.writeServiceType,Wn.apiServiceType,Wn.docTranslatorServiceType,Wn.accountId,Vn.hasTermbaseService,Wn.organizationId])}))}();m=!!e.accountId,i=El(e.translatorServiceType),r=El(e.apiServiceType),s=El(e.docTranslatorServiceType),d=El(e.writeServiceType),l=m?2===i||2===r||2===d||2===s?$:S:x,c=e.sessionType?Tl(e.sessionType):Tl(Xt)}catch(e){Error}try{a=yield function(){return t(this,void 0,void 0,(function*(){return(yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}))}()}catch(e){}const h=bp(),f=yield function(){return t(this,void 0,void 0,(function*(){let e=[];try{e=yield function(){return t(this,void 0,void 0,(function*(){const e=yield function(e,n){return t(this,void 0,void 0,(function*(){return Dl||(yield new Promise(((e,t)=>{let n=indexedDB.open(Ml,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){Dl=t.target.result,e()},n.onupgradeneeded=function(t){Dl=t.target.result,Dl.objectStoreNames.contains(Rl)||Dl.createObjectStore(Rl,{keyPath:"id"}),Dl.objectStoreNames.contains(Nl)||Dl.createObjectStore(Nl,{keyPath:"id"}).createIndex("action","action",{unique:!1}),e()}}))),new Promise(((t,o)=>{let i=Dl.transaction(n,"readonly").objectStore(n).get(e);i.onerror=function(e){o(e)},i.onsuccess=function(){i.result?t(i.result):t(null)}}))}))}(Pl,Rl);if(!e||!e.meta)return[];return(Date.now()-e.meta.createdAt)/6e4>9?[]:e.data&&0!==e.data.length?e.data:[]}))}()}catch(e){}if(!e||0===e.length)return[];return e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})))}))}();let v,_;try{v=yield mp()}catch(e){}try{_=yield function(){return t(this,void 0,void 0,(function*(){if(Ep())return;const e=yield chrome.cookies.get({name:"dapUid",url:"https://www.deepl.com"});return e?e.value:void 0}))}()}catch(e){}const w=Object.assign({eventId:void 0,extensionVersion:"1.71.0",sessionId:o,sessionType:c,installationId:n,browserInstanceId:a,originStore:yl(chrome.runtime.id),userInfos:Object.assign(Object.assign({},v&&{accountData:Object.assign({accountId:v},g&&{organizationId:g})}),{userType:l,translatorServiceType:i,apiServiceType:r,docTranslatorServiceType:s,writeServiceType:d}),userAgent:h.userAgent,platform:h.platform,browser:h.browser,browserVersion:h.browserVersion,browserLang:h.browserLang,clientExperiments:f},_&&{webInstanceId:_});let b=e?e(w):w;if(Ep()){if(!((e=!1,t=!1)=>!(!e&&!t)&&!(!e&&t)&&(!(!e||t)||!(!e||!t)||void 0))(u,p))return;if(b=((e,t=!1,n=!1)=>e?n&&t?e:!n&&Sl.includes(null==e?void 0:e.eventId)?null:Cl(e,$l):null)(b,u,p),!b)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(b),credentials:"omit"}).then((e=>{e.ok}))}))}function Ll(){return t(this,void 0,void 0,(function*(){if(!(yield function(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Wn.isLoggedIn]);return!(!e||!e.isLoggedIn)}))}()))return;const e=yield mp();return kl((t=>Object.assign(Object.assign({},t),{eventId:bl,accountData:{accountUuid:e}})))}))}const Al="PT-237",Il="PT-1295",Ol=(e,t)=>{if(!e||!Array.isArray(e)||0===e.length)return 1;const n=e.find((e=>e.name===t));return n?n.variant:1};let Dl;const Ml="dlBrowserExtension",Rl="dlCache",Nl="actionLogs",Pl="dlexperiments";const Ul=["requireLogin","suggestIdp","customExtensionIcon","enforceSsoAutologin","skipOnboarding","preventFeedbackSurvey","hideWrite"],ql=["suggestIdp"],Bl=()=>t(void 0,void 0,void 0,(function*(){try{return yield chrome.storage.managed.get(Ul)}catch(e){return}})),Fl=()=>t(void 0,void 0,void 0,(function*(){var e;const t=yield Bl();return void 0!==t&&(null!==(e=t.customExtensionIcon)&&void 0!==e&&e)})),Hl=()=>t(void 0,void 0,void 0,(function*(){var e;const t=yield Bl();return null!==(e=null==t?void 0:t.skipOnboarding)&&void 0!==e&&e})),jl=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),zl=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);const Gl="ACCESS_DENIED",Wl="INVALID_REQUEST",Vl="INVALID_GRANT",Kl="INVALID_NONCE",Zl="ITA_REQUEST_TRANSLATION",Yl="ITA_CLOSE_TRANSLATION_SESSION",Jl="ITA_REQUEST_WRITE",Xl="ITA_RESTORE_TRANSLATE_SESSION",Ql="ITA_TRANSLATE_SOURCE_LANGUAGE",ec="ITA_TRANSLATE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",tc="ITA_TARGET_TEXT_FIELD",nc="ITA_WRITE_TARGET_TEXT_FIELD",oc="ITA_UPDATE_FORMALITY",ic="ERROR",rc="ITA_DOCUMENT_STATE",sc="ITA_WRITE_DOCUMENT_STATE",ac="ITA_WRITE_UPDATE_REQUESTED_LANGUAGE",lc="ITA_WRITE_UPDATE_STYLE_VARIANT",cc="ITA_RESTORE_WRITE_SESSION",dc="ITA_WRITE_SOURCE_LANGUAGE",uc="ITA_WRITE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",pc="ITA_CLOSE_WRITE_SESSION",gc="ITA_TRANSLATE_SOURCE_LANGUAGE_IS_UNSUPPORTED",mc="ITA_WRITE_SOURCE_LANGUAGE_IS_UNSUPPORTED",hc="ITA_TRANSLATE_GENERIC_ERROR",fc="ITA_WRITE_GENERIC_ERROR",vc="ITA_TRANSLATE_GEO_BLOCKED_ERROR",_c={REQUEST:{ITA_SELECT_ALTERNATIVE:"ITA_SELECT_WRITE_ALTERNATIVE"},REPLY:{ITA_BACKEND_IDLE:"ITA_BACKEND_WRITE_IDLE",ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:"ITA_TRANSLATE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS"}},wc={REQUEST:{ITA_UPDATE_TARGET_LANGUAGE:"ITA_UPDATE_TARGET_LANGUAGE",ITA_SELECT_ALTERNATIVE:"ITA_SELECT_TRANSLATE_ALTERNATIVE",ITA_UPDATE_SOURCE_LANGUAGE:"ITA_UPDATE_SOURCE_LANGUAGE"},REPLY:{ITA_BACKEND_IDLE:"ITA_BACKEND_TRANSLATE_IDLE",ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:"ITA_WRITE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS",ITA_TARGET_LANGUAGE:"ITA_TARGET_LANGUAGE"}},bc={translate:{dlTranslate:"dlTranslate",dlTranslateInline:"dlTranslateInline",dlTranslateInput:"dlTranslateInput",dlTranslateSelectionRightClick:"dlTranslateSelectionRightClick",dlTranslateSelectedArea:"dlTranslateSelectedArea",dlTriggerTranslationShortcut:"dlTriggerTranslationShortcut"},write:{dlImproveInline:"dlImproveInline",dlImproveInput:"dlImproveInput"},uiActions:{dlShowOriginal:"dlShowOriginal",dlTabChanged:"dlTabChanged",dlDefaultPopUpMounting:"dlDefaultPopUpMounting",dlGetWebsiteData:"dlGetWebsiteData",dlShowNotification:"dlShowNotification",dlErrorVisibility:"dlErrorVisibility",dlShowAskForAReviewPopup:"dlShowAskForAReviewPopup",dlShowCustomerSegmentationSurvey:"dlShowCustomerSegmentationSurvey",dlShowArabicSurveyPopup:"dlShowArabicSurveyPopup",dlShowAlert:"dlShowAlert",dlSelectCaptureArea:"dlSelectCaptureArea",dlChangeActiveTabStatus:"dlChangeActiveTabStatus",dlShowPageLoadPopup:"dlShowPageLoadPopup",dlTranslateWebPageByRightMenuClick:"dlTranslateWebPageByRightMenuClick",dlChangeLanguageShortcut:"dlChangeLanguageShortcut"},special:{ping:"ping"},tracking:{dlTrackFptPopupOpen:"dlTrackFptPopupOpen"}},yc="PROTOCOL_ERROR",Ec="NETWORK_ERROR",Tc="FULL_PAGE_SERVER_ERROR",xc="-32003",$c="429",Sc="403",Cc="401",kc="1045601",Lc="1042902",Ac="translate",Ic="write";var Oc,Dc,Mc={},Rc={},Nc={},Pc={};function Uc(){return Oc||(Oc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Log=e.LogLevel=void 0;e.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class t{static info(...n){t.level,e.LogLevel.Info}static debug(...n){t.level,e.LogLevel.Debug}static warn(...n){t.level,e.LogLevel.Warn}static error(...n){t.level,e.LogLevel.Error}}e.Log=t,t.level=e.LogLevel.Warn}(Pc)),Pc}function qc(){return Dc||(Dc=1,function(e){var t,n,o;Object.defineProperty(e,"__esModule",{value:!0}),e._getInstance=e._getStatsigGlobalFlag=e._getStatsigGlobal=void 0;const i=Uc();e._getStatsigGlobal=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:c}catch(e){return c}};e._getStatsigGlobalFlag=t=>(0,e._getStatsigGlobal)()[t];e._getInstance=t=>{const n=(0,e._getStatsigGlobal)();return t?n.instances&&n.instances[t]:(n.instances&&Object.keys(n.instances).length>1&&i.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),n.firstInstance)};const r="__STATSIG__",s="undefined"!=typeof window?window:{},a=void 0!==ya?ya:{},l="undefined"!=typeof globalThis?globalThis:{},c=null!==(o=null!==(n=null!==(t=s[r])&&void 0!==t?t:a[r])&&void 0!==n?n:l[r])&&void 0!==o?o:{instance:e._getInstance};s[r]=c,a[r]=c,l[r]=c}(Nc)),Nc}var Bc,Fc={};function Hc(){return Bc||(Bc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Diagnostics=void 0;const t=new Map,n="start",o="end",i="statsig::diagnostics";function r(e,t,n,o){return Object.assign({key:n,action:t,step:o,timestamp:Date.now()},e)}function s(e,n){var o;const i=null!==(o=t.get(e))&&void 0!==o?o:[];i.push(n),t.set(e,i)}function a(e,t){if(t in e)return e[t]}e.Diagnostics={_getMarkers:e=>t.get(e),_markInitOverallStart:e=>{s(e,r({},n,"overall"))},_markInitOverallEnd:(e,t,n)=>{s(e,r({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:n},o,"overall"))},_markInitNetworkReqStart:(e,t)=>{s(e,r(t,n,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{s(e,r(t,o,"initialize","network_request"))},_markInitProcessStart:e=>{s(e,r({},n,"initialize","process"))},_markInitProcessEnd:(e,t)=>{s(e,r(t,o,"initialize","process"))},_clearMarkers:e=>{t.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:a(e,"code"),name:a(e,"name"),message:a(e,"message")}},_getDiagnosticsData(t,n,o,i){var r;return{success:!0===(null==t?void 0:t.ok),statusCode:null==t?void 0:t.status,sdkRegion:null===(r=null==t?void 0:t.headers)||void 0===r?void 0:r.get("x-statsig-region"),isDelta:!0===o.includes('"is_delta":true')||void 0,attempt:n,error:e.Diagnostics._formatError(i)}},_enqueueDiagnosticsEvent(t,n,o,r){const s=e.Diagnostics._getMarkers(o);if(null==s||s.length<=0)return-1;const a=s[s.length-1].timestamp-s[0].timestamp;e.Diagnostics._clearMarkers(o);const l=function(e,t){const n={eventName:i,user:e,value:null,metadata:t,time:Date.now()};return n}(t,{context:"initialize",markers:s.slice(),statsigOptions:r});return n.enqueue(l),a}}}(Fc)),Fc}var jc,zc,Gc,Wc={},Vc={},Kc={},Zc={};function Yc(){if(jc)return Zc;return jc=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc._isTypeMatch=Zc._typeOf=void 0,Zc._typeOf=function(e){return Array.isArray(e)?"array":typeof e},Zc._isTypeMatch=function(e,t){const n=e=>Array.isArray(e)?"array":null===e?"null":typeof e;return n(e)===n(t)},Zc}function Jc(){return zc||(zc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._getSortedObject=e._DJB2Object=e._DJB2=void 0;const t=Yc();e._DJB2=e=>{let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return String(t>>>0)};e._DJB2Object=(t,n)=>(0,e._DJB2)(JSON.stringify((0,e._getSortedObject)(t,n)));e._getSortedObject=(n,o)=>{if(null==n)return null;const i=Object.keys(n).sort(),r={};return i.forEach((i=>{const s=n[i];0!==o&&"object"===(0,t._typeOf)(s)?r[i]=(0,e._getSortedObject)(s,null!=o?o-1:o):r[i]=s})),r}}(Kc)),Kc}function Xc(){if(Gc)return Vc;Gc=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc._getStorageKey=Vc._getUserStorageKey=void 0;const e=Jc();function t(t,n,o){var i;if(o)return o(t,n);const r=n&&n.customIDs?n.customIDs:{},s=[`uid:${null!==(i=null==n?void 0:n.userID)&&void 0!==i?i:""}`,`cids:${Object.keys(r).sort(((e,t)=>e.localeCompare(t))).map((e=>`${e}-${r[e]}`)).join(",")}`,`k:${t}`];return(0,e._DJB2)(s.join("|"))}return Vc._getUserStorageKey=t,Vc._getStorageKey=function(n,o,i){return o?t(n,o,i):(0,e._DJB2)(`k:${n}`)},Vc}var Qc,ed={};function td(){return Qc||(Qc=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkParam=e.NetworkDefault=e.Endpoint=void 0,e.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},e.NetworkDefault={[e.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[e.Endpoint._initialize]:"https://featureassets.org/v1",[e.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},e.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}}(ed)),ed}var nd,od={};function id(){return nd||(nd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._getUnloadEvent=e._getCurrentPageUrlSafe=e._addDocumentEventListenerSafe=e._addWindowEventListenerSafe=e._isServerEnv=e._getDocumentSafe=e._getWindowSafe=void 0;e._getWindowSafe=()=>"undefined"!=typeof window?window:null;e._getDocumentSafe=()=>{var t;const n=(0,e._getWindowSafe)();return null!==(t=null==n?void 0:n.document)&&void 0!==t?t:null};e._isServerEnv=()=>{if(null!==(0,e._getDocumentSafe)())return!1;const t="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||t};e._addWindowEventListenerSafe=(t,n)=>{const o=(0,e._getWindowSafe)();"function"==typeof(null==o?void 0:o.addEventListener)&&o.addEventListener(t,n)};e._addDocumentEventListenerSafe=(t,n)=>{const o=(0,e._getDocumentSafe)();"function"==typeof(null==o?void 0:o.addEventListener)&&o.addEventListener(t,n)};e._getCurrentPageUrlSafe=()=>{var t;try{return null===(t=(0,e._getWindowSafe)())||void 0===t?void 0:t.location.href.split(/[?#]/)[0]}catch(e){return}};e._getUnloadEvent=()=>{const t=(0,e._getWindowSafe)();if(!t)return"beforeunload";return"onpagehide"in t?"pagehide":"beforeunload"}}(od)),od}var rd,sd={};function ad(){if(rd)return sd;rd=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd._createLayerParameterExposure=sd._createConfigExposure=sd._mapExposures=sd._createGateExposure=sd._isExposureEvent=void 0;const e="statsig::config_exposure",t="statsig::gate_exposure",n="statsig::layer_exposure",o=(e,t,n,o,i)=>(n.bootstrapMetadata&&(o.bootstrapMetadata=n.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:r(n,o),secondaryExposures:i,time:Date.now()});sd._isExposureEvent=({eventName:o})=>o===t||o===e||o===n;function i(e,t){return e.map((e=>"string"==typeof e?(null!=t?t:{})[e]:e)).filter((e=>null!=e))}sd._createGateExposure=(e,n,r)=>{var s,a,l;const c={gate:n.name,gateValue:String(n.value),ruleID:n.ruleID};return null!=(null===(s=n.__evaluation)||void 0===s?void 0:s.version)&&(c.configVersion=n.__evaluation.version),o(t,e,n.details,c,i(null!==(l=null===(a=n.__evaluation)||void 0===a?void 0:a.secondary_exposures)&&void 0!==l?l:[],r))},sd._mapExposures=i;sd._createConfigExposure=(t,n,r)=>{var s,a,l,c;const d={config:n.name,ruleID:n.ruleID};return null!=(null===(s=n.__evaluation)||void 0===s?void 0:s.version)&&(d.configVersion=n.__evaluation.version),null!=(null===(a=n.__evaluation)||void 0===a?void 0:a.passed)&&(d.rulePassed=String(n.__evaluation.passed)),o(e,t,n.details,d,i(null!==(c=null===(l=n.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==c?c:[],r))};sd._createLayerParameterExposure=(e,t,r,s)=>{var a,l,c,d,u,p,g;const m=t.__evaluation,h=!0===(null===(a=null==m?void 0:m.explicit_parameters)||void 0===a?void 0:a.includes(r));let f="",v=null!==(l=null==m?void 0:m.undelegated_secondary_exposures)&&void 0!==l?l:[];h&&(f=null!==(c=m.allocated_experiment_name)&&void 0!==c?c:"",v=null!==(d=m.secondary_exposures)&&void 0!==d?d:[]);const _=null===(u=t.__evaluation)||void 0===u?void 0:u.parameter_rule_ids,w={config:t.name,parameterName:r,ruleID:null!==(p=null==_?void 0:_[r])&&void 0!==p?p:t.ruleID,allocatedExperiment:f,isExplicitParameter:String(h)};return null!=(null===(g=t.__evaluation)||void 0===g?void 0:g.version)&&(w.configVersion=t.__evaluation.version),o(n,e,t.details,w,i(v,s))};const r=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t);return sd}var ld,cd={};function dd(){return ld||(ld=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.LoggingEnabledOption=cd.LogEventCompressionMode=void 0,cd.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},cd.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}),cd}var ud,pd={};function gd(){return ud||(ud=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._setObjectInStorage=e._getObjectFromStorage=e.Storage=void 0;const t=Uc(),n=id(),o={},i={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>o[e]?o[e]:null,setItem:(e,t)=>{o[e]=t},removeItem:e=>{delete o[e]},getAllKeys:()=>Object.keys(o)};let r=null;try{const e=(0,n._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(r={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,n)=>e.localStorage.setItem(t,n),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){t.Log.warn("Failed to setup localStorageProvider.")}let s=null!=r?r:i,a=s;function l(t){try{return t()}catch(t){if(t instanceof Error&&"SecurityError"===t.name)return e.Storage._setProvider(i),null;throw t}}e.Storage={isReady:()=>a.isReady(),isReadyResolver:()=>a.isReadyResolver(),getProviderName:()=>a.getProviderName(),getItem:e=>l((()=>a.getItem(e))),setItem:(e,t)=>l((()=>a.setItem(e,t))),removeItem:e=>a.removeItem(e),getAllKeys:()=>a.getAllKeys(),_setProvider:e=>{s=e,a=e},_setDisabled:e=>{a=e?i:s}},e._getObjectFromStorage=function(t){const n=e.Storage.getItem(t);return JSON.parse(null!=n?n:"null")},e._setObjectInStorage=function(t,n){e.Storage.setItem(t,JSON.stringify(n))}}(pd)),pd}var md,hd={};function fd(){if(md)return hd;md=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.UrlConfiguration=void 0;const e=Jc(),t=td(),n={[t.Endpoint._initialize]:"i",[t.Endpoint._rgstr]:"e",[t.Endpoint._download_config_specs]:"d"};return hd.UrlConfiguration=class{constructor(e,o,i,r){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=n[e],o&&(this.customUrl=o),!o&&i&&(this.customUrl=i.endsWith("/")?`${i}${e}`:`${i}/${e}`),r&&(this.fallbackUrls=r);const s=t.NetworkDefault[e];this.defaultUrl=`${s}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}getChecksum(){var t;const n=(null!==(t=this.fallbackUrls)&&void 0!==t?t:[]).sort().join(",");return(0,e._DJB2)(this.customUrl+n)}},hd}var vd,_d,wd={};function bd(){return vd||(vd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._notifyVisibilityChanged=e._subscribeToVisiblityChanged=e._isUnloading=e._isCurrentlyVisible=void 0;const t=id(),n="foreground",o="background",i=[];let r=n,s=!1;e._isCurrentlyVisible=()=>r===n;e._isUnloading=()=>s;e._subscribeToVisiblityChanged=e=>{i.unshift(e)};e._notifyVisibilityChanged=e=>{e!==r&&(r=e,i.forEach((t=>t(e))))},(0,t._addWindowEventListenerSafe)("focus",(()=>{s=!1,(0,e._notifyVisibilityChanged)(n)})),(0,t._addWindowEventListenerSafe)("blur",(()=>(0,e._notifyVisibilityChanged)(o))),(0,t._addDocumentEventListenerSafe)("visibilitychange",(()=>{(0,e._notifyVisibilityChanged)("visible"===document.visibilityState?n:o)})),(0,t._addWindowEventListenerSafe)((0,t._getUnloadEvent)(),(()=>{s=!0,(0,e._notifyVisibilityChanged)(o)}))}(wd)),wd}function yd(){if(_d)return Wc;_d=1;var e=Wc.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.EventLogger=void 0;const t=Xc(),n=Jc(),o=Uc(),i=td(),r=id(),s=ad(),a=dd(),l=gd(),c=fd(),d=bd(),u={};return Wc.EventLogger=class p{static _safeFlushAndForget(e){var t;null===(t=u[e])||void 0===t||t.flush().catch((()=>{}))}static _safeRetryFailedLogs(e){var t;null===(t=u[e])||void 0===t||t._retryFailedLogs()}constructor(e,t,n,r){var s,l;this._sdkKey=e,this._emitter=t,this._network=n,this._options=r,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(s=null==r?void 0:r.loggingEnabled)&&void 0!==s?s:!0===(null==r?void 0:r.disableLogging)?a.LoggingEnabledOption.disabled:a.LoggingEnabledOption.browserOnly,(null==r?void 0:r.loggingEnabled)&&void 0!==r.disableLogging&&o.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(l=null==r?void 0:r.loggingBufferMaxSize)&&void 0!==l?l:100;const d=null==r?void 0:r.networkConfig;this._logEventUrlConfig=new c.UrlConfiguration(i.Endpoint._rgstr,null==d?void 0:d.logEventUrl,null==d?void 0:d.api,null==d?void 0:d.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){if("disabled"===this._loggingEnabled&&"disabled"!==e){const e=this._getStorageKey(),t=(0,l._getObjectFromStorage)(e);t&&this._queue.push(...t),l.Storage.removeItem(e)}this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&p._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;const n=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=n+1}reset(){this.flush().catch((()=>{})),this._lastExposureTimeMap={}}start(){var e;const t=(0,r._isServerEnv)();t&&"always"!==(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)||(u[this._sdkKey]=this,t||(0,d._subscribeToVisiblityChanged)((e=>{"background"===e?p._safeFlushAndForget(this._sdkKey):"foreground"===e&&p._safeRetryFailedLogs(this._sdkKey)})),this._retryFailedLogs(),this._startBackgroundFlushInterval())}stop(){return e(this,void 0,void 0,(function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete u[this._sdkKey],yield this.flush()}))}flush(){return e(this,void 0,void 0,(function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)}))}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout((()=>p._safeFlushAndForget(this._sdkKey)),200))}_shouldLogEvent(e){var n;if("always"!==(null===(n=this._options)||void 0===n?void 0:n.loggingEnabled)&&(0,r._isServerEnv)())return!1;if(!(0,s._isExposureEvent)(e))return!0;const o=e.user?e.user:{statsigEnvironment:void 0},i=(0,t._getUserStorageKey)(this._sdkKey,o),a=e.metadata?e.metadata:{},l=[e.eventName,i,a.gate,a.config,a.ruleID,a.allocatedExperiment,a.parameterName,String(a.isExplicitParameter),a.reason].join("|"),c=this._lastExposureTimeMap[l],d=Date.now();return!(c&&d-c<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[l]=d,!0)}_sendEvents(t){return e(this,void 0,void 0,(function*(){var e,n;if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(t),!1;try{const i=(0,d._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(n=null===(e=this._options)||void 0===e?void 0:e.networkConfig)||void 0===n?void 0:n.networkOverrideFunc);this._emitter({name:"pre_logs_flushed",events:t});return(i?this._sendEventsViaBeacon(t):yield this._sendEventsViaPost(t)).success?(this._emitter({name:"logs_flushed",events:t}),!0):(o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(t),!1)}catch(e){return o.Log.warn("Failed to flush events."),!1}}))}_sendEventsViaPost(t){return e(this,void 0,void 0,(function*(){var e;const n=yield this._network.post(this._getRequestData(t)),o=null!==(e=null==n?void 0:n.code)&&void 0!==e?e:-1;return{success:o>=200&&o<300}}))}_sendEventsViaBeacon(e){return{success:this._network.beacon(this._getRequestData(e))}}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[i.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();const t=this._getStorageKey();try{const n=this._getFailedLogsFromStorage(t);(0,l._setObjectInStorage)(t,[...n,...e])}catch(e){o.Log.warn("Unable to save failed logs to storage")}}_getFailedLogsFromStorage(e){let t=[];try{const n=(0,l._getObjectFromStorage)(e);return Array.isArray(n)&&(t=n),t}catch(e){return[]}}_retryFailedLogs(){const t=this._getStorageKey();(()=>e(this,void 0,void 0,(function*(){l.Storage.isReady()||(yield l.Storage.isReadyResolver());const e=(0,l._getObjectFromStorage)(t);e&&(l.Storage.removeItem(t),yield this._sendEvents(e))})))().catch((()=>{o.Log.warn("Failed to flush stored logs")}))}_getStorageKey(){return`statsig.failed_logs.${(0,n._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const t={},n=this._getCurrentPageUrl();n&&(t.statsigMetadata={currentPage:n});const i=Object.assign(Object.assign({},e),t);o.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,r._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;const n=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4,o=setInterval((()=>{const e=u[this._sdkKey];e&&e._flushIntervalId===o?p._safeFlushAndForget(this._sdkKey):clearInterval(o)}),n);this._flushIntervalId=o}},Wc}var Ed,Td={};function xd(){return Ed||(Ed=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigMetadataProvider=e.SDK_VERSION=void 0,e.SDK_VERSION="3.30.0";let t={sdkVersion:e.SDK_VERSION,sdkType:"js-mono"};e.StatsigMetadataProvider={get:()=>t,add:e=>{t=Object.assign(Object.assign({},t),e)}}}(Td)),Td}var $d,Sd={};var Cd,kd,Ld={},Ad={},Id={};function Od(){if(Cd)return Id;return Cd=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.getUUID=void 0,Id.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,(n=>{let o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(t+o)%16|0,t=Math.floor(t/16)),("x"===n?o:7&o|8).toString(16)}))},Id}function Dd(){if(kd)return Ad;kd=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.getCookieName=Ad.StableID=void 0;const e=Xc(),t=Uc(),n=id(),o=gd(),i=Od(),r={},s={},a={};function l(t){return`statsig.stable_id.${(0,e._getStorageKey)(t)}`}function c(e,n){const i=l(n);try{(0,o._setObjectInStorage)(i,e)}catch(e){t.Log.warn("Failed to save StableID to storage")}}function d(e,t){if(!s[t]||null==(0,n._getDocumentSafe)())return;const o=new Date;o.setFullYear(o.getFullYear()+1),document.cookie=`${u(t)}=${encodeURIComponent(e)}; expires=${o.toUTCString()}; path=/`}function u(t){return`statsig.stable_id.${(0,e._getStorageKey)(t)}`}return Ad.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{if(a[e])return null;if(null!=r[e])return r[e];let t=null;return t=function(e){if(!s[e]||null==(0,n._getDocumentSafe)())return null;const t=document.cookie.split(";");for(const n of t){const[t,o]=n.trim().split("=");if(t===u(e))return decodeURIComponent(o)}return null}(e),null!=t?(r[e]=t,c(t,e),t):(t=function(e){const t=l(e);return(0,o._getObjectFromStorage)(t)}(e),null==t&&(t=(0,i.getUUID)()),c(t,e),d(t,e),r[e]=t,t)},setOverride:(e,t)=>{r[t]=e,c(e,t),d(e,t)},_setCookiesEnabled:(e,t)=>{s[e]=t},_setDisabled:(e,t)=>{a[e]=t}},Ad.getCookieName=u,Ad}var Md,Rd={};function Nd(){if(Md)return Rd;Md=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd._getFullUserHash=Rd._normalizeUser=void 0;const e=Jc(),t=Uc();return Rd._normalizeUser=function(e,n,o){try{const t=JSON.parse(JSON.stringify(e));return null!=n&&null!=n.environment?t.statsigEnvironment=n.environment:null!=o&&(t.statsigEnvironment={tier:o}),t}catch(e){return t.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},Rd._getFullUserHash=function(t){return t?(0,e._DJB2Object)(t):null},Rd}var Pd,Ud,qd={};function Bd(){if(Pd)return qd;Pd=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd._typedJsonParse=void 0;const e=Uc();return qd._typedJsonParse=function(t,n,o){try{const e=JSON.parse(t);if(e&&"object"==typeof e&&n in e)return e}catch(e){}return e.Log.error(`Failed to parse ${o}`),null},qd}function Fd(){if(Ud)return Ld;Ud=1;var e=Ld.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld._makeDataAdapterResult=Ld.DataAdapterCore=void 0;const t=Uc(),n=Dd(),o=Nd(),i=gd(),r=Bd();function s(e,t,n,i){return{source:e,data:t,receivedAt:Date.now(),stableID:n,fullUserHash:(0,o._getFullUserHash)(i)}}Ld.DataAdapterCore=class{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._cacheLimit=10,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new a}attach(e,t,n){this._sdkKey=e,this._options=t}getDataSync(e){const t=e&&(0,o._normalizeUser)(e,this._options),n=this._getCacheKey(t),i=this._inMemoryCache.get(n,t);if(i&&this._getIsCacheValueValid(i))return i;const r=this._loadFromCache(n);return r&&this._getIsCacheValueValid(r)?(this._inMemoryCache.add(n,r,this._cacheLimit),this._inMemoryCache.get(n,t)):null}setData(e,t){const n=t&&(0,o._normalizeUser)(t,this._options),i=this._getCacheKey(n);this._inMemoryCache.add(i,s("Bootstrap",e,null,n),this._cacheLimit)}_getIsCacheValueValid(e){return null==e.stableID||e.stableID===n.StableID.get(this._getSdkKey())}_getDataAsyncImpl(n,o,r){return e(this,void 0,void 0,(function*(){i.Storage.isReady()||(yield i.Storage.isReadyResolver());const e=null!=n?n:this.getDataSync(o),s=[this._fetchAndPrepFromNetwork(e,o,r)];return(null==r?void 0:r.timeoutMs)&&s.push(new Promise((e=>setTimeout(e,r.timeoutMs))).then((()=>(t.Log.debug("Fetching latest value timed out"),null)))),yield Promise.race(s)}))}_prefetchDataImpl(t,n){return e(this,void 0,void 0,(function*(){const e=t&&(0,o._normalizeUser)(t,this._options),i=this._getCacheKey(e),r=yield this._getDataAsyncImpl(null,e,n);r&&this._inMemoryCache.add(i,Object.assign(Object.assign({},r),{source:"Prefetch"}),this._cacheLimit)}))}_fetchAndPrepFromNetwork(o,i,a){return e(this,void 0,void 0,(function*(){var e;const l=null!==(e=null==o?void 0:o.data)&&void 0!==e?e:null,c=null!=o&&this._isCachedResultValidFor204(o,i),d=yield this._fetchFromNetwork(l,i,a,c);if(!d)return t.Log.debug("No response returned for latest value"),null;const u=(0,r._typedJsonParse)(d,"has_updates","Response"),p=this._getSdkKey(),g=n.StableID.get(p);let m=null;if(!0===(null==u?void 0:u.has_updates))m=s("Network",d,g,i);else{if(!l||!1!==(null==u?void 0:u.has_updates))return null;m=s("NetworkNotModified",l,g,i)}const h=this._getCacheKey(i);return this._inMemoryCache.add(h,m,this._cacheLimit),this._writeToCache(h,m),m}))}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(t.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;const n=null===(t=i.Storage.getItem)||void 0===t?void 0:t.call(i.Storage,e);if(null==n)return null;const o=(0,r._typedJsonParse)(n,"source","Cached Result");return o?Object.assign(Object.assign({},o),{source:"Cache"}):null}_writeToCache(e,t){const n=JSON.stringify(t);for(let t=0;t<8;t++)try{i.Storage.setItem(e,n);break}catch(t){if(!(t instanceof Error)||!t.toString().includes("QuotaExceededError")&&!t.toString().includes("QUOTA_EXCEEDED_ERR")||this._cacheLimit<=1)throw t;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(e,this._cacheLimit-1)}this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e,t=this._cacheLimit){var n;const o=null!==(n=(0,i._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==n?n:{};o[e]=Date.now();const r=l(o,t);for(const e of r)delete o[e],i.Storage.removeItem(e);(0,i._setObjectInStorage)(this._lastModifiedStoreKey,o)}},Ld._makeDataAdapterResult=s;class a{constructor(){this._data={}}get(e,n){var o;const i=this._data[e],r=null==i?void 0:i.stableID,s=null===(o=null==n?void 0:n.customIDs)||void 0===o?void 0:o.stableID;return s&&r&&s!==r?(t.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(e,t,n){const o=l(this._data,n-1);for(const e of o)delete this._data[e];this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function l(e,t){const n=Object.keys(e);return n.length<=t?[]:0===t?n:n.sort(((t,n)=>{const o=e[t],i=e[n];return"object"==typeof o&&"object"==typeof i?o.receivedAt-i.receivedAt:o-i})).slice(0,n.length-t)}return Ld}var Hd,jd={};var zd,Gd,Wd={},Vd={};function Kd(){if(zd)return Vd;zd=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.SDKType=void 0;const e={};let t;return Vd.SDKType={_get:n=>{var o;return(null!==(o=e[n])&&void 0!==o?o:"js-mono")+(null!=t?t:"")},_setClientType(t,n){e[t]=n},_setBindingType(e){t&&"-react"!==t||(t="-"+e)}},Vd}function Zd(){return Gd||(Gd=1,function(e){var t=Wd.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorBoundary=e.EXCEPTION_ENDPOINT=void 0;const n=Uc(),o=Kd(),i=xd();e.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const r="[Statsig] UnknownError";function s(e){return e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred.")}function a(e){if(!e)return{};const t={};return Object.keys(e).forEach((n=>{const o=n,i=e[o];switch(typeof i){case"number":case"bigint":case"boolean":t[String(o)]=i;break;case"string":i.length<50?t[String(o)]=i:t[String(o)]="set";break;case"object":"environment"===o?t.environment=i:"networkConfig"===o?t.networkConfig=i:t[String(o)]=null!=i?"set":"unset"}})),t}e.ErrorBoundary=class{constructor(e,t,n,o){this._sdkKey=e,this._options=t,this._emitter=n,this._lastSeenError=o,this._seen=new Set}wrap(e,t){try{const n=e;(function(e){const t=new Set;let n=Object.getPrototypeOf(e);for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).filter((e=>"function"==typeof(null==n?void 0:n[e]))).forEach((e=>t.add(e))),n=Object.getPrototypeOf(n);return Array.from(t)})(n).forEach((o=>{const i=n[o];"$EB"in i||(n[o]=(...n)=>this._capture(t?`${t}:${o}`:o,(()=>i.apply(e,n))),n[o].$EB=!0)}))}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){const e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){this._lastSeenError||(this._lastSeenError=s(e))}_capture(e,t){try{const n=t();return n&&n instanceof Promise?n.catch((t=>this._onError(e,t))):n}catch(t){return this._onError(e,t),null}}_onError(l,c){try{n.Log.warn(`Caught error in ${l}`,{error:c});const d=()=>t(this,void 0,void 0,(function*(){var t,n,d,u,p,g,m;const h=c||Error(r),f=h instanceof Error,v=f?h.name:"No Name",_=s(h);if(this._lastSeenError=_,this._seen.has(v))return;if(this._seen.add(v),null===(n=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic)return void(null===(d=this._emitter)||void 0===d||d.call(this,{name:"error",error:c,tag:l}));const w=o.SDKType._get(this._sdkKey),b=i.StatsigMetadataProvider.get(),y=f?h.stack:function(e){try{return JSON.stringify(e)}catch(e){return r}}(h),E=Object.assign({tag:l,exception:v,info:y,statsigOptions:a(this._options)},Object.assign(Object.assign({},b),{sdkType:w})),T=null!==(g=null===(p=null===(u=this._options)||void 0===u?void 0:u.networkConfig)||void 0===p?void 0:p.networkOverrideFunc)&&void 0!==g?g:fetch;yield T(e.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(w),"STATSIG-SDK-VERSION":String(b.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(E)}),null===(m=this._emitter)||void 0===m||m.call(this,{name:"error",error:c,tag:l})}));d().then((()=>{})).catch((()=>{}))}catch(e){}}}}(Wd)),Wd}var Yd,Jd={};var Xd,Qd={};var eu,tu={};var nu,ou={};function iu(){if(nu)return ou;nu=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.createMemoKey=ou.MemoPrefix=void 0,ou.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const e=new Set([]),t=new Set(["userPersistedValues"]);return ou.createMemoKey=function(n,o,i){let r=`${n}|${o}`;if(!i)return r;for(const n of Object.keys(i)){if(t.has(n))return;e.has(n)?r+=`|${n}=true`:r+=`|${n}=${i[n]}`}return r},ou}var ru,su,au={},lu={},cu={};function du(){if(ru)return cu;ru=1;var e=cu.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(cu,"__esModule",{value:!0}),cu._fetchTxtRecords=void 0;const t=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),n=["i","e","d"];return cu._fetchTxtRecords=function(o){return e(this,void 0,void 0,(function*(){const e=yield o("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:t});if(!e.ok){const e=new Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}const i=yield e.arrayBuffer();return function(e){const t=e.findIndex(((t,o)=>o<200&&"="===String.fromCharCode(t)&&n.includes(String.fromCharCode(e[o-1]))));if(-1===t){const e=new Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let o="";for(let n=t-1;n<e.length;n++)o+=String.fromCharCode(e[n]);return o.split(",")}(new Uint8Array(i))}))},cu}function uu(){if(su)return lu;su=1;var e=lu.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(lu,"__esModule",{value:!0}),lu._isDomainFailure=lu.NetworkFallbackResolver=void 0;const t=du(),n=Jc(),o=Uc(),i=gd(),r=6048e5;function s(e,t){var n;const o=null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:"";return t||o.includes("uncaught exception")||o.includes("failed to fetch")||o.includes("networkerror when attempting to fetch resource")}function a(e){return`statsig.network_fallback.${(0,n._DJB2)(e)}`}function l(e,t){const n=a(e);t&&0!==Object.keys(t).length?i.Storage.setItem(n,JSON.stringify(t)):i.Storage.removeItem(n)}return lu.NetworkFallbackResolver=class{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var n;const o=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t.endpoint];o&&(o.expiryTime=Date.now()+r,l(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:o})))}getActiveFallbackUrl(e,t){var n,r;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let s=this._fallbackInfo;null==s&&(s=null!==(n=function(e){const t=a(e),n=i.Storage.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return o.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==n?n:{},this._fallbackInfo=s);const c=s[t.endpoint];return!c||Date.now()>(null!==(r=c.expiryTime)&&void 0!==r?r:0)||t.getChecksum()!==c.urlConfigChecksum?(delete s[t.endpoint],this._fallbackInfo=s,l(e,this._fallbackInfo),null):c.url?c.url:null}tryFetchUpdatedFallbackInfo(t,n,o,i){return e(this,void 0,void 0,(function*(){var e,r;try{if(!s(o,i))return!1;const r=null==n.customUrl&&null==n.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(n):n.fallbackUrls,a=this._pickNewFallbackUrl(null===(e=this._fallbackInfo)||void 0===e?void 0:e[n.endpoint],r);return!!a&&(this._updateFallbackInfoWithNewUrl(t,n,a),!0)}catch(e){return null===(r=this._errorBoundary)||void 0===r||r.logError("tryFetchUpdatedFallbackInfo",e),!1}}))}_updateFallbackInfoWithNewUrl(e,t,n){var o,i,s;const a={urlConfigChecksum:t.getChecksum(),url:n,expiryTime:Date.now()+r,previous:[]},c=t.endpoint,d=null===(o=this._fallbackInfo)||void 0===o?void 0:o[c];d&&a.previous.push(...d.previous),a.previous.length>10&&(a.previous=[]);const u=null===(s=null===(i=this._fallbackInfo)||void 0===i?void 0:i[c])||void 0===s?void 0:s.url;null!=u&&a.previous.push(u),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[c]:a}),l(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(n){return e(this,void 0,void 0,(function*(){var e;const o=this._dnsQueryCooldowns[n.endpoint];if(o&&Date.now()<o)return null;this._dnsQueryCooldowns[n.endpoint]=Date.now()+144e5;const i=[],r=yield(0,t._fetchTxtRecords)(null!==(e=this._networkOverrideFunc)&&void 0!==e?e:fetch),s=function(e){try{return new URL(e).pathname}catch(e){return null}}(n.defaultUrl);for(const e of r){if(!e.startsWith(n.endpointDnsKey+"="))continue;const t=e.split("=");if(t.length>1){let e=t[1];e.endsWith("/")&&(e=e.slice(0,-1)),i.push(`https://${e}${s}`)}}return i}))}_pickNewFallbackUrl(e,t){var n;if(null==t)return null;const o=new Set(null!==(n=null==e?void 0:e.previous)&&void 0!==n?n:[]),i=null==e?void 0:e.url;let r=null;for(const e of t){const t=e.endsWith("/")?e.slice(0,-1):e;if(!o.has(e)&&t!==i){r=t;break}}return r}},lu._isDomainFailure=s,lu}var pu,gu={};function mu(){if(pu)return gu;pu=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.SDKFlags=void 0;const e={};return gu.SDKFlags={setFlags:(t,n)=>{e[t]=n},get:(t,n)=>{var o,i;return null!==(i=null===(o=e[t])||void 0===o?void 0:o[n])&&void 0!==i&&i}},gu}var hu,fu={};function vu(){return hu||(hu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigSession=e.SessionID=void 0;const t=qc(),n=Xc(),o=Uc(),i=gd(),r=Od(),s=18e5,a=144e5,l={};function c(e,n){return setTimeout((()=>{var n;const o=null===(n=(0,t._getStatsigGlobal)())||void 0===n?void 0:n.instance(e);o&&o.$emt({name:"session_expired"})}),n)}function d(e){return`statsig.session_id.${(0,n._getStorageKey)(e)}`}e.SessionID={get:t=>e.StatsigSession.get(t).data.sessionID},e.StatsigSession={get:e=>{null==l[e]&&(l[e]=function(e){let t=function(e){const t=d(e);return(0,i._getObjectFromStorage)(t)}(e);const n=Date.now();t||(t={sessionID:(0,r.getUUID)(),startTime:n,lastUpdate:n});return{data:t,sdkKey:e}}(e));return function(e){const t=Date.now(),n=e.data,l=e.sdkKey;if(function({lastUpdate:e}){return Date.now()-e>s}(n)||function({startTime:e}){return Date.now()-e>a}(n)){n.sessionID=(0,r.getUUID)(),n.startTime=t;const e=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(l);e&&e.$emt({name:"session_expired"})}n.lastUpdate=t,function(e,t){const n=d(t);try{(0,i._setObjectInStorage)(n,e)}catch(e){o.Log.warn("Failed to save SessionID")}}(n,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);const u=t-n.startTime;return e.idleTimeoutID=c(l,s),e.ageTimeoutID=c(l,a-u),e}(l[e])},overrideInitialSessionID:(e,t)=>{l[t]=function(e,t){const n=Date.now();return{data:{sessionID:e,startTime:n,lastUpdate:n},sdkKey:t}}(e,t)}}}(fu)),fu}var _u,wu,bu={};function yu(){return _u||(_u=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.ErrorTag=void 0,bu.ErrorTag={NetworkError:"NetworkError"}),bu}function Eu(){if(wu)return au;wu=1;var e=au.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(au,"__esModule",{value:!0}),au.NetworkCore=void 0,qc();const t=qc(),n=Hc(),o=Uc(),i=td(),r=uu(),s=mu(),a=Kd(),l=id(),c=vu(),d=Dd(),u=yu(),p=xd(),g=dd(),m=bd(),h=new Set([408,500,502,503,504,522,524,599]);au.NetworkCore=class{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new r.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){if(!f(e))return!1;const t=this._getInternalRequestArgs("POST",e),n=this._getPopulatedURL(t),o=navigator;return o.sendBeacon.bind(o)(n,t.body)}post(t){return e(this,void 0,void 0,(function*(){const e=this._getInternalRequestArgs("POST",t);return this._tryEncodeBody(e),yield this._tryToCompressBody(e),this._sendRequest(e)}))}get(e){const t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(t){return e(this,void 0,void 0,(function*(){var r,s,a,l;if(!f(t))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:c,body:d,retries:p,attempt:g}=t,v=t.urlConfig.endpoint;if(this._isRateLimited(v))return o.Log.warn(`Request to ${v} was blocked because you are making requests too frequently.`),null;const w=null!=g?g:1;let b=!1;const y=this._getPopulatedURL(t);let E=null;const T=(0,m._isUnloading)();try{const e={method:c,body:d,headers:Object.assign({},t.headers),priority:t.priority,keepalive:T};!function(e,t){if(e.urlConfig.endpoint!==i.Endpoint._initialize)return;n.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:t})}(t,w);const o=this._leakyBucket[v];o&&(o.lastRequestTime=Date.now(),this._leakyBucket[v]=o);const s=null!==(r=this._netConfig.networkOverrideFunc)&&void 0!==r?r:fetch;let a;if(E=yield Promise.race([s(y,e).finally((()=>clearTimeout(a))),new Promise(((e,t)=>{a=setTimeout((()=>{b=!0,t(new Error(`Timeout of ${this._timeout}ms expired.`))}),this._timeout)}))]),!E.ok){const e=yield E.text().catch((()=>"No Text")),t=new Error(`NetworkError: ${y} ${e}`);throw t.name="NetworkError",t}const l=yield E.text();return _(t,E,w,l),this._fallbackResolver.tryBumpExpiryTime(t.sdkKey,t.urlConfig),{body:l,code:E.status}}catch(n){const i=function(e){if("string"==typeof e)return e;if(e instanceof Error)return`${e.name}: ${e.message}`;return"Unknown Error"}(n),r=(x=b,(null!=i?i:"").includes("Timeout")||x);_(t,E,w,"",n);if((yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(t.sdkKey,t.urlConfig,i,r))&&(t.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig)),!p||w>p||!h.has(null!==(s=null==E?void 0:E.status)&&void 0!==s?s:500)){null===(a=this._emitter)||void 0===a||a.call(this,{name:"error",error:n,tag:u.ErrorTag.NetworkError,requestArgs:t});const e=`A networking error occurred during ${c} request to ${y}.`;return o.Log.error(e,i,n),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(e),null}return yield function(t){return e(this,void 0,void 0,(function*(){yield new Promise((e=>setTimeout(e,Math.min(t*t*500,3e4))))}))}(w),this._sendRequest(Object.assign(Object.assign({},t),{retries:p,attempt:w+1}))}var x}))}_getLogEventCompressionMode(e){let t=null==e?void 0:e.logEventCompressionMode;return t||!0!==(null==e?void 0:e.disableCompression)||(t=g.LogEventCompressionMode.Disabled),t||(t=g.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;const n=Date.now(),o=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:n},i=n-o.lastRequestTime,r=Math.floor(.05*i);return o.count=Math.max(0,o.count-r),o.count>=50||(o.count+=1,o.lastRequestTime=n,this._leakyBucket[e]=o,!1)}_getPopulatedURL(e){var t;const n=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();e.urlConfig.endpoint!==i.Endpoint._initialize&&e.urlConfig.endpoint!==i.Endpoint._download_config_specs||(this._lastUsedInitUrl=n);const o=Object.assign({[i.NetworkParam.SdkKey]:e.sdkKey,[i.NetworkParam.SdkType]:a.SDKType._get(e.sdkKey),[i.NetworkParam.SdkVersion]:p.SDK_VERSION,[i.NetworkParam.Time]:String(Date.now()),[i.NetworkParam.SessionID]:c.SessionID.get(e.sdkKey)},e.params),r=Object.keys(o).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(o[e])}`)).join("&");return`${n}${r?`?${r}`:""}`}_tryEncodeBody(e){var n;const r=(0,l._getWindowSafe)(),s=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof s&&null==(0,t._getStatsigGlobalFlag)("no-encode")&&(null==r?void 0:r.btoa))try{e.body=r.btoa(s).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(n=e.params)&&void 0!==n?n:{}),{[i.NetworkParam.StatsigEncoded]:"1"})}catch(t){o.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(n){return e(this,void 0,void 0,(function*(){var e;const r=n.body;if("string"==typeof r&&function(e,n){if(!e.isCompressable)return!1;if(null!=(0,t._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;const o=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,i=!0===s.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(n.logEventCompressionMode){case g.LogEventCompressionMode.Disabled:return!1;case g.LogEventCompressionMode.Enabled:return!(o&&!i);case g.LogEventCompressionMode.Forced:return!0;default:return!1}}(n,this._options))try{const t=(new TextEncoder).encode(r),s=new CompressionStream("gzip"),a=s.writable.getWriter();a.write(t).catch(o.Log.error),a.close().catch(o.Log.error);const l=s.readable.getReader(),c=[];let d;for(;!(d=yield l.read()).done;)c.push(d.value);const u=c.reduce(((e,t)=>e+t.length),0),p=new Uint8Array(u);let g=0;for(const e of c)p.set(e,g),g+=e.length;n.body=p,n.params=Object.assign(Object.assign({},null!==(e=n.params)&&void 0!==e?e:{}),{[i.NetworkParam.IsGzipped]:"1"})}catch(e){o.Log.warn(`Request compression failed for ${n.urlConfig.getUrl()}`,e)}}))}_getInternalRequestArgs(e,t){const n=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),o=Object.assign(Object.assign({},t),{method:e,fallbackUrl:n});return"data"in t&&v(o,t.data),o}};const f=e=>!!e.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1),v=(e,t)=>{const{sdkKey:n,fallbackUrl:o}=e,i=d.StableID.get(n),r=c.SessionID.get(n),s=a.SDKType._get(n);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},p.StatsigMetadataProvider.get()),{stableID:i,sessionID:r,sdkType:s,fallbackUrl:o})}))};function _(e,t,o,r,s){e.urlConfig.endpoint===i.Endpoint._initialize&&n.Diagnostics._markInitNetworkReqEnd(e.sdkKey,n.Diagnostics._getDiagnosticsData(t,o,r,s))}return au}var Tu,xu={};var $u,Su={};var Cu,ku={};var Lu,Au={};function Iu(){if(Lu)return Au;Lu=1;var e=Au.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Au,"__esModule",{value:!0}),Au.StatsigClientBase=void 0,qc();const t=qc(),n=Zd(),o=yd(),i=Uc(),r=iu(),s=id(),a=vu(),l=Dd(),c=dd(),d=gd();return Au.StatsigClientBase=class{constructor(e,r,c,u){var p,g,m,h;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const f=this.$emt.bind(this);null!=(null==u?void 0:u.logLevel)&&(i.Log.level=u.logLevel),(null==u?void 0:u.disableStorage)&&d.Storage._setDisabled(!0),(null==u?void 0:u.initialSessionID)&&a.StatsigSession.overrideInitialSessionID(u.initialSessionID,e),(null==u?void 0:u.storageProvider)&&d.Storage._setProvider(u.storageProvider),(null==u?void 0:u.enableCookies)&&l.StableID._setCookiesEnabled(e,u.enableCookies),(null==u?void 0:u.disableStableID)&&l.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!=u?u:{},this._memoCache={},this.overrideAdapter=null!==(p=null==u?void 0:u.overrideAdapter)&&void 0!==p?p:null,this._logger=new o.EventLogger(e,f,c,u),this._errorBoundary=new n.ErrorBoundary(e,u,f),this._errorBoundary.wrap(this),this._errorBoundary.wrap(r),this._errorBoundary.wrap(this._logger),c.setErrorBoundary(this._errorBoundary),this.dataAdapter=r,this.dataAdapter.attach(e,u,c),this.storageProvider=d.Storage,null===(h=null===(m=null===(g=this.overrideAdapter)||void 0===g?void 0:g.loadFromStorage)||void 0===m?void 0:m.call(g))||void 0===h||h.catch((e=>this._errorBoundary.logError("OA::loadFromStorage",e))),this._primeReadyRipcord(),function(e,n){var o;if((0,s._isServerEnv)())return;const r=(0,t._getStatsigGlobal)(),a=null!==(o=r.instances)&&void 0!==o?o:{},l=n;null!=a[e]&&i.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");a[e]=l,r.firstInstance||(r.firstInstance=l);r.instances=a,__STATSIG__=r}(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,d.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,l.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(c.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return e(this,void 0,void 0,(function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()}))}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){const n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;const n=t=>{try{t(e)}catch(n){if(!0===t.__isInternal)return void this._errorBoundary.logError(`__emit:${e.name}`,n);i.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach((e=>n(e))),null===(t=this._listeners["*"])||void 0===t||t.forEach(n)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,n){!0!==(null==n?void 0:n.disableExposureLog)?this._logger.enqueue(t):this._logger.incrementNonExposureCount(e)}_memoize(e,t){return(n,o)=>{if(this._options.disableEvaluationMemoization)return t(n,o);const i=(0,r.createMemoKey)(e,n,o);return i?(i in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[i]=t(n,o)),this._memoCache[i]):t(n,o)}}},Au}var Ou,Du={};var Mu,Ru={};var Nu,Pu={};var Uu,qu={};var Bu,Fu,Hu={};function ju(){return Fu||(Fu=1,function(e){var t=Rc.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),n=Rc.__exportStar||function(e,n){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(n,o)||t(n,e,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Log=e.EventLogger=e.Diagnostics=void 0,qc();const o=qc(),i=Hc();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return i.Diagnostics}});const r=yd();Object.defineProperty(e,"EventLogger",{enumerable:!0,get:function(){return r.EventLogger}});const s=Uc();Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return s.Log}});const a=xd(),l=gd();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return l.Storage}}),n(qc(),e),n(Xc(),e),n(($d||($d=1,Object.defineProperty(Sd,"__esModule",{value:!0})),Sd),e),n(Fd(),e),n(Hc(),e),n((Hd||(Hd=1,Object.defineProperty(jd,"__esModule",{value:!0})),jd),e),n(Zd(),e),n((Yd||(Yd=1,Object.defineProperty(Jd,"__esModule",{value:!0})),Jd),e),n((Xd||(Xd=1,Object.defineProperty(Qd,"__esModule",{value:!0})),Qd),e),n(Jc(),e),n((eu||(eu=1,Object.defineProperty(tu,"__esModule",{value:!0})),tu),e),n(Uc(),e),n(iu(),e),n(td(),e),n(Eu(),e),n((Tu||(Tu=1,Object.defineProperty(xu,"__esModule",{value:!0})),xu),e),n(($u||($u=1,Object.defineProperty(Su,"__esModule",{value:!0})),Su),e),n(id(),e),n(Kd(),e),n(vu(),e),n((Cu||(Cu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._fastApproxSizeOf=void 0,e._fastApproxSizeOf=(t,n)=>{let o=0;const i=Object.keys(t);for(let r=0;r<i.length;r++){const s=i[r],a=t[s];if(o+=s.length,o+="object"==typeof a&&null!==a?(0,e._fastApproxSizeOf)(a,n)+2:String(a).length+1,o>=n)return o}return o}}(ku)),ku),e),n(Dd(),e),n(Iu(),e),n(yu(),e),n((Ou||(Ou=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.DataAdapterCachePrefix=void 0,Du.DataAdapterCachePrefix="statsig.cached"),Du),e),n(ad(),e),n(xd(),e),n(dd(),e),n((Mu||(Mu=1,Object.defineProperty(Ru,"__esModule",{value:!0})),Ru),e),n(function(){if(Nu)return Pu;Nu=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu._makeTypedGet=Pu._mergeOverride=Pu._makeLayer=Pu._makeExperiment=Pu._makeDynamicConfig=Pu._makeFeatureGate=void 0;const e=Uc(),t=Yc();function n(e,t,n,o){var i;return{name:e,details:t,ruleID:null!==(i=null==n?void 0:n.rule_id)&&void 0!==i?i:"",__evaluation:n,value:o}}function o(e,t,o){var r,s;const a=null!==(r=null==o?void 0:o.value)&&void 0!==r?r:{};return Object.assign(Object.assign({},n(e,t,o,a)),{idType:null!==(s=null==o?void 0:o.id_type)&&void 0!==s?s:null,get:i(e,null==o?void 0:o.value)})}function i(n,o,i){return(r,s)=>{var a;const l=null!==(a=null==o?void 0:o[r])&&void 0!==a?a:null;return null==l?null!=s?s:null:null==s||(0,t._isTypeMatch)(l,s)?(null==i||i(r),l):(e.Log.warn(`Parameter type mismatch. '${n}.${r}' was found to be type '${typeof l}' but fallback/return type is '${typeof s}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=s?s:null)}}return Pu._makeFeatureGate=function(e,t,o){var i;return Object.assign(Object.assign({},n(e,t,o,!0===(null==o?void 0:o.value))),{idType:null!==(i=null==o?void 0:o.id_type)&&void 0!==i?i:null})},Pu._makeDynamicConfig=o,Pu._makeExperiment=function(e,t,n){var i;const r=o(e,t,n);return Object.assign(Object.assign({},r),{groupName:null!==(i=null==n?void 0:n.group_name)&&void 0!==i?i:null})},Pu._makeLayer=function(e,t,o,r){var s,a;return Object.assign(Object.assign({},n(e,t,o,void 0)),{get:i(e,null==o?void 0:o.value,r),groupName:null!==(s=null==o?void 0:o.group_name)&&void 0!==s?s:null,__value:null!==(a=null==o?void 0:o.value)&&void 0!==a?a:{}})},Pu._mergeOverride=function(e,t,n,o){return Object.assign(Object.assign(Object.assign({},e),t),{get:i(e.name,n,o)})},Pu._makeTypedGet=i,Pu}(),e),n((Uu||(Uu=1,Object.defineProperty(qu,"__esModule",{value:!0})),qu),e),n(Nd(),e),n(gd(),e),n(Bd(),e),n(Yc(),e),n(fd(),e),n(Od(),e),n(bd(),e),n((Bu||(Bu=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.UPDATE_DETAIL_ERROR_MESSAGES=Hu.createUpdateDetails=void 0,Hu.createUpdateDetails=(e,t,n,o,i,r)=>({duration:n,source:t,success:e,error:o,sourceUrl:i,warnings:r}),Hu.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}),Hu),e),n(mu(),e),Object.assign((0,o._getStatsigGlobal)(),{Log:s.Log,SDK_VERSION:a.SDK_VERSION})}(Rc)),Rc}var zu,Gu={},Wu={},Vu={};var Ku,Zu,Yu={};function Ju(){if(Zu)return Wu;Zu=1,Object.defineProperty(Wu,"__esModule",{value:!0});const e=ju(),t=function(){if(zu)return Vu;zu=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.V1InitializeContainer=void 0;const e=ju();return Vu.V1InitializeContainer=class{constructor(e){this._values=e}getGate(e){return this._getResultFromLookup(this._values.feature_gates,e)}getConfig(e){return this._getResultFromLookup(this._values.dynamic_configs,e)}getLayer(e){return this._getResultFromLookup(this._values.layer_configs,e)}getParamStore(e){return this._getResultFromLookup(this._values.param_stores,e)}getConfigList(){return Object.keys(this._values.dynamic_configs)}getExposureMapping(){return this._values.exposures}_getResultFromLookup(t,n){var o,i;return t&&null!==(i=null!==(o=t[n])&&void 0!==o?o:t[(0,e._DJB2)(n)])&&void 0!==i?i:null}},Vu}(),n=function(){if(Ku)return Yu;Ku=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.V2InitializeContainer=void 0;const e=ju();return Yu.V2InitializeContainer=class{constructor(e){this._values=e}getGate(e){var t,n,o;const i=this._getResultFromLookup(this._values.feature_gates,e);return i?{name:e,value:!0===i.v,rule_id:null!==(t=i.r)&&void 0!==t?t:"default",secondary_exposures:null!==(n=i.s)&&void 0!==n?n:[],id_type:null!==(o=i.i)&&void 0!==o?o:""}:null}getConfig(e){var t,n,o,i;const r=this._getResultFromLookup(this._values.dynamic_configs,e);return r?{name:e,value:null!==(t=this._values.values[r.v])&&void 0!==t?t:{},rule_id:r.r,secondary_exposures:null!==(n=r.s)&&void 0!==n?n:[],id_type:null!==(o=r.i)&&void 0!==o?o:"",is_user_in_experiment:!0===r.ue,passed:!0===r.p,group_name:null!==(i=r.gn)&&void 0!==i?i:void 0,is_experiment_active:!0===r.ea,group:r.r,is_device_based:"stableID"===r.i}:null}getLayer(e){var t,n,o,i,r,s;const a=this._getResultFromLookup(this._values.layer_configs,e);return a?{name:e,value:null!==(t=this._values.values[a.v])&&void 0!==t?t:{},rule_id:a.r,secondary_exposures:null!==(n=a.s)&&void 0!==n?n:[],is_user_in_experiment:!0===a.ue,group_name:null!==(o=a.gn)&&void 0!==o?o:void 0,is_experiment_active:!0===a.ea,group:a.r,is_device_based:"stableID"===a.i,allocated_experiment_name:null!==(i=a.ae)&&void 0!==i?i:"",explicit_parameters:null!==(r=a.ep)&&void 0!==r?r:[],undelegated_secondary_exposures:null!==(s=a.us)&&void 0!==s?s:[],parameter_rule_ids:a.pr}:null}getParamStore(e){return this._getResultFromLookup(this._values.param_stores,e)}getConfigList(){return Object.keys(this._values.dynamic_configs)}getExposureMapping(){return this._values.exposures}_getResultFromLookup(t,n){var o,i;return t&&null!==(i=null!==(o=t[n])&&void 0!==o?o:t[(0,e._DJB2)(n)])&&void 0!==i?i:null}},Yu}();return Wu.default=class{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(o,i){var r,s;if(!o)return!1;const a=(0,e._typedJsonParse)(o.data,"has_updates","EvaluationResponse");if(null==a)return!1;if(this._source=o.source,!0!==(null==a?void 0:a.has_updates))return!0;return(null!==(r=a.time)&&void 0!==r?r:0)<this._lcut||(this._rawValues=o.data,this._lcut=a.time,this._receivedAt=o.receivedAt,"init-v2"===a.response_format?this._values=new n.V2InitializeContainer(a):this._values=new t.V1InitializeContainer(a),this._bootstrapMetadata=this._extractBootstrapMetadata(o.source,a),o.source&&a.user&&this._setWarningState(i,a),e.SDKFlags.setFlags(this._sdkKey,null!==(s=a.sdk_flags)&&void 0!==s?s:{})),!0}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){const t=this._values?this._values.getGate(e):null;return this._getDetailedStoreResult(t)}getConfig(e){const t=this._values?this._values.getConfig(e):null;return this._getDetailedStoreResult(t)}getConfigList(){return this._values?this._values.getConfigList():[]}getLayer(e){const t=this._values?this._values.getLayer(e):null;return this._getDetailedStoreResult(t)}getParamStore(e){const t=this._values?this._values.getParamStore(e):null;return this._getDetailedStoreResult(t)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.getExposureMapping()}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;const n={};return t.user&&(n.user=t.user),t.sdkInfo&&(n.generatorSDKInfo=t.sdkInfo),n.lcut=t.time,n}_getDetailedStoreResult(e){return{result:e,details:this._getDetails(null==e)}}_setWarningState(t,n){var o,i;const r=e.StableID.get(this._sdkKey);if((null===(o=t.customIDs)||void 0===o?void 0:o.stableID)===r||!(null===(i=t.customIDs)||void 0===i?void 0:i.stableID)&&!r){if("user"in n){const o=n.user,i=Object.assign(Object.assign({},t),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,e._getFullUserHash)(i)!==(0,e._getFullUserHash)(o)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,n;const o=this.getCurrentSourceDetails();let i=o.reason;const r=null!==(t=o.warnings)&&void 0!==t?t:[];if("Bootstrap"===this._source&&r.length>0&&(i+=r[0]),"Uninitialized"!==i&&"NoValues"!==i){i=`${i}:${e?"Unrecognized":"Recognized"}`}const s="Bootstrap"===this._source&&null!==(n=this._bootstrapMetadata)&&void 0!==n?n:void 0;return s&&(o.bootstrapMetadata=s),Object.assign(Object.assign({},o),{reason:i})}},Wu}var Xu,Qu,ep={},tp={};function np(){if(Xu)return tp;Xu=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp._resolveDeltasResponse=void 0;const e=ju();function t(e,t){null==e||e.forEach((e=>{delete t[e]}))}return tp._resolveDeltasResponse=function(n,o){const i=(0,e._typedJsonParse)(o,"checksum","DeltasEvaluationResponse");if(!i)return{hadBadDeltaChecksum:!0};const r=function(e){const n=e;return t(e.deleted_gates,n.feature_gates),delete n.deleted_gates,t(e.deleted_configs,n.dynamic_configs),delete n.deleted_configs,t(e.deleted_layers,n.layer_configs),delete n.deleted_layers,n}(function(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{feature_gates:Object.assign(Object.assign({},e.feature_gates),t.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),t.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),t.dynamic_configs)})}(n,i)),s=(0,e._DJB2Object)({feature_gates:r.feature_gates,dynamic_configs:r.dynamic_configs,layer_configs:r.layer_configs},2);return s===i.checksumV2?JSON.stringify(r):{hadBadDeltaChecksum:!0,badChecksum:s,badMergedConfigs:r,badFullResponse:i.deltas_full_response}},tp}function op(){if(Qu)return ep;Qu=1;var e=ep.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(ep,"__esModule",{value:!0});const t=ju(),n=np();class o extends t.NetworkCore{constructor(e,n){super(e,n);const o=null==e?void 0:e.networkConfig;this._option=e,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,null==o?void 0:o.initializeUrl,null==o?void 0:o.api,null==o?void 0:o.initializeFallbackUrls)}fetchEvaluations(n,o,i,r,s){return e(this,void 0,void 0,(function*(){var e,a,l,c,d,u;const p=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let g={user:r,hash:null!==(l=null===(a=null===(e=this._option)||void 0===e?void 0:e.networkConfig)||void 0===a?void 0:a.initializeHashAlgorithm)&&void 0!==l?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==p?void 0:p.has_updates){const e=(null==p?void 0:p.hash_used)!==(null!==(u=null===(d=null===(c=this._option)||void 0===c?void 0:c.networkConfig)||void 0===d?void 0:d.initializeHashAlgorithm)&&void 0!==u?u:"djb2");g=Object.assign(Object.assign({},g),{sinceTime:s&&!e?p.time:0,previousDerivedFields:"derived_fields"in p&&s?p.derived_fields:{},deltasResponseRequested:!0,full_checksum:p.full_checksum,partialUserMatchSinceTime:e?0:p.time})}return this._fetchEvaluations(n,p,g,i)}))}_fetchEvaluations(t,o,i,r){return e(this,void 0,void 0,(function*(){var e,s;const a=yield this.post({sdkKey:t,urlConfig:this._initializeUrlConfig,data:i,retries:2,isStatsigEncodable:!0,priority:r});if(204===(null==a?void 0:a.code))return'{"has_updates": false}';if(200!==(null==a?void 0:a.code))return null!==(e=null==a?void 0:a.body)&&void 0!==e?e:null;if(!0!==(null==o?void 0:o.has_updates)||!0!==(null===(s=a.body)||void 0===s?void 0:s.includes('"is_delta":true'))||!0!==i.deltasResponseRequested)return a.body;const l=(0,n._resolveDeltasResponse)(o,a.body);return"string"==typeof l?l:this._fetchEvaluations(t,o,Object.assign(Object.assign(Object.assign({},i),l),{deltasResponseRequested:!1}),r)}))}}return ep.default=o,ep}var ip,rp={};function sp(){if(ip)return rp;ip=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp._makeParamStoreGetter=void 0;const e=ju(),t={disableExposureLog:!0};function n(e){return null==e||!1===e.disableExposureLog}function o(t,n){return null!=n&&!(0,e._isTypeMatch)(t,n)}return rp._makeParamStoreGetter=function(i,r,s){return(a,l)=>{if(null==r)return l;const c=r[a];if(null==c||null!=l&&(0,e._typeOf)(l)!==c.param_type)return l;switch(c.ref_type){case"static":return function(e){return e.value}(c);case"gate":return function(e,o,i){return e.getFeatureGate(o.gate_name,n(i)?void 0:t).value?o.pass_value:o.fail_value}(i,c,s);case"dynamic_config":return function(e,i,r,s){const a=e.getDynamicConfig(i.config_name,n(s)?void 0:t).get(i.param_name);return o(a,r)?r:a}(i,c,l,s);case"experiment":return function(e,i,r,s){const a=e.getExperiment(i.experiment_name,n(s)?void 0:t).get(i.param_name);return o(a,r)?r:a}(i,c,l,s);case"layer":return function(e,i,r,s){const a=e.getLayer(i.layer_name,n(s)?void 0:t).get(i.param_name);return o(a,r)?r:a}(i,c,l,s);default:return l}}},rp}var ap,lp,cp,dp={};function up(){if(ap)return dp;ap=1;var e=dp.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(dp,"__esModule",{value:!0}),dp.StatsigEvaluationsDataAdapter=void 0;const t=ju(),n=op();let o=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t,o){super.attach(e,t,o),null!==o&&o instanceof n.default?this._network=o:this._network=new n.default(null!=t?t:{})}getDataAsync(e,n,o){return this._getDataAsyncImpl(e,(0,t._normalizeUser)(n,this._options),o)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){const n=(0,t._typedJsonParse)(e,"has_updates","data");n&&"user"in n?super.setData(e,n.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(t,n,o,i){return e(this,void 0,void 0,(function*(){var e;const r=yield null===(e=this._network)||void 0===e?void 0:e.fetchEvaluations(this._getSdkKey(),t,null==o?void 0:o.priority,n,i);return null!=r?r:null}))}_getCacheKey(e){var n;const o=(0,t._getStorageKey)(this._getSdkKey(),e,null===(n=this._options)||void 0===n?void 0:n.customUserCacheKeyFunc);return`${t.DataAdapterCachePrefix}.${this._cacheSuffix}.${o}`}_isCachedResultValidFor204(e,n){return null!=e.fullUserHash&&e.fullUserHash===(0,t._getFullUserHash)(n)}};return dp.StatsigEvaluationsDataAdapter=o,dp}function pp(){if(lp)return Gu;lp=1;var e=Gu.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(Gu,"__esModule",{value:!0});const t=ju(),n=Ju(),o=op(),i=sp(),r=up();let s=class s extends t.StatsigClientBase{static instance(e){const n=(0,t._getStatsigGlobal)().instance(e);return n instanceof s?n:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new s(null!=e?e:"",{}))}constructor(e,i,s=null){var a,l;t.SDKType._setClientType(e,"javascript-client");const c=new o.default(s,(e=>{this.$emt(e)}));super(e,null!==(a=null==s?void 0:s.dataAdapter)&&void 0!==a?a:new r.StatsigEvaluationsDataAdapter,c,s),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(t.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(e),this._network=c,this._user=this._configureUser(i,s),this._sdkInstanceID=(0,t.getUUID)();const d=null!==(l=null==s?void 0:s.plugins)&&void 0!==l?l:[];for(const e of d)e.bind(this)}initializeSync(e){var n;return"Uninitialized"!==this.loadingStatus?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(n=this._store.getWarnings())&&void 0!==n?n:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(t){return e(this,void 0,void 0,(function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(t)),this._initializePromise}))}updateUserSync(e,t){const n=performance.now();try{return this._updateUserSyncImpl(e,t,n)}catch(e){const t=e instanceof Error?e:new Error(String(e));return this._createErrorUpdateDetails(t,n)}}_updateUserSyncImpl(e,n,o){var i;const r=[...null!==(i=this._store.getWarnings())&&void 0!==i?i:[]];this._resetForUser(e);const s=this.dataAdapter.getDataSync(this._user);null==s&&r.push("NoCachedValues"),this._store.setValues(s,this._user),this._finalizeUpdate(s);const a=null==n?void 0:n.disableBackgroundCacheRefresh;return!0===a||null==a&&"Bootstrap"===(null==s?void 0:s.source)||this._runPostUpdate(null!=s?s:null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),r)}updateUserAsync(t,n){return e(this,void 0,void 0,(function*(){const e=performance.now();try{return yield this._updateUserAsyncImpl(t,n)}catch(t){const n=t instanceof Error?t:new Error(String(t));return this._createErrorUpdateDetails(n,e)}}))}_updateUserAsyncImpl(n,o){return e(this,void 0,void 0,(function*(){this._resetForUser(n);const e=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(e);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,e,o),e!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let r=!1;null!=i&&(t.Diagnostics._markInitProcessStart(this._sdkKey),r=this._store.setValues(i,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:r})),this._finalizeUpdate(i),r||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,r,this._store.getCurrentSourceDetails());const s=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(r,this._store.getSource(),s,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())}))}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,n){const o="string"==typeof e?{eventName:e,value:t,metadata:n}:e;this.$emt({name:"log_event_called",event:o}),this._logger.enqueue(Object.assign(Object.assign({},o),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}_primeReadyRipcord(){this.$on("error",(()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)}))}_initializeAsyncImpl(n){return e(this,void 0,void 0,(function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,n)}))}_createErrorUpdateDetails(e,n){var o;return(0,t.createUpdateDetails)(!1,this._store.getSource(),performance.now()-n,e,null,[...null!==(o=this._store.getWarnings())&&void 0!==o?o:[]])}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,n){this.dataAdapter.getDataAsync(e,n,{priority:"low"}).catch((e=>{t.Log.error("An error occurred after update.",e)}))}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,n){var o,i,r;const s=(0,t._normalizeUser)(e,n),a=null===(o=s.customIDs)||void 0===o?void 0:o.stableID;if(a){const e=null===(r=(i=this.storageProvider).isReadyResolver)||void 0===r?void 0:r.call(i);e?e.then((()=>t.StableID.setOverride(a,this._sdkKey)),(()=>t.StableID.setOverride(a,this._sdkKey))):t.StableID.setOverride(a,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(s.analyticsOnlyMetadata=Object.assign(Object.assign({},s.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),s}_getFeatureGateImpl(e,n){var o,i;const{result:r,details:s}=this._store.getGate(e),a=(0,t._makeFeatureGate)(e,s,r),l=null===(i=null===(o=this.overrideAdapter)||void 0===o?void 0:o.getGateOverride)||void 0===i?void 0:i.call(o,a,this._user,n),c=null!=l?l:a;return this._enqueueExposure(e,(0,t._createGateExposure)(this._user,c,this._store.getExposureMapping()),n),this.$emt({name:"gate_evaluation",gate:c}),c}_getDynamicConfigImpl(e,n){var o,i;const{result:r,details:s}=this._store.getConfig(e),a=(0,t._makeDynamicConfig)(e,s,r),l=null===(i=null===(o=this.overrideAdapter)||void 0===o?void 0:o.getDynamicConfigOverride)||void 0===i?void 0:i.call(o,a,this._user,n),c=null!=l?l:a;return this._enqueueExposure(e,(0,t._createConfigExposure)(this._user,c,this._store.getExposureMapping()),n),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:c}),c}_getExperimentImpl(e,n){var o,i,r,s;const{result:a,details:l}=this._store.getConfig(e),c=(0,t._makeExperiment)(e,l,a);null!=c.__evaluation&&(c.__evaluation.secondary_exposures=(0,t._mapExposures)(null!==(i=null===(o=c.__evaluation)||void 0===o?void 0:o.secondary_exposures)&&void 0!==i?i:[],this._store.getExposureMapping()));const d=null===(s=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getExperimentOverride)||void 0===s?void 0:s.call(r,c,this._user,n),u=null!=d?d:c;return this._enqueueExposure(e,(0,t._createConfigExposure)(this._user,u,this._store.getExposureMapping()),n),this.$emt({name:"experiment_evaluation",experiment:u}),u}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(e,n){var o,i,r;const{result:s,details:a}=this._store.getLayer(e),l=(0,t._makeLayer)(e,a,s),c=null===(i=null===(o=this.overrideAdapter)||void 0===o?void 0:o.getLayerOverride)||void 0===i?void 0:i.call(o,l,this._user,n);(null==n?void 0:n.disableExposureLog)&&this._logger.incrementNonExposureCount(e);const d=(0,t._mergeOverride)(l,c,null!==(r=null==c?void 0:c.__value)&&void 0!==r?r:l.__value,(o=>{(null==n?void 0:n.disableExposureLog)||this._enqueueExposure(e,(0,t._createLayerParameterExposure)(this._user,d,o,this._store.getExposureMapping()),n)}));return this.$emt({name:"layer_evaluation",layer:d}),d}_getParameterStoreImpl(e,t){var n,o;const{result:r,details:s}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);const a={name:e,details:s,__configuration:r,get:(0,i._makeParamStoreGetter)(this,r,t)},l=null===(o=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getParamStoreOverride)||void 0===o?void 0:o.call(n,a,t);return null!=l&&(a.__configuration=l.config,a.details=l.details,a.get=(0,i._makeParamStoreGetter)(this,l.config,t)),a}};return Gu.default=s,Gu}function gp(e){return t(this,void 0,void 0,(function*(){if(e.includes("session")){const e=yield chrome.storage.sync.get(["session"]);e&&!e.session&&(yield function(){return t(this,void 0,void 0,(function*(){const e=io();yield chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{yield Ll()}catch(e){}}))}())}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}))}function mp(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Wn.accountId,Wn.accessToken,Wn.idToken]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=ao(e.a_t),n=ao(e[Wn.idToken]);return(null==t?void 0:t.sub)||(null==n?void 0:n.sub)}}))}cp||(cp=1,function(e){var t=Mc.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),n=Mc.__exportStar||function(e,n){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(n,o)||t(n,e,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const o=ju(),i=pp();e.StatsigClient=i.default,n(ju(),e);const r=Object.assign((0,o._getStatsigGlobal)(),{StatsigClient:i.default});e.default=r}(Mc));const hp={brave:"Brave",chrome:"Chrome",edge:"Edge",firefox:"Firefox",opera:"Opera",safari:"Safari"};function fp(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function vp(e,t){let n;try{switch(e){case hp.chrome:case hp.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case hp.edge:n=t.split("Edg/")[1].split(" ")[0];break;case hp.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case hp.opera:n=t.split("OPR/")[1].split(" ")[0];break;case hp.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(e){}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===hp.chrome||e===hp.edge||e===hp.brave||e===hp.opera}(e)&&(n=_p(e).version)}catch(e){}return n&&"string"==typeof n?n:"unknown_browser_version"}function _p(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const wp={userAgent:"unknown_user_agent",platform:"unknown_platform",browser:"unknown_browser",browserVersion:"unknown_browser_version",browserLang:"unknown_browser_language"};function bp(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||wp.userAgent,o=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||wp.platform;let i=wp.browser,r=wp.browserVersion,s=(null===navigator||void 0===navigator?void 0:navigator.language)||wp.browserLang;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(s=chrome.i18n.getUILanguage());try{i=yp(n),r=vp(i,n)}catch(e){}return{userAgent:n,platform:o,browser:i,browserVersion:r,browserLang:s}}const yp=e=>{let t=wp.browser;try{const n=e.match(/chrome|chromium|crios/i),o=e.match(/edg/i)||_p(hp.edge),i=e.match(/firefox|fxios/i),r=e.match(/opr\//i)||_p(hp.opera),s=e.match(/safari/i),a=_p(hp.brave);n?(t=hp.chrome,o&&(t=hp.edge),r&&(t=hp.opera),a&&(t=hp.brave)):o?t=hp.edge:i?t=hp.firefox:r?t=hp.opera:s&&(t=hp.safari)}catch(e){}return t};function Ep(){if({IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.browserBuild.toLowerCase()===hp.firefox.toLowerCase();const e=chrome.runtime.getURL("");return bp().browser===hp.firefox||/moz-extension:\/\//gm.test(e)}const Tp=()=>{const e=/(outlook\.office\.com|sharepoint\.com|microsoft.com|\.office.com)/,t=new URL(window.location.href);if(!e.test(t.origin))return!1;const n=t.origin.match(e);return!!n&&n[0]},{entries:xp,setPrototypeOf:$p,isFrozen:Sp,getPrototypeOf:Cp,getOwnPropertyDescriptor:kp}=Object;
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:Lp,seal:Ap,create:Ip}=Object,{apply:Op,construct:Dp}="undefined"!=typeof Reflect&&Reflect;Lp||(Lp=function(e){return e}),Ap||(Ap=function(e){return e}),Op||(Op=function(e,t,n){return e.apply(t,n)}),Dp||(Dp=function(e,t){return new e(...t)});const Mp=Zp(Array.prototype.forEach),Rp=Zp(Array.prototype.lastIndexOf),Np=Zp(Array.prototype.pop),Pp=Zp(Array.prototype.push),Up=Zp(Array.prototype.splice),qp=Zp(String.prototype.toLowerCase),Bp=Zp(String.prototype.toString),Fp=Zp(String.prototype.match),Hp=Zp(String.prototype.replace),jp=Zp(String.prototype.indexOf),zp=Zp(String.prototype.trim),Gp=Zp(Object.prototype.hasOwnProperty),Wp=Zp(RegExp.prototype.test),Vp=(Kp=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Dp(Kp,t)});var Kp;function Zp(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return Op(e,t,o)}}function Yp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qp;$p&&$p(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(Sp(t)||(t[o]=e),i=e)}e[i]=!0}return e}function Jp(e){for(let t=0;t<e.length;t++){Gp(e,t)||(e[t]=null)}return e}function Xp(e){const t=Ip(null);for(const[n,o]of xp(e)){Gp(e,n)&&(Array.isArray(o)?t[n]=Jp(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=Xp(o):t[n]=o)}return t}function Qp(e,t){for(;null!==e;){const n=kp(e,t);if(n){if(n.get)return Zp(n.get);if("function"==typeof n.value)return Zp(n.value)}e=Cp(e)}return function(){return null}}const eg=Lp(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tg=Lp(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ng=Lp(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),og=Lp(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ig=Lp(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),rg=Lp(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sg=Lp(["#text"]),ag=Lp(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),lg=Lp(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cg=Lp(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),dg=Lp(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ug=Ap(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pg=Ap(/<%[\w\W]*|[\w\W]*%>/gm),gg=Ap(/\$\{[\w\W]*/gm),mg=Ap(/^data-[\-\w.\u00B7-\uFFFF]+$/),hg=Ap(/^aria-[\-\w]+$/),fg=Ap(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vg=Ap(/^(?:\w+script|data):/i),_g=Ap(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wg=Ap(/^html$/i),bg=Ap(/^[a-z][.\w]*(-[.\w]+)+$/i);var yg=Object.freeze({__proto__:null,ARIA_ATTR:hg,ATTR_WHITESPACE:_g,CUSTOM_ELEMENT:bg,DATA_ATTR:mg,DOCTYPE_NAME:wg,ERB_EXPR:pg,IS_ALLOWED_URI:fg,IS_SCRIPT_OR_DATA:vg,MUSTACHE_EXPR:ug,TMPLIT_EXPR:gg});const Eg=1,Tg=3,xg=7,$g=8,Sg=9,Cg=function(){return"undefined"==typeof window?null:window};var kg=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cg();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==Sg||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const i=o,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:m}=t,h=c.prototype,f=Qp(h,"cloneNode"),v=Qp(h,"remove"),_=Qp(h,"nextSibling"),w=Qp(h,"childNodes"),b=Qp(h,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let y,E="";const{implementation:T,createNodeIterator:x,createDocumentFragment:$,getElementsByTagName:S}=o,{importNode:C}=i;let k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof xp&&"function"==typeof b&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:L,ERB_EXPR:A,TMPLIT_EXPR:I,DATA_ATTR:O,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:N}=yg;let{IS_ALLOWED_URI:P}=yg,U=null;const q=Yp({},[...eg,...tg,...ng,...ig,...sg]);let B=null;const F=Yp({},[...ag,...lg,...cg,...dg]);let H=Object.seal(Ip(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,z=null,G=!0,W=!0,V=!1,K=!0,Z=!1,Y=!0,J=!1,X=!1,Q=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,re=!0,se=!1,ae={},le=null;const ce=Yp({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=Yp({},["audio","video","img","source","image","track"]);let pe=null;const ge=Yp({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml";let ve=fe,_e=!1,we=null;const be=Yp({},[me,he,fe],Bp);let ye=Yp({},["mi","mo","mn","ms","mtext"]),Ee=Yp({},["annotation-xml"]);const Te=Yp({},["title","style","font","a","script"]);let xe=null;const $e=["application/xhtml+xml","text/html"];let Se=null,Ce=null;const ke=o.createElement("form"),Le=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=Xp(e),xe=-1===$e.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Se="application/xhtml+xml"===xe?Bp:qp,U=Gp(e,"ALLOWED_TAGS")?Yp({},e.ALLOWED_TAGS,Se):q,B=Gp(e,"ALLOWED_ATTR")?Yp({},e.ALLOWED_ATTR,Se):F,we=Gp(e,"ALLOWED_NAMESPACES")?Yp({},e.ALLOWED_NAMESPACES,Bp):be,pe=Gp(e,"ADD_URI_SAFE_ATTR")?Yp(Xp(ge),e.ADD_URI_SAFE_ATTR,Se):ge,de=Gp(e,"ADD_DATA_URI_TAGS")?Yp(Xp(ue),e.ADD_DATA_URI_TAGS,Se):ue,le=Gp(e,"FORBID_CONTENTS")?Yp({},e.FORBID_CONTENTS,Se):ce,j=Gp(e,"FORBID_TAGS")?Yp({},e.FORBID_TAGS,Se):{},z=Gp(e,"FORBID_ATTR")?Yp({},e.FORBID_ATTR,Se):{},ae=!!Gp(e,"USE_PROFILES")&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Z=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,re=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||fg,ve=e.NAMESPACE||fe,ye=e.MATHML_TEXT_INTEGRATION_POINTS||ye,Ee=e.HTML_INTEGRATION_POINTS||Ee,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Le(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Le(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(W=!1),te&&(ee=!0),ae&&(U=Yp({},sg),B=[],!0===ae.html&&(Yp(U,eg),Yp(B,ag)),!0===ae.svg&&(Yp(U,tg),Yp(B,lg),Yp(B,dg)),!0===ae.svgFilters&&(Yp(U,ng),Yp(B,lg),Yp(B,dg)),!0===ae.mathMl&&(Yp(U,ig),Yp(B,cg),Yp(B,dg))),e.ADD_TAGS&&(U===q&&(U=Xp(U)),Yp(U,e.ADD_TAGS,Se)),e.ADD_ATTR&&(B===F&&(B=Xp(B)),Yp(B,e.ADD_ATTR,Se)),e.ADD_URI_SAFE_ATTR&&Yp(pe,e.ADD_URI_SAFE_ATTR,Se),e.FORBID_CONTENTS&&(le===ce&&(le=Xp(le)),Yp(le,e.FORBID_CONTENTS,Se)),re&&(U["#text"]=!0),J&&Yp(U,["html","head","body"]),U.table&&(Yp(U,["tbody"]),delete j.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Vp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Vp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,E=y.createHTML("")}else void 0===y&&(y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return null}}(m,r)),null!==y&&"string"==typeof E&&(E=y.createHTML(""));Lp&&Lp(e),Ce=e}},Ie=Yp({},[...tg,...ng,...og]),Oe=Yp({},[...ig,...rg]),De=function(e){Pp(n.removed,{element:e});try{b(e).removeChild(e)}catch(t){v(e)}},Me=function(e,t){try{Pp(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Pp(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{De(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Re=function(e){let t=null,n=null;if(Q)e="<remove></remove>"+e;else{const t=Fp(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===xe&&ve===fe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=y?y.createHTML(e):e;if(ve===fe)try{t=(new g).parseFromString(i,xe)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(ve,"template",null);try{t.documentElement.innerHTML=_e?E:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),ve===fe?S.call(t,J?"html":"body")[0]:J?t.documentElement:r},Ne=function(e){return x.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Pe=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ue=function(e){return"function"==typeof l&&e instanceof l};function qe(e,t,o){Mp(e,(e=>{e.call(n,t,o,Ce)}))}const Be=function(e){let t=null;if(qe(k.beforeSanitizeElements,e,null),Pe(e))return De(e),!0;const o=Se(e.nodeName);if(qe(k.uponSanitizeElement,e,{tagName:o,allowedTags:U}),e.hasChildNodes()&&!Ue(e.firstElementChild)&&Wp(/<[/\w]/g,e.innerHTML)&&Wp(/<[/\w]/g,e.textContent))return De(e),!0;if(e.nodeType===xg)return De(e),!0;if(Y&&e.nodeType===$g&&Wp(/<[/\w]/g,e.data))return De(e),!0;if(!U[o]||j[o]){if(!j[o]&&He(o)){if(H.tagNameCheck instanceof RegExp&&Wp(H.tagNameCheck,o))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(o))return!1}if(re&&!le[o]){const t=b(e)||e.parentNode,n=w(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=f(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,_(e))}}}return De(e),!0}return e instanceof c&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=qp(e.tagName),o=qp(t.tagName);return!!we[e.namespaceURI]&&(e.namespaceURI===he?t.namespaceURI===fe?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===o||ye[o]):Boolean(Ie[n]):e.namespaceURI===me?t.namespaceURI===fe?"math"===n:t.namespaceURI===he?"math"===n&&Ee[o]:Boolean(Oe[n]):e.namespaceURI===fe?!(t.namespaceURI===he&&!Ee[o])&&!(t.namespaceURI===me&&!ye[o])&&!Oe[n]&&(Te[n]||!Ie[n]):!("application/xhtml+xml"!==xe||!we[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Wp(/<\/no(script|embed|frames)/i,e.innerHTML)?(Z&&e.nodeType===Tg&&(t=e.textContent,Mp([L,A,I],(e=>{t=Hp(t,e," ")})),e.textContent!==t&&(Pp(n.removed,{element:e.cloneNode()}),e.textContent=t)),qe(k.afterSanitizeElements,e,null),!1):(De(e),!0)},Fe=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in ke))return!1;if(W&&!z[t]&&Wp(O,t));else if(G&&Wp(D,t));else if(!B[t]||z[t]){if(!(He(e)&&(H.tagNameCheck instanceof RegExp&&Wp(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&Wp(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&Wp(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(pe[t]);else if(Wp(P,Hp(n,R,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==jp(n,"data:")||!de[e]){if(V&&!Wp(M,Hp(n,R,"")));else if(n)return!1}else;return!0},He=function(e){return"annotation-xml"!==e&&Fp(e,N)},je=function(e){qe(k.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Pe(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B,forceKeepAttr:void 0};let i=t.length;for(;i--;){const r=t[i],{name:s,namespaceURI:a,value:l}=r,c=Se(s);let d="value"===s?l:zp(l);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,qe(k.uponSanitizeAttribute,e,o),d=o.attrValue,!ie||"id"!==c&&"name"!==c||(Me(s,e),d="user-content-"+d),Y&&Wp(/((--!?|])>)|<\/(style|title)/i,d)){Me(s,e);continue}if(o.forceKeepAttr)continue;if(Me(s,e),!o.keepAttr)continue;if(!K&&Wp(/\/>/i,d)){Me(s,e);continue}Z&&Mp([L,A,I],(e=>{d=Hp(d,e," ")}));const u=Se(e.nodeName);if(Fe(u,c,d)){if(y&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(a);else switch(m.getAttributeType(u,c)){case"TrustedHTML":d=y.createHTML(d);break;case"TrustedScriptURL":d=y.createScriptURL(d)}try{a?e.setAttributeNS(a,s,d):e.setAttribute(s,d),Pe(e)?De(e):Np(n.removed)}catch(e){}}}qe(k.afterSanitizeAttributes,e,null)},ze=function e(t){let n=null;const o=Ne(t);for(qe(k.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)qe(k.uponSanitizeShadowNode,n,null),Be(n),je(n),n.content instanceof s&&e(n.content);qe(k.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,r=null,a=null,c=null;if(_e=!e,_e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ue(e)){if("function"!=typeof e.toString)throw Vp("toString is not a function");if("string"!=typeof(e=e.toString()))throw Vp("dirty is not a string, aborting")}if(!n.isSupported)return e;if(X||Ae(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Se(e.nodeName);if(!U[t]||j[t])throw Vp("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=Re("\x3c!----\x3e"),r=o.ownerDocument.importNode(e,!0),r.nodeType===Eg&&"BODY"===r.nodeName||"HTML"===r.nodeName?o=r:o.appendChild(r);else{if(!ee&&!Z&&!J&&-1===e.indexOf("<"))return y&&ne?y.createHTML(e):e;if(o=Re(e),!o)return ee?null:ne?E:""}o&&Q&&De(o.firstChild);const d=Ne(se?e:o);for(;a=d.nextNode();)Be(a),je(a),a.content instanceof s&&ze(a.content);if(se)return e;if(ee){if(te)for(c=$.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(B.shadowroot||B.shadowrootmode)&&(c=C.call(i,c,!0)),c}let u=J?o.outerHTML:o.innerHTML;return J&&U["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Wp(wg,o.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+u),Z&&Mp([L,A,I],(e=>{u=Hp(u,e," ")})),y&&ne?y.createHTML(u):u},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),X=!0},n.clearConfig=function(){Ce=null,X=!1},n.isValidAttribute=function(e,t,n){Ce||Ae({});const o=Se(e),i=Se(t);return Fe(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&Pp(k[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Rp(k[e],t);return-1===n?void 0:Up(k[e],n,1)[0]}return Np(k[e])},n.removeHooks=function(e){k[e]=[]},n.removeAllHooks=function(){k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Lg=(e,t={})=>kg.sanitize(e,Object.assign(Object.assign({},{USE_PROFILES:{html:!0}}),t)),Ag=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"docs.google.com"===e.hostname&&"/document/"===e.pathname.slice(0,10)},Ig=()=>{var e;const t=null===(e=document.querySelector(".docs-texteventtarget-iframe"))||void 0===e?void 0:e.contentWindow;return{iFrame:t,editable:t&&t.document.querySelector("[contenteditable=true]")}},Og=()=>{const{iFrame:e,editable:t}=Ig();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},Dg=()=>{const{iFrame:e,editable:t}=Ig();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":Lg(t.innerHTML),text:o?"":t.innerText}},Mg=()=>{var e,t;const n=null===(t=null===(e=document.querySelector("deepl-gdocs-icon"))||void 0===e?void 0:e.shadowRoot)||void 0===t?void 0:t.querySelector(".dl-gdocs-icon");if(!n)return;const o=n.getBoundingClientRect(),i=document.body.parentNode.getBoundingClientRect(),{top:r,left:s,right:a,bottom:l,height:c,width:d}=o;return{x:s-i.left,y:l-i.top,selectedTop:r,selectedBottom:l,selectedRight:i.width-a,selectedLeft:s+window.scrollX,selectedWidth:d,height:c}},Rg=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=120,i=40,r=t.getBoundingClientRect();let s=!1;const a={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);a.left=t.left,a.top=n?n+20:0,a.top+o/2<r.top+10&&(a.top=r.top+10),a.top-o/2>r.bottom&&(s=!0)}catch(e){if(n){const e=n.getBoundingClientRect();a.left=e.right-i/2,a.top=r.top+30}}return a.left+i/2>r.right&&(s=!0),{shouldBeOutOfViewport:s,newPosition:a}},Ng=()=>!!document.querySelector("#docs-toolbar-wrapper"),Pg=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,i=[];let r="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${i.length+1}`;i.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),r+=`<${n}>`}})),r+=t}const s=[],a=r.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:i}=Ug(e);return s.push(i),{isTranslatable:t,index:s.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:s,entities:i,contentReference:a,originalObject:n,originalText:o.dsl_spacers}},Ug=e=>{const{leadingEntities:t,processedLine:n}=qg(e),{trailingEntities:o,processedLine:i}=Bg(n);return{leading:t,trailing:o,processedLine:i}},qg=e=>{let t="",n="",o="",i=!0;for(const r of e){if(i){const e=o[o.length-1];if("<"===r&&0===o.length){o="<";continue}if(">"===r&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===r&&o.length>0&&"<"===e){o+="a";continue}if(r.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=r;continue}if(Fg(r)&&0===o.length){t+=r;continue}i=!1,o=""}n+=r}return{processedLine:n,leadingEntities:t}},Bg=e=>{let t="",n="",o="",i=!0;for(const r of e.split("").reverse()){if(i){if(">"===r&&0===o.length){o=">";continue}if("<"===r&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===r&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(r.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=r+o;continue}if(Fg(r)&&0===o.length){t=r+t;continue}i=!1,o=""}n=r+n}return{processedLine:n,trailingEntities:t}},Fg=e=>[16,17,18,28].includes(e.charCodeAt(0)),Hg=({textLines:e,entities:t,contentReference:n})=>{const o=n.map((t=>t.isTranslatable?`${t.leading}${Array.isArray(e[t.index])?e[t.index].join(""):e[t.index]}${t.trailing}`:t.line)).join("\n").replace(/<\/a(\d+)>/g,"<a$1>");let i="";const r=[];let s=0,a=0;for(;s+a<o.length;){const e=s+a;if("<"===o[e]&&"a"===o[e+1]){let n="<a",i=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(i=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(i=!1,c=!1)}if(i){a+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));r.push(Object.assign(Object.assign({},e),{new_position:s}));continue}}i+=o[e],s++}return{processedText:i,processedEntities:r}},jg=e=>e.replace(/<(\/)?a(\d+)>/g,""),zg=({entities:e,text:t,originalObject:n})=>{const o=Wg({entities:e,text:t,originalObject:n});Vg(o)},Gg=e=>{const t=[];let n="";const o=e.split(/(<a\d+>)/g);let i=0;for(let e=0;e<o.length;e++){const r=o[e];if(!/^<a\d+>$/.test(r)){n+=r;for(let e=0;e<r.length;e++)t.push(i+e)}i+=r.length}return{characterMappings:t,cleanSentence:n}},Wg=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),i=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let i=0;n.forEach((e=>{i=e.new_position>i?e.new_position:i,o[`${e.new_position}`]=e.entity}));const r=[];for(let e=0;e<=i;e++)r.push(o[`${e}`]||null);return Object.assign(Object.assign({},t),{stsl_styles:r})})),r=Object.assign(Object.assign({},o.resolved),{dsl_spacers:t,dsl_styleslices:i}),s=Object.assign(Object.assign({},n),{data:JSON.stringify(Object.assign(Object.assign({},o),{resolved:r}))});return JSON.stringify(s)},Vg=e=>{const{editable:t}=Ig();let n;const o="application/x-vnd.google-docs-document-slice-clip+wrapped";if(Ep())n=new ClipboardEvent("paste",{dataType:o,data:e});else{const t=new DataTransfer;t.setData(o,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)},Kg=(e=100)=>new Promise((t=>setTimeout(t,e))),Zg=()=>{const e="https://docs.google.com";return window.location.href.substr(0,23)===e&&!!document.querySelector("#sketchy-hidden-iframe")},Yg=()=>t(void 0,void 0,void 0,(function*(){const e=[],t=n=>{const o=[],i=[];for(let e=0;e<n.children.length;e++){const t=n.children[e];"text"===t.tagName.toLowerCase()?o.push(t):"g"===t.tagName.toLowerCase()&&i.push(t)}o.length>0&&e.push(o.map((e=>e.textContent)).join(" "));for(const e of i)t(e)},n=em();if(n){t(n);const o=e.join("\n");return yield La(o)}})),Jg=()=>t(void 0,void 0,void 0,(function*(){const e=em(),t=document.querySelector("#canvas-container").getBoundingClientRect();if(e){const n=t.left-2,o=t.top-2,i=t.right+2,r=t.bottom+2,s=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:n,clientY:o});e.dispatchEvent(s);for(let t=1;t<=10;t++){const s=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:n+t/10*(i-n),clientY:o+t/10*(r-o)});e.dispatchEvent(s),yield Kg(25)}const a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:i,clientY:r});e.dispatchEvent(a)}})),Xg=e=>{const t=[],n=[];for(const n of e){const[e,o]=n;if(15===e){const e=n[4];if(""===e.trim())continue;if(t.find((e=>e.id===o)))continue;const i={id:o,originalContent:e,translatedContent:"",sentencesIndexes:[],originalSentences:[],translatedSentences:[],modifiers:[],secondaryModifiers:[],entity:n,orphanModifiers:[],orphanModifiersIntegrityCheck:{}};t.push(i)}else if(17===e){const e=t.find((e=>e.id===o));if(!e)continue;e.modifiers.push(n)}else if(41===e){const e=t.find((e=>e.id===o));if(!e)continue;e.secondaryModifiers.push(n)}}for(let e=0;e<t.length;e++){const o=t[e];o.orphanModifiers=tm(o);const{originalSentences:i,orphanModifiersIntegrityCheck:r}=im(o);o.originalSentences=i,o.orphanModifiersIntegrityCheck=r;for(const e of o.originalSentences)o.sentencesIndexes.push(n.length),n.push(e)}return{entities:t,sentencesToTranslate:n}},Qg=({entity:e,translatedSentences:t,modifiersToDelete:n})=>{e.translatedSentences=e.sentencesIndexes.map((e=>t[e]));const{translatedContent:o,orphanModifiersMappingEquivalences:i}=rm(e);if(e.translatedContent=o,!e.translatedContent||e.translatedContent===e.originalContent)return;e.entity[4]=e.translatedContent;const r=sm(i,e);for(let t=0;t<e.modifiers.length;t++){const o=e.modifiers[t];let i=!1;if(am(o,r)){const{start:e,end:t}=lm(o,r);t<=e?i=!0:(o[3]=e,o[4]=t)}else i=!0;i&&n.push(o)}},em=()=>Array.from(document.querySelectorAll("#pages svg")).find((e=>"none"!==getComputedStyle(e).display)),tm=({originalContent:e,modifiers:t})=>{const n=om(e);return nm(t).filter((e=>!n.includes(e)))},nm=e=>{const t=[];for(const n of e)t.includes(n[3])||t.push(n[3]),t.includes(n[4])||t.push(n[4]);return t},om=e=>{const t=e.split("\n"),n=[0];let o=0;for(const e of t){const t=o+e.length;n.includes(t)||n.push(t),n.includes(t+1)||n.push(t+1),o=t+1}return n},im=({originalContent:e,orphanModifiers:t})=>{let n=0;const o={},i=e.split("\n").map((e=>{let i="";for(let r=0;r<e.length;r++){const s=n+r;if(t.includes(s)){const n=t.indexOf(s);/\s/.test(e[r])&&(o[`${n}`]=e[r]),i+=`<a${n}>`}i+=e[r]}return n+=e.length+1,i}));return{orphanModifiersIntegrityCheck:o,originalSentences:i}},rm=e=>{let t={},n=0;return{translatedContent:e.translatedSentences.map((o=>{const i={};let r=0;const s=o.replace(/<a\d+>/g,((t,s)=>{const a=t.match(/<a(\d+)>/);if(a){const l=a[1],c=t.length,d=e.orphanModifiers[Number(l)];void 0!==d&&(i[`${d}`]=r+n+s-c*Object.keys(i).length);const u=o.charAt(s+c);if(u&&void 0!==e.orphanModifiersIntegrityCheck[`${l}`]&&e.orphanModifiersIntegrityCheck[`${l}`]!==u)return r++,e.orphanModifiersIntegrityCheck[`${l}`]}return""}));return t=Object.assign(Object.assign({},t),i),n+=s.length+1,s})).join("\n"),orphanModifiersMappingEquivalences:t}},sm=(e={},{originalContent:t,translatedContent:n})=>{const o=om(t),i=om(n),r={};for(let e=0;e<o.length;e++)r[`${o[e]}`]=i[e];return Object.assign(Object.assign({},e),r)},am=(e,t)=>{const n=e[3],o=e[4];return void 0!==t[`${n}`]&&void 0!==t[`${o}`]},lm=(e,t)=>{const n=e[3],o=e[4];return{start:t[`${n}`],end:t[`${o}`]}},cm=e=>{const t=new Set;e.forEach(((e,n)=>{""===e.trim()&&t.add(n)}));return{validTranslateableSentences:e.filter((e=>""!==e.trim())),emptyStringIndices:t}},dm=(e,t,n)=>{if(0===e.length)return[];const o=[...t].reverse(),i=[];for(let t=0;t<e.length;t++)n.has(t)?i.push(""):i.push(o.pop());return i},um=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"mail.google.com"===e.hostname};function pm(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const i=t?o.composedPath()[0]:o.target;!e||e.contains(i)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(i,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function gm(e){document.addEventListener("deepl-reset-event",e)}const mm=[...ba].filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),hm=()=>{const e=new Rs(Object.assign(Object.assign({},Va),{transport:Ps,stackParser:Vs,integrations:mm})),t=new jr;return t.setClient(e),t.setContext("appContext",{location:"content"}),(e=>{chrome.storage.sync.get(["installationId","session",Wn.isLoggedIn,Wn.translatorServiceType,Wn.writeServiceType],(function(t){var n;e.setTag("internal_session_id",null===(n=null==t?void 0:t.session)||void 0===n?void 0:n.id),e.setTag("is_translator_pro",Bn(t,xt.TRANSLATOR)),e.setTag("is_write_pro",Bn(t,xt.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>{var n,o,i,r;return(null===(n=null==t?void 0:t.session)||void 0===n?void 0:n.newValue)&&e.setTag("internal_session_id",t.session.newValue.id),(null===(o=null==t?void 0:t.installationId)||void 0===o?void 0:o.newValue)&&e.setUser({id:t.installationId.newValue}),(null==t?void 0:t.browser_instance_id)&&e.setTag("browser_instance_id",t.browserInstanceId.newValue),!0!==(null===(i=t.isLoggedIn)||void 0===i?void 0:i.newValue)&&!1!==(null===(r=t.isLoggedIn)||void 0===r?void 0:r.newValue)||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.local.get([Wn.isLoggedIn],(n=>e.setTag("is_translator_pro",Bn(Object.assign(Object.assign({},n),{translatorServiceType:t.translatorServiceType.newValue}),xt.TRANSLATOR)))),t.writeServiceType&&chrome.storage.local.get([Wn.isLoggedIn],(n=>e.setTag("is_write_pro",Bn(Object.assign(Object.assign({},n),{writeServiceType:t.writeServiceType.newValue}),xt.WRITE)))),!0}))})(t),{client:e,scope:t}};function fm(){}const vm=e=>e;function _m(e){return e()}function wm(){return Object.create(null)}function bm(e){e.forEach(_m)}function ym(e){return"function"==typeof e}function Em(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let Tm;function xm(e,t){return e===t||(Tm||(Tm=document.createElement("a")),Tm.href=t,e===Tm.href)}function $m(e,...t){if(null==e){for(const e of t)e(void 0);return fm}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Sm(e,t,n){e.$$.on_destroy.push($m(t,n))}function Cm(e,t,n,o){if(e){const i=km(e,t,n,o);return e[0](i)}}function km(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function Lm(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function Am(e,t,n,o,i,r){if(i){const s=km(t,n,o,r);e.p(s,i)}}function Im(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Om(e){return null==e?"":e}function Dm(e,t,n){return e.set(n),t}function Mm(e){return e&&ym(e.destroy)?e.destroy:fm}function Rm(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Nm="undefined"!=typeof window;let Pm=Nm?()=>window.performance.now():()=>Date.now(),Um=Nm?e=>requestAnimationFrame(e):fm;const qm=new Set;function Bm(e){qm.forEach((t=>{t.c(e)||(qm.delete(t),t.f())})),0!==qm.size&&Um(Bm)}function Fm(e){let t;return 0===qm.size&&Um(Bm),{promise:new Promise((n=>{qm.add(t={c:e,f:n})})),abort(){qm.delete(t)}}}function Hm(e,t){e.appendChild(t)}function jm(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function zm(e){const t=Km("style");return t.textContent="/* empty */",function(e,t){Hm(e.head||e,t),t.sheet}(jm(e),t),t.sheet}function Gm(e,t,n){e.insertBefore(t,n||null)}function Wm(e){e.parentNode&&e.parentNode.removeChild(e)}function Vm(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Km(e){return document.createElement(e)}function Zm(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ym(e){return document.createTextNode(e)}function Jm(){return Ym(" ")}function Xm(){return Ym("")}function Qm(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function eh(e){return function(t){return t.preventDefault(),e.call(this,t)}}function th(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function nh(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function oh(e,t){t=""+t,e.data!==t&&(e.data=t)}function ih(e,t){e.value=null==t?"":t}function rh(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function sh(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}let ah;function lh(){if(void 0===ah){ah=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){ah=!0}}return ah}function ch(e,t,n){e.classList.toggle(t,!!n)}function dh(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}class uh{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Zm(t.nodeName):this.e=Km(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)Gm(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Wm)}}function ph(e,t){return new e(t)}const gh=new Map;let mh,hh=0;function fh(e,t,n,o,i,r,s,a=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*r(e);c+=100*e+`%{${s(o,1-o)}}\n`}const d=c+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`,p=jm(e),{stylesheet:g,rules:m}=gh.get(p)||function(e,t){const n={stylesheet:zm(t),rules:{}};return gh.set(e,n),n}(p,e);m[u]||(m[u]=!0,g.insertRule(`@keyframes ${u} ${d}`,g.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,hh+=1,u}function vh(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),hh-=i,hh||Um((()=>{hh||(gh.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&Wm(t)})),gh.clear())})))}function _h(e){mh=e}function wh(){if(!mh)throw new Error("Function called outside component initialization");return mh}function bh(e){wh().$$.on_mount.push(e)}function yh(e){wh().$$.on_destroy.push(e)}function Eh(){const e=wh();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=dh(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}function Th(e,t){return wh().$$.context.set(e,t),t}function xh(e){return wh().$$.context.get(e)}function $h(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Sh=[],Ch=[];let kh=[];const Lh=[],Ah=Promise.resolve();let Ih=!1;function Oh(){Ih||(Ih=!0,Ah.then(Uh))}function Dh(e){kh.push(e)}function Mh(e){Lh.push(e)}const Rh=new Set;let Nh,Ph=0;function Uh(){if(0!==Ph)return;const e=mh;do{try{for(;Ph<Sh.length;){const e=Sh[Ph];Ph++,_h(e),qh(e.$$)}}catch(e){throw Sh.length=0,Ph=0,e}for(_h(null),Sh.length=0,Ph=0;Ch.length;)Ch.pop()();for(let e=0;e<kh.length;e+=1){const t=kh[e];Rh.has(t)||(Rh.add(t),t())}kh.length=0}while(Sh.length);for(;Lh.length;)Lh.pop()();Ih=!1,Rh.clear(),_h(e)}function qh(e){if(null!==e.fragment){e.update(),bm(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Dh)}}function Bh(){return Nh||(Nh=Promise.resolve(),Nh.then((()=>{Nh=null}))),Nh}function Fh(e,t,n){e.dispatchEvent(dh(`${t?"intro":"outro"}${n}`))}const Hh=new Set;let jh;function zh(){jh={r:0,c:[],p:jh}}function Gh(){jh.r||bm(jh.c),jh=jh.p}function Wh(e,t){e&&e.i&&(Hh.delete(e),e.i(t))}function Vh(e,t,n,o){if(e&&e.o){if(Hh.has(e))return;Hh.add(e),jh.c.push((()=>{Hh.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const Kh={duration:0};function Zh(e,t,n){const o={direction:"in"};let i,r,s=t(e,n,o),a=!1,l=0;function c(){i&&vh(e,i)}function d(){const{delay:t=0,duration:n=300,easing:o=vm,tick:d=fm,css:u}=s||Kh;u&&(i=fh(e,0,1,n,t,o,u,l++)),d(0,1);const p=Pm()+t,g=p+n;r&&r.abort(),a=!0,Dh((()=>Fh(e,!0,"start"))),r=Fm((t=>{if(a){if(t>=g)return d(1,0),Fh(e,!0,"end"),c(),a=!1;if(t>=p){const e=o((t-p)/n);d(e,1-e)}}return a}))}let u=!1;return{start(){u||(u=!0,vh(e),ym(s)?(s=s(o),Bh().then(d)):d())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function Yh(e,t,n){const o={direction:"out"};let i,r=t(e,n,o),s=!0;const a=jh;let l;function c(){const{delay:t=0,duration:n=300,easing:o=vm,tick:c=fm,css:d}=r||Kh;d&&(i=fh(e,1,0,n,t,o,d));const u=Pm()+t,p=u+n;Dh((()=>Fh(e,!1,"start"))),"inert"in e&&(l=e.inert,e.inert=!0),Fm((t=>{if(s){if(t>=p)return c(0,1),Fh(e,!1,"end"),--a.r||bm(a.c),!1;if(t>=u){const e=o((t-u)/n);c(1-e,e)}}return s}))}return a.r+=1,ym(r)?Bh().then((()=>{r=r(o),c()})):c(),{end(t){t&&"inert"in e&&(e.inert=l),t&&r.tick&&r.tick(1,0),s&&(i&&vh(e,i),s=!1)}}}function Jh(e,t,n,o){let i,r=t(e,n,{direction:"both"}),s=o?0:1,a=null,l=null,c=null;function d(){c&&vh(e,c)}function u(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(t){const{delay:n=0,duration:o=300,easing:p=vm,tick:g=fm,css:m}=r||Kh,h={start:Pm()+n,b:t};t||(h.group=jh,jh.r+=1),"inert"in e&&(t?void 0!==i&&(e.inert=i):(i=e.inert,e.inert=!0)),a||l?l=h:(m&&(d(),c=fh(e,s,t,o,n,p,m)),t&&g(0,1),a=u(h,o),Dh((()=>Fh(e,t,"start"))),Fm((t=>{if(l&&t>l.start&&(a=u(l,o),l=null,Fh(e,a.b,"start"),m&&(d(),c=fh(e,s,a.b,a.duration,0,p,r.css))),a)if(t>=a.end)g(s=a.b,1-s),Fh(e,a.b,"end"),l||(a.b?d():--a.group.r||bm(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;s=a.a+a.d*p(e/a.duration),g(s,1-s)}return!(!a&&!l)})))}return{run(e){ym(r)?Bh().then((()=>{r=r({direction:e?"in":"out"}),p(e)})):p(e)},end(){d(),a=l=null}}}function Xh(e){return void 0!==e?.length?e:Array.from(e)}function Qh(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ef(e){e&&e.c()}function tf(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),Dh((()=>{const t=e.$$.on_mount.map(_m).filter(ym);e.$$.on_destroy?e.$$.on_destroy.push(...t):bm(t),e.$$.on_mount=[]})),i.forEach(Dh)}function nf(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];kh.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),kh=t}(n.after_update),bm(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function of(e,t,n,o,i,r,s=null,a=[-1]){const l=mh;_h(e);const c=e.$$={fragment:null,ctx:[],props:r,update:fm,not_equal:i,bound:wm(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:wm(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),d&&function(e,t){-1===e.$$.dirty[0]&&(Sh.push(e),Oh(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,bm(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(Wm)}else c.fragment&&c.fragment.c();t.intro&&Wh(e.$$.fragment),tf(e,t.target,t.anchor),Uh()}_h(l)}class rf{$$=void 0;$$set=void 0;$destroy(){nf(this,1),this.$destroy=fm}$on(e,t){if(!ym(t))return fm;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sf=[];function af(e,t=fm){let n;const o=new Set;function i(t){if(Em(e,t)&&(e=t,n)){const t=!sf.length;for(const t of o)t[1](),sf.push(t,e);if(t){for(let e=0;e<sf.length;e+=2)sf[e][0](sf[e+1]);sf.length=0}}}function r(t){i(t(e))}return{set:i,update:r,subscribe:function(s,a=fm){const l=[s,a];return o.add(l),1===o.size&&(n=t(i,r)||fm),s(e),()=>{o.delete(l),0===o.size&&n&&(n(),n=null)}}}}function lf(e,t,n){const o=!Array.isArray(e),i=o?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return s=(e,n)=>{let s=!1;const a=[];let l=0,c=fm;const d=()=>{if(l)return;c();const i=t(o?a[0]:a,e,n);r?e(i):c=ym(i)?i:fm},u=i.map(((e,t)=>$m(e,(e=>{a[t]=e,l&=~(1<<t),s&&d()}),(()=>{l|=1<<t}))));return s=!0,d(),function(){bm(u),c(),s=!1}},{subscribe:af(n,s).subscribe};var s}const cf=af(!1);function df(e){const t=e-1;return t*t*t+1}function uf(e,{delay:t=0,duration:n=400,easing:o=vm}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function pf(e,{delay:t=0,duration:n=400,easing:o=df,x:i=0,y:r=0,opacity:s=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-s),[u,p]=Rm(i),[g,m]=Rm(r);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*u}${p}, ${(1-e)*g}${m});\n\t\t\topacity: ${l-d*t}`}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const gf="ITA_RATE_LIMITED",mf="ITA_RATE_LIMITED_RESTRICTED",hf="ITA_WRITE_LANGUAGE_NOT_SUPPORTED",ff="ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",vf="ITA_WRITE_GENERIC_ERROR",_f="ITA_TRANSLATE_GENERIC_ERROR",wf="ITA_TOKEN_EXPIRED",bf="ITA_GEO_BLOCKED";function yf(){return!!chrome&&!!chrome.tabs}function Ef(e){let t,n,o;return{c(){t=Km("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',nh(t,"class","dl-close-icon svelte-nsrzuc")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",(function(){ym(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Wm(t),n=!1,o()}}}function Tf(e){let t,n,o,i,r,s;const a=e[2].default,l=Cm(a,e,e[1],null);let c=e[0]&&Ef(e);return{c(){t=Km("div"),n=Km("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Jm(),i=Km("div"),l&&l.c(),r=Jm(),c&&c.c(),nh(n,"class","icon-container svelte-nsrzuc"),nh(i,"class","message svelte-nsrzuc"),nh(t,"class","error-msg svelte-nsrzuc")},m(e,a){Gm(e,t,a),Hm(t,n),Hm(t,o),Hm(t,i),l&&l.m(i,null),Hm(t,r),c&&c.m(t,null),s=!0},p(e,[n]){l&&l.p&&(!s||2&n)&&Am(l,a,e,e[1],s?Lm(a,e[1],n,null):Im(e[1]),null),e[0]?c?c.p(e,n):(c=Ef(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){s||(Wh(l,e),s=!0)},o(e){Vh(l,e),s=!1},d(e){e&&Wm(t),l&&l.d(e),c&&c.d()}}}function xf(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:r}=t;return e.$$set=e=>{"close"in e&&n(0,r=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[r,i,o]}class $f extends rf{constructor(e){super(),of(this,e,xf,Tf,Em,{close:0})}}function Sf(e){let t,n,o;return{c(){t=Km("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',nh(t,"class","dl-close-icon svelte-kyufep")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",(function(){ym(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Wm(t),n=!1,o()}}}function Cf(e){let t,n,o,i,r,s;const a=e[2].default,l=Cm(a,e,e[1],null);let c=e[0]&&Sf(e);return{c(){t=Km("div"),n=Km("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Jm(),i=Km("div"),l&&l.c(),r=Jm(),c&&c.c(),nh(n,"class","icon-container svelte-kyufep"),nh(i,"class","message svelte-kyufep"),nh(t,"class","warn-msg svelte-kyufep")},m(e,a){Gm(e,t,a),Hm(t,n),Hm(t,o),Hm(t,i),l&&l.m(i,null),Hm(t,r),c&&c.m(t,null),s=!0},p(e,[n]){l&&l.p&&(!s||2&n)&&Am(l,a,e,e[1],s?Lm(a,e[1],n,null):Im(e[1]),null),e[0]?c?c.p(e,n):(c=Sf(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){s||(Wh(l,e),s=!0)},o(e){Vh(l,e),s=!1},d(e){e&&Wm(t),l&&l.d(e),c&&c.d()}}}function kf(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:r}=t;return e.$$set=e=>{"close"in e&&n(0,r=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[r,i,o]}class Lf extends rf{constructor(e){super(),of(this,e,kf,Cf,Em,{close:0})}}function Af(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,nh(t,"data-qa","error-message-generic")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function If(e){return[]}class Of extends rf{constructor(e){super(),of(this,e,If,Af,Em,{})}}function Df(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_write_error")}`,nh(t,"data-qa","error-message-generic")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Mf(e){return[]}class Rf extends rf{constructor(e){super(),of(this,e,Mf,Df,Em,{})}}function Nf(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Pf(e){return[]}class Uf extends rf{constructor(e){super(),of(this,e,Pf,Nf,Em,{})}}function qf(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Bf(e){return[]}class Ff extends rf{constructor(e){super(),of(this,e,Bf,qf,Em,{})}}function Hf(e){let t,n,o,i,r,s;return{c(){t=Km("div"),n=Km("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=Jm(),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,nh(i,"class","link svelte-1mpkjv7"),nh(t,"class","container svelte-1mpkjv7")},m(a,l){Gm(a,t,l),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=Qm(i,"click",e[0]),r=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),r=!1,s()}}}function jf(e){return[function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"warning_user_unauthorised"}})}]}class zf extends rf{constructor(e){super(),of(this,e,jf,Hf,Em,{})}}function Gf(e){let t,n,o,i,r,s;return{c(){t=Km("div"),n=Km("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=Jm(),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,nh(i,"class","link svelte-1mpkjv7"),nh(t,"class","container svelte-1mpkjv7")},m(a,l){Gm(a,t,l),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=Qm(i,"click",e[0]),r=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),r=!1,s()}}}function Wf(e){return[function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"warning_user_blocked"}})}]}class Vf extends rf{constructor(e){super(),of(this,e,Wf,Gf,Em,{})}}function Kf(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Zf(e){return[]}class Yf extends rf{constructor(e){super(),of(this,e,Zf,Kf,Em,{})}}function Jf(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)}function Xf(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function Qf(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[r,s]=Xf(e,t,o);if("end"===r&&(i=!0),o<s&&n.push({block:"main",text:e.substring(o,s)}),i)break;const a=e.indexOf(`</${r}>`,s);-1===a?(n.push({block:r,text:e.substring(s+`<${r}>`.length)}),i=!0):(n.push({block:r,text:e.substring(s+`<${r}>`.length,a)}),o=a+`</${r}>`.length)}return n}const ev=e=>{let t="";for(const n of e.childNodes)n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&"none"!==n.style.display&&(t+=ev(n));return t};function tv(e,t,n){const o=e.slice();return o[1]=t[n],o}function nv(e){let t,n=e[1].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function ov(e){let t,n,o;return{c(){t=Km("span"),t.textContent=`${e[1].text} `,nh(t,"class","link svelte-1mpkjv7")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[0]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function iv(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?ov:nv}(e),o=n(e);return{c(){o.c(),t=Xm()},m(e,n){o.m(e,n),Gm(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Wm(t),o.d(e)}}}function rv(e){let t,n=Xh(Qf(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=iv(tv(e,n,t));return{c(){t=Km("div");for(let e=0;e<o.length;e+=1)o[e].c();nh(t,"class","container svelte-1mpkjv7")},m(e,n){Gm(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,[i]){if(1&i){let r;for(n=Xh(Qf(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),r=0;r<n.length;r+=1){const s=tv(e,n,r);o[r]?o[r].p(s,i):(o[r]=iv(s),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},i:fm,o:fm,d(e){e&&Wm(t),Vm(o,e)}}}function sv(e){return[function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:_o}})}]}class av extends rf{constructor(e){super(),of(this,e,sv,rv,Em,{})}}function lv(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function cv(e){return[]}class dv extends rf{constructor(e){super(),of(this,e,cv,lv,Em,{})}}function uv(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function pv(e){return[]}class gv extends rf{constructor(e){super(),of(this,e,pv,uv,Em,{})}}function mv(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function hv(e){return[]}class fv extends rf{constructor(e){super(),of(this,e,hv,mv,Em,{})}}function vv(e,t,n){const o=e.slice();return o[5]=t[n],o}function _v(e){let t,n=e[5].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p(e,o){4&o&&n!==(n=e[5].text+"")&&oh(t,n)},d(e){e&&Wm(t)}}}function wv(e){let t,n,o=e[5].text+"";return{c(){t=Km("strong"),n=Ym(o)},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){4&t&&o!==(o=e[5].text+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function bv(e){let t;function n(e,t){return"strong"===e[5].block?wv:_v}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function yv(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M4 12L12 4M4 4L12 12"),nh(n,"stroke","white"),nh(n,"stroke-width","1.5"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"class","svelte-1mvy8b2")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Wm(t),o=!1,i()}}}function Ev(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m=Xh(Qf(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),h=[];for(let t=0;t<m.length;t+=1)h[t]=bv(vv(e,m,t));let f=e[1]&&yv(e);return{c(){t=Km("div"),n=Km("div"),o=Km("h1"),o.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,i=Jm(),r=Km("p");for(let e=0;e<h.length;e+=1)h[e].c();s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,c=Jm(),d=Km("button"),d.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,u=Jm(),f&&f.c(),nh(o,"class","svelte-1mvy8b2"),nh(r,"class","description svelte-1mvy8b2"),nh(n,"class","messages svelte-1mvy8b2"),ch(n,"small",e[0].small),nh(l,"class","log-in svelte-1mvy8b2"),nh(d,"class","sign-up svelte-1mvy8b2"),nh(a,"class","actions svelte-1mvy8b2"),ch(a,"small",e[0].small),nh(t,"class","container svelte-1mvy8b2"),nh(t,"data-testid","error-message-anonymous-limit-exceeded"),ch(t,"small",e[0].small)},m(m,v){Gm(m,t,v),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(r,null);Hm(t,s),Hm(t,a),Hm(a,l),Hm(a,c),Hm(a,d),Hm(t,u),f&&f.m(t,null),p||(g=[Qm(l,"click",e[3]),Qm(d,"click",e[4])],p=!0)},p(e,[o]){if(4&o){let t;for(m=Xh(Qf(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),t=0;t<m.length;t+=1){const n=vv(e,m,t);h[t]?h[t].p(n,o):(h[t]=bv(n),h[t].c(),h[t].m(r,null))}for(;t<h.length;t+=1)h[t].d(1);h.length=m.length}1&o&&ch(n,"small",e[0].small),1&o&&ch(a,"small",e[0].small),e[1]?f?f.p(e,o):(f=yv(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),1&o&&ch(t,"small",e[0].small)},i:fm,o:fm,d(e){e&&Wm(t),Vm(h,e),f&&f.d(),p=!1,bm(g)}}}function Tv(e,t,n){let{config:o}=t,{close:i}=t,r="";return bh((()=>{Rn({action:yn.dlGetUsersCharacterLimit}).then((e=>n(2,r=e.toString()))),Rn({action:Ln.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Ft}})})),yh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationClosed,payload:{type:Ft}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,r,function(){Rn({action:yn.dlRequestLogin}).then((()=>{})).catch((e=>{})),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:Ft,cta:Wt}})},function(){Rn({action:yn.dlRequestSignUp}),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:Ft,cta:Vt}})}]}class xv extends rf{constructor(e){super(),of(this,e,Tv,Ev,Em,{config:0,close:1})}}function $v(e,t,n){const o=e.slice();return o[4]=t[n],o}function Sv(e){let t,n=e[4].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p(e,o){4&o&&n!==(n=e[4].text+"")&&oh(t,n)},d(e){e&&Wm(t)}}}function Cv(e){let t,n,o=e[4].text+"";return{c(){t=Km("strong"),n=Ym(o)},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){4&t&&o!==(o=e[4].text+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function kv(e){let t;function n(e,t){return"strong"===e[4].block?Cv:Sv}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function Lv(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M4 12L12 4M4 4L12 12"),nh(n,"stroke","white"),nh(n,"stroke-width","1.5"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"class","svelte-1i5r4eu")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Wm(t),o=!1,i()}}}function Av(e){let t,n,o,i,r,s,a,l,c,d,u,p=Xh(Qf(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),g=[];for(let t=0;t<p.length;t+=1)g[t]=kv($v(e,p,t));let m=e[1]&&Lv(e);return{c(){t=Km("div"),n=Km("div"),o=Km("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=Jm(),r=Km("p");for(let e=0;e<g.length;e+=1)g[e].c();s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,c=Jm(),m&&m.c(),nh(o,"class","svelte-1i5r4eu"),nh(r,"class","description svelte-1i5r4eu"),nh(n,"class","messages svelte-1i5r4eu"),ch(n,"small",e[0].small),nh(l,"class","sign-up svelte-1i5r4eu"),nh(a,"class","actions svelte-1i5r4eu"),ch(a,"small",e[0].small),nh(t,"class","container svelte-1i5r4eu"),nh(t,"data-testid","error-message-limit-exceeded-free-account"),ch(t,"small",e[0].small)},m(p,h){Gm(p,t,h),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(r,null);Hm(t,s),Hm(t,a),Hm(a,l),Hm(t,c),m&&m.m(t,null),d||(u=Qm(l,"click",e[3]),d=!0)},p(e,[o]){if(4&o){let t;for(p=Xh(Qf(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),t=0;t<p.length;t+=1){const n=$v(e,p,t);g[t]?g[t].p(n,o):(g[t]=kv(n),g[t].c(),g[t].m(r,null))}for(;t<g.length;t+=1)g[t].d(1);g.length=p.length}1&o&&ch(n,"small",e[0].small),1&o&&ch(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=Lv(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&ch(t,"small",e[0].small)},i:fm,o:fm,d(e){e&&Wm(t),Vm(g,e),m&&m.d(),d=!1,u()}}}function Iv(e,t,n){let{config:o}=t,{close:i}=t,r="";return bh((()=>{Rn({action:yn.dlGetUsersCharacterLimit}).then((e=>n(2,r=e.toString()))),Rn({action:Ln.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Ht}})})),yh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationClosed,payload:{type:Ht}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,r,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"notification_free_account_limit_exceeded"}}),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:Ht,cta:Gt}})}]}class Ov extends rf{constructor(e){super(),of(this,e,Iv,Av,Em,{config:0,close:1})}}function Dv(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M4 12L12 4M4 4L12 12"),nh(n,"stroke","white"),nh(n,"stroke-width","1.5"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"class","svelte-1uko7yn")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Wm(t),o=!1,i()}}}function Mv(e){let t,n,o,i,r,s,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",g=e[1]&&Dv(e);return{c(){t=Km("div"),n=Km("div"),o=Km("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=Jm(),r=Km("p"),s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,c=Jm(),g&&g.c(),nh(o,"class","svelte-1uko7yn"),nh(r,"class","description svelte-1uko7yn"),nh(n,"class","messages small svelte-1uko7yn"),ch(n,"small",e[0].small),nh(l,"class","sign-up svelte-1uko7yn"),nh(a,"class","actions svelte-1uko7yn"),ch(a,"small",e[0].small),nh(t,"class","container svelte-1uko7yn"),nh(t,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),ch(t,"small",e[0].small)},m(m,h){Gm(m,t,h),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),r.innerHTML=p,Hm(t,s),Hm(t,a),Hm(a,l),Hm(t,c),g&&g.m(t,null),d||(u=Qm(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&ch(n,"small",e[0].small),1&o&&ch(a,"small",e[0].small),e[1]?g?g.p(e,o):(g=Dv(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),1&o&&ch(t,"small",e[0].small)},i:fm,o:fm,d(e){e&&Wm(t),g&&g.d(),d=!1,u()}}}function Rv(e,t,n){let{config:o}=t,{close:i}=t;return bh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationIsDisplayed,payload:{type:Ht}})})),yh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationClosed,payload:{type:Ht}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:Ht,cta:Gt}})}]}class Nv extends rf{constructor(e){super(),of(this,e,Rv,Mv,Em,{config:0,close:1})}}const Pv=function(){const{subscribe:e,set:t,update:n}=af({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",Wn.translatorServiceType,Wn.writeServiceType,Wn.apiServiceType,Wn.docTranslatorServiceType,Zn,Vn.canCreateGlossary,Vn.hasTermbaseService,Kn,Jn,Yn,"featureSet"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))})),chrome.storage.managed.get(Ul).then((e=>{const t=Object.fromEntries(Object.entries(e).filter((([e])=>!ql.includes(e))));n((e=>Object.assign(Object.assign({},e),t)))})).catch((()=>{}))})),chrome.storage.onChanged.addListener(((e,t)=>{const o=[Wn.accessToken,Wn.refreshToken,Wn.idToken,Wn.accountId,Wn.organizationId],i={};if("sync"===t)for(const[t,n]of Object.entries(e))!1===o.includes(t)&&"translationLanguages"!==t&&(i[t]=n.newValue);if("local"===t)for(const[t,n]of Object.entries(e))!1===o.includes(t)&&(i[t]=n.newValue);if("managed"===t)for(const[t,n]of Object.entries(e))Ul.includes(t)&&!1===ql.includes(t)&&(i[t]=n.newValue);if(Object.keys(i).length>0){if(ja()){}n((e=>Object.assign(Object.assign({},e),i)))}return!0})),{subscribe:e,set:e=>{e.translationLanguages=void 0,chrome.storage.sync.set(e)}}}(),Uv=function(){const{subscribe:e,update:t}=af({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case On.newWebsiteState:return e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})}))),!1;case On.resetWebsiteState:return e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)}))),!1}return!1})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:bc.uiActions.dlGetWebsiteData},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}();lf(Uv,((e,t,n)=>{if(!chrome.tabs)return;chrome.tabs.query({active:!0,currentWindow:!0}).then((n=>t(e[n[0].id])))}));const qv=function(){const{subscribe:e,set:t}=af([]);return Rn({action:An.dlGetExperiments,payload:{forceFetch:!1}}).then(t),chrome.runtime.onMessage.addListener((function(e){return"dlExperimentsUpdated"===e.action&&(e.payload&&t(e.payload.experiments),!1)})),{subscribe:e}}(),Bv=lf(Pv,(e=>{var t;return(null==e?void 0:e.translationLanguages)&&(null===(t=null==e?void 0:e.translationLanguages)||void 0===t?void 0:t.length)>0?e.translationLanguages:i}));function Fv(e){let t,n,o;return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,nh(t,"class","log-in svelte-1tmoo4x")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[4]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function Hv(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M4 12L12 4M4 4L12 12"),nh(n,"stroke","white"),nh(n,"stroke-width","1.5"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"class","svelte-1tmoo4x")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Wm(t),o=!1,i()}}}function jv(e){let t,n,o,i,r,s,a,l,c,d,u,p,g=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",m=!e[2]&&Fv(e),h=e[1]&&Hv(e);return{c(){t=Km("div"),n=Km("div"),o=Km("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=Jm(),r=Km("p"),s=Jm(),a=Km("div"),m&&m.c(),l=Jm(),c=Km("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=Jm(),h&&h.c(),nh(o,"class","svelte-1tmoo4x"),nh(r,"class","description svelte-1tmoo4x"),nh(n,"class","messages svelte-1tmoo4x"),ch(n,"small",e[0].small),nh(c,"class","sign-up svelte-1tmoo4x"),nh(a,"class","actions svelte-1tmoo4x"),ch(a,"small",e[0].small),nh(t,"class","container svelte-1tmoo4x"),nh(t,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),ch(t,"small",e[0].small)},m(f,v){Gm(f,t,v),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),r.innerHTML=g,Hm(t,s),Hm(t,a),m&&m.m(a,null),Hm(a,l),Hm(a,c),Hm(t,d),h&&h.m(t,null),u||(p=Qm(c,"click",e[3]),u=!0)},p(e,[o]){1&o&&ch(n,"small",e[0].small),e[2]?m&&(m.d(1),m=null):m?m.p(e,o):(m=Fv(e),m.c(),m.m(a,l)),1&o&&ch(a,"small",e[0].small),e[1]?h?h.p(e,o):(h=Hv(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&ch(t,"small",e[0].small)},i:fm,o:fm,d(e){e&&Wm(t),m&&m.d(),h&&h.d(),u=!1,p()}}}function zv(e,t,n){let o,i;Sm(e,Pv,(e=>n(5,i=e)));let{config:r}=t,{close:s}=t;return bh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationIsDisplayed,payload:{type:o?zt:jt}})})),yh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationClosed,payload:{type:o?zt:jt}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,s=e.close)},e.$$.update=()=>{32&e.$$.dirty&&n(2,o=zn(i))},[r,s,o,function(){let e="notification_free_account_limit_exceeded_write";if(r&&r.nicheIntegration)switch(r.nicheIntegration){case at.gmail:e="gmail_customization_write";break;case at.gslides:e="gslides_customization_write"}Rn({action:On.dlExternalURLRedirect,payload:{destination:co,utmContent:e}}),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:o?zt:jt,cta:Gt}})},function(){Rn({action:yn.dlRequestLogin}).then((()=>{})).catch((e=>{})),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:o?zt:jt,cta:Wt}})},i]}class Gv extends rf{constructor(e){super(),of(this,e,zv,jv,Em,{config:0,close:1})}}function Wv(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M4 12L12 4M4 4L12 12"),nh(n,"stroke","white"),nh(n,"stroke-width","1.5"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"class","svelte-1i5r4eu")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Wm(t),o=!1,i()}}}function Vv(e){let t,n,o,i,r,s,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=e[1]&&Wv(e);return{c(){t=Km("div"),n=Km("div"),o=Km("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=Jm(),r=Km("p"),s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,c=Jm(),g&&g.c(),nh(o,"class","svelte-1i5r4eu"),nh(r,"class","description svelte-1i5r4eu"),nh(n,"class","messages svelte-1i5r4eu"),ch(n,"small",e[0].small),nh(l,"class","sign-up svelte-1i5r4eu"),nh(a,"class","actions svelte-1i5r4eu"),ch(a,"small",e[0].small),nh(t,"class","container svelte-1i5r4eu"),nh(t,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),ch(t,"small",e[0].small)},m(m,h){Gm(m,t,h),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),r.innerHTML=p,Hm(t,s),Hm(t,a),Hm(a,l),Hm(t,c),g&&g.m(t,null),d||(u=Qm(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&ch(n,"small",e[0].small),1&o&&ch(a,"small",e[0].small),e[1]?g?g.p(e,o):(g=Wv(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),1&o&&ch(t,"small",e[0].small)},i:fm,o:fm,d(e){e&&Wm(t),g&&g.d(),d=!1,u()}}}function Kv(e,t,n){let o,i;Sm(e,Pv,(e=>n(3,i=e)));let{config:r}=t,{close:s}=t;return bh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationIsDisplayed,payload:{type:o?zt:jt}})})),yh((()=>{Rn({action:Ln.dlTrackUpgradeNotificationClosed,payload:{type:o?zt:jt}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,s=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(o=zn(i))},[r,s,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(r&&r.nicheIntegration)switch(r.nicheIntegration){case at.gmail:e="gmail_customization_write";break;case at.gslides:e="gslides_customization_write"}Rn({action:On.dlExternalURLRedirect,payload:{destination:co,utmContent:e}}),Rn({action:Ln.dlTrackUpgradeNotificationAction,payload:{type:o?zt:jt,cta:Gt}})},i]}class Zv extends rf{constructor(e){super(),of(this,e,Kv,Vv,Em,{config:0,close:1})}}function Yv(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("write_language_not_supported")}`,nh(t,"data-qa","error-message-write-language-not-supported")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Jv(e){return[]}class Xv extends rf{constructor(e){super(),of(this,e,Jv,Yv,Em,{})}}function Qv(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("translate_language_not_supported")}`,nh(t,"data-qa","error-message-translate-language-not-supported")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function e_(e){return[]}class t_ extends rf{constructor(e){super(),of(this,e,e_,Qv,Em,{})}}function n_(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M4 12L12 4M4 4L12 12"),nh(n,"stroke","white"),nh(n,"stroke-width","1.5"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"class","svelte-1mvy8b2")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Wm(t),o=!1,i()}}}function o_(e){let t,n,o,i,r,s,a,l,c,d,u,p=e[1]&&n_(e);return{c(){t=Km("div"),n=Km("div"),o=Km("h1"),o.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,i=Jm(),r=Km("p"),r.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_login_cta")}`,c=Jm(),p&&p.c(),nh(o,"class","svelte-1mvy8b2"),nh(r,"class","description svelte-1mvy8b2"),nh(n,"class","messages svelte-1mvy8b2"),ch(n,"small",e[0].small),nh(l,"class","sign-up svelte-1mvy8b2"),nh(a,"class","actions svelte-1mvy8b2"),ch(a,"small",e[0].small),nh(t,"class","container svelte-1mvy8b2"),nh(t,"data-testid","error-message-policy-login-required"),ch(t,"small",e[0].small)},m(g,m){Gm(g,t,m),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),Hm(t,s),Hm(t,a),Hm(a,l),Hm(t,c),p&&p.m(t,null),d||(u=Qm(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&ch(n,"small",e[0].small),1&o&&ch(a,"small",e[0].small),e[1]?p?p.p(e,o):(p=n_(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),1&o&&ch(t,"small",e[0].small)},i:fm,o:fm,d(e){e&&Wm(t),p&&p.d(),d=!1,u()}}}function i_(e,t,n){let{config:o}=t,{close:i}=t;return bh((()=>{Rn({action:Ln.dlTrackPolicyLoginRequiredNotification,payload:{notificationType:V}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,function(){Rn({action:yn.dlRequestLogin}).then((()=>{})).catch((e=>{}))}]}class r_ extends rf{constructor(e){super(),of(this,e,i_,o_,Em,{config:0,close:1})}}function s_(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_text_not_recognized_error")}`,nh(t,"data-qa","error-message-generic")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function a_(e){return[]}class l_ extends rf{constructor(e){super(),of(this,e,a_,s_,Em,{})}}function c_(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("error_message_rate_limiting")}`},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function d_(e){return[]}class u_ extends rf{constructor(e){super(),of(this,e,d_,c_,Em,{})}}function p_(e){let t,n,o,i,r,s,a,l,c,d,u,p;return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Km("div"),i.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_13095_271)"><path d="M9.99966 0.916504C15.0161 0.916504 19.0835 4.98307 19.0836 9.99951C19.0836 15.0161 15.0163 19.0835 9.99966 19.0835C4.98323 19.0833 0.916656 15.016 0.916656 9.99951C0.916832 4.98318 4.98334 0.91668 9.99966 0.916504ZM9.99966 2.4165C5.81176 2.41668 2.41683 5.81161 2.41666 9.99951C2.41666 14.1876 5.81165 17.5833 9.99966 17.5835C14.1878 17.5835 17.5836 14.1877 17.5836 9.99951C17.5835 5.8115 14.1877 2.4165 9.99966 2.4165ZM10.0085 12.3335C10.5607 12.3336 11.0085 12.7813 11.0085 13.3335C11.0083 13.8856 10.5606 14.3334 10.0085 14.3335H9.99966C9.44765 14.3333 8.99986 13.8855 8.99966 13.3335C8.99966 12.7813 9.44753 12.3337 9.99966 12.3335H10.0085ZM9.99966 5.9165C10.4139 5.9165 10.7497 6.25229 10.7497 6.6665V9.99951C10.7497 10.4137 10.4139 10.7495 9.99966 10.7495C9.5856 10.7493 9.24966 10.4136 9.24966 9.99951V6.6665C9.24966 6.2524 9.5856 5.91668 9.99966 5.9165Z" fill="#C34331"></path></g><defs><clipPath id="clip0_13095_271"><rect width="20" height="20" rx="10" fill="white"></rect></clipPath></defs></svg>',r=Jm(),s=Km("div"),a=Km("span"),a.textContent=`${chrome.i18n.getMessage("geo_block_message")}`,l=Jm(),c=Km("div"),d=Km("button"),d.textContent=`${chrome.i18n.getMessage("geo_block_cta")}`,nh(i,"class","icon-container svelte-s4seg4"),nh(a,"data-qa","error-message-geo-blocked"),nh(s,"class","message svelte-s4seg4"),nh(o,"class","content-row svelte-s4seg4"),nh(d,"class","learn-why-link svelte-s4seg4"),nh(c,"class","learn-why-container svelte-s4seg4"),nh(n,"class","geo-blocked-error svelte-s4seg4"),nh(t,"class","geo-blocked-wrapper svelte-s4seg4")},m(g,m){Gm(g,t,m),Hm(t,n),Hm(n,o),Hm(o,i),Hm(o,r),Hm(o,s),Hm(s,a),Hm(n,l),Hm(n,c),Hm(c,d),u||(p=Qm(d,"click",e[0]),u=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),u=!1,p()}}}function g_(e,t,n){return[function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:bo}})},{}]}class m_ extends rf{constructor(e){super(),of(this,e,g_,p_,Em,{config:1})}get config(){return this.$$.ctx[1]}}function h_(e){let t,n,o;var i=e[2];function r(e,t){return{props:{config:e[1],close:e[0]}}}return i&&(t=ph(i,r(e))),{c(){t&&ef(t.$$.fragment),n=Xm()},m(e,i){t&&tf(t,e,i),Gm(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){zh();const e=t;Vh(e.$$.fragment,1,0,(()=>{nf(e,1)})),Gh()}i?(t=ph(i,r(e)),ef(t.$$.fragment),Wh(t.$$.fragment,1),tf(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),1&o&&(n.close=e[0]),t.$set(n)}},i(e){o||(t&&Wh(t.$$.fragment,e),o=!0)},o(e){t&&Vh(t.$$.fragment,e),o=!1},d(e){e&&Wm(n),t&&nf(t,e)}}}function f_(e){let t,n;return t=new Lf({props:{close:e[0],$$slots:{default:[__]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),518&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function v_(e){let t,n;return t=new $f({props:{close:e[0],$$slots:{default:[w_]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),518&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function __(e){let t,n,o;var i=e[2];function r(e,t){return{props:{config:e[1]}}}return i&&(t=ph(i,r(e))),{c(){t&&ef(t.$$.fragment),n=Xm()},m(e,i){t&&tf(t,e,i),Gm(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){zh();const e=t;Vh(e.$$.fragment,1,0,(()=>{nf(e,1)})),Gh()}i?(t=ph(i,r(e)),ef(t.$$.fragment),Wh(t.$$.fragment,1),tf(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&Wh(t.$$.fragment,e),o=!0)},o(e){t&&Vh(t.$$.fragment,e),o=!1},d(e){e&&Wm(n),t&&nf(t,e)}}}function w_(e){let t,n,o;var i=e[2];function r(e,t){return{props:{config:e[1]}}}return i&&(t=ph(i,r(e))),{c(){t&&ef(t.$$.fragment),n=Xm()},m(e,i){t&&tf(t,e,i),Gm(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){zh();const e=t;Vh(e.$$.fragment,1,0,(()=>{nf(e,1)})),Gh()}i?(t=ph(i,r(e)),ef(t.$$.fragment),Wh(t.$$.fragment,1),tf(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&Wh(t.$$.fragment,e),o=!0)},o(e){t&&Vh(t.$$.fragment,e),o=!1},d(e){e&&Wm(n),t&&nf(t,e)}}}function b_(e){let t,n,o,i;const r=[v_,f_,h_],s=[];function a(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=a(e))&&(n=s[t]=r[t](e)),{c(){n&&n.c(),o=Xm()},m(e,n){~t&&s[t].m(e,n),Gm(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?~t&&s[t].p(e,i):(n&&(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh()),~t?(n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),~t&&s[t].d(e)}}}function y_(e,t,n){let o,i,r,{error:s}=t,{close:a}=t,{config:l={}}=t;const c={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},d={[Xa]:Of,[Qa]:Uf,[el]:Ff,[ol]:Yf,[Gl]:gv,[Vl]:gv,[Wl]:gv,[Kl]:gv,[nl]:Vf,[rl]:Vf,[ll]:fv,[tl]:zf,[il]:av,[al]:dv,[cl]:Ov,[dl]:xv,[ul]:Nv,[pl]:Gv,[gl]:Zv,[yc]:Of,[Ec]:Uf,[Tc]:Ff,[Sc]:zf,[$c]:Vf,[Lc]:Vf,[xc]:zf,[kc]:av,[Cc]:Yf,[gf]:u_,[mf]:u_,[hf]:Xv,[ff]:t_,[_f]:Of,[vf]:Rf,[wf]:gv,[ml]:r_,[Ya]:l_,[bf]:m_,[Ja]:m_};return bh((()=>{yf()?Pn({action:bc.uiActions.dlErrorVisibility,payload:{state:!0}}):cf.set(!0)})),yh((()=>{yf()?Pn({action:bc.uiActions.dlErrorVisibility,payload:{state:!1}}):cf.set(!1)})),e.$$set=e=>{"error"in e&&n(5,s=e.error),"close"in e&&n(0,a=e.close),"config"in e&&n(1,l=e.config)},e.$$.update=()=>{96&e.$$.dirty&&(n(6,i=s?s.error||s.name||s.toString():""),n(3,r=function(e){switch(e){case Xa:case Qa:case el:case ol:case yc:case Ec:case Tc:case Sc:case Gl:case Vl:case Wl:case Kl:case al:case _f:case vf:case Za:return c.SERIOUS;case nl:case rl:case $c:case Lc:case ll:case tl:case il:case xc:case kc:case gf:case mf:case hf:case ff:return c.WARNING;case bf:case Ja:case cl:case dl:case pl:case gl:case ul:case ml:return c.CUSTOM;default:return c.UNKNOWN}}(i)),n(2,o=i&&d[i]||Of))},[a,l,o,r,c,s,i]}class E_ extends rf{constructor(e){super(),of(this,e,y_,b_,Em,{error:5,close:0,config:1})}}function T_(e){let t,n,o,i,r;return n=new E_({props:{error:e[1],close:e[2]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","container svelte-1wstx56"),nh(t,"dir",Pa())},m(e,o){Gm(e,t,o),tf(n,t,null),r=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){r||(Wh(n.$$.fragment,e),Dh((()=>{r&&(i&&i.end(1),o=Zh(t,pf,{x:100,duration:1e3}),o.start())})),r=!0)},o(e){Vh(n.$$.fragment,e),o&&o.invalidate(),i=Yh(t,pf,{x:100,duration:1e3}),r=!1},d(e){e&&Wm(t),nf(n),e&&i&&i.end()}}}function x_(e){let t,n,o=e[3]&&!1===e[0]&&T_(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&Wh(o,1)):(o=T_(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function $_(e,t,n){let o;Sm(e,cf,(e=>n(4,o=e))),Th("text_direction",Pa());let{error:i}=t,{close:r}=t,{errorAlreadyShown:s}=t,a=!1;return bh((()=>{setTimeout((()=>{n(3,a=!0),n(0,s=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,i=e.error),"close"in e&&n(2,r=e.close),"errorAlreadyShown"in e&&n(0,s=e.errorAlreadyShown)},[s,i,r,a]}class S_ extends rf{constructor(e){super(),of(this,e,$_,x_,Em,{error:1,close:2,errorAlreadyShown:0})}}class C_{constructor(e){this.createDOM=e=>{const t="rtl"===Pa()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${U.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new S_({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function k_(e){try{const t=C_.createElement();document.documentElement.appendChild(t),t.createDOM(e),gm((()=>t.cleanupDOM))}catch(e){ja()}}C_.HTML_TAG_NAME="deepl-alert",C_.createElement=(e=document)=>{const t=e.createElement(C_.HTML_TAG_NAME),n=new C_(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const L_=function(){let e={isDarkMode:fp(),fptTranslationState:g.none};const{subscribe:t,update:n}=af(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>Object.assign(Object.assign({},e),{isDarkMode:fp()})))})),{subscribe:t,update:e=>{if(ja()&&!{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.DISABLE_DEBUG_LOGS){}n((t=>((null==e?void 0:e.error)?k_(e.error):cf.set(!1),Object.assign(Object.assign(Object.assign({},t),e),{error:e.error?e.error:void 0}))))}}}();e.websiteData=void 0;const A_=["translatedDOM"],I_=L_.subscribe((t=>{if(e.websiteData=Object.assign({},t),!t)return;const n=Object.assign({},t);for(const e of A_)delete n[e];Object.keys(n).length>0&&Rn({action:On.newWebsiteState,payload:n}).catch((e=>{ja()}))}));function O_(){return!0}function D_(){return!0}function M_(e){var t;const n=e.getSelection();if(null==n?void 0:n.toString())return n.toString();if(n){const e=n.anchorNode;if(e){const n=e.selectionStart,o=e.selectionEnd;if(null!==n&&null!==o)return null===(t=e.value)||void 0===t?void 0:t.substring(n,o)}}}const R_=e=>e,N_=(e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}};function P_(e){let t,n,o,i,r,s,a,l;return{c(){t=Km("div"),n=Km("div"),o=Zm("svg"),i=Zm("path"),r=Jm(),s=Km("input"),nh(i,"fill-rule","evenodd"),nh(i,"clip-rule","evenodd"),nh(i,"d","M9.16667 3.125C5.82995 3.125 3.125 5.82995 3.125 9.16667C3.125 12.5034 5.82995 15.2083 9.16667 15.2083C12.5034 15.2083 15.2083 12.5034 15.2083 9.16667C15.2083 5.82995 12.5034 3.125 9.16667 3.125ZM1.875 9.16667C1.875 5.13959 5.13959 1.875 9.16667 1.875C13.1937 1.875 16.4583 5.13959 16.4583 9.16667C16.4583 10.9552 15.8144 12.5933 14.7457 13.8619L17.9419 17.0581C18.186 17.3021 18.186 17.6979 17.9419 17.9419C17.6979 18.186 17.3021 18.186 17.0581 17.9419L13.8619 14.7457C12.5933 15.8144 10.9552 16.4583 9.16667 16.4583C5.13959 16.4583 1.875 13.1937 1.875 9.16667Z"),nh(i,"fill","#6F6F6F"),nh(o,"width","20"),nh(o,"height","20"),nh(o,"viewBox","0 0 20 20"),nh(o,"fill","none"),nh(o,"xmlns","http://www.w3.org/2000/svg"),nh(o,"class","search-icon svelte-1nhpyhz"),nh(s,"type","text"),nh(s,"placeholder",e[1]),s.disabled=e[2],nh(s,"class","search-input svelte-1nhpyhz"),nh(n,"class","search-input-wrapper svelte-1nhpyhz"),nh(t,"class","search-input-container svelte-1nhpyhz"),nh(t,"style",e[3])},m(c,d){Gm(c,t,d),Hm(t,n),Hm(n,o),Hm(o,i),Hm(n,r),Hm(n,s),ih(s,e[0]),a||(l=[Qm(s,"input",e[20]),Qm(s,"pointerdown",th(e[4])),Qm(s,"mousedown",th(e[5])),Qm(s,"mouseup",th(e[6])),Qm(s,"click",th(e[7])),Qm(s,"keydown",th(e[8])),Qm(s,"keyup",th(e[9])),Qm(s,"input",th(e[10])),Qm(s,"focus",th(e[11])),Qm(s,"focusin",th(e[12])),Qm(s,"focusout",th(e[13])),Qm(s,"blur",th(e[14])),Qm(s,"change",th(e[15])),Qm(s,"select",th(e[16])),Qm(s,"paste",th(e[17])),Qm(s,"cut",th(e[18])),Qm(s,"copy",th(e[19]))],a=!0)},p(e,[n]){2&n&&nh(s,"placeholder",e[1]),4&n&&(s.disabled=e[2]),1&n&&s.value!==e[0]&&ih(s,e[0]),8&n&&nh(t,"style",e[3])},i:fm,o:fm,d(e){e&&Wm(t),a=!1,bm(l)}}}function U_(e,t,n){let{placeholder:o}=t,{value:i=""}=t,{disabled:r=!1}=t,{customStyles:s=""}=t;return e.$$set=e=>{"placeholder"in e&&n(1,o=e.placeholder),"value"in e&&n(0,i=e.value),"disabled"in e&&n(2,r=e.disabled),"customStyles"in e&&n(3,s=e.customStyles)},[i,o,r,s,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(){i=this.value,n(0,i)}]}class q_ extends rf{constructor(e){super(),of(this,e,U_,P_,Em,{placeholder:1,value:0,disabled:2,customStyles:3})}}function B_(e){let t;return{c(){t=Km("div"),nh(t,"class","section-separator svelte-xwj57")},m(e,n){Gm(e,t,n)},d(e){e&&Wm(t)}}}function F_(e){let t,n,o;const i=e[2].default,r=Cm(i,e,e[1],null);let s=e[0]&&B_();return{c(){t=Km("div"),r&&r.c(),n=Jm(),s&&s.c(),nh(t,"class","section svelte-xwj57")},m(e,i){Gm(e,t,i),r&&r.m(t,null),Hm(t,n),s&&s.m(t,null),o=!0},p(e,[n]){r&&r.p&&(!o||2&n)&&Am(r,i,e,e[1],o?Lm(i,e[1],n,null):Im(e[1]),null),e[0]?s||(s=B_(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){o||(Wh(r,e),o=!0)},o(e){Vh(r,e),o=!1},d(e){e&&Wm(t),r&&r.d(e),s&&s.d()}}}function H_(e,t,n){let{$$slots:o={},$$scope:i}=t,{showSeparator:r=!1}=t;return e.$$set=e=>{"showSeparator"in e&&n(0,r=e.showSeparator),"$$scope"in e&&n(1,i=e.$$scope)},[r,i,o]}class j_ extends rf{constructor(e){super(),of(this,e,H_,F_,Em,{showSeparator:0})}}function z_(e){let t,n;return{c(){t=Km("div"),n=Ym(e[0]),nh(t,"class","section-header svelte-1h5k046")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,[t]){1&t&&oh(n,e[0])},i:fm,o:fm,d(e){e&&Wm(t)}}}function G_(e,t,n){let{text:o}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text)},[o]}class W_ extends rf{constructor(e){super(),of(this,e,G_,z_,Em,{text:0})}}function V_(e){let t,n;const o=e[1].default,i=Cm(o,e,e[0],null);return{c(){t=Km("div"),i&&i.c(),nh(t,"class","two-column-layout svelte-1u5wf2a")},m(e,o){Gm(e,t,o),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&Am(i,o,e,e[0],n?Lm(o,e[0],t,null):Im(e[0]),null)},i(e){n||(Wh(i,e),n=!0)},o(e){Vh(i,e),n=!1},d(e){e&&Wm(t),i&&i.d(e)}}}function K_(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,o]}class Z_ extends rf{constructor(e){super(),of(this,e,K_,V_,Em,{})}}function Y_(e){let t,n,o,i;const r=e[11].default,s=Cm(r,e,e[10],null);return{c(){t=Km("ul"),s&&s.c(),nh(t,"class","column svelte-15ctlyg"),nh(t,"id",e[2]),nh(t,"role",e[3]),nh(t,"aria-labelledby",e[4]),nh(t,"tabindex",e[5]),nh(t,"data-qa",e[6]),ch(t,"align-right",e[0]),ch(t,"alternate-dropdown-list",e[1])},m(r,a){Gm(r,t,a),s&&s.m(t,null),e[12](t),n=!0,o||(i=Qm(t,"keydown",(function(){ym(e[7])&&e[7].apply(this,arguments)})),o=!0)},p(o,[i]){e=o,s&&s.p&&(!n||1024&i)&&Am(s,r,e,e[10],n?Lm(r,e[10],i,null):Im(e[10]),null),(!n||4&i)&&nh(t,"id",e[2]),(!n||8&i)&&nh(t,"role",e[3]),(!n||16&i)&&nh(t,"aria-labelledby",e[4]),(!n||32&i)&&nh(t,"tabindex",e[5]),(!n||64&i)&&nh(t,"data-qa",e[6]),(!n||1&i)&&ch(t,"align-right",e[0]),(!n||2&i)&&ch(t,"alternate-dropdown-list",e[1])},i(e){n||(Wh(s,e),n=!0)},o(e){Vh(s,e),n=!1},d(n){n&&Wm(t),s&&s.d(n),e[12](null),o=!1,i()}}}function J_(e,t,n){let o,{$$slots:i={},$$scope:r}=t,{alignRight:s=!1}=t,{alternateDropdownList:a=!1}=t,{id:l=""}=t,{role:c=""}=t,{ariaLabelledby:d=""}=t,{tabindex:u=0}=t,{dataQa:p=""}=t,{bindThis:g}=t,{onKeydown:m}=t;return e.$$set=e=>{"alignRight"in e&&n(0,s=e.alignRight),"alternateDropdownList"in e&&n(1,a=e.alternateDropdownList),"id"in e&&n(2,l=e.id),"role"in e&&n(3,c=e.role),"ariaLabelledby"in e&&n(4,d=e.ariaLabelledby),"tabindex"in e&&n(5,u=e.tabindex),"dataQa"in e&&n(6,p=e.dataQa),"bindThis"in e&&n(9,g=e.bindThis),"onKeydown"in e&&n(7,m=e.onKeydown),"$$scope"in e&&n(10,r=e.$$scope)},e.$$.update=()=>{768&e.$$.dirty&&void 0!==g&&n(9,g=o)},[s,a,l,c,d,u,p,m,o,g,r,i,function(e){Ch[e?"unshift":"push"]((()=>{o=e,n(8,o)}))}]}class X_ extends rf{constructor(e){super(),of(this,e,J_,Y_,Em,{alignRight:0,alternateDropdownList:1,id:2,role:3,ariaLabelledby:4,tabindex:5,dataQa:6,bindThis:9,onKeydown:7})}}function Q_(e){let t,n;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"fill-rule","evenodd"),nh(n,"clip-rule","evenodd"),nh(n,"d","M13.7576 3.57573C13.9919 3.81004 13.9919 4.18994 13.7576 4.42426L6.42425 11.7576C6.18993 11.9919 5.81003 11.9919 5.57572 11.7576L2.24239 8.42426C2.00807 8.18994 2.00807 7.81004 2.24239 7.57573C2.4767 7.34142 2.8566 7.34142 3.09091 7.57573L5.99998 10.4848L12.9091 3.57573C13.1434 3.34142 13.5233 3.34142 13.7576 3.57573Z"),nh(n,"fill","#292929"),nh(t,"class","checkmark-icon svelte-1bd4off"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none")},m(e,o){Gm(e,t,o),Hm(t,n)},d(e){e&&Wm(t)}}}function ew(e){let t;return{c(){t=Ym(e[5])},m(e,n){Gm(e,t,n)},p(e,n){32&n&&oh(t,e[5])},d(e){e&&Wm(t)}}}function tw(e){let t,n,o=Lg(e[5])+"";return{c(){t=new uh(!1),n=Xm(),t.a=n},m(e,i){t.m(o,e,i),Gm(e,n,i)},p(e,n){32&n&&o!==(o=Lg(e[5])+"")&&t.p(o)},d(e){e&&(Wm(n),t.d())}}}function nw(e){let t,n,o,i,r,s,a=e[1]&&Q_();function l(e,t){return e[2]?tw:ew}let c=l(e),d=c(e);return{c(){t=Km("li"),a&&a.c(),n=Jm(),d.c(),nh(t,"role","option"),nh(t,"data-option-value",o=e[0].value),nh(t,"data-option-regionalvariant",i=e[0].regionalVariant),nh(t,"aria-selected",e[1]),nh(t,"class","svelte-1bd4off"),ch(t,"selected",e[1]),ch(t,"keyboardSelected",e[3]===e[4])},m(o,i){Gm(o,t,i),a&&a.m(t,null),Hm(t,n),d.m(t,null),r||(s=[Qm(t,"click",e[6]),Qm(t,"mousedown",th(eh(e[8])))],r=!0)},p(e,[r]){e[1]?a||(a=Q_(),a.c(),a.m(t,n)):a&&(a.d(1),a=null),c===(c=l(e))&&d?d.p(e,r):(d.d(1),d=c(e),d&&(d.c(),d.m(t,null))),1&r&&o!==(o=e[0].value)&&nh(t,"data-option-value",o),1&r&&i!==(i=e[0].regionalVariant)&&nh(t,"data-option-regionalvariant",i),2&r&&nh(t,"aria-selected",e[1]),2&r&&ch(t,"selected",e[1]),24&r&&ch(t,"keyboardSelected",e[3]===e[4])},i:fm,o:fm,d(e){e&&Wm(t),a&&a.d(),d.d(),r=!1,bm(s)}}}function ow(e,t,n){let o,{item:i}=t,{isSelected:r=!1}=t,{allowLabelHtml:s=!1}=t,{onItemClick:a}=t,{focusIndex:l=-1}=t,{currentFocusIndex:c=-1}=t;const d=Eh();return e.$$set=e=>{"item"in e&&n(0,i=e.item),"isSelected"in e&&n(1,r=e.isSelected),"allowLabelHtml"in e&&n(2,s=e.allowLabelHtml),"onItemClick"in e&&n(7,a=e.onItemClick),"focusIndex"in e&&n(3,l=e.focusIndex),"currentFocusIndex"in e&&n(4,c=e.currentFocusIndex)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=i.isNew?`${i.label}*`:i.label)},[i,r,s,l,c,o,function(){a&&a(i),d("itemclick",{item:i})},a,function(t){$h.call(this,e,t)}]}class iw extends rf{constructor(e){super(),of(this,e,ow,nw,Em,{item:0,isSelected:1,allowLabelHtml:2,onItemClick:7,focusIndex:3,currentFocusIndex:4})}}function rw(e,t,n){const o=e.slice();return o[60]=t[n],o[62]=n,o}function sw(e,t,n){const o=e.slice();return o[60]=t[n],o[62]=n,o}function aw(e,t,n){const o=e.slice();return o[60]=t[n],o[62]=n,o}function lw(e,t,n){const o=e.slice();return o[60]=t[n],o[62]=n,o}function cw(e,t,n){const o=e.slice();return o[60]=t[n],o[62]=n,o}function dw(e,t,n){const o=e.slice();return o[60]=t[n],o[62]=n,o}function uw(e){let t,n,o,i,r,s,a,l,c,d,u,p,g;function m(t){e[49](t)}let h={placeholder:e[20],disabled:e[3],customStyles:"margin-bottom: 14px;"};void 0!==e[1]&&(h.value=e[1]),n=new q_({props:h}),Ch.push((()=>Qh(n,"value",m)));let f=e[16]&&e[17].length>0&&!e[1]&&pw(e);a=new j_({props:{$$slots:{default:[Ow]},$$scope:{ctx:e}}});let v=e[21]&&Dw(e);return{c(){t=Km("div"),ef(n.$$.fragment),i=Jm(),r=Km("div"),f&&f.c(),s=Jm(),ef(a.$$.fragment),l=Jm(),v&&v.c(),nh(r,"class","dropdown-sections svelte-1347oyy"),nh(t,"class","dropdown-content svelte-1347oyy"),nh(t,"style",c="up"===e[12]?"bottom: 30px":`height: ${e[23].height}; top: ${e[23].top}; max-height: ${e[23].maxHeight||e[15]}px;`),ch(t,"align-right",e[19])},m(o,c){Gm(o,t,c),tf(n,t,null),Hm(t,i),Hm(t,r),f&&f.m(r,null),Hm(r,s),tf(a,r,null),Hm(r,l),v&&v.m(r,null),u=!0,p||(g=Qm(t,"mousedown",th(eh(e[46]))),p=!0)},p(e,i){const l={};1048576&i[0]&&(l.placeholder=e[20]),8&i[0]&&(l.disabled=e[3]),!o&&2&i[0]&&(o=!0,l.value=e[1],Mh((()=>o=!1))),n.$set(l),e[16]&&e[17].length>0&&!e[1]?f?(f.p(e,i),196610&i[0]&&Wh(f,1)):(f=pw(e),f.c(),Wh(f,1),f.m(r,s)):f&&(zh(),Vh(f,1,1,(()=>{f=null})),Gh());const d={};470229825&i[0]|64&i[2]&&(d.$$scope={dirty:i,ctx:e}),a.$set(d),e[21]?v?v.p(e,i):(v=Dw(e),v.c(),v.m(r,null)):v&&(v.d(1),v=null),(!u||8425472&i[0]&&c!==(c="up"===e[12]?"bottom: 30px":`height: ${e[23].height}; top: ${e[23].top}; max-height: ${e[23].maxHeight||e[15]}px;`))&&nh(t,"style",c),(!u||524288&i[0])&&ch(t,"align-right",e[19])},i(e){u||(Wh(n.$$.fragment,e),Wh(f),Wh(a.$$.fragment,e),d||Dh((()=>{d=Zh(t,pf,{y:-5,duration:500}),d.start()})),u=!0)},o(e){Vh(n.$$.fragment,e),Vh(f),Vh(a.$$.fragment,e),u=!1},d(e){e&&Wm(t),nf(n),f&&f.d(),nf(a),v&&v.d(),p=!1,g()}}}function pw(e){let t,n;return t=new j_({props:{showSeparator:!0,$$slots:{default:[Ew]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};268836865&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function gw(e){let t,n;return t=new Z_({props:{$$slots:{default:[ww]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};268574721&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function mw(e){let t,n;return t=new X_({props:{$$slots:{default:[yw]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};268574721&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function hw(e){let t,n,o=e[62]%2==0&&function(e){let t,n;return t=new iw({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:e[62],currentFocusIndex:e[28]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};131072&n[0]&&(o.item=e[60]),131073&n[0]&&(o.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(o.allowLabelHtml=e[13]),268435456&n[0]&&(o.currentFocusIndex=e[28]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,t){e[62]%2==0&&o.p(e,t)},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function fw(e){let t,n,o=Xh(e[17]),i=[];for(let t=0;t<o.length;t+=1)i[t]=hw(cw(e,o,t));const r=e=>Vh(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Xm()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Gm(e,t,o),n=!0},p(e,n){if(268574721&n[0]|1&n[1]){let s;for(o=Xh(e[17]),s=0;s<o.length;s+=1){const r=cw(e,o,s);i[s]?(i[s].p(r,n),Wh(i[s],1)):(i[s]=hw(r),i[s].c(),Wh(i[s],1),i[s].m(t.parentNode,t))}for(zh(),s=o.length;s<i.length;s+=1)r(s);Gh()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Wh(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Vh(i[e]);n=!1},d(e){e&&Wm(t),Vm(i,e)}}}function vw(e){let t,n,o=e[62]%2==1&&function(e){let t,n;return t=new iw({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:e[62],currentFocusIndex:e[28]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};131072&n[0]&&(o.item=e[60]),131073&n[0]&&(o.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(o.allowLabelHtml=e[13]),268435456&n[0]&&(o.currentFocusIndex=e[28]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,t){e[62]%2==1&&o.p(e,t)},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function _w(e){let t,n,o=Xh(e[17]),i=[];for(let t=0;t<o.length;t+=1)i[t]=vw(lw(e,o,t));const r=e=>Vh(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Xm()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Gm(e,t,o),n=!0},p(e,n){if(268574721&n[0]|1&n[1]){let s;for(o=Xh(e[17]),s=0;s<o.length;s+=1){const r=lw(e,o,s);i[s]?(i[s].p(r,n),Wh(i[s],1)):(i[s]=vw(r),i[s].c(),Wh(i[s],1),i[s].m(t.parentNode,t))}for(zh(),s=o.length;s<i.length;s+=1)r(s);Gh()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Wh(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Vh(i[e]);n=!1},d(e){e&&Wm(t),Vm(i,e)}}}function ww(e){let t,n,o,i;return t=new X_({props:{$$slots:{default:[fw]},$$scope:{ctx:e}}}),o=new X_({props:{$$slots:{default:[_w]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment),n=Jm(),ef(o.$$.fragment)},m(e,r){tf(t,e,r),Gm(e,n,r),tf(o,e,r),i=!0},p(e,n){const i={};268574721&n[0]|64&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const r={};268574721&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r)},i(e){i||(Wh(t.$$.fragment,e),Wh(o.$$.fragment,e),i=!0)},o(e){Vh(t.$$.fragment,e),Vh(o.$$.fragment,e),i=!1},d(e){e&&Wm(n),nf(t,e),nf(o,e)}}}function bw(e){let t,n;return t=new iw({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:e[62],currentFocusIndex:e[28]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};131072&n[0]&&(o.item=e[60]),131073&n[0]&&(o.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(o.allowLabelHtml=e[13]),268435456&n[0]&&(o.currentFocusIndex=e[28]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function yw(e){let t,n,o=Xh(e[17]),i=[];for(let t=0;t<o.length;t+=1)i[t]=bw(dw(e,o,t));const r=e=>Vh(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Xm()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Gm(e,t,o),n=!0},p(e,n){if(268574721&n[0]|1&n[1]){let s;for(o=Xh(e[17]),s=0;s<o.length;s+=1){const r=dw(e,o,s);i[s]?(i[s].p(r,n),Wh(i[s],1)):(i[s]=bw(r),i[s].c(),Wh(i[s],1),i[s].m(t.parentNode,t))}for(zh(),s=o.length;s<i.length;s+=1)r(s);Gh()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Wh(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Vh(i[e]);n=!1},d(e){e&&Wm(t),Vm(i,e)}}}function Ew(e){let t,n,o,i,r,s;t=new W_({props:{text:chrome.i18n.getMessage("dropdown_suggested_languages")}});const a=[mw,gw],l=[];function c(e,t){return e[18]?0:1}return o=c(e),i=l[o]=a[o](e),{c(){ef(t.$$.fragment),n=Jm(),i.c(),r=Xm()},m(e,i){tf(t,e,i),Gm(e,n,i),l[o].m(e,i),Gm(e,r,i),s=!0},p(e,t){let n=o;o=c(e),o===n?l[o].p(e,t):(zh(),Vh(l[n],1,1,(()=>{l[n]=null})),Gh(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Wh(i,1),i.m(r.parentNode,r))},i(e){s||(Wh(t.$$.fragment,e),Wh(i),s=!0)},o(e){Vh(t.$$.fragment,e),Vh(i),s=!1},d(e){e&&(Wm(n),Wm(r)),nf(t,e),l[o].d(e)}}}function Tw(e){let t,n;return t=new Z_({props:{$$slots:{default:[Lw]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};469967681&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function xw(e){let t,n;return t=new X_({props:{id:"dropdown_list",alternateDropdownList:"sm"===e[8],alignRight:e[9],role:"listbox",ariaLabelledby:"dropdown_option",dataQa:e[6],$$slots:{default:[Iw]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.alternateDropdownList="sm"===e[8]),512&n[0]&&(o.alignRight=e[9]),64&n[0]&&(o.dataQa=e[6]),335749121&n[0]|64&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function $w(e){let t,n;return t=new iw({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:(e[16]?e[17].length:0)+e[62],currentFocusIndex:e[28]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};67108864&n[0]&&(o.item=e[60]),67108865&n[0]&&(o.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(o.allowLabelHtml=e[13]),196608&n[0]&&(o.focusIndex=(e[16]?e[17].length:0)+e[62]),268435456&n[0]&&(o.currentFocusIndex=e[28]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Sw(e){let t,n,o=Xh(e[26]),i=[];for(let t=0;t<o.length;t+=1)i[t]=$w(sw(e,o,t));const r=e=>Vh(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Xm()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Gm(e,t,o),n=!0},p(e,n){if(335749121&n[0]|1&n[1]){let s;for(o=Xh(e[26]),s=0;s<o.length;s+=1){const r=sw(e,o,s);i[s]?(i[s].p(r,n),Wh(i[s],1)):(i[s]=$w(r),i[s].c(),Wh(i[s],1),i[s].m(t.parentNode,t))}for(zh(),s=o.length;s<i.length;s+=1)r(s);Gh()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Wh(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Vh(i[e]);n=!1},d(e){e&&Wm(t),Vm(i,e)}}}function Cw(e){let t,n;return t=new iw({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:(e[16]?e[17].length:0)+e[26].length+e[62],currentFocusIndex:e[28]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};134217728&n[0]&&(o.item=e[60]),134217729&n[0]&&(o.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(o.allowLabelHtml=e[13]),67305472&n[0]&&(o.focusIndex=(e[16]?e[17].length:0)+e[26].length+e[62]),268435456&n[0]&&(o.currentFocusIndex=e[28]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function kw(e){let t,n,o=Xh(e[27]),i=[];for(let t=0;t<o.length;t+=1)i[t]=Cw(rw(e,o,t));const r=e=>Vh(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Xm()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Gm(e,t,o),n=!0},p(e,n){if(469966849&n[0]|1&n[1]){let s;for(o=Xh(e[27]),s=0;s<o.length;s+=1){const r=rw(e,o,s);i[s]?(i[s].p(r,n),Wh(i[s],1)):(i[s]=Cw(r),i[s].c(),Wh(i[s],1),i[s].m(t.parentNode,t))}for(zh(),s=o.length;s<i.length;s+=1)r(s);Gh()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Wh(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Vh(i[e]);n=!1},d(e){e&&Wm(t),Vm(i,e)}}}function Lw(e){let t,n,o,i;return t=new X_({props:{id:"dropdown_list",alternateDropdownList:"sm"===e[8],alignRight:e[9],role:"listbox",ariaLabelledby:"dropdown_option",dataQa:e[6],$$slots:{default:[Sw]},$$scope:{ctx:e}}}),o=new X_({props:{$$slots:{default:[kw]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment),n=Jm(),ef(o.$$.fragment)},m(e,r){tf(t,e,r),Gm(e,n,r),tf(o,e,r),i=!0},p(e,n){const i={};256&n[0]&&(i.alternateDropdownList="sm"===e[8]),512&n[0]&&(i.alignRight=e[9]),64&n[0]&&(i.dataQa=e[6]),335749121&n[0]|64&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const r={};469966849&n[0]|64&n[2]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r)},i(e){i||(Wh(t.$$.fragment,e),Wh(o.$$.fragment,e),i=!0)},o(e){Vh(t.$$.fragment,e),Vh(o.$$.fragment,e),i=!1},d(e){e&&Wm(n),nf(t,e),nf(o,e)}}}function Aw(e){let t,n;return t=new iw({props:{item:e[60],isSelected:e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||""),allowLabelHtml:e[13],onItemClick:e[31],focusIndex:(e[16]?e[17].length:0)+e[62],currentFocusIndex:e[28]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};67108864&n[0]&&(o.item=e[60]),67108865&n[0]&&(o.isSelected=e[0]?.value===e[60].value&&(e[0]?.regionalVariant||"")===(e[60].regionalVariant||"")),8192&n[0]&&(o.allowLabelHtml=e[13]),196608&n[0]&&(o.focusIndex=(e[16]?e[17].length:0)+e[62]),268435456&n[0]&&(o.currentFocusIndex=e[28]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Iw(e){let t,n,o=Xh(e[26]),i=[];for(let t=0;t<o.length;t+=1)i[t]=Aw(aw(e,o,t));const r=e=>Vh(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=Xm()},m(e,o){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,o);Gm(e,t,o),n=!0},p(e,n){if(335749121&n[0]|1&n[1]){let s;for(o=Xh(e[26]),s=0;s<o.length;s+=1){const r=aw(e,o,s);i[s]?(i[s].p(r,n),Wh(i[s],1)):(i[s]=Aw(r),i[s].c(),Wh(i[s],1),i[s].m(t.parentNode,t))}for(zh(),s=o.length;s<i.length;s+=1)r(s);Gh()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)Wh(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Vh(i[e]);n=!1},d(e){e&&Wm(t),Vm(i,e)}}}function Ow(e){let t,n,o,i,r,s;t=new W_({props:{text:chrome.i18n.getMessage("dropdown_all_languages")}});const a=[xw,Tw],l=[];function c(e,t){return e[18]?0:1}return o=c(e),i=l[o]=a[o](e),{c(){ef(t.$$.fragment),n=Jm(),i.c(),r=Xm()},m(e,i){tf(t,e,i),Gm(e,n,i),l[o].m(e,i),Gm(e,r,i),s=!0},p(e,t){let n=o;o=c(e),o===n?l[o].p(e,t):(zh(),Vh(l[n],1,1,(()=>{l[n]=null})),Gh(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Wh(i,1),i.m(r.parentNode,r))},i(e){s||(Wh(t.$$.fragment,e),Wh(i),s=!0)},o(e){Vh(t.$$.fragment,e),Vh(i),s=!1},d(e){e&&(Wm(n),Wm(r)),nf(t,e),l[o].d(e)}}}function Dw(e){let t,n;return{c(){t=Km("div"),n=Ym(e[21]),nh(t,"class","dropdown-footer svelte-1347oyy"),ch(t,"is-absolute",e[1])},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,o){2097152&o[0]&&oh(n,e[21]),2&o[0]&&ch(t,"is-absolute",e[1])},d(e){e&&Wm(t)}}}function Mw(e){let t,n,o,i,r,s,a,l,c=e[2]&&uw(e);return{c(){t=Km("div"),n=Km("button"),o=Ym(e[24]),i=Jm(),c&&c.c(),nh(n,"aria-haspopup","listbox"),nh(n,"id","dropdown_button"),nh(n,"aria-labelledby","dropdown_option dropdown_button"),nh(n,"aria-expanded",e[2]),nh(n,"data-qa",e[5]),nh(n,"data-testid",e[5]),nh(n,"class","svelte-1347oyy"),ch(n,"dropdown-label","original"===e[7]),ch(n,"dropdown-label-alternate","alternate"===e[7]),ch(n,"dropdown-label-zendesk","zendesk"===e[7]),ch(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),ch(n,"dropdown-label-full-width",e[10]),ch(n,"dropdown-label-borderless",e[11]),ch(n,"dropup","up"===e[12]),ch(n,"extra-padding",e[14]),nh(t,"class",r=Om(`dropdown__wrapper ${e[4]}`)+" svelte-1347oyy"),nh(t,"style",e[29]),nh(t,"role","combobox"),nh(t,"aria-expanded",e[2]),nh(t,"aria-controls","dropdown_list"),nh(t,"tabindex",-1),ch(t,"disabled",e[3])},m(r,d){Gm(r,t,d),Hm(t,n),Hm(n,o),e[48](n),Hm(t,i),c&&c.m(t,null),e[51](t),s=!0,a||(l=[Qm(n,"click",e[30]),Qm(n,"mousedown",th(eh(e[47]))),Qm(n,"keydown",e[32]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[50]),Qm(t,"keydown",e[32])],a=!0)},p(e,i){(!s||16777216&i[0])&&oh(o,e[24]),(!s||4&i[0])&&nh(n,"aria-expanded",e[2]),(!s||32&i[0])&&nh(n,"data-qa",e[5]),(!s||32&i[0])&&nh(n,"data-testid",e[5]),(!s||128&i[0])&&ch(n,"dropdown-label","original"===e[7]),(!s||128&i[0])&&ch(n,"dropdown-label-alternate","alternate"===e[7]),(!s||128&i[0])&&ch(n,"dropdown-label-zendesk","zendesk"===e[7]),(!s||128&i[0])&&ch(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),(!s||1024&i[0])&&ch(n,"dropdown-label-full-width",e[10]),(!s||2048&i[0])&&ch(n,"dropdown-label-borderless",e[11]),(!s||4096&i[0])&&ch(n,"dropup","up"===e[12]),(!s||16384&i[0])&&ch(n,"extra-padding",e[14]),e[2]?c?(c.p(e,i),4&i[0]&&Wh(c,1)):(c=uw(e),c.c(),Wh(c,1),c.m(t,null)):c&&(zh(),Vh(c,1,1,(()=>{c=null})),Gh()),(!s||16&i[0]&&r!==(r=Om(`dropdown__wrapper ${e[4]}`)+" svelte-1347oyy"))&&nh(t,"class",r),(!s||536870912&i[0])&&nh(t,"style",e[29]),(!s||4&i[0])&&nh(t,"aria-expanded",e[2]),(!s||24&i[0])&&ch(t,"disabled",e[3])},i(e){s||(Wh(c),s=!0)},o(e){Vh(c),s=!1},d(n){n&&Wm(t),e[48](null),c&&c.d(),e[51](null),a=!1,bm(l)}}}function Rw(e,t,n){let o,{isOpen:i=!1}=t,{disabled:r=!1}=t,{items:s=[]}=t,{placeholder:a=""}=t,{customClass:l=""}=t,{selectedOption:c}=t,{defaultOption:d}=t,{dataQaButton:u="dl-dropdown-button"}=t,{dataQaList:p="dl-dropdown-list"}=t,{variant:g="original"}=t,{fontSize:m="default"}=t,{alignRight:h=!0}=t,{extraText:f=""}=t,{isFullWidth:v=!1}=t,{isBorderless:_=!1}=t,{direction:w="down"}=t,{allowLabelHtml:b=!1}=t,{showSortCode:y=!1}=t,{extraPadding:E=!1}=t,{dropdownMaxHeight:T=300}=t,{autoHeight:x=!1}=t,{autoFocusOnOpen:$=!0}=t,{adjustHeightToViewport:S=!1}=t,{showRecentlyUsed:C=!1}=t,{recentlyUsedItems:k=[]}=t,{mainItems:L=s}=t,{searchValue:A=""}=t,{isOneColumnLayout:I=!1}=t,{isAlignedToTheRight:O=!1}=t,{searchPlaceholder:D}=t,{footerText:M}=t;const R=xh("deepl_settings");let N,P,U,q,B=0,F={},H={},j={},z=!1,G=[],W=[],V=-1,K=[],Z="visibility: hidden; opacity:0; height:0;";const Y=Eh();function J(){if(!x)if(X(),n(23,H.top="auto",H),S)if(F.spaceBelow>F.spaceAbove)n(23,H.height=Math.ceil(.8*F.spaceBelow)+"px",H),n(23,H.maxHeight=Math.ceil(.8*F.spaceBelow),H);else{const e=Math.ceil(.8*F.spaceAbove);n(23,H.height=`${e}px`,H),n(23,H.maxHeight=e,H),n(23,H.top="-"+(e+2)+"px",H)}else if(n(23,H.height=`${T}px`,H),F.spaceBelow>F.spaceAbove)F.spaceBelow<=T&&n(23,H.height=Math.ceil(.8*F.spaceBelow)+"px",H);else{let e=T;F.spaceAbove<=T&&(e=Math.ceil(.8*F.spaceAbove)),n(23,H.height=`${e}px`,H),n(23,H.top="-"+(e+2)+"px",H)}}function X(){F.spaceAbove=Math.abs(N.getBoundingClientRect().top),F.spaceBelow=Math.abs(window.innerHeight-N.getBoundingClientRect().bottom)}function Q(e){n(2,i=!1),n(44,z=!0),n(0,c=e),n(28,V=-1),R.set({regionalVariant:e.regionalVariant||""})}function ee(){if(-1===V){const e=U.querySelector("input");null==e||e.focus()}else{const e=K[V],t=U.querySelector(`[data-option-value="${e.value}"]`);t&&t.scrollIntoView({block:"nearest",behavior:"smooth"})}}bh((()=>{setTimeout((()=>{n(29,Z="")}),100),q=N_(U,(({clientWidth:e})=>{n(42,B=e)}))})),yh((()=>{q&&q()}));return e.$$set=e=>{"isOpen"in e&&n(2,i=e.isOpen),"disabled"in e&&n(3,r=e.disabled),"items"in e&&n(33,s=e.items),"placeholder"in e&&n(34,a=e.placeholder),"customClass"in e&&n(4,l=e.customClass),"selectedOption"in e&&n(0,c=e.selectedOption),"defaultOption"in e&&n(35,d=e.defaultOption),"dataQaButton"in e&&n(5,u=e.dataQaButton),"dataQaList"in e&&n(6,p=e.dataQaList),"variant"in e&&n(7,g=e.variant),"fontSize"in e&&n(8,m=e.fontSize),"alignRight"in e&&n(9,h=e.alignRight),"extraText"in e&&n(36,f=e.extraText),"isFullWidth"in e&&n(10,v=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,w=e.direction),"allowLabelHtml"in e&&n(13,b=e.allowLabelHtml),"showSortCode"in e&&n(37,y=e.showSortCode),"extraPadding"in e&&n(14,E=e.extraPadding),"dropdownMaxHeight"in e&&n(15,T=e.dropdownMaxHeight),"autoHeight"in e&&n(38,x=e.autoHeight),"autoFocusOnOpen"in e&&n(39,$=e.autoFocusOnOpen),"adjustHeightToViewport"in e&&n(40,S=e.adjustHeightToViewport),"showRecentlyUsed"in e&&n(16,C=e.showRecentlyUsed),"recentlyUsedItems"in e&&n(17,k=e.recentlyUsedItems),"mainItems"in e&&n(41,L=e.mainItems),"searchValue"in e&&n(1,A=e.searchValue),"isOneColumnLayout"in e&&n(18,I=e.isOneColumnLayout),"isAlignedToTheRight"in e&&n(19,O=e.isAlignedToTheRight),"searchPlaceholder"in e&&n(20,D=e.searchPlaceholder),"footerText"in e&&n(21,M=e.footerText)},e.$$.update=()=>{if(1028&e.$$.dirty[1]&&n(45,o=L||s),2&e.$$.dirty[0]|512&e.$$.dirty[1]&&A&&S&&n(23,H.height="auto",H),458754&e.$$.dirty[0]|16384&e.$$.dirty[1]){const e=A?o.filter((e=>e.label.toLowerCase().includes(A.toLowerCase()))):o;if(I)n(26,G=e),n(27,W=[]);else{const[t,o]=function(e,t=2){if(e.length<t)return[e,[]];const n=Math.ceil(e.length/2);return[e.slice(0,n),e.slice(n)]}(e);n(26,G=t),n(27,W=o)}K=[...C?k:[],...e]}1&e.$$.dirty[0]|16&e.$$.dirty[1]&&(void 0!==c||d&&n(0,c=d)),1&e.$$.dirty[0]|14848&e.$$.dirty[1]&&(c&&((null==j?void 0:j.value)===(null==c?void 0:c.value)&&(null==j?void 0:j.regionalVariant)===(null==c?void 0:c.regionalVariant)||(n(43,j=c),z&&(Y("valueselected",{selectedOption:c}),n(44,z=!1)))),B&&X(),B&&S&&J()),1&e.$$.dirty[0]|104&e.$$.dirty[1]&&n(24,P=c?`${y?c.value:c.selectedOptionLabel}${f?` ${f}`:""}`:`${a}${f?` ${f}`:""}`)},[c,A,i,r,l,u,p,g,m,h,v,_,w,b,E,T,C,k,I,O,D,M,N,H,P,U,G,W,V,Z,function(){"down"===w&&J(),n(2,i=!i),i?(n(28,V=-1),$&&setTimeout((()=>{const e=U.querySelector("input");null==e||e.focus()}),0)):n(28,V=-1)},Q,function(e){if(!i)return;const t=K.length-1;if("Tab"===e.key||"ArrowDown"===e.key)e.preventDefault(),n(28,V=V>=t?-1:V+1),ee();else if("ArrowUp"===e.key)e.preventDefault(),n(28,V=V<=-1?t:V-1),ee();else if("ArrowLeft"===e.key||"ArrowRight"===e.key){if(e.preventDefault(),V>=0){let t=-1;if(V<k.length)I||("ArrowRight"===e.key&&V%2==0?t=V+1:"ArrowLeft"===e.key&&V%2==1&&(t=V-1));else{const n=(C?k.length:0)+G.length;I||("ArrowRight"===e.key&&V<n?t=V+G.length:"ArrowLeft"===e.key&&V>=n&&(t=V-G.length))}t>=0&&t<K.length&&(n(28,V=t),ee())}}else if("Enter"===e.key){if(e.preventDefault(),V>=0){Q(K[V])}else if(-1===V&&K.length>0){Q(K[0])}}else"Escape"===e.key&&(e.preventDefault(),n(2,i=!1),n(28,V=-1))},s,a,d,f,y,x,$,S,L,B,j,z,o,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(e){Ch[e?"unshift":"push"]((()=>{N=e,n(22,N)}))},function(e){A=e,n(1,A)},()=>{n(2,i=!1)},function(e){Ch[e?"unshift":"push"]((()=>{U=e,n(25,U)}))}]}class Nw extends rf{constructor(e){super(),of(this,e,Rw,Mw,Em,{isOpen:2,disabled:3,items:33,placeholder:34,customClass:4,selectedOption:0,defaultOption:35,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:36,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:37,extraPadding:14,dropdownMaxHeight:15,autoHeight:38,autoFocusOnOpen:39,adjustHeightToViewport:40,showRecentlyUsed:16,recentlyUsedItems:17,mainItems:41,searchValue:1,isOneColumnLayout:18,isAlignedToTheRight:19,searchPlaceholder:20,footerText:21},null,[-1,-1,-1])}}function Pw(e,t,n){const o=e.slice();return o[37]=t[n],o}function Uw(e){let t,n,o,i,r;return n=new Nw({props:{disabled:e[0],items:e[19],defaultOption:e[20],selectedOption:e[23],placeholder:e[21],dataQaButton:e[13],dataQaList:"deepl-language-selection-list",customClass:e[2],variant:e[4],fontSize:e[5],alignRight:e[6],isBorderless:e[7],showSortCode:e[8],extraPadding:e[9],dropdownMaxHeight:e[10],autoHeight:e[11],autoFocusOnOpen:e[18],showRecentlyUsed:e[14],recentlyUsedItems:e[22],mainItems:e[24],isOneColumnLayout:e[15],adjustHeightToViewport:e[16],isAlignedToTheRight:e[17],searchPlaceholder:chrome.i18n.getMessage("dropdown_search_languages")}}),n.$on("valueselected",e[25]),{c(){t=Km("div"),ef(n.$$.fragment)},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=Qm(t,"mousedown",th(eh(e[35]))),i=!0)},p(e,t){const o={};1&t[0]&&(o.disabled=e[0]),524288&t[0]&&(o.items=e[19]),1048576&t[0]&&(o.defaultOption=e[20]),8388608&t[0]&&(o.selectedOption=e[23]),2097152&t[0]&&(o.placeholder=e[21]),8192&t[0]&&(o.dataQaButton=e[13]),4&t[0]&&(o.customClass=e[2]),16&t[0]&&(o.variant=e[4]),32&t[0]&&(o.fontSize=e[5]),64&t[0]&&(o.alignRight=e[6]),128&t[0]&&(o.isBorderless=e[7]),256&t[0]&&(o.showSortCode=e[8]),512&t[0]&&(o.extraPadding=e[9]),1024&t[0]&&(o.dropdownMaxHeight=e[10]),2048&t[0]&&(o.autoHeight=e[11]),262144&t[0]&&(o.autoFocusOnOpen=e[18]),16384&t[0]&&(o.showRecentlyUsed=e[14]),4194304&t[0]&&(o.recentlyUsedItems=e[22]),16777216&t[0]&&(o.mainItems=e[24]),32768&t[0]&&(o.isOneColumnLayout=e[15]),65536&t[0]&&(o.adjustHeightToViewport=e[16]),131072&t[0]&&(o.isAlignedToTheRight=e[17]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,r()}}}function qw(e){let t,n,o,i,r=Xh(e[19]),s=[];for(let t=0;t<r.length;t+=1)s[t]=Bw(Pw(e,r,t));return{c(){t=Km("div"),n=Km("select");for(let e=0;e<s.length;e+=1)s[e].c();n.disabled=!0,nh(n,"data-qa","deepl-language-selection-readonly"),nh(n,"aria-label","Select Language - dropdown disabled"),nh(n,"class","svelte-1e9ugff"),nh(t,"class","language-selector read-only svelte-1e9ugff")},m(r,a){Gm(r,t,a),Hm(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(n,null);sh(n,e[1]),o||(i=Qm(n,"change",eh(Hw)),o=!0)},p(e,t){if(524288&t[0]){let o;for(r=Xh(e[19]),o=0;o<r.length;o+=1){const i=Pw(e,r,o);s[o]?s[o].p(i,t):(s[o]=Bw(i),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}524290&t[0]&&sh(n,e[1])},i:fm,o:fm,d(e){e&&Wm(t),Vm(s,e),o=!1,i()}}}function Bw(e){let t,n,o,i,r,s=e[37].label+"";return{c(){t=Km("option"),n=Ym(s),o=Jm(),t.__value=i=e[37].value,ih(t,t.__value),nh(t,"data-option-regionalvariant",r=e[37].regionalVariant)},m(e,i){Gm(e,t,i),Hm(t,n),Hm(t,o)},p(e,o){524288&o[0]&&s!==(s=e[37].label+"")&&oh(n,s),524288&o[0]&&i!==(i=e[37].value)&&(t.__value=i,ih(t,t.__value)),524288&o[0]&&r!==(r=e[37].regionalVariant)&&nh(t,"data-option-regionalvariant",r)},d(e){e&&Wm(t)}}}function Fw(e){let t,n,o,i;const r=[qw,Uw],s=[];function a(e,t){return e[12]?0:1}return t=a(e),n=s[t]=r[t](e),{c(){n.c(),o=Xm()},m(e,n){s[t].m(e,n),Gm(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh(),n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o))},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),s[t].d(e)}}}const Hw=()=>{};function jw(e,t,n){let o,i,s,a,l,d=fm,u=()=>(d(),d=$m(v,(e=>n(32,s=e))),v);Sm(e,Pv,(e=>n(33,a=e))),Sm(e,Bv,(e=>n(34,l=e))),e.$$.on_destroy.push((()=>d()));const p=Eh();let{value:m}=t,{showChooseLanguageOption:h=!1}=t,{customClass:f=""}=t,{websiteSettings:v}=t;u();let _,w,b,{disabled:y=!1}=t,{variant:E="original"}=t,{fontSize:T="default"}=t,{alignRight:x=!1}=t,{isBorderless:$=!1}=t,{showSortCode:S=!1}=t,{extraPadding:C=!1}=t,{showRegionalVariants:k=!0}=t,{dropdownMaxHeight:L=300}=t,{onlyShowWriteEnabledLanguages:A=!1}=t,{autoHeight:I}=t,{readOnly:O=!1}=t,{placeholderText:D}=t,{dataQaButton:M="deepl-language-selection-button"}=t,{languages:R}=t,{showRecentlyUsed:N=!0}=t,{isOneColumnLayout:P=!1}=t,{adjustHeightToViewport:U=!1}=t,{isAlignedToTheRight:q=!1}=t,{autoFocusOnOpen:B=!0}=t,F=[],H=[];return _=h?chrome.i18n.getMessage("supported_languages_undefined"):void 0,D&&(h=!1,_=D),e.$$set=e=>{"value"in e&&n(1,m=e.value),"showChooseLanguageOption"in e&&n(26,h=e.showChooseLanguageOption),"customClass"in e&&n(2,f=e.customClass),"websiteSettings"in e&&u(n(3,v=e.websiteSettings)),"disabled"in e&&n(0,y=e.disabled),"variant"in e&&n(4,E=e.variant),"fontSize"in e&&n(5,T=e.fontSize),"alignRight"in e&&n(6,x=e.alignRight),"isBorderless"in e&&n(7,$=e.isBorderless),"showSortCode"in e&&n(8,S=e.showSortCode),"extraPadding"in e&&n(9,C=e.extraPadding),"showRegionalVariants"in e&&n(27,k=e.showRegionalVariants),"dropdownMaxHeight"in e&&n(10,L=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&n(28,A=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&n(11,I=e.autoHeight),"readOnly"in e&&n(12,O=e.readOnly),"placeholderText"in e&&n(29,D=e.placeholderText),"dataQaButton"in e&&n(13,M=e.dataQaButton),"languages"in e&&n(30,R=e.languages),"showRecentlyUsed"in e&&n(14,N=e.showRecentlyUsed),"isOneColumnLayout"in e&&n(15,P=e.isOneColumnLayout),"adjustHeightToViewport"in e&&n(16,U=e.adjustHeightToViewport),"isAlignedToTheRight"in e&&n(17,q=e.isAlignedToTheRight),"autoFocusOnOpen"in e&&n(18,B=e.autoFocusOnOpen)},e.$$.update=()=>{if(1476919296&e.$$.dirty[0]|8&e.$$.dirty[1]&&(R?n(19,w=R):(n(19,w=k?Aa(l):Ia(l)),A&&n(19,w=w.filter((e=>{return t=e.value,c.map((e=>e.toUpperCase())).includes(t.toUpperCase());var t}))))),540672&e.$$.dirty[0]|5&e.$$.dirty[1]){if(n(31,F=(null==a?void 0:a.recentlyUsedLanguages)||[]),F.length<6){const e=new Set(F),t=r.filter((t=>!e.has(t)));n(31,F=[...F,...t])}n(31,F=F.slice(0,6)),n(22,H=N?F.map((e=>w.find((t=>t.value===e)))).filter(Boolean):[])}524288&e.$$.dirty[0]&&n(24,o=w),1572866&e.$$.dirty[0]&&(b||n(20,b=m?w.find((e=>e.value===m)):void 0)),524290&e.$$.dirty[0]&&n(23,i=m?w.find((e=>e.value===m)):void 0),2&e.$$.dirty[1]&&(s&&s.translationState===g.ongoingTranslation?n(0,y=!0):s&&[g.none,g.isTranslationComplete].includes(s.translationState)&&n(0,y=!1))},[y,m,f,v,E,T,x,$,S,C,L,I,O,M,N,P,U,q,B,w,b,_,H,i,o,function(e){if(y)return;const t=e.detail.selectedOption;if(t&&t.value){const e=qa(a.recentlyUsedLanguages||[],t.value);Pv.set({recentlyUsedLanguages:e})}p("selection",e.detail)},h,k,A,D,R,F,s,a,l,function(t){$h.call(this,e,t)}]}class zw extends rf{constructor(e){super(),of(this,e,jw,Fw,Em,{value:1,showChooseLanguageOption:26,customClass:2,websiteSettings:3,disabled:0,variant:4,fontSize:5,alignRight:6,isBorderless:7,showSortCode:8,extraPadding:9,showRegionalVariants:27,dropdownMaxHeight:10,onlyShowWriteEnabledLanguages:28,autoHeight:11,readOnly:12,placeholderText:29,dataQaButton:13,languages:30,showRecentlyUsed:14,isOneColumnLayout:15,adjustHeightToViewport:16,isAlignedToTheRight:17,autoFocusOnOpen:18},null,[-1,-1])}}const Gw="full-page-translation",Ww={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",settings_customizations:"SETTINGS_CUSTOMIZATIONS",settings_glossary:"SETTINGS_GLOSSARY",onboarding:"ONBOARDING",onboarding_after_successful_login:"ONBOARDING_AFTER_SUCCESSFUL_LOGIN",firefox_first_run:"FIREFOX_FIRST_RUN",privacy_policy:"PRIVACY_POLICY",create_account:"CREATE_ACCOUNT"};function Vw(e){let t,n=ja(),o=n&&function(e){let t,n,o,i;return{c(){t=Km("div"),n=Ym(e[1]),nh(t,"class","dev-label svelte-19c1aay"),ch(t,"isInline",e[0])},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",e[2]),o=!0)},p(e,o){2&o&&oh(n,e[1]),1&o&&ch(t,"isInline",e[0])},d(e){e&&Wm(t),o=!1,i()}}}(e);return{c(){o&&o.c(),t=Xm()},m(e,n){o&&o.m(e,n),Gm(e,t,n)},p(e,[t]){n&&o.p(e,t)},i:fm,o:fm,d(e){e&&Wm(t),o&&o.d(e)}}}function Kw(e,t,n){let{isInline:o=!1}=t,{text:i="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,o=e.isInline),"text"in e&&n(1,i=e.text)},[o,i,function(){Rn({action:On.dlOpenInternalPage,payload:{destination:Ww.developer_tools}})}]}class Zw extends rf{constructor(e){super(),of(this,e,Kw,Vw,Em,{isInline:0,text:1})}}const Yw={full_page_translation:"FULL_PAGE_TRANSLATION",translator:"TRANSLATOR",write:"WRITE",customizations:"CUSTOMIZATIONS",glossary:"GLOSSARY"},Jw=af(Yw.translator),Xw=()=>xh("deepl_settings"),Qw=()=>xh("deepl_website_settings");function eb(e){let t,n,o;return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,nh(t,"class","user-action-button svelte-x8fecs")},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"mousedown",eh(e[18])),Qm(t,"click",e[19])],n=!0)},p:fm,d(e){e&&Wm(t),n=!1,bm(o)}}}function tb(e){let t,n,o;return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,nh(t,"class","user-action-button svelte-x8fecs")},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"mousedown",eh(e[17])),Qm(t,"click",e[20])],n=!0)},p:fm,d(e){e&&Wm(t),n=!1,bm(o)}}}function nb(e){let t,n,o;return{c(){t=Km("div"),nh(t,"type","button"),nh(t,"class","dl-menu-icon dl-menu-icon--user svelte-x8fecs")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"mousedown",eh(e[16])),n=!0)},d(e){e&&Wm(t),n=!1,o()}}}function ob(e){let t,n,o,i,r,s,a,l,c=ja();function d(e,t){return!0===e[0].isLoggedIn?rb:ib}let u=d(e),p=u(e),g=c&&function(){let e,t,n;return t=new Zw({props:{isInline:!0,text:"DEV TOOLS"}}),{c(){e=Km("div"),ef(t.$$.fragment),nh(e,"class","dl-menu-item svelte-x8fecs")},m(o,i){Gm(o,e,i),tf(t,e,null),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(n){n&&Wm(e),nf(t)}}}();return{c(){t=Km("div"),n=Km("button"),n.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,o=Jm(),p.c(),i=Jm(),g&&g.c(),nh(n,"class","dl-menu-item svelte-x8fecs"),nh(t,"class","dl-menu-list svelte-x8fecs")},m(r,c){Gm(r,t,c),Hm(t,n),Hm(t,o),p.m(t,null),Hm(t,i),g&&g.m(t,null),s=!0,a||(l=Qm(n,"click",e[8]),a=!0)},p(e,n){u===(u=d(e))&&p?p.p(e,n):(p.d(1),p=u(e),p&&(p.c(),p.m(t,i)))},i(e){s||(Wh(g),r||Dh((()=>{r=Zh(t,pf,{y:-5,duration:500}),r.start()})),s=!0)},o(e){Vh(g),s=!1},d(e){e&&Wm(t),p.d(),g&&g.d(),a=!1,l()}}}function ib(e){let t,n,o,i,r,s,a,l,c;return{c(){t=Km("div"),t.innerHTML='<div class="divider svelte-x8fecs"></div>',n=Jm(),o=Km("button"),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,r=Jm(),s=Km("button"),a=Km("span"),a.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,nh(t,"class","dl-menu-item dl-menu-item--divider svelte-x8fecs"),nh(o,"class","dl-menu-item svelte-x8fecs"),nh(a,"class","dl-menu-link link svelte-x8fecs"),nh(s,"class","dl-menu-item svelte-x8fecs")},m(d,u){Gm(d,t,u),Gm(d,n,u),Gm(d,o,u),Hm(o,i),Gm(d,r,u),Gm(d,s,u),Hm(s,a),l||(c=[Qm(o,"click",e[5]),Qm(s,"click",e[6])],l=!0)},p:fm,d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(r),Wm(s)),l=!1,bm(c)}}}function rb(e){let t,n,o,i,r,s;return{c(){t=Km("div"),t.innerHTML='<div class="divider svelte-x8fecs"></div>',n=Jm(),o=Km("button"),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,nh(t,"class","dl-menu-item dl-menu-item--divider svelte-x8fecs"),nh(o,"class","dl-menu-item svelte-x8fecs")},m(a,l){Gm(a,t,l),Gm(a,n,l),Gm(a,o,l),Hm(o,i),r||(s=Qm(o,"click",e[4]),r=!0)},p:fm,d(e){e&&(Wm(t),Wm(n),Wm(o)),r=!1,s()}}}function sb(e){let t,n,o,i,r,s,a,l,c,d,u,p,g=!e[0].isLoggedIn&&eb(e),m=e[2]&&tb(e),h=!0===e[0].isLoggedIn&&nb(e),f=e[1]&&ob(e);return{c(){t=Km("div"),n=Km("div"),g&&g.c(),o=Jm(),m&&m.c(),i=Jm(),h&&h.c(),r=Jm(),s=Km("button"),a=Jm(),l=Km("button"),c=Jm(),f&&f.c(),nh(s,"type","button"),nh(s,"class","dl-menu-icon dl-menu-icon--settings svelte-x8fecs"),nh(s,"aria-label",chrome.i18n.getMessage("menu_open_settings")),nh(l,"type","button"),nh(l,"class","dl-menu-icon dl-menu-icon--hamburger svelte-x8fecs"),nh(l,"aria-label",chrome.i18n.getMessage("menu_open_menu")),ch(l,"isOpen",e[1]),nh(n,"class","dl-menu-icon-wrapper svelte-x8fecs"),nh(t,"class","dl-container-menu svelte-x8fecs")},m(v,_){Gm(v,t,_),Hm(t,n),g&&g.m(n,null),Hm(n,o),m&&m.m(n,null),Hm(n,i),h&&h.m(n,null),Hm(n,r),Hm(n,s),Hm(n,a),Hm(n,l),Hm(t,c),f&&f.m(t,null),d=!0,u||(p=[Qm(s,"mousedown",eh(e[15])),Qm(s,"click",e[21]),Qm(l,"mousedown",eh(e[14])),Qm(l,"click",e[22]),Qm(n,"mousedown",th(eh(e[13]))),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[7]),Qm(t,"mousedown",th(eh(e[12])))],u=!0)},p(e,[s]){e[0].isLoggedIn?g&&(g.d(1),g=null):g?g.p(e,s):(g=eb(e),g.c(),g.m(n,o)),e[2]?m?m.p(e,s):(m=tb(e),m.c(),m.m(n,i)):m&&(m.d(1),m=null),!0===e[0].isLoggedIn?h||(h=nb(e),h.c(),h.m(n,r)):h&&(h.d(1),h=null),(!d||2&s)&&ch(l,"isOpen",e[1]),e[1]?f?(f.p(e,s),2&s&&Wh(f,1)):(f=ob(e),f.c(),Wh(f,1),f.m(t,null)):f&&(zh(),Vh(f,1,1,(()=>{f=null})),Gh())},i(e){d||(Wh(f),d=!0)},o(e){Vh(f),d=!1},d(e){e&&Wm(t),g&&g.d(),m&&m.d(),h&&h.d(),f&&f.d(),u=!1,bm(p)}}}function ab(e,t,n){let o,i,r,s;const a=Xw();Sm(e,a,(e=>n(0,s=e)));let l=!1;function c(){Rn({action:yn.dlRequestLogin}),d()}function d(){n(1,l=!1)}function u(){Rn({action:On.dlOpenInternalPage,payload:{destination:Ww.settings_page}}),d()}function p(){const e=o?co:lo;Rn({action:On.dlExternalURLRedirect,payload:{destination:e,utmContent:"menu"}}),d()}return e.$$.update=()=>{1&e.$$.dirty&&n(10,o=Bn(s,xt.TRANSLATOR)),1&e.$$.dirty&&n(11,i=Bn(s,xt.WRITE)),3073&e.$$.dirty&&n(2,r=s.isLoggedIn&&(!o||!i&&!s.hideWrite))},[s,l,r,a,function(){Rn({action:yn.dlRequestLogout}),Rn({action:Ln.dlTrackUiAction,payload:{uiAction:Pe}}),d()},c,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"menu"}}),d()},d,u,p,o,i,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},()=>{c()},()=>{p()},()=>{u()},()=>{n(1,l=!l)}]}class lb extends rf{constructor(e){super(),of(this,e,ab,sb,Em,{})}}function cb(e){let t,n;const o=e[14].default,i=Cm(o,e,e[13],null);return{c(){t=Km("div"),i&&i.c()},m(e,o){Gm(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||8192&t)&&Am(i,o,e,e[13],n?Lm(o,e[13],t,null):Im(e[13]),null)},i(e){n||(Wh(i,e),n=!0)},o(e){Vh(i,e),n=!1},d(e){e&&Wm(t),i&&i.d(e)}}}function db(e){let t,n,o;const i=e[14].default,r=Cm(i,e,e[13],null);return{c(){t=Km("div"),r&&r.c(),nh(t,"data-tooltip",e[0]),nh(t,"data-testid",e[5]),nh(t,"style",n=`${e[6]} ${e[7]}`),nh(t,"class","svelte-1yqkvai"),ch(t,"multiline",e[1]),ch(t,"isFlexItem",e[3]),ch(t,"isRTL",e[8]),ch(t,"showProShield",e[4])},m(e,n){Gm(e,t,n),r&&r.m(t,null),o=!0},p(e,s){r&&r.p&&(!o||8192&s)&&Am(r,i,e,e[13],o?Lm(i,e[13],s,null):Im(e[13]),null),(!o||1&s)&&nh(t,"data-tooltip",e[0]),(!o||32&s)&&nh(t,"data-testid",e[5]),(!o||192&s&&n!==(n=`${e[6]} ${e[7]}`))&&nh(t,"style",n),(!o||2&s)&&ch(t,"multiline",e[1]),(!o||8&s)&&ch(t,"isFlexItem",e[3]),(!o||256&s)&&ch(t,"isRTL",e[8]),(!o||16&s)&&ch(t,"showProShield",e[4])},i(e){o||(Wh(r,e),o=!0)},o(e){Vh(r,e),o=!1},d(e){e&&Wm(t),r&&r.d(e)}}}function ub(e){let t,n,o,i;const r=[db,cb],s=[];function a(e,t){return e[2]?0:1}return t=a(e),n=s[t]=r[t](e),{c(){n.c(),o=Xm()},m(e,n){s[t].m(e,n),Gm(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?s[t].p(e,i):(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh(),n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o))},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),s[t].d(e)}}}function pb(e,t,n){let o,i,r,{$$slots:s={},$$scope:a}=t;const{deepl_inline_ui:l}=U;let{tooltip:c=!1}=t,{multiline:d=!1}=t,{zIndex:u=l.z_index}=t,{isEnabled:p=!0}=t,{isFlexItem:g=!1}=t,{width:m=null}=t,{parentIsRTL:h=!1}=t,{ignoreTextDirection:f=!1}=t,{showProShield:v=!1}=t,{dataTestId:_}=t;return e.$$set=e=>{"tooltip"in e&&n(0,c=e.tooltip),"multiline"in e&&n(1,d=e.multiline),"zIndex"in e&&n(9,u=e.zIndex),"isEnabled"in e&&n(2,p=e.isEnabled),"isFlexItem"in e&&n(3,g=e.isFlexItem),"width"in e&&n(10,m=e.width),"parentIsRTL"in e&&n(11,h=e.parentIsRTL),"ignoreTextDirection"in e&&n(12,f=e.ignoreTextDirection),"showProShield"in e&&n(4,v=e.showProShield),"dataTestId"in e&&n(5,_=e.dataTestId),"$$scope"in e&&n(13,a=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&n(8,o=h||!f&&"rtl"===Pa()),1024&e.$$.dirty&&n(7,i=m?`width: ${m}px`:""),512&e.$$.dirty&&n(6,r=`--tooltip-z-index: ${u};`)},[c,d,p,g,v,_,r,i,o,u,m,h,f,a,s]}class gb extends rf{constructor(e){super(),of(this,e,pb,ub,Em,{tooltip:0,multiline:1,zIndex:9,isEnabled:2,isFlexItem:3,width:10,parentIsRTL:11,ignoreTextDirection:12,showProShield:4,dataTestId:5})}}function mb(e){let t,n;return{c(){t=Km("div"),nh(t,"class",n=Om(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),nh(t,"style",e[3])},m(e,n){Gm(e,t,n)},p(e,o){1&o&&n!==(n=Om(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&nh(t,"class",n)},i:fm,o:fm,d(e){e&&Wm(t)}}}function hb(e){let t,n;return t=new gb({props:{tooltip:e[2],zIndex:"5",$$slots:{default:[fb]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.tooltip=e[2]),515&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function fb(e){let t,n;return{c(){t=Km("div"),nh(t,"class",n=Om(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),nh(t,"style",e[3]),nh(t,"data-testid",e[1])},m(e,n){Gm(e,t,n)},p(e,o){1&o&&n!==(n=Om(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&nh(t,"class",n),2&o&&nh(t,"data-testid",e[1])},d(e){e&&Wm(t)}}}function vb(e){let t,n,o,i;const r=[hb,mb],s=[];function a(e,t){return e[2]?0:1}return t=a(e),n=s[t]=r[t](e),{c(){n.c(),o=Xm()},m(e,n){s[t].m(e,n),Gm(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?s[t].p(e,i):(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh(),n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o))},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),s[t].d(e)}}}function _b(e,t,n){let o,{write:i=!1}=t,{translator:r=!1}=t,{size:s=20}=t,{marginStart:a=0}=t,{marginEnd:l=0}=t,{alternateColor:c=""}=t,{dataTestId:d=""}=t;const u=`height: ${s}px; width: ${s}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;return i?o=chrome.i18n.getMessage("tooltip_write_fully_encrypted"):r&&(o=chrome.i18n.getMessage("tooltip_translator_fully_encrypted")),e.$$set=e=>{"write"in e&&n(4,i=e.write),"translator"in e&&n(5,r=e.translator),"size"in e&&n(6,s=e.size),"marginStart"in e&&n(7,a=e.marginStart),"marginEnd"in e&&n(8,l=e.marginEnd),"alternateColor"in e&&n(0,c=e.alternateColor),"dataTestId"in e&&n(1,d=e.dataTestId)},[c,d,o,u,i,r,s,a,l]}class wb extends rf{constructor(e){super(),of(this,e,_b,vb,Em,{write:4,translator:5,size:6,marginStart:7,marginEnd:8,alternateColor:0,dataTestId:1})}}function bb(e){let t,n,o,i,r;return{c(){t=Km("button"),n=Km("span"),nh(n,"class","svelte-1s7srmc"),nh(t,"aria-label",o=e[0]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),nh(t,"class","switch svelte-1s7srmc"),nh(t,"data-testid",e[3]),nh(t,"data-qa",e[2]),ch(t,"checked",e[0]),ch(t,"disabled",e[1])},m(o,s){Gm(o,t,s),Hm(t,n),i||(r=Qm(t,"click",e[4]),i=!0)},p(e,[n]){1&n&&o!==(o=e[0]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on"))&&nh(t,"aria-label",o),8&n&&nh(t,"data-testid",e[3]),4&n&&nh(t,"data-qa",e[2]),1&n&&ch(t,"checked",e[0]),2&n&&ch(t,"disabled",e[1])},i:fm,o:fm,d(e){e&&Wm(t),i=!1,r()}}}function yb(e,t,n){let{checked:o=!1}=t,{disabled:i=!1}=t,{qaRoot:r="dl-switch"}=t,{dataTestId:s="deepl-switch"}=t;const a=Eh();return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"disabled"in e&&n(1,i=e.disabled),"qaRoot"in e&&n(2,r=e.qaRoot),"dataTestId"in e&&n(3,s=e.dataTestId)},[o,i,r,s,function(){i||a("change",{checked:!o})}]}class Eb extends rf{constructor(e){super(),of(this,e,yb,bb,Em,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}function Tb(e){return t(this,void 0,void 0,(function*(){const t=yield Rn({action:Dn.dlGetCustomLogo,payload:{logoId:e}});if(t&&t.logoUrl)return t.logoUrl}))}function xb(e){let t,n,o,i;return{c(){t=Km("button"),nh(t,"style",e[1]),nh(t,"data-testid",e[0]),nh(t,"aria-label",n=e[3]||chrome.i18n.getMessage("deepl_logo")),nh(t,"class","svelte-1rkiqjb"),ch(t,"dl-logo-with-text",e[2]),ch(t,"dl-logo",!e[2]),ch(t,"disabled",e[5])},m(n,r){Gm(n,t,r),o||(i=Qm(t,"click",e[9]),o=!0)},p(e,o){2&o&&nh(t,"style",e[1]),1&o&&nh(t,"data-testid",e[0]),8&o&&n!==(n=e[3]||chrome.i18n.getMessage("deepl_logo"))&&nh(t,"aria-label",n),4&o&&ch(t,"dl-logo-with-text",e[2]),4&o&&ch(t,"dl-logo",!e[2]),32&o&&ch(t,"disabled",e[5])},d(e){e&&Wm(t),o=!1,i()}}}function $b(e){let t,n;return{c(){t=Km("img"),nh(t,"style",e[4]),xm(t.src,n=e[6])||nh(t,"src",n),nh(t,"alt",chrome.i18n.getMessage("deepl_logo")),nh(t,"data-testid",e[0]),nh(t,"class","svelte-1rkiqjb")},m(e,n){Gm(e,t,n)},p(e,o){16&o&&nh(t,"style",e[4]),64&o&&!xm(t.src,n=e[6])&&nh(t,"src",n),1&o&&nh(t,"data-testid",e[0])},d(e){e&&Wm(t)}}}function Sb(e){let t;function n(e,t){return e[6]?$b:xb}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,[r]){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},i:fm,o:fm,d(e){e&&Wm(t),i.d(e)}}}function Cb(e,t,n){let o;Sm(e,Pv,(e=>n(8,o=e)));var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let r,{testId:s="deepl-logo"}=t,{style:a}=t,{hasText:l=!1}=t,{ariaLabel:c}=t,{whiteLabelStyle:d}=t,{disabled:u=!1}=t,{skipPolicyCheck:p=!1}=t;return e.$$set=e=>{"testId"in e&&n(0,s=e.testId),"style"in e&&n(1,a=e.style),"hasText"in e&&n(2,l=e.hasText),"ariaLabel"in e&&n(3,c=e.ariaLabel),"whiteLabelStyle"in e&&n(4,d=e.whiteLabelStyle),"disabled"in e&&n(5,u=e.disabled),"skipPolicyCheck"in e&&n(7,p=e.skipPolicyCheck)},e.$$.update=()=>{256&e.$$.dirty&&(o&&o.isLoggedIn?function(){i(this,void 0,void 0,(function*(){const e=yield Fl();(p||e)&&(null==o?void 0:o.whiteLabelLogoId)&&Tb(o.whiteLabelLogoId).then((e=>n(6,r=e))).catch((()=>n(6,r=void 0)))}))}():n(6,r=void 0))},[s,a,l,c,d,u,r,p,o,function(t){$h.call(this,e,t)}]}class kb extends rf{constructor(e){super(),of(this,e,Cb,Sb,Em,{testId:0,style:1,hasText:2,ariaLabel:3,whiteLabelStyle:4,disabled:5,skipPolicyCheck:7})}}function Lb(e){let t,n,o,i,r,s,a,l,c,d,u=e[1]&&Ab();return a=new Eb({props:{checked:e[3].isGDocsEnabled}}),a.$on("change",e[8]),{c(){t=Km("div"),u&&u.c(),n=Jm(),o=Km("div"),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_setting_switch")}`,r=Jm(),s=Km("div"),ef(a.$$.fragment),nh(i,"class","legend"),nh(s,"class","switch svelte-kujks8"),nh(o,"class","turn-on-off-panel svelte-kujks8"),nh(t,"class","dl-gdocs-top-icon-modal svelte-kujks8"),rh(t,"left",e[2]+"px"),nh(t,"dir",Pa())},m(p,g){Gm(p,t,g),u&&u.m(t,null),Hm(t,n),Hm(t,o),Hm(o,i),Hm(o,r),Hm(o,s),tf(a,s,null),l=!0,c||(d=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=Ab(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGDocsEnabled),a.$set(i),(!l||4&o)&&rh(t,"left",e[2]+"px")},i(e){l||(Wh(a.$$.fragment,e),l=!0)},o(e){Vh(a.$$.fragment,e),l=!1},d(e){e&&Wm(t),u&&u.d(),nf(a),c=!1,bm(d)}}}function Ab(e){let t,n,o,i,r,s,a,l,c,d,u=chrome.i18n.getMessage("ui_gdocs_welcome_usp1")+"",p=chrome.i18n.getMessage("ui_gdocs_welcome_usp2")+"",g=chrome.i18n.getMessage("ui_gdocs_welcome_usp3")+"";return{c(){t=Km("div"),n=Km("div"),o=Km("p"),o.textContent=`${chrome.i18n.getMessage("ui_gdocs_welcome_title")}`,i=Jm(),r=Km("div"),s=Km("div"),a=Jm(),l=Km("div"),c=Jm(),d=Km("div"),nh(o,"class","svelte-kujks8"),nh(n,"class","header svelte-kujks8"),nh(s,"class","ups-item svelte-kujks8"),nh(l,"class","ups-item svelte-kujks8"),nh(d,"class","ups-item svelte-kujks8"),nh(r,"class","ups-list"),nh(t,"class","onboarding svelte-kujks8")},m(e,m){Gm(e,t,m),Hm(t,n),Hm(n,o),Hm(t,i),Hm(t,r),Hm(r,s),s.innerHTML=u,Hm(r,a),Hm(r,l),l.innerHTML=p,Hm(r,c),Hm(r,d),d.innerHTML=g},p:fm,d(e){e&&Wm(t)}}}function Ib(e){let t,n,o,i,r,s,a;n=new kb({});let l=e[0]&&Lb(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),l&&l.c(),i=Xm(),nh(t,"class","dl-gdocs-top-icon svelte-kujks8"),rh(t,"left",e[2]+"px"),ch(t,"onboarding-pending",!e[3].isGDocsOnboardingShown)},m(c,d){Gm(c,t,d),tf(n,t,null),Gm(c,o,d),l&&l.m(c,d),Gm(c,i,d),r=!0,s||(a=Qm(t,"click",e[7]),s=!0)},p(e,[n]){(!r||4&n)&&rh(t,"left",e[2]+"px"),(!r||8&n)&&ch(t,"onboarding-pending",!e[3].isGDocsOnboardingShown),e[0]?l?(l.p(e,n),1&n&&Wh(l,1)):(l=Lb(e),l.c(),Wh(l,1),l.m(i.parentNode,i)):l&&(zh(),Vh(l,1,1,(()=>{l=null})),Gh())},i(e){r||(Wh(n.$$.fragment,e),Wh(l),r=!0)},o(e){Vh(n.$$.fragment,e),Vh(l),r=!1},d(e){e&&(Wm(t),Wm(o),Wm(i)),nf(n),l&&l.d(e),s=!1,a()}}}function Ob(e,t,n){let o;const i=Xw();Sm(e,i,(e=>n(3,o=e)));let r,{registerTopToolbarIconCallbacks:s}=t,{clearTopToolbarIconCallbacks:a}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector("#titlebar-mode-indicator-container"),t=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),o=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const t=e.getBoundingClientRect();n(2,r=o?n(2,r=t.left+40-32):t.left-40)}else if(t){const e=t.getBoundingClientRect();n(2,r=o?n(2,r=e.left+40-32):e.left-40)}};bh((()=>{d(),s({repositionTopToolbarIcon:d})})),yh((()=>{a()}));return e.$$set=e=>{"registerTopToolbarIconCallbacks"in e&&n(5,s=e.registerTopToolbarIconCallbacks),"clearTopToolbarIconCallbacks"in e&&n(6,a=e.clearTopToolbarIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&Rn({action:Ln.dlTrackOnboardingModalShown,payload:{nicheIntegration:at.gdocs}})},[l,c,r,o,i,s,a,()=>{n(0,l=!0),o.isGDocsOnboardingShown||(Dm(i,o.isGDocsOnboardingShown=!0,o),n(1,c=!0))},e=>Dm(i,o.isGDocsEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class Db extends rf{constructor(e){super(),of(this,e,Ob,Ib,Em,{registerTopToolbarIconCallbacks:5,clearTopToolbarIconCallbacks:6})}}function Mb(e){let t,n,o,i,r,s,a,l,c,d,u;o=new gb({props:{tooltip:e[5],showProShield:Bn(e[1],xt.TRANSLATOR),zIndex:"10000000000",$$slots:{default:[Rb]},$$scope:{ctx:e}}});let p=e[4]&&Nb(e);return a=new gb({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_turn_off"),zIndex:"10000000000",$$slots:{default:[Ub]},$$scope:{ctx:e}}}),{c(){t=Km("div"),n=Km("button"),ef(o.$$.fragment),i=Jm(),p&&p.c(),r=Jm(),s=Km("button"),ef(a.$$.fragment),nh(n,"class","dl-icon-circle svelte-pdj05r"),ch(n,"isTranslateDisabled",e[0]),nh(s,"class","dl-icon-circle dl-on-off-icon svelte-pdj05r"),nh(s,"data-qa","deepl-inline-translate-menu-icon"),nh(t,"class","dl-gdocs-icon svelte-pdj05r"),rh(t,"top",e[6].top),rh(t,"left",e[6].left),nh(t,"dir",Pa()),ch(t,"has-deepl-write",e[4])},m(l,g){Gm(l,t,g),Hm(t,n),tf(o,n,null),Hm(t,i),p&&p.m(t,null),Hm(t,r),Hm(t,s),tf(a,s,null),c=!0,d||(u=[Qm(n,"click",e[27]),Qm(n,"mouseenter",e[28]),Qm(s,"click",e[11]),Qm(s,"mouseenter",e[31])],d=!0)},p(e,i){const s={};32&i[0]&&(s.tooltip=e[5]),2&i[0]&&(s.showProShield=Bn(e[1],xt.TRANSLATOR)),1&i[0]|16&i[2]&&(s.$$scope={dirty:i,ctx:e}),o.$set(s),(!c||1&i[0])&&ch(n,"isTranslateDisabled",e[0]),e[4]?p?(p.p(e,i),16&i[0]&&Wh(p,1)):(p=Nb(e),p.c(),Wh(p,1),p.m(t,r)):p&&(zh(),Vh(p,1,1,(()=>{p=null})),Gh());const l={};16&i[2]&&(l.$$scope={dirty:i,ctx:e}),a.$set(l),(!c||64&i[0])&&rh(t,"top",e[6].top),(!c||64&i[0])&&rh(t,"left",e[6].left),(!c||16&i[0])&&ch(t,"has-deepl-write",e[4])},i(e){c||(Wh(o.$$.fragment,e),Wh(p),Wh(a.$$.fragment,e),l||Dh((()=>{l=Zh(t,uf,{duration:300}),l.start()})),c=!0)},o(e){Vh(o.$$.fragment,e),Vh(p),Vh(a.$$.fragment,e),c=!1},d(e){e&&Wm(t),nf(o),p&&p.d(),nf(a),d=!1,bm(u)}}}function Rb(e){let t,n;return t=new kb({props:{disabled:e[0],whiteLabelStyle:"border-radius: 50%; display: block;",style:"display: block;"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Nb(e){let t,n,o,i,r;return n=new gb({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_deepl_write"),showProShield:Bn(e[1],xt.WRITE),zIndex:"10000000000",$$slots:{default:[Pb]},$$scope:{ctx:e}}}),{c(){t=Km("button"),ef(n.$$.fragment),nh(t,"class","dl-icon-circle dl-write-icon svelte-pdj05r")},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=[Qm(t,"click",e[29]),Qm(t,"mouseenter",e[30])],i=!0)},p(e,t){const o={};2&t[0]&&(o.showProShield=Bn(e[1],xt.WRITE)),16&t[2]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,bm(r)}}}function Pb(e){let t;return{c(){t=Km("span"),nh(t,"class","svelte-pdj05r")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function Ub(e){let t;return{c(){t=Km("span"),nh(t,"class","svelte-pdj05r")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function qb(e){let t,n,o,i;t=new Db({props:{registerTopToolbarIconCallbacks:e[12],clearTopToolbarIconCallbacks:e[13]}});let r=e[7]&&!e[2]&&!e[3]&&Mb(e);return{c(){ef(t.$$.fragment),n=Jm(),r&&r.c(),o=Xm()},m(e,s){tf(t,e,s),Gm(e,n,s),r&&r.m(e,s),Gm(e,o,s),i=!0},p(e,t){!e[7]||e[2]||e[3]?r&&(zh(),Vh(r,1,1,(()=>{r=null})),Gh()):r?(r.p(e,t),140&t[0]&&Wh(r,1)):(r=Mb(e),r.c(),Wh(r,1),r.m(o.parentNode,o))},i(e){i||(Wh(t.$$.fragment,e),Wh(r),i=!0)},o(e){Vh(t.$$.fragment,e),Vh(r),i=!1},d(e){e&&(Wm(n),Wm(o)),nf(t,e),r&&r.d(e)}}}function Bb(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(1,r=e)));var s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let a,l,c,d,u,p,g,m,h,{replaceData:f}=t,{contentProcessBuildingBlocks:v}=t,{deeplWriteTrackingData:_={lang:"",sourceLength:0,targetLength:0,nicheIntegration:at.gdocs,error:"",trigger:""}}=t,w=!0,b=!1,y="",E="",T=!1,x="",$={top:0,left:0};function S(e){return e.action===bc.translate.dlTriggerTranslationShortcut&&(k(),Rn({action:Ln.dlTrackUseOfShortcut,payload:{shortcutType:De,location:Z,nicheIntegration:at.gdocs}}),!1)}const C=e=>{p=dt.translate,e&&(g=e),Og()},k=()=>{i||C(r.selectedTargetLanguage)},L=()=>{p=dt.write,Og()},A=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:o}}=Rg();e!==b&&n(3,b=e),n(6,$.left=`${Math.round(t)}px`,$),n(6,$.top=`${Math.round(o)}px`,$)};function I(e){Rn({action:Ln.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:at.gdocs}})}const O=()=>{a=setInterval((()=>{const e=Dg();if(!e)return;const t=!e.text;!t&&w&&A(),t&&!w&&(()=>{if(!r.isInlineHighlighterShown){Pv.set({isInlineHighlighterShown:!0});try{Rn({action:Ln.dlTrackCloseInlineHighlighter,payload:{trigger:rt}})}catch(e){}}})(),n(2,w=t),y!==e.text&&n(25,y=e.text)}),300)},D=()=>{const e=document.querySelector("#docs-instant-bubble");c=new MutationObserver((()=>{A()}));return c.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>null==c?void 0:c.disconnect()},M=e=>s(void 0,void 0,void 0,(function*(){if(p&&("ClipboardEvent"===e.constructor.name||e.constructor.toString().includes("ClipboardEvent"))){switch(p){case dt.translate:Zq({event:e,targetLang:g});break;case dt.write:Yq({event:e,lang:E})}p=void 0}})),R=()=>{var e;O(),(()=>{const e=document.querySelector("#kix-appview");l=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(A(),D())}));const t={attributes:!1,childList:!0,characterData:!1};e&&l.observe(e,t)})(),(()=>{const e=new ResizeObserver((()=>{A(),m&&m()}));e.observe(document.body)})(),null===(e=document.querySelector("#kix-appview .kix-appview-editor"))||void 0===e||e.addEventListener("scroll",A),(()=>{const{editable:e}=Ig();null==e||e.addEventListener("copy",M)})(),(()=>{const e=document.querySelector("#docs-presence-container");d=new ResizeObserver((()=>{m&&m()})),d.observe(e)})(),(()=>{const e=document.querySelector("#docs-titlebar");u=new ResizeObserver((()=>{m&&m()})),u.observe(e)})()},N=()=>{var e;l&&l.disconnect(),c&&c.disconnect(),a&&clearInterval(a),null===(e=document.querySelector("#kix-appview .kix-appview-editor"))||void 0===e||e.removeEventListener("scroll",A),(()=>{const{editable:e}=Ig();null==e||e.removeEventListener("copy",M)})(),d&&d.disconnect(),u&&u.disconnect()};bh((()=>{R(),chrome.runtime.onMessage.addListener(S),Rn({action:$n.dlCheckCommandShortcuts}).then((e=>n(26,x=e?e.filter((e=>e.name==De))[0].shortcut:"")))})),yh((()=>{N()}));return e.$$set=e=>{"replaceData"in e&&n(16,f=e.replaceData),"contentProcessBuildingBlocks"in e&&n(14,v=e.contentProcessBuildingBlocks),"deeplWriteTrackingData"in e&&n(17,_=e.deeplWriteTrackingData)},e.$$.update=()=>{var t;if(2&e.$$.dirty[0]&&n(7,o=r&&r.isGDocsEnabled),2&e.$$.dirty[0]&&n(0,i=Hn(r,xt.TRANSLATOR)),33554432&e.$$.dirty[0]&&(t=y,s(void 0,void 0,void 0,(function*(){const e=yield La(t);E=e,n(4,T=!r.hideWrite&&Ra(E)&&!Hn(r,xt.WRITE))}))),67108865&e.$$.dirty[0])if(i)n(5,h=chrome.i18n.getMessage("contact_admin_info_translate_disabled"));else{const e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");n(5,h=x?`${e} (${x})`:e)}},[i,r,w,b,T,h,$,o,k,L,I,()=>{Pv.set({isGDocsEnabled:!1}),Rn({action:Ln.dlTrackCustomizationEnabledEvent,payload:{nicheIntegration:at.gdocs,uiLocation:Z,customizationEnabled:!1}})},e=>{m=e.repositionTopToolbarIcon},()=>{m=void 0},v,undefined,f,_,e=>{n(14,v=e)},()=>v,()=>{f&&zg(f)},C,()=>{gB(Object.assign({eventType:kt},_))},()=>{gB(Object.assign({eventType:Lt},_))},e=>{switch(e){case Nt:gB(Object.assign({eventType:At},_));break;case Pt:Rn({action:Ln.dlTrackGDocsMaxCharExceededTryProClicked,payload:{sourceLang:_.lang,targetLang:_.lang,sourceLength:_.sourceLength}})}},y,x,()=>i?null:k(),()=>I(Z),()=>L(),()=>I(ue),()=>I(Y)]}class Fb extends rf{constructor(e){super(),of(this,e,Bb,qb,Em,{onClose:15,replaceData:16,contentProcessBuildingBlocks:14,deeplWriteTrackingData:17,setContentProcessBuildingBlocks:18,getContentProcessBuildingBlocks:19,applyReplacement:20,requestTranslation:21,trackDeeplWriteInsertCopy:22,trackDeeplWriteDiscardCopy:23,trackMaxCharExceeded:24},null,[-1,-1,-1])}get onClose(){return this.$$.ctx[15]}get setContentProcessBuildingBlocks(){return this.$$.ctx[18]}get getContentProcessBuildingBlocks(){return this.$$.ctx[19]}get applyReplacement(){return this.$$.ctx[20]}get requestTranslation(){return this.$$.ctx[21]}get trackDeeplWriteInsertCopy(){return this.$$.ctx[22]}get trackDeeplWriteDiscardCopy(){return this.$$.ctx[23]}get trackMaxCharExceeded(){return this.$$.ctx[24]}}class Hb{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new Fb({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})},this.setReplaceData=e=>{this.domElement.mainComponent.$$set({replaceData:e})},this.setDeeplWriteTrackingData=e=>{this.domElement.mainComponent.$$set({deeplWriteTrackingData:e})},this.trackDeeplWriteInsertCopy=()=>this.domElement.mainComponent.trackDeeplWriteInsertCopy(),this.trackDeeplWriteDiscardCopy=()=>this.domElement.mainComponent.trackDeeplWriteDiscardCopy(),this.trackMaxCharExceeded=e=>this.domElement.mainComponent.trackMaxCharExceeded(e),this.applyReplacement=()=>{this.domElement.mainComponent.applyReplacement()},this.requestNewTranslation=e=>{this.domElement.mainComponent.requestTranslation(e)},this.setContentProcessBuildingBlocks=e=>this.domElement.mainComponent.setContentProcessBuildingBlocks(e),this.getContentProcessBuildingBlocks=()=>this.domElement.mainComponent.getContentProcessBuildingBlocks(),this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function jb(e){let t,n;return t=new kb({}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function zb(e){let t,n;return t=new kb({}),t.$on("click",e[13]),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Gb(e){let t,n,o=e[6]===dt.translate&&Wb(e),i=e[6]===dt.write&&Zb();return{c(){o&&o.c(),t=Jm(),i&&i.c(),n=Xm()},m(e,r){o&&o.m(e,r),Gm(e,t,r),i&&i.m(e,r),Gm(e,n,r)},p(e,r){e[6]===dt.translate?o?o.p(e,r):(o=Wb(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[6]===dt.write?i?i.p(e,r):(i=Zb(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&(Wm(t),Wm(n)),o&&o.d(e),i&&i.d(e)}}}function Wb(e){let t;function n(e,t){return e[10]?.customTranslatorName?Kb:Vb}let o=n(e),i=o(e);return{c(){t=Km("span"),i.c(),nh(t,"class","translator-name svelte-1tthjxl")},m(e,n){Gm(e,t,n),i.m(t,null)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&Wm(t),i.d()}}}function Vb(e){let t,n=chrome.i18n.getMessage("layout_tab_translator")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function Kb(e){let t,n=e[10].customTranslatorName+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p(e,o){1024&o&&n!==(n=e[10].customTranslatorName+"")&&oh(t,n)},d(e){e&&Wm(t)}}}function Zb(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,nh(t,"class","translator-name svelte-1tthjxl")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function Yb(e){let t,n;return t=new wb({props:{size:24,write:e[6]===dt.write,translator:e[6]===dt.translate}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.write=e[6]===dt.write),64&n&&(o.translator=e[6]===dt.translate),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Jb(e){let t,n,o,i;return o=new zw({props:{value:e[10].selectedTargetLanguage,websiteSettings:e[4],isAlignedToTheRight:e[5]===at.gdocs,customClass:"dropdown__wrapper--header",fontSize:"sm",showRecentlyUsed:!0}}),o.$on("selection",e[17]),{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),nh(n,"class","dl-actions-language-selector__dropdown svelte-1tthjxl"),nh(t,"class","dl-actions-language-selector svelte-1tthjxl")},m(e,r){Gm(e,t,r),Hm(t,n),tf(o,n,null),i=!0},p(e,t){const n={};1024&t&&(n.value=e[10].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),32&t&&(n.isAlignedToTheRight=e[5]===at.gdocs),o.$set(n)},i(e){i||(Wh(o.$$.fragment,e),i=!0)},o(e){Vh(o.$$.fragment,e),i=!1},d(e){e&&Wm(t),nf(o)}}}function Xb(e){let t,n,o;return{c(){t=Km("button"),nh(t,"class","dl-settings-icon svelte-1tthjxl"),nh(t,"data-qa","deepl-layour-header-settings-link")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[14]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function Qb(e){let t,n;return t=new lb({}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function ey(e){let t,n,o;return{c(){t=Km("button"),nh(t,"type","button"),nh(t,"class","dl-close-icon svelte-1tthjxl")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",(function(){ym(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Wm(t),n=!1,o()}}}function ty(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v;const _=[zb,jb],w=[];o=function(e){return e[13]?0:1}(e),i=w[o]=_[o](e);let b=e[9]&&Gb(e),y=e[8]&&Yb(e);l=new Zw({});let E=e[6]===dt.translate&&e[2]&&e[10]&&e[4]&&Jb(e),T=e[7]&&Xb(e),x=e[1]&&Qb(),$=e[0]&&ey(e);return{c(){t=Km("div"),n=Km("div"),i.c(),r=Jm(),b&&b.c(),s=Jm(),y&&y.c(),a=Jm(),ef(l.$$.fragment),c=Jm(),d=Km("div"),E&&E.c(),u=Jm(),T&&T.c(),p=Jm(),x&&x.c(),g=Jm(),$&&$.c(),nh(n,"class","logo-translator-name-container svelte-1tthjxl"),nh(d,"class","dl-actions svelte-1tthjxl"),nh(t,"class",m=Om("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl")},m(i,m){Gm(i,t,m),Hm(t,n),w[o].m(n,null),Hm(n,r),b&&b.m(n,null),Hm(n,s),y&&y.m(n,null),Hm(n,a),tf(l,n,null),Hm(t,c),Hm(t,d),E&&E.m(d,null),Hm(d,u),T&&T.m(d,null),Hm(d,p),x&&x.m(d,null),Hm(d,g),$&&$.m(d,null),h=!0,f||(v=Qm(t,"mousedown",th(eh(e[16]))),f=!0)},p(e,[o]){i.p(e,o),e[9]?b?b.p(e,o):(b=Gb(e),b.c(),b.m(n,s)):b&&(b.d(1),b=null),e[8]?y?(y.p(e,o),256&o&&Wh(y,1)):(y=Yb(e),y.c(),Wh(y,1),y.m(n,a)):y&&(zh(),Vh(y,1,1,(()=>{y=null})),Gh()),e[6]===dt.translate&&e[2]&&e[10]&&e[4]?E?(E.p(e,o),1108&o&&Wh(E,1)):(E=Jb(e),E.c(),Wh(E,1),E.m(d,u)):E&&(zh(),Vh(E,1,1,(()=>{E=null})),Gh()),e[7]?T?T.p(e,o):(T=Xb(e),T.c(),T.m(d,p)):T&&(T.d(1),T=null),e[1]?x?2&o&&Wh(x,1):(x=Qb(),x.c(),Wh(x,1),x.m(d,g)):x&&(zh(),Vh(x,1,1,(()=>{x=null})),Gh()),e[0]?$?$.p(e,o):($=ey(e),$.c(),$.m(d,null)):$&&($.d(1),$=null),(!h||4&o&&m!==(m=Om("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl"))&&nh(t,"class",m)},i(e){h||(Wh(i),Wh(y),Wh(l.$$.fragment,e),Wh(E),Wh(x),h=!0)},o(e){Vh(i),Vh(y),Vh(l.$$.fragment,e),Vh(E),Vh(x),h=!1},d(e){e&&Wm(t),w[o].d(),b&&b.d(),y&&y.d(),nf(l),E&&E.d(),T&&T.d(),x&&x.d(),$&&$.d(),f=!1,v()}}}function ny(e,t,n){let o,i,r=fm,s=()=>(r(),r=$m(h,(e=>n(18,o=e))),h),a=fm,l=()=>(a(),a=$m(m,(e=>n(10,i=e))),m);e.$$.on_destroy.push((()=>r())),e.$$.on_destroy.push((()=>a()));var c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{closeWindow:d}=t,{showMenu:u=!1}=t,{showLangSelect:p=!1}=t,{settings:m}=t;l();let{websiteSettings:h}=t;s();let{extensionContext:f=I.none}=t,{platformBehaviour:v=at.default}=t,{textProcessingMode:_=dt.translate}=t,{showSettingsIcon:b=!0}=t,{showProStatus:y=!1}=t,{showServiceName:E=!1}=t;function T(e){return c(this,void 0,void 0,(function*(){yield m.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),h.update({translationState:g.ongoingTranslation}),Rn({action:Sn.dlRequestInlineTranslation,payload:{requests:[{text:o.originalSnippet}],domainName:window.location.hostname,trigger:w,sourceLang:"auto",websiteLanguage:o.websiteLanguage}}).then((e=>{h.update({translationState:g.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{h.update({translationState:g.none,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}))}function x(e){return c(this,void 0,void 0,(function*(){yield m.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e.value)}))}return e.$$set=e=>{"closeWindow"in e&&n(0,d=e.closeWindow),"showMenu"in e&&n(1,u=e.showMenu),"showLangSelect"in e&&n(2,p=e.showLangSelect),"settings"in e&&l(n(3,m=e.settings)),"websiteSettings"in e&&s(n(4,h=e.websiteSettings)),"extensionContext"in e&&n(15,f=e.extensionContext),"platformBehaviour"in e&&n(5,v=e.platformBehaviour),"textProcessingMode"in e&&n(6,_=e.textProcessingMode),"showSettingsIcon"in e&&n(7,b=e.showSettingsIcon),"showProStatus"in e&&n(8,y=e.showProStatus),"showServiceName"in e&&n(9,E=e.showServiceName)},[d,u,p,m,h,v,_,b,y,E,i,T,x,function(){let e=po;Rn({action:Ln.dlTrackLogoClickedEvent,payload:{extensionContext:f}}),_===dt.write&&(e=go),Rn({action:On.dlExternalURLRedirect,payload:{destination:e,utmContent:"gdocs_logo"}})},function(){Rn({action:On.dlOpenInternalPage,payload:{destination:Ww.settings_page}})},f,function(t){$h.call(this,e,t)},e=>{switch(v){case at.gdocs:x(e.detail.selectedOption);break;case at.default:default:T(e.detail.selectedOption)}}]}Hb.HTML_TAG_NAME="deepl-gdocs-icon",Hb.createElement=(e=document)=>{const t=e.createElement(Hb.HTML_TAG_NAME),n=new Hb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setReplaceData=n.setReplaceData,t.applyReplacement=n.applyReplacement,t.requestNewTranslation=n.requestNewTranslation,t.setDeeplWriteTrackingData=n.setDeeplWriteTrackingData,t.trackDeeplWriteInsertCopy=n.trackDeeplWriteInsertCopy,t.trackDeeplWriteDiscardCopy=n.trackDeeplWriteDiscardCopy,t.trackMaxCharExceeded=n.trackMaxCharExceeded,t.setContentProcessBuildingBlocks=n.setContentProcessBuildingBlocks,t.getContentProcessBuildingBlocks=n.getContentProcessBuildingBlocks,t.className="gdocs-icon-container",t};let oy=class extends rf{constructor(e){super(),of(this,e,ny,ty,Em,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:15,platformBehaviour:5,textProcessingMode:6,showSettingsIcon:7,showProStatus:8,showServiceName:9})}};function iy(e){let t,n;return t=new oy({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],textProcessingMode:e[8],showSettingsIcon:e[9],showProStatus:e[10],showServiceName:e[11]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.textProcessingMode=e[8]),512&n&&(o.showSettingsIcon=e[9]),1024&n&&(o.showProStatus=e[10]),2048&n&&(o.showServiceName=e[11]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function ry(e){let t,n,o,i,r,s=e[3]&&iy(e);const a=e[14].default,l=Cm(a,e,e[13],null);return{c(){t=Km("div"),s&&s.c(),n=Jm(),o=Km("div"),l&&l.c(),nh(o,"class","dl-content svelte-jwy61a"),nh(t,"class",i=Om(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"),nh(t,"translate","no"),nh(t,"dir",e[12])},m(e,i){Gm(e,t,i),s&&s.m(t,null),Hm(t,n),Hm(t,o),l&&l.m(o,null),r=!0},p(e,[o]){e[3]?s?(s.p(e,o),8&o&&Wh(s,1)):(s=iy(e),s.c(),Wh(s,1),s.m(t,n)):s&&(zh(),Vh(s,1,1,(()=>{s=null})),Gh()),l&&l.p&&(!r||8192&o)&&Am(l,a,e,e[13],r?Lm(a,e[13],o,null):Im(e[13]),null),(!r||4&o&&i!==(i=Om(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"))&&nh(t,"class",i)},i(e){r||(Wh(s),Wh(l,e),r=!0)},o(e){Vh(s),Vh(l,e),r=!1},d(e){e&&Wm(t),s&&s.d(),l&&l.d(e)}}}function sy(e,t,n){let{$$slots:o={},$$scope:i}=t;const r=xh("text_direction");let{closeWindow:s}=t,{showMenu:a=!1}=t,{showLangSelect:l=!1}=t,{withHeader:c=!0}=t,{settings:d}=t,{websiteSettings:u}=t,{extensionContext:p}=t,{platformBehaviour:g=at.default}=t,{textProcessingMode:m=dt.translate}=t,{showSettingsIcon:h=!0}=t,{showProStatus:f=!1}=t,{showServiceName:v=!1}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,s=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,l=e.showLangSelect),"withHeader"in e&&n(3,c=e.withHeader),"settings"in e&&n(4,d=e.settings),"websiteSettings"in e&&n(5,u=e.websiteSettings),"extensionContext"in e&&n(6,p=e.extensionContext),"platformBehaviour"in e&&n(7,g=e.platformBehaviour),"textProcessingMode"in e&&n(8,m=e.textProcessingMode),"showSettingsIcon"in e&&n(9,h=e.showSettingsIcon),"showProStatus"in e&&n(10,f=e.showProStatus),"showServiceName"in e&&n(11,v=e.showServiceName),"$$scope"in e&&n(13,i=e.$$scope)},[s,a,l,c,d,u,p,g,m,h,f,v,r,i,o]}let ay=class extends rf{constructor(e){super(),of(this,e,sy,ry,Em,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,textProcessingMode:8,showSettingsIcon:9,showProStatus:10,showServiceName:11})}};function ly(e){let t,n,o,i,r,s,a,l,c,d;return{c(){t=Km("div"),n=Km("input"),o=Jm(),i=Km("div"),r=Jm(),s=Km("label"),a=Ym(e[3]),nh(n,"id",e[1]),nh(n,"name",e[4]),nh(n,"type","radio"),n.checked=e[2],nh(n,"data-qa",e[6]),nh(n,"class","svelte-7ghl4"),nh(i,"class","radio-icon svelte-7ghl4"),nh(s,"for",e[1]),nh(s,"class","svelte-7ghl4"),nh(t,"class",l=Om(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-7ghl4")},m(l,u){Gm(l,t,u),Hm(t,n),ih(n,e[0]),Hm(t,o),Hm(t,i),Hm(t,r),Hm(t,s),Hm(s,a),c||(d=[Qm(n,"change",e[10]),Qm(n,"change",e[8]),Qm(n,"mousedown",th(eh(e[9]))),Qm(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&nh(n,"id",e[1]),16&o&&nh(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&nh(n,"data-qa",e[6]),1&o&&ih(n,e[0]),8&o&&oh(a,e[3]),2&o&&nh(s,"for",e[1]),36&o&&l!==(l=Om(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-7ghl4")&&nh(t,"class",l)},i:fm,o:fm,d(e){e&&Wm(t),c=!1,bm(d)}}}function cy(e,t,n){let{id:o}=t,{checked:i=!1}=t,{label:r=""}=t,{value:s=""}=t,{name:a=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,i=e.checked),"label"in e&&n(3,r=e.label),"value"in e&&n(0,s=e.value),"name"in e&&n(4,a=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[s,o,i,r,a,l,c,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(){s=this.value,n(0,s)}]}class dy extends rf{constructor(e){super(),of(this,e,cy,ly,Em,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}const uy=[/[^.]+\.deepl\.com/g,/[^.]+\.figma\.com/g],py=[/docs.google\.com\/spreadsheets/g],gy=[/[^.]+\.deepl\.com/g];function my(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function hy(e,t){return my(e,uy)||my(t,py)}function fy(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function vy(e){try{return new URL(e),!0}catch(e){return!1}}function _y(e){let t,n,o;return n=new ay({props:{withHeader:!1,$$slots:{default:[wy]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"data-testid","dl-inline-translate-turnoff-settings")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};524297&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function wy(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w,b,y=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new dy({props:{name:"disable_inline_translation",id:Ue,value:Ue,cssClassName:"radio--with-border",checked:e[3]===Ue,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[12]),d=new dy({props:{name:"disable_inline_translation",id:qe,value:qe,cssClassName:"radio--with-border",checked:e[3]===qe,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[13]),{c(){t=Km("div"),n=Km("button"),o=Jm(),i=Km("div"),r=Km("p"),r.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,s=Jm(),a=Km("div"),ef(l.$$.fragment),c=Jm(),ef(d.$$.fragment),u=Jm(),p=Km("div"),g=Km("span"),g.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,m=Jm(),h=Km("button"),f=Ym(y),nh(n,"type","button"),nh(n,"class","close-icon svelte-crkkzg"),nh(t,"class","header svelte-crkkzg"),nh(r,"class","font-bold svelte-crkkzg"),nh(a,"class","option-container svelte-crkkzg"),nh(g,"class","link svelte-crkkzg"),nh(g,"data-qa","close-settings-popup-link"),nh(h,"class",v=Om("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-crkkzg"),nh(h,"data-qa","save-settings-change-button"),nh(p,"class","action-container svelte-crkkzg"),nh(i,"class","dl-widget svelte-crkkzg")},m(v,y){Gm(v,t,y),Hm(t,n),Gm(v,o,y),Gm(v,i,y),Hm(i,r),Hm(i,s),Hm(i,a),tf(l,a,null),Hm(a,c),tf(d,a,null),Hm(i,u),Hm(i,p),Hm(p,g),Hm(p,m),Hm(p,h),Hm(h,f),_=!0,w||(b=[Qm(n,"click",th(eh((function(){ym(e[0])&&e[0].apply(this,arguments)})))),Qm(t,"mousedown",th(eh(e[11]))),Qm(g,"click",(function(){ym(e[0])&&e[0].apply(this,arguments)})),Qm(h,"click",th(eh(e[6]))),Qm(i,"mousedown",th(eh(e[10])))],w=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===Ue),l.$set(o);const i={};8&n&&(i.checked=e[3]===qe),d.$set(i),(!_||8&n&&v!==(v=Om("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-crkkzg"))&&nh(h,"class",v)},i(e){_||(Wh(l.$$.fragment,e),Wh(d.$$.fragment,e),_=!0)},o(e){Vh(l.$$.fragment,e),Vh(d.$$.fragment,e),_=!1},d(e){e&&(Wm(t),Wm(o),Wm(i)),nf(l),nf(d),w=!1,bm(b)}}}function by(e){let t,n,o,i,r=e[4].enableInlineTranslation&&_y(e);return{c(){t=Km("div"),r&&r.c(),nh(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-crkkzg"),nh(t,"data-qa","deepl-inline-settings-tooltip"),nh(t,"style",e[2]),nh(t,"dir",Pa())},m(s,a){Gm(s,t,a),r&&r.m(t,null),e[14](t),n=!0,o||(i=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[15])],o=!0)},p(e,[o]){e[4].enableInlineTranslation?r?(r.p(e,o),16&o&&Wh(r,1)):(r=_y(e),r.c(),Wh(r,1),r.m(t,null)):r&&(zh(),Vh(r,1,1,(()=>{r=null})),Gh()),(!n||4&o)&&nh(t,"style",e[2])},i(e){n||(Wh(r),n=!0)},o(e){Vh(r),n=!1},d(n){n&&Wm(t),r&&r.d(),e[14](null),o=!1,bm(i)}}}function yy(e,t,n){let o;Sm(e,Pv,(e=>n(4,o=e))),Th("text_direction",Pa());let i,r,s,{closeTooltip:a}=t,{replaceElement:l}=t,c="visibility: hidden; opacity:0; height:0;",d="";function u(e){n(3,d=e)}bh((()=>{setTimeout((()=>{n(2,c="")}),100),s=N_(i,(({clientHeight:e})=>{n(9,r=e)}))})),yh((()=>{s&&s()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,a=e.closeTooltip),"replaceElement"in e&&n(8,l=e.replaceElement)},e.$$.update=()=>{768&e.$$.dirty&&l(r)},[a,i,c,d,o,u,function(){if(!d)return;switch(d){case qe:Pv.set({enableInlineTranslation:!1}),Rn({action:Ln.dlTrackSettingChanged,payload:{settingType:qe,domainName:window.location.hostname,uiFunction:Fe,uiLocation:J}});break;case Ue:!function(){let e=o.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),Pv.set({blacklistDomainsForReading:e}),Rn({action:Ln.dlTrackSettingChanged,payload:{settingType:Ue,domainName:window.location.hostname,uiFunction:Fe,uiLocation:J}}))}()}const e=fy(window.location.hostname,["www."]);a(),Rn({action:Tn.dlSendNotification,payload:{type:F,options:{theme:K.green_theme,currentDomain:e,saveAction:d,settingsPageURL:Ww.settings_reading}}})},e=>{n(3,d=e.currentTarget.value)},l,r,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},()=>u(Ue),()=>u(qe),function(e){Ch[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},()=>a()]}class Ey extends rf{constructor(e){super(),of(this,e,yy,by,Em,{closeTooltip:0,replaceElement:8})}}class Ty{constructor(e){this.createDOM=(e,t)=>{const{deepl_inline_ui:n}=U;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.domElement.shadowContainer.appendChild(this.domElement.container);const i=null==e?void 0:e.top,r=window.innerHeight-((null==e?void 0:e.bottom)||0);let s="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),a=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new Ey({target:this.domElement.container,props:{closeTooltip:t,replaceElement:t=>{const d=i>o;r>o?l=e.y+8:d&&(l=e.y-30-t-4),r<o&&i<o&&(s=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,a=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.domElement.container.style.top=`${parseInt(l)}px`,this.domElement.container.style.left=`${parseInt(c)}px`}}})},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}}Ty.HTML_TAG_NAME="deepl-inline-translate-settings-tooltip",Ty.createElement=(e=document)=>{const t=e.createElement(Ty.HTML_TAG_NAME),n=new Ty(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const xy=e=>({top:null==e?void 0:e.selectedTop,bottom:window.innerHeight-(null==e?void 0:e.selectedBottom),right:null==e?void 0:e.selectedRight,left:null==e?void 0:e.selectedLeft}),$y=e=>{const{coords:t,clientHeight:n}=e,o=xy(t),i={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(i))if(e.isPossible)return e.position},Sy=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},Cy=(e,t,n)=>{const{coords:o,clientHeight:i,style:r,TOOLTIP_WIDTH:s,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":r.top=o.y-o.height-i-2-a-n.y+"px",r.left=Sy(t)-n.x+"px";break;case"bottom":r.top=o.y+2+a-n.y+"px",r.left=Sy(t)-n.x+"px";break;case"left":r.top=$y(t)-n.y+"px",r.left=o.x-s-2-n.x+"px";break;case"right":r.top=$y(t)-n.y+"px",r.left=o.x+o.selectedWidth+2-n.x+"px";break;default:r.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px",r.left=window.innerWidth/2-s/2-n.x+"px"}},ky=(e,t,n)=>{const{coords:o,clientHeight:i,TOOLTIP_WIDTH:r,style:s}=t;switch(s.left=o.x-r-10-n.x+"px",e){case"top":s.top=o.y-i-n.y+"px";break;case"bottom":s.top=o.y-o.height-n.y+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px"}},Ly=(e,t)=>{const n=Ay(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},Ay=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,i=xy(o);return{left:i.left>t,right:i.right>t,bottom:i.bottom>n,top:i.top>n}},Iy=e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]};function Oy(e){return e.preventDefault(),!1}function Dy(e,t){e.dataTransfer.setData("text/html","");let n=e.target.getBoundingClientRect(),o={x:0,y:0};const i=e.clientX-n.left,r=e.clientY-n.top;return i>0&&(o.x=i),r>0&&(o.y=r),function(e){try{Rn({action:Ln.dlTrackInlineDragStart,payload:{nicheIntegration:e}})}catch(e){}}(t),{dragElementRect:n,dragOffset:o}}function My({dropEvent:e,document:t,dragConfig:n}){if(e.preventDefault(),0===e.y||0===e.x)return null;const{dragOffset:o,dragElementRect:i,dragBarWidth:r}=n,s=t.body.getBoundingClientRect();let a;return a=e.pageX-o.x>s.width-i.width?s.width-i.width-r>0?s.width-i.width-r:0:e.pageX-o.x,{x:a,y:e.pageY-o.y}}function Ry(e){return e&&function(e){let t="";for(const n of e){const e=n.match(/[a-z0-9\s]+/i),o=void 0!==n.codePointAt(1);t+=e||o?n:"&#"+n.charCodeAt(0)+";"}return t}(e).replaceAll("\n","<br />")}function Ny(e){let t;return{c(){t=Km("div"),t.innerHTML='<svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" aria-label="Loading"><path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10ZM4 12a8 8 0 1 0 16 0 8 8 0 0 0-16 0Z" fill="#f1f1f1" stroke-width="1.5" vector-effect="non-scaling-stroke"></path><path d="M12 2a10 10 0 0 1 10 10h-2a7.999 7.999 0 0 0-8-8V2Z" fill="#0f2b46" stroke-width="1.5" vector-effect="non-scaling-stroke"></path></svg>',nh(t,"class","loader svelte-1g6k7ws"),ch(t,"small",e[0]),ch(t,"tiny",e[1])},m(e,n){Gm(e,t,n)},p(e,[n]){1&n&&ch(t,"small",e[0]),2&n&&ch(t,"tiny",e[1])},i:fm,o:fm,d(e){e&&Wm(t)}}}function Py(e,t,n){let{small:o=!1}=t,{tiny:i=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small),"tiny"in e&&n(1,i=e.tiny)},[o,i]}class Uy extends rf{constructor(e){super(),of(this,e,Py,Ny,Em,{small:0,tiny:1})}}function qy(e){let t,n,o;return{c(){t=Km("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-sfmd6f"></span>',nh(t,"type","button"),nh(t,"class","dl-btn svelte-sfmd6f"),nh(t,"data-qa","dl-toolbar-copy-button"),ch(t,"dl-btn-active",e[0])},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"click",e[1]),Qm(t,"mouseleave",e[2])],n=!0)},p(e,n){1&n&&ch(t,"dl-btn-active",e[0])},d(e){e&&Wm(t),n=!1,bm(o)}}}function By(e){let t,n;return t=new gb({props:{zIndex:300,tooltip:chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[qy]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.tooltip=chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy")),129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Fy(e,t,n){let{text:o}=t,{targetLang:i}=t,{platformBehaviour:r=at.default}=t,s=!1;return e.$$set=e=>{"text"in e&&n(3,o=e.text),"targetLang"in e&&n(4,i=e.targetLang),"platformBehaviour"in e&&n(5,r=e.platformBehaviour)},[s,function(){navigator.clipboard.writeText(o).then((function(){n(0,s=!0)}),(function(e){})),function(e){try{Rn({action:Ln.dlTrackInlineCopy,payload:e})}catch(e){}}({targetLang:i,targetLength:o.length,nicheIntegration:r})},function(){setTimeout((()=>{n(0,s=!1)}),300)},o,i,r]}class Hy extends rf{constructor(e){super(),of(this,e,Fy,By,Em,{text:3,targetLang:4,platformBehaviour:5})}}function jy(e){let t,n,o,i,r,s,a,l,c;return{c(){t=Km("div"),n=Km("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=Jm(),i=Km("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,nh(n,"class","list-entry svelte-16m1mav"),nh(n,"data-qa","dl-toolbar-listener-button-target-lang"),ch(n,"dl-entry-notAvailable",!e[0]),nh(i,"class","list-entry svelte-16m1mav"),nh(i,"data-qa","dl-toolbar-listener-button-source-lang"),ch(i,"dl-entry-notAvailable",!e[1]),nh(t,"class","listen-list svelte-16m1mav"),nh(t,"data-qa","dl-toolbar-listener-element-langs")},m(r,s){Gm(r,t,s),Hm(t,n),Hm(t,o),Hm(t,i),a=!0,l||(c=[Qm(n,"click",(function(){ym(e[2])&&e[2].apply(this,arguments)})),Qm(i,"click",(function(){ym(e[3])&&e[3].apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!a||1&o)&&ch(n,"dl-entry-notAvailable",!e[0]),(!a||2&o)&&ch(i,"dl-entry-notAvailable",!e[1])},i(e){a||(Dh((()=>{a&&(s&&s.end(1),r=Zh(t,pf,{y:-5,duration:500}),r.start())})),a=!0)},o(e){r&&r.invalidate(),s=Yh(t,pf,{y:-5,duration:500}),a=!1},d(e){e&&Wm(t),e&&s&&s.end(),l=!1,bm(c)}}}function zy(e,t,n){let{isAvailableSelectedTargetLang:o}=t,{isAvailableSourceLang:i}=t,{onTargetListen:r}=t,{onSourceListen:s}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,o=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,i=e.isAvailableSourceLang),"onTargetListen"in e&&n(2,r=e.onTargetListen),"onSourceListen"in e&&n(3,s=e.onSourceListen)},[o,i,r,s]}class Gy extends rf{constructor(e){super(),of(this,e,zy,jy,Em,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,onTargetListen:2,onSourceListen:3})}}function Wy(e){let t,n,o,i,r;return n=new gb({props:{tooltip:e[8],zIndex:300,$$slots:{default:[Ky]},$$scope:{ctx:e}}}),{c(){t=Km("fragment"),ef(n.$$.fragment),nh(t,"role","navigation")},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=[Qm(t,"mouseover",e[11]),Qm(t,"focus",e[11]),Qm(t,"mouseleave",e[15])],i=!0)},p(e,t){const o={};256&t&&(o.tooltip=e[8]),2097407&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,bm(r)}}}function Vy(e){let t,n;return t=new Gy({props:{isAvailableSelectedTargetLang:e[6],isAvailableSourceLang:e[7],onTargetListen:e[13],onSourceListen:e[14]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.isAvailableSelectedTargetLang=e[6]),128&n&&(o.isAvailableSourceLang=e[7]),10&n&&(o.onTargetListen=e[13]),5&n&&(o.onSourceListen=e[14]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Ky(e){let t,n,o,i,r,s,a=e[5]&&Vy(e);return{c(){t=Km("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=Jm(),a&&a.c(),o=Xm(),nh(t,"type","button"),nh(t,"class","dl-btn svelte-17suwwx"),nh(t,"data-qa","dl-toolbar-listener-button"),ch(t,"dl-btn-active",e[4]),ch(t,"dl-btn-hovered",e[5])},m(l,c){Gm(l,t,c),Gm(l,n,c),a&&a.m(l,c),Gm(l,o,c),i=!0,r||(s=Qm(t,"click",e[10]),r=!0)},p(e,n){(!i||16&n)&&ch(t,"dl-btn-active",e[4]),(!i||32&n)&&ch(t,"dl-btn-hovered",e[5]),e[5]?a?(a.p(e,n),32&n&&Wh(a,1)):(a=Vy(e),a.c(),Wh(a,1),a.m(o.parentNode,o)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh())},i(e){i||(Wh(a),i=!0)},o(e){Vh(a),i=!1},d(e){e&&(Wm(t),Wm(n),Wm(o)),a&&a.d(e),r=!1,s()}}}function Zy(e){let t,n,o=(e[6]||e[7])&&Wy(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[6]||e[7]?o?(o.p(e,n),192&n&&Wh(o,1)):(o=Wy(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function Yy(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let i,{platformBehaviour:r=at.default}=t,{sourceLang:s=""}=t,{targetLang:a=""}=t,{sourceText:l=""}=t,{targetText:c=""}=t,d=!1,u=!1,p=!1,g=!1;function m(){Rn({action:En.dlStopSpeech}),n(4,i=void 0)}function h(e,t){const n=t===ct,o={targetLang:n?a:s,targetLength:n?c.length:l.length,actionType:e,nicheIntegration:r,textKind:t,context:dt.translate};try{Rn({action:Ln.dlTrackInlineListen,payload:o})}catch(e){}}function f(e,t,r){return o(this,void 0,void 0,(function*(){i||(Rn({action:En.dlTextToSpeech,payload:{text:e,lang:t}}),n(4,i=r),h(He,r),n(5,p=!1))}))}function v(e){switch(e.action){case"dlVoiceOverStopped":return n(4,i=void 0),!1;case"dlVoiceOverErrorOccurred":return!1}return!1}function _(e){try{Rn({action:Ln.dlTrackVoiceOverStops,payload:e})}catch(e){}}chrome.runtime.onMessage.addListener(v),yh((()=>{if(i){const e=i===ct;_({targetLang:e?a:s,targetLength:e?c.length:l.length,triggerType:R,nicheIntegration:r,textKind:i,context:dt.translate})}m(),chrome.runtime.onMessage.removeListener(v)}));return e.$$set=e=>{"platformBehaviour"in e&&n(12,r=e.platformBehaviour),"sourceLang"in e&&n(0,s=e.sourceLang),"targetLang"in e&&n(1,a=e.targetLang),"sourceText"in e&&n(2,l=e.sourceText),"targetText"in e&&n(3,c=e.targetText)},e.$$.update=()=>{51&e.$$.dirty&&(a&&Rn({action:En.dlGetSupportedVoices}).then((e=>{n(6,d=e.includes(["EN-US","EN-GB"].includes(a)?"EN":["ES-419"].includes(a)?"ES":["PT-PT","PT-BR"].includes(a)?"PT":["ZH-HANT"].includes(a)?"ZH":a)),n(7,u=e.includes(s))})),!p&&i?setTimeout((()=>{n(8,g=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(8,g=!1))},[s,a,l,c,i,p,d,u,g,f,function(){if(i){const e=i;m();const t=e===ct;n(4,i=void 0),_({targetLang:t?a:s,targetLength:t?c.length:l.length,triggerType:M,nicheIntegration:r,textKind:e,context:dt.translate}),h(je,e)}else n(5,p=!0)},function(){i||n(5,p=!0)},r,()=>f(c,a,ct),()=>f(l,s,lt),()=>n(5,p=!1)]}class Jy extends rf{constructor(e){super(),of(this,e,Yy,Zy,Em,{platformBehaviour:12,sourceLang:0,targetLang:1,sourceText:2,targetText:3})}}function Xy(e){let t,n,o,i;return{c(){t=Km("button"),nh(t,"type","button"),nh(t,"class","dl-replace-button svelte-9vlams"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,r){Gm(n,t,r),o||(i=Qm(t,"click",th(eh(e[5]))),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&Wm(t),o=!1,i()}}}function Qy(e){let t,n;return t=new gb({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[Xy]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),524&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function eE(e,t,n){let o,i,r=fm,s=()=>(r(),r=$m(c,(e=>n(7,o=e))),c),a=fm,l=()=>(a(),a=$m(d,(e=>n(8,i=e))),d);e.$$.on_destroy.push((()=>r())),e.$$.on_destroy.push((()=>a()));let{websiteSettings:c}=t;s();let{settings:d}=t;l();let u,{onClose:p}=t,m=!1,h=o.translationState===g.anonymousUserMaxCharExceeded;return bh((()=>{n(2,u=Ng())})),e.$$set=e=>{"websiteSettings"in e&&s(n(0,c=e.websiteSettings)),"settings"in e&&l(n(1,d=e.settings)),"onClose"in e&&n(6,p=e.onClose)},[c,d,u,m,h,function(){var e;const t=Dg().text;n(3,m=!0);const r=document.querySelector("deepl-gdocs-icon");r&&(r.applyReplacement(),p(),Rn({action:Ln.dlTrackGDocsReplaceText,payload:{sourceLang:o.websiteLanguage,targetLang:null==i?void 0:i.selectedTargetLanguage,sourceLength:t.length,targetLength:null===(e=o.translatedSnippet)||void 0===e?void 0:e.length}}))},p]}class tE extends rf{constructor(e){super(),of(this,e,eE,Qy,Em,{websiteSettings:0,settings:1,onClose:6})}}function nE(e){let t,n,o=Lg(e[4])+"";return{c(){t=Km("div"),n=Km("div"),nh(t,"class","tooltip-linguee svelte-12unkt2")},m(e,i){Gm(e,t,i),Hm(t,n),n.innerHTML=o},p(e,t){16&t&&o!==(o=Lg(e[4])+"")&&(n.innerHTML=o)},d(e){e&&Wm(t)}}}function oE(e){let t,n;return t=new tE({props:{websiteSettings:e[0],settings:Pv,onClose:e[5]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.websiteSettings=e[0]),32&n&&(o.onClose=e[5]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function iE(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w,b,y,E,T,x,$,S=e[4]&&nE(e);w=new Jy({props:{sourceLang:e[7].websiteLanguage,targetLang:e[8].selectedTargetLanguage,sourceText:e[7].originalSnippet,targetText:e[7].translatedSnippet,platformBehaviour:e[6]}}),y=new Hy({props:{targetLang:e[8].selectedTargetLanguage,text:e[7].translatedSnippet,platformBehaviour:e[6]}});let C=e[6]===at.gdocs&&oE(e);return{c(){t=Km("div"),n=Km("div"),o=Km("button"),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,r=Jm(),s=Km("span"),a=Jm(),l=Km("fragment"),c=Km("div"),d=Km("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=Jm(),p=Km("div"),g=Jm(),m=Km("div"),f=Jm(),S&&S.c(),v=Jm(),_=Km("div"),ef(w.$$.fragment),b=Jm(),ef(y.$$.fragment),E=Jm(),C&&C.c(),nh(s,"class","icon icon-external-link svelte-12unkt2"),nh(o,"type","button"),nh(o,"class","link svelte-12unkt2"),nh(n,"class","dl-link-container"),nh(d,"class","dict-text svelte-12unkt2"),nh(p,"class","img_book svelte-12unkt2"),ch(p,"shown-dict",e[2]),nh(m,"class","img_arrow svelte-12unkt2"),ch(m,"shown-dict",e[2]),nh(c,"class",h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-12unkt2"),nh(c,"data-qa","dl-toolbar-dictionary-button"),rh(l,"position","relative"),nh(_,"class","dl-btn-group svelte-12unkt2"),nh(t,"class","dl-toolbar svelte-12unkt2")},m(h,k){Gm(h,t,k),Hm(t,n),Hm(n,o),Hm(o,i),Hm(o,r),Hm(o,s),Hm(t,a),Hm(t,l),Hm(l,c),Hm(c,d),Hm(c,u),Hm(c,p),Hm(c,g),Hm(c,m),Hm(l,f),S&&S.m(l,null),Hm(t,v),Hm(t,_),tf(w,_,null),Hm(_,b),tf(y,_,null),Hm(_,E),C&&C.m(_,null),T=!0,x||($=[Qm(o,"click",e[9]),Qm(c,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),Qm(c,"mouseenter",e[10])],x=!0)},p(t,[n]){e=t,(!T||4&n)&&ch(p,"shown-dict",e[2]),(!T||4&n)&&ch(m,"shown-dict",e[2]),(!T||12&n&&h!==(h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-12unkt2"))&&nh(c,"class",h),e[4]?S?S.p(e,n):(S=nE(e),S.c(),S.m(l,null)):S&&(S.d(1),S=null);const o={};128&n&&(o.sourceLang=e[7].websiteLanguage),256&n&&(o.targetLang=e[8].selectedTargetLanguage),128&n&&(o.sourceText=e[7].originalSnippet),128&n&&(o.targetText=e[7].translatedSnippet),64&n&&(o.platformBehaviour=e[6]),w.$set(o);const i={};256&n&&(i.targetLang=e[8].selectedTargetLanguage),128&n&&(i.text=e[7].translatedSnippet),64&n&&(i.platformBehaviour=e[6]),y.$set(i),e[6]===at.gdocs?C?(C.p(e,n),64&n&&Wh(C,1)):(C=oE(e),C.c(),Wh(C,1),C.m(_,null)):C&&(zh(),Vh(C,1,1,(()=>{C=null})),Gh())},i(e){T||(Wh(w.$$.fragment,e),Wh(y.$$.fragment,e),Wh(C),T=!0)},o(e){Vh(w.$$.fragment,e),Vh(y.$$.fragment,e),Vh(C),T=!1},d(e){e&&Wm(t),S&&S.d(),nf(w),nf(y),C&&C.d(),x=!1,bm($)}}}function rE(e,t,n){let o,i,r=fm,s=()=>(r(),r=$m(a,(e=>n(7,o=e))),a);Sm(e,Pv,(e=>n(8,i=e))),e.$$.on_destroy.push((()=>r()));let{websiteSettings:a}=t;s();let{switchVisibilityDictionary:l}=t,{showDictionary:c=!1}=t,{enableDictionaryButton:d}=t,{dictionaryButtonError:u}=t,{onClose:p}=t,{platformBehaviour:g=at.default}=t;return e.$$set=e=>{"websiteSettings"in e&&s(n(0,a=e.websiteSettings)),"switchVisibilityDictionary"in e&&n(1,l=e.switchVisibilityDictionary),"showDictionary"in e&&n(2,c=e.showDictionary),"enableDictionaryButton"in e&&n(3,d=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(4,u=e.dictionaryButtonError),"onClose"in e&&n(5,p=e.onClose),"platformBehaviour"in e&&n(6,g=e.platformBehaviour)},[a,l,c,d,u,p,g,o,i,function(){const e={sourceLang:void 0,targetLang:void 0,textToShare:void 0};o&&i&&(e.sourceLang=o.websiteLanguage,e.targetLang=i.selectedTargetLanguage,e.textToShare=o.originalSnippet),Rn({action:On.dlExternalURLRedirect,payload:Object.assign({destination:uo},e)});try{Rn({action:Ln.dlTrackUiAction,payload:{uiAction:Re,nicheIntegration:g}})}catch(e){}},function(){if(!d)try{Rn({action:Ln.dlTrackDisabledDictionaryHover,payload:{}})}catch(e){}}]}class sE extends rf{constructor(e){super(),of(this,e,rE,iE,Em,{websiteSettings:0,switchVisibilityDictionary:1,showDictionary:2,enableDictionaryButton:3,dictionaryButtonError:4,onClose:5,platformBehaviour:6})}}function aE(e){let t,n,o,i,r,s;return{c(){t=Km("div"),n=Km("button"),n.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,o=Jm(),i=Km("button"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,nh(n,"class","btn-primary svelte-1g9zfvm"),nh(i,"class","btn-secondary svelte-1g9zfvm"),nh(t,"class","dl-toolbar svelte-1g9zfvm")},m(a,l){Gm(a,t,l),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=[Qm(n,"click",e[0]),Qm(i,"click",e[1])],r=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),r=!1,bm(s)}}}function lE(e,t,n){let{onClose:o}=t;return e.$$set=e=>{"onClose"in e&&n(2,o=e.onClose)},[()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&(e.applyReplacement(),e.trackDeeplWriteInsertCopy()),o()},()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&e.trackDeeplWriteDiscardCopy(),o()},o]}class cE extends rf{constructor(e){super(),of(this,e,lE,aE,Em,{onClose:2})}}function dE(e){let t,n,o,i,r,s=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=Km("p"),n=Ym(e[0]),o=Jm(),i=Km("pre"),r=Ym(s),nh(i,"class","debug-settings svelte-mu7va1")},m(e,s){Gm(e,t,s),Hm(t,n),Gm(e,o,s),Gm(e,i,s),Hm(i,r)},p(e,[t]){1&t&&oh(n,e[0]),2&t&&s!==(s=JSON.stringify(e[1](),void 0,2)+"")&&oh(r,s)},i:fm,o:fm,d(e){e&&(Wm(t),Wm(o),Wm(i))}}}function uE(e,t,n){let{headline:o="JSON block"}=t,{jsonData:i=()=>""}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,i=e.jsonData)},[o,i]}class pE extends rf{constructor(e){super(),of(this,e,uE,dE,Em,{headline:0,jsonData:1})}}function gE(e,t){return function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return zl.get(n)}(e=xa(e),t=xa(t))}function mE(e){return t(this,void 0,void 0,(function*(){let{interfaceLang:t,sourceLang:n,targetLang:o,text:i}=e;var r;t&&(r=t,jl.has(r.toUpperCase()))||(t="EN"),t=$a(t).toUpperCase(),yield(Oh(),Ah);try{return yield Rn({action:Cn.dlGetDictionary,payload:{interfaceLang:t,sourceLang:n,targetLang:o,text:i}})}catch(e){throw Rn({action:Ln.dlTrackLingueeErrorData,payload:{lingueeError:e.error}}),e}}))}function hE(e){return t(this,void 0,void 0,(function*(){const t=e.enabled?N:P,n=e.langPair;try{yield Rn({action:Ln.dlTrackDictionaryStatus,payload:{status:t,langPair:n}})}catch(e){}}))}function fE(e){let t,n,o,i,r=Lg(e[0])+"";return{c(){t=Km("div"),n=Km("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=Jm(),i=new uh(!1),nh(n,"lang","scss"),i.a=null},m(e,s){Gm(e,t,s),Hm(t,n),Hm(t,o),i.m(r,t)},p(e,[t]){1&t&&r!==(r=Lg(e[0])+"")&&i.p(r)},i:fm,o:fm,d(e){e&&Wm(t)}}}function vE(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class _E extends rf{constructor(e){super(),of(this,e,vE,fE,Em,{html:0})}}function wE(e){let t,n,o,i;return n=new _E({props:{html:e[1]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl__dictionary svelte-1n7xyu1")},m(e,o){Gm(e,t,o),tf(n,t,null),i=!0},p(e,t){const o={};2&t&&(o.html=e[1]),n.$set(o)},i(e){i||(Wh(n.$$.fragment,e),o||Dh((()=>{o=Zh(t,pf,{y:-50,duration:700}),o.start()})),i=!0)},o(e){Vh(n.$$.fragment,e),i=!1},d(e){e&&Wm(t),nf(n)}}}function bE(e){let t,n,o=e[0]&&e[1]&&e[2]&&wE(e);return{c(){t=Km("div"),o&&o.c()},m(e,i){Gm(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[0]&&e[1]&&e[2]?o?(o.p(e,n),7&n&&Wh(o,1)):(o=wE(e),o.c(),Wh(o,1),o.m(t,null)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d()}}}function yE(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let i,r,s,a,l,c,d,u,{originalSnippet:p}=t,{sourceLanguage:g}=t,{targetLanguage:m}=t,{websiteLanguage:h}=t,{showDictionary:f}=t,{setDictionaryLauncherState:v}=t,{resetDictionary:_}=t;function w(){if(p&&p!==l){l=p;hE({enabled:!!r&&!!a&&d&&u,langPair:a})}}function b(){return o(this,void 0,void 0,(function*(){n(10,s="");const e={interfaceLang:chrome.i18n.getUILanguage(),sourceLang:h,targetLang:m,text:c};try{n(1,r=yield mE(e))}catch(e){n(10,s=function(e,t){let n=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary");return e==sl&&(n=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",t)),n}(e.error,c))}finally{w(),_()}}))}return e.$$set=e=>{"originalSnippet"in e&&n(3,p=e.originalSnippet),"sourceLanguage"in e&&n(4,g=e.sourceLanguage),"targetLanguage"in e&&n(5,m=e.targetLanguage),"websiteLanguage"in e&&n(6,h=e.websiteLanguage),"showDictionary"in e&&n(0,f=e.showDictionary),"setDictionaryLauncherState"in e&&n(7,v=e.setDictionaryLauncherState),"resetDictionary"in e&&n(8,_=e.resetDictionary)},e.$$.update=()=>{var t;if(8&e.$$.dirty&&(n(12,d=!!(t=p)&&1===t.trim().split(" ").length),n(13,u=function(e){return!!e&&e.trim().length<200}(p))),48&e.$$.dirty&&(m!==g&&g?n(2,a=gE(g,m)):(n(2,a=""),n(9,i=""))),14604&e.$$.dirty&&(p&&p.trim()!==c?(n(11,c=p.trim()),n(10,s=""),a&&d&&u?(n(9,i=a),b()):(n(1,r=""),w(),_())):_()),12804&e.$$.dirty&&a!=i&&a&&d&&u&&(n(10,s=""),b()),5254&e.$$.dirty){let e="";s?e=s:d?a?r||(e=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary")):e=chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair"):e=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word");v({enableDictionaryButton:!!r&&d&&!!a&&!s,dictionaryButtonError:e})}if(1&e.$$.dirty&&f)try{Rn({action:Ln.dlTrackOpenDictionarySection,payload:{}})}catch(e){}},[f,r,a,p,g,m,h,v,_,i,s,c,d,u]}class EE extends rf{constructor(e){super(),of(this,e,yE,bE,Em,{originalSnippet:3,sourceLanguage:4,targetLanguage:5,websiteLanguage:6,showDictionary:0,setDictionaryLauncherState:7,resetDictionary:8})}}function TE(e,t,n){const o=e.slice();return o[12]=t[n],o}function xE(e,t,n){const o=e.slice();return o[15]=t[n],o}function $E(e){let t,n,o=Xh(e[7].contentReference),i=[];for(let t=0;t<o.length;t+=1)i[t]=LE(TE(e,o,t));return{c(){t=Km("div");for(let e=0;e<i.length;e+=1)i[e].c();nh(t,"class","preview-text-scroller svelte-9sirg6"),nh(t,"dir",n=Pa(e[0]===dt.translate?e[8].selectedTargetLanguage:e[8].gdocsWriteLang))},m(e,n){Gm(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,r){if(128&r){let n;for(o=Xh(e[7].contentReference),n=0;n<o.length;n+=1){const s=TE(e,o,n);i[n]?i[n].p(s,r):(i[n]=LE(s),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}257&r&&n!==(n=Pa(e[0]===dt.translate?e[8].selectedTargetLanguage:e[8].gdocsWriteLang))&&nh(t,"dir",n)},d(e){e&&Wm(t),Vm(i,e)}}}function SE(e){let t;return{c(){t=Km("div"),nh(t,"class","dl-untranslatable-line svelte-9sirg6")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function CE(e){let t,n,o=Xh(e[7].textLinesComponents[e[12].index]),i=[];for(let t=0;t<o.length;t+=1)i[t]=kE(xE(e,o,t));return{c(){t=Km("div");for(let e=0;e<i.length;e+=1)i[e].c();n=Jm(),nh(t,"class","dl-translatable-line svelte-9sirg6")},m(e,o){Gm(e,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);Hm(t,n)},p(e,r){if(128&r){let s;for(o=Xh(e[7].textLinesComponents[e[12].index]),s=0;s<o.length;s+=1){const a=xE(e,o,s);i[s]?i[s].p(a,r):(i[s]=kE(a),i[s].c(),i[s].m(t,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}},d(e){e&&Wm(t),Vm(i,e)}}}function kE(e){let t,n,o,i,r,s=e[7].processedSentences[e[15]].prefix+"",a=jg(e[7].processedSentences[e[15]].text)+"";return{c(){t=Km("span"),n=Ym(s),o=Jm(),i=Km("span"),r=Ym(a),nh(t,"class","sentence-prefix"),nh(i,"class","sentence-text"),nh(i,"tabindex",-1),nh(i,"aria-hidden","true")},m(e,s){Gm(e,t,s),Hm(t,n),Gm(e,o,s),Gm(e,i,s),Hm(i,r)},p(e,t){128&t&&s!==(s=e[7].processedSentences[e[15]].prefix+"")&&oh(n,s),128&t&&a!==(a=jg(e[7].processedSentences[e[15]].text)+"")&&oh(r,a)},d(e){e&&(Wm(t),Wm(o),Wm(i))}}}function LE(e){let t;function n(e,t){return e[12].isTranslatable?CE:SE}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function AE(e){let t,n,o;return n=new sE({props:{platformBehaviour:at.gdocs,websiteSettings:e[1],showDictionary:e[2],switchVisibilityDictionary:e[3],enableDictionaryButton:e[4],dictionaryButtonError:e[5],onClose:e[6]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl-inline-translate-toolbar-frame svelte-9sirg6")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.websiteSettings=e[1]),4&t&&(o.showDictionary=e[2]),8&t&&(o.switchVisibilityDictionary=e[3]),16&t&&(o.enableDictionaryButton=e[4]),32&t&&(o.dictionaryButtonError=e[5]),64&t&&(o.onClose=e[6]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function IE(e){let t,n;return t=new cE({props:{onClose:e[6]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.onClose=e[6]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function OE(e){let t,n,o,i,r=e[7]&&e[7].contentReference&&$E(e),s=e[0]===dt.translate&&AE(e),a=e[0]===dt.write&&IE(e);return{c(){t=Km("div"),r&&r.c(),n=Jm(),s&&s.c(),o=Jm(),a&&a.c()},m(e,l){Gm(e,t,l),r&&r.m(t,null),Hm(t,n),s&&s.m(t,null),Hm(t,o),a&&a.m(t,null),i=!0},p(e,[i]){e[7]&&e[7].contentReference?r?r.p(e,i):(r=$E(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),e[0]===dt.translate?s?(s.p(e,i),1&i&&Wh(s,1)):(s=AE(e),s.c(),Wh(s,1),s.m(t,o)):s&&(zh(),Vh(s,1,1,(()=>{s=null})),Gh()),e[0]===dt.write?a?(a.p(e,i),1&i&&Wh(a,1)):(a=IE(e),a.c(),Wh(a,1),a.m(t,null)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh())},i(e){i||(Wh(s),Wh(a),i=!0)},o(e){Vh(s),Vh(a),i=!1},d(e){e&&Wm(t),r&&r.d(),s&&s.d(),a&&a.d()}}}function DE(e,t,n){let o;const i=Xw();Sm(e,i,(e=>n(8,o=e)));let r,s,{textProcessingMode:a=dt.translate}=t,{websiteSettings:l}=t,{showDictionary:c}=t,{switchVisibilityDictionary:d}=t,{enableDictionaryButton:u}=t,{dictionaryButtonError:p}=t,{onClose:g}=t;return bh((()=>{r=document.querySelector("deepl-gdocs-icon"),n(7,s=r.getContentProcessBuildingBlocks()),(()=>{if(s)try{const{processedText:e,processedEntities:t}=Hg({textLines:s.textLinesComponents.map((e=>e.map((e=>s.processedSentences[e].prefix+s.processedSentences[e].text)))),entities:s.entities,contentReference:s.contentReference});l.update({translatedSnippet:e}),r&&r.setReplaceData({entities:t,text:e,originalObject:s.originalObject})}catch(e){}})()})),e.$$set=e=>{"textProcessingMode"in e&&n(0,a=e.textProcessingMode),"websiteSettings"in e&&n(1,l=e.websiteSettings),"showDictionary"in e&&n(2,c=e.showDictionary),"switchVisibilityDictionary"in e&&n(3,d=e.switchVisibilityDictionary),"enableDictionaryButton"in e&&n(4,u=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(5,p=e.dictionaryButtonError),"onClose"in e&&n(6,g=e.onClose)},[a,l,c,d,u,p,g,s,o,i]}class ME extends rf{constructor(e){super(),of(this,e,DE,OE,Em,{textProcessingMode:0,websiteSettings:1,showDictionary:2,switchVisibilityDictionary:3,enableDictionaryButton:4,dictionaryButtonError:5,onClose:6})}}function RE(e){let t,n,o,i;return t=new pE({props:{headline:"Response - Translated DOM",jsonData:e[18]}}),o=new pE({props:{headline:"Request - Original DOM",jsonData:e[19]}}),{c(){ef(t.$$.fragment),n=Jm(),ef(o.$$.fragment)},m(e,r){tf(t,e,r),Gm(e,n,r),tf(o,e,r),i=!0},p(e,n){const i={};16&n&&(i.jsonData=e[18]),t.$set(i);const r={};16&n&&(r.jsonData=e[19]),o.$set(r)},i(e){i||(Wh(t.$$.fragment,e),Wh(o.$$.fragment,e),i=!0)},o(e){Vh(t.$$.fragment,e),Vh(o.$$.fragment,e),i=!1},d(e){e&&Wm(n),nf(t,e),nf(o,e)}}}function NE(e){let t,n,o,i,r,s,a=Lg(Ry(e[4].translatedSnippet))+"",l=e[3]===dt.translate&&FE(e),c=e[3]===dt.write&&HE(e);return{c(){t=Km("div"),o=Jm(),l&&l.c(),i=Jm(),c&&c.c(),r=Xm(),nh(t,"class","result-frame svelte-1ma3tqr"),nh(t,"dir",n=Pa(e[5].selectedTargetLanguage))},m(e,n){Gm(e,t,n),t.innerHTML=a,Gm(e,o,n),l&&l.m(e,n),Gm(e,i,n),c&&c.m(e,n),Gm(e,r,n),s=!0},p(e,o){(!s||16&o)&&a!==(a=Lg(Ry(e[4].translatedSnippet))+"")&&(t.innerHTML=a),(!s||32&o&&n!==(n=Pa(e[5].selectedTargetLanguage)))&&nh(t,"dir",n),e[3]===dt.translate?l?(l.p(e,o),8&o&&Wh(l,1)):(l=FE(e),l.c(),Wh(l,1),l.m(i.parentNode,i)):l&&(zh(),Vh(l,1,1,(()=>{l=null})),Gh()),e[3]===dt.write?c?(c.p(e,o),8&o&&Wh(c,1)):(c=HE(e),c.c(),Wh(c,1),c.m(r.parentNode,r)):c&&(zh(),Vh(c,1,1,(()=>{c=null})),Gh())},i(e){s||(Wh(l),Wh(c),s=!0)},o(e){Vh(l),Vh(c),s=!1},d(e){e&&(Wm(t),Wm(o),Wm(i),Wm(r)),l&&l.d(e),c&&c.d(e)}}}function PE(e){let t,n;return t=new ME({props:{textProcessingMode:e[3],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.textProcessingMode=e[3]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function UE(e){let t,n;return t=new E_({props:{error:e[4].error}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.error=e[4].error),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function qE(e){let t,n,o,i,r,s,a,l,c,d,u;function p(e,t){return e[3]===dt.translate?zE:jE}let g=p(e),m=g(e);function h(e,t){return e[3]===dt.translate?WE:GE}let f=h(e),v=f(e);function _(e,t){return e[3]===dt.translate?KE:VE}let w=_(e),b=w(e);return{c(){t=Km("div"),n=Km("p"),m.c(),o=Jm(),i=Km("div"),r=Km("h2"),v.c(),s=Jm(),b.c(),a=Jm(),l=Km("div"),c=Km("button"),c.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,nh(n,"class","counter svelte-1ma3tqr"),nh(r,"class","svelte-1ma3tqr"),nh(c,"class","svelte-1ma3tqr"),nh(l,"class","button-row svelte-1ma3tqr"),nh(i,"class","box svelte-1ma3tqr"),nh(t,"class","anonymous-user-max-char-exceeded svelte-1ma3tqr")},m(p,g){Gm(p,t,g),Hm(t,n),m.m(n,null),Hm(t,o),Hm(t,i),Hm(i,r),v.m(r,null),Hm(i,s),b.m(i,null),Hm(i,a),Hm(i,l),Hm(l,c),d||(u=Qm(c,"click",e[15]),d=!0)},p(e,t){g===(g=p(e))&&m?m.p(e,t):(m.d(1),m=g(e),m&&(m.c(),m.m(n,null))),f===(f=h(e))&&v?v.p(e,t):(v.d(1),v=f(e),v&&(v.c(),v.m(r,null))),w===(w=_(e))&&b?b.p(e,t):(b.d(1),b=w(e),b&&(b.c(),b.m(i,a)))},i:fm,o:fm,d(e){e&&Wm(t),m.d(),v.d(),b.d(),d=!1,u()}}}function BE(e){let t,n,o;return n=new Uy({}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","loading-spinner-container svelte-1ma3tqr")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function FE(e){let t,n;return t=new sE({props:{platformBehaviour:e[2],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function HE(e){let t,n;return t=new cE({props:{onClose:e[0]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function jE(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=Ym(o),n=Ym("/2000")},m(e,o){Gm(e,t,o),Gm(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&oh(t,o)},d(e){e&&(Wm(t),Wm(n))}}}function zE(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=Ym(o),n=Ym("/5000")},m(e,o){Gm(e,t,o),Gm(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&oh(t,o)},d(e){e&&(Wm(t),Wm(n))}}}function GE(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_improvement_title")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function WE(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function VE(e){let t;return{c(){t=Km("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body_write")}`},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function KE(e){let t;return{c(){t=Km("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function ZE(e){let t,n,o,i,r,s,a,l,c,d=!!Tp();const u=[BE,qE,UE,PE,NE,RE],p=[];function m(e,t){return 16&t&&(n=null),null==e[4]||e[4].translationState===g.ongoingTranslation?0:e[4].translationState===g.anonymousUserMaxCharExceeded?1:e[4].error?2:e[2]===at.gdocs?3:e[4].translatedSnippet?4:(null==n&&(n=!(!ja()||!e[4].translatedDOMSnippet)),n?5:-1)}~(o=m(e,-1))&&(i=p[o]=u[o](e)),s=new EE({props:{originalSnippet:e[4]?.originalSnippet,sourceLanguage:e[4]?.snippetDetectedSourceLang,targetLanguage:e[5].selectedTargetLanguage,websiteLanguage:e[4]?.websiteLanguage,showDictionary:e[7],setDictionaryLauncherState:e[12],resetDictionary:e[14]}});let h=d&&function(e){let t,n,o,i,r,s,a,l,c=chrome.i18n.getMessage("inline_translation_ads_ms_office")+"";return{c(){t=Km("div"),n=Km("div"),o=Jm(),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("inline_translation_ads_ms_office_discover")}`,r=Jm(),s=Km("div"),nh(n,"class","text-banner svelte-1ma3tqr"),nh(i,"class","button-banner svelte-1ma3tqr"),nh(s,"class","icon svelte-1ma3tqr"),nh(t,"class","dl-ms-addin-banner svelte-1ma3tqr")},m(d,u){Gm(d,t,u),Hm(t,n),n.innerHTML=c,Hm(t,o),Hm(t,i),Hm(t,r),Hm(t,s),a||(l=Qm(i,"click",e[16]),a=!0)},p:fm,d(e){e&&Wm(t),a=!1,l()}}}(e);return{c(){t=Km("div"),i&&i.c(),r=Jm(),ef(s.$$.fragment),a=Jm(),h&&h.c(),l=Xm(),nh(t,"class","tooltip-container svelte-1ma3tqr"),nh(t,"data-qa","deepl-inline-translation-result-container"),ch(t,"error",e[4]?.error)},m(e,n){Gm(e,t,n),~o&&p[o].m(t,null),Gm(e,r,n),tf(s,e,n),Gm(e,a,n),h&&h.m(e,n),Gm(e,l,n),c=!0},p(e,n){let r=o;o=m(e,n),o===r?~o&&p[o].p(e,n):(i&&(zh(),Vh(p[r],1,1,(()=>{p[r]=null})),Gh()),~o?(i=p[o],i?i.p(e,n):(i=p[o]=u[o](e),i.c()),Wh(i,1),i.m(t,null)):i=null),(!c||16&n)&&ch(t,"error",e[4]?.error);const a={};16&n&&(a.originalSnippet=e[4]?.originalSnippet),16&n&&(a.sourceLanguage=e[4]?.snippetDetectedSourceLang),32&n&&(a.targetLanguage=e[5].selectedTargetLanguage),16&n&&(a.websiteLanguage=e[4]?.websiteLanguage),128&n&&(a.showDictionary=e[7]),s.$set(a),d&&h.p(e,n)},i(e){c||(Wh(i),Wh(s.$$.fragment,e),c=!0)},o(e){Vh(i),Vh(s.$$.fragment,e),c=!1},d(e){e&&(Wm(t),Wm(r),Wm(a),Wm(l)),~o&&p[o].d(),nf(s,e),h&&h.d(e)}}}function YE(e){let t,n,o;return n=new ay({props:{closeWindow:e[11],showLangSelect:!e[4]?.error,settings:Pv,websiteSettings:e[1],extensionContext:e[10],platformBehaviour:e[2],textProcessingMode:e[3],showProStatus:e[6],showServiceName:!0,showSettingsIcon:!0,$$slots:{default:[ZE]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment)},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,[t]){const o={};16&t&&(o.showLangSelect=!e[4]?.error),2&t&&(o.websiteSettings=e[1]),4&t&&(o.platformBehaviour=e[2]),8&t&&(o.textProcessingMode=e[3]),64&t&&(o.showProStatus=e[6]),4195263&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function JE(e,t,n){let o,i,r=fm,s=()=>(r(),r=$m(c,(e=>n(4,o=e))),c);Sm(e,Pv,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>r()));var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{closeTooltip:l}=t,{websiteSettings:c}=t;s();let d,{platformBehaviour:u=at.default}=t,{textProcessingMode:p=dt.translate}=t,{setPositioningStatus:m}=t,h=!1,f="",v=!1,_=I.inlineTooltipPopup;function w(e){return a(this,void 0,void 0,(function*(){switch(p){case dt.translate:{const t=yield La(null==o?void 0:o.originalSnippet);let n;e===Nt&&(n=Ln.dlTrackGdocsMaxCharExceededShown),e===Pt&&(n=Ln.dlTrackGDocsMaxCharExceededTryProClicked),Rn({action:n,payload:{sourceLang:t,targetLang:i.selectedTargetLanguage,sourceLength:o.originalSnippet.length}})}break;case dt.write:{const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.trackMaxCharExceeded(e)}}}))}return e.$$set=e=>{"closeTooltip"in e&&n(0,l=e.closeTooltip),"websiteSettings"in e&&s(n(1,c=e.websiteSettings)),"platformBehaviour"in e&&n(2,u=e.platformBehaviour),"textProcessingMode"in e&&n(3,p=e.textProcessingMode),"setPositioningStatus"in e&&n(17,m=e.setPositioningStatus)},e.$$.update=()=>{20&e.$$.dirty&&u===at.gdocs&&(null==o?void 0:o.translationState)===g.anonymousUserMaxCharExceeded&&(null==o?void 0:o.originalSnippet.length)>0&&w(Nt),17&e.$$.dirty&&o&&(!o.isTranslationTooltipInjected||o.translationState!==g.none||o.translatedSnippet||o.error||o.translatedDOMSnippet||l()),131092&e.$$.dirty&&!(null==o?void 0:o.translationState)&&u===at.default&&m&&(m(!0),setTimeout((()=>{m(!1)}),600)),40&e.$$.dirty&&n(6,d=Bn(i,xt.TRANSLATOR)&&p===dt.translate||Bn(i,xt.WRITE)&&p===dt.write)},[l,c,u,p,o,i,d,h,f,v,_,function(){Rn({action:Ln.dlTrackUiAction,payload:{uiAction:Ne,nicheIntegration:u}}),l()},function(e){n(8,f=e.dictionaryButtonError),n(9,v=e.enableDictionaryButton)},function(){v&&n(7,h=!h)},function(){n(7,h=!1)},function(){w(Pt),Rn({action:On.dlExternalURLRedirect,payload:{destination:p===dt.translate?lo:co,utmContent:p===dt.translate?"gdocs_customization":"gdocs_customization_write"}})},()=>{Rn({action:On.dlExternalURLRedirect,payload:{destination:wo,utmContent:"msaddin_ads_banner"}});try{Rn({action:Ln.dlTrackClicksOnAdsButton})}catch(e){}},m,()=>o.translatedDOMSnippet,()=>o.originalSnippet]}class XE extends rf{constructor(e){super(),of(this,e,JE,YE,Em,{closeTooltip:0,websiteSettings:1,platformBehaviour:2,textProcessingMode:3,setPositioningStatus:17})}}function QE(e){let t,n,o,i,r,s,a,l;return r=new XE({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=Km("div"),n=Km("div"),o=Jm(),i=Km("div"),ef(r.$$.fragment),nh(n,"class","tooltip-drag-handle svelte-10dnmlx"),nh(i,"class","tooltip-body svelte-10dnmlx"),nh(t,"data-qa","inline-translate-tooltip"),nh(t,"class","tooltip-wrapper svelte-10dnmlx"),nh(t,"role","dialog"),nh(t,"style",e[6]),nh(t,"draggable",e[5]),nh(t,"dir",Pa())},m(c,d){Gm(c,t,d),Hm(t,n),Hm(t,o),Hm(t,i),tf(r,i,null),e[18](t),s=!0,a||(l=[Qm(n,"mouseover",e[8]),Qm(n,"mouseout",e[9]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[17]),Qm(t,"dragstart",e[10])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),8&n&&(o.textProcessingMode=e[3]),r.$set(o),(!s||64&n)&&nh(t,"style",e[6]),(!s||32&n)&&nh(t,"draggable",e[5])},i(e){s||(Wh(r.$$.fragment,e),s=!0)},o(e){Vh(r.$$.fragment,e),s=!1},d(n){n&&Wm(t),nf(r),e[18](null),a=!1,bm(l)}}}function eT(e,t,n){let o;Sm(e,Pv,(e=>n(16,o=e))),Th("deepl_settings",Pv),Th("text_direction",Pa());let i,r,s,a,l,{closeTooltip:c}=t,{websiteSettings:d}=t,{replaceElement:u}=t,{actualPosition:p}=t,{dragContainerTo:g}=t,{platformBehaviour:m=at.default}=t,{textProcessingMode:h=dt.translate}=t,f=!1,v=!1,_="visibility: hidden; opacity:0; height:0;";let w={x:0,y:0};function b(e){let t=My({dropEvent:e,document:document,dragConfig:{dragOffset:w,dragElementRect:a,dragBarWidth:16}});t&&g(t)}bh((()=>{n(15,l=o.isLoggedIn),setTimeout((()=>{n(6,_="")}),100),document.addEventListener("dragover",Oy),document.addEventListener("drop",b),s=N_(i,(({clientHeight:e})=>{n(14,r=e)}))})),yh((()=>{document.removeEventListener("dragover",Oy),document.removeEventListener("drop",b),s&&s()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,c=e.closeTooltip),"websiteSettings"in e&&n(1,d=e.websiteSettings),"replaceElement"in e&&n(12,u=e.replaceElement),"actualPosition"in e&&n(11,p=e.actualPosition),"dragContainerTo"in e&&n(13,g=e.dragContainerTo),"platformBehaviour"in e&&n(2,m=e.platformBehaviour),"textProcessingMode"in e&&n(3,h=e.textProcessingMode)},e.$$.update=()=>{var t,i;98305&e.$$.dirty&&!1===l&&!0===o.isLoggedIn&&c(),65536&e.$$.dirty&&n(11,(t=o.inlineTranslateTooltipPosition,p=u(r,t))),16384&e.$$.dirty&&n(11,(i=r,p=v||m===at.gdocs?u(i,o.inlineTranslateTooltipPosition):p))},[c,d,m,h,i,f,_,e=>{v=e},function(){n(5,f=!0)},function(){n(5,f=!1)},function(e){const t=Dy(e,m);w=t.dragOffset,a=t.dragElementRect},p,u,g,r,l,o,()=>c(),function(e){Ch[e?"unshift":"push"]((()=>{i=e,n(4,i)}))}]}class tT extends rf{constructor(e){super(),of(this,e,eT,QE,Em,{closeTooltip:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2,textProcessingMode:3})}}var nT;class oT{constructor(e){nT.set(this,void 0),this.createDOM=(e,t,o)=>{const{deepl_inline_ui:i}=U;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===at.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let r=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let s="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(i.z_index-100),a=`position: absolute; top: ${r.y}px; left: ${r.x-200}px; z-index: ${i.z_index-100};`;switch(this.domElement.platformBehaviour){case at.gdocs:a+="top: 600px; left: 10px;";break;case at.default:default:a+=""}this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new tT({target:this.domElement.container,props:{closeTooltip:t,websiteSettings:o,replaceElement:(t,o)=>{var i;r=e(this.domElement.selectionRange);const s={coords:r,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let a=o;const l=Ay(s),[c,d]=Iy(o),u=null!==(i=n(this,nT,"f"))&&void 0!==i?i:{x:0,y:0};if(this.domElement.platformBehaviour===at.gdocs){for(const e of d)if(Ly(e,s)){ky(e,s,u);break}}else for(const e of c)if(Ly(e,s)){a="middle"!==e?e:void 0,Cy(e,s,u);break}return Object.assign(Object.assign({},l),{current:a})},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo}})},this.dragContainerTo=e=>{var t,i,r,s;o(this,nT,{y:parseInt(this.domElement.container.style.top)-e.y+(null!==(i=null===(t=n(this,nT,"f"))||void 0===t?void 0:t.y)&&void 0!==i?i:0),x:parseInt(this.domElement.container.style.left)-e.x+(null!==(s=null===(r=n(this,nT,"f"))||void 0===r?void 0:r.x)&&void 0!==s?s:0)},"f"),this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.platformBehaviour=at.default,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}}nT=new WeakMap,oT.HTML_TAG_NAME="deepl-inline-translate-tooltip",oT.createElement=(e=document)=>{const t=e.createElement(oT.HTML_TAG_NAME),n=new oT(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};const iT="TOP",rT="BOTTOM",sT="TOP_LEFT",aT="TOP_RIGHT",lT="BOTTOM_LEFT",cT="BOTTOM_RIGHT",dT=e=>{switch(!0){case e.left<0&&e.top>0&&e.top<window.innerHeight:return aT;case e.right>window.innerWidth&&e.top>0&&e.top<window.innerHeight:return sT;case e.right>window.innerWidth&&e.top<0:return lT;case e.left<0&&e.top<0:return cT;case e.top<0:return rT;case e.top>window.innerHeight:default:return iT}};function uT(e){let t,n,o,i,r,s,a,l,c,d;return{c(){t=Km("div"),n=Km("span"),o=Ym(e[1]),i=Jm(),r=Km("div"),s=Jm(),a=Km("span"),l=Ym(e[2]),nh(n,"class","headsup svelte-1yp9nwa"),nh(r,"class","close-button svelte-1yp9nwa"),nh(r,"data-testid","popup-notification-bubble"),nh(a,"class","information svelte-1yp9nwa"),nh(t,"class","container svelte-1yp9nwa"),ch(t,"position-top","TOP"===e[0]),ch(t,"position-bottom","BOTTOM"===e[0]),ch(t,"position-top-left","TOP_LEFT"===e[0]),ch(t,"position-top-right","TOP_RIGHT"===e[0]),ch(t,"position-bottom-left","BOTTOM_LEFT"===e[0]),ch(t,"position-bottom-right","BOTTOM_RIGHT"===e[0])},m(u,p){Gm(u,t,p),Hm(t,n),Hm(n,o),Hm(t,i),Hm(t,r),Hm(t,s),Hm(t,a),Hm(a,l),c||(d=[Qm(r,"click",(function(){ym(e[3])&&e[3].apply(this,arguments)})),Qm(t,"mouseup",th(eh(e[4]))),Qm(t,"mousedown",th(eh(e[5])))],c=!0)},p(n,[i]){e=n,2&i&&oh(o,e[1]),4&i&&oh(l,e[2]),1&i&&ch(t,"position-top","TOP"===e[0]),1&i&&ch(t,"position-bottom","BOTTOM"===e[0]),1&i&&ch(t,"position-top-left","TOP_LEFT"===e[0]),1&i&&ch(t,"position-top-right","TOP_RIGHT"===e[0]),1&i&&ch(t,"position-bottom-left","BOTTOM_LEFT"===e[0]),1&i&&ch(t,"position-bottom-right","BOTTOM_RIGHT"===e[0])},i:fm,o:fm,d(e){e&&Wm(t),c=!1,bm(d)}}}function pT(e,t,n){let{position:o}=t,{headsupText:i}=t,{informationText:r}=t,{onClose:s=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"headsupText"in e&&n(1,i=e.headsupText),"informationText"in e&&n(2,r=e.informationText),"onClose"in e&&n(3,s=e.onClose)},[o,i,r,s,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)}]}class gT extends rf{constructor(e){super(),of(this,e,pT,uT,Em,{position:0,headsupText:1,informationText:2,onClose:3})}}function mT(e){let t,n;return t=new gT({props:{headsupText:chrome.i18n.getMessage("input_advanced_icons_onboarding_title"),informationText:chrome.i18n.getMessage("input_advanced_icons_onboarding_description"),position:e[0],onClose:e[1]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.position=e[0]),2&n&&(o.onClose=e[1]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function hT(e,t,n){let{position:o}=t,{onClose:i=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"onClose"in e&&n(1,i=e.onClose)},[o,i]}class fT extends rf{constructor(e){super(),of(this,e,hT,mT,Em,{position:0,onClose:1})}}function vT(e){let t,n;return t=new gb({props:{tooltip:e[5],showProShield:e[4],$$slots:{default:[_T]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.tooltip=e[5]),16&n&&(o.showProShield=e[4]),32775&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function _T(e){let t,n,o;return{c(){t=Km("div"),nh(t,"class","dl-inline-icon dl-write-icon svelte-15hlb3a"),nh(t,"data-testid","deepl-advanced-trigger-write-icon"),nh(t,"data-qa","deepl-inline-translate-menu-icon"),ch(t,"disabled",e[2])},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"click",th(eh(e[6]))),Qm(t,"mouseup",th(eh(e[10]))),Qm(t,"mousedown",th(eh(e[11]))),Qm(t,"mouseenter",e[12])],n=!0)},p(e,n){4&n&&ch(t,"disabled",e[2])},d(e){e&&Wm(t),n=!1,bm(o)}}}function wT(e){let t,n,o=!e[3].hideWrite&&vT(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[3].hideWrite?o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh()):o?(o.p(e,n),8&n&&Wh(o,1)):(o=vT(e),o.c(),Wh(o,1),o.m(t.parentNode,t))},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function bT(e,t,n){let o,i,r,s,a;Sm(e,Pv,(e=>n(3,a=e)));var l=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{isInput:c=!1}=t,{langCode:d}=t,{onMouseHover:u}=t,{sendImproveRequest:p}=t;return e.$$set=e=>{"isInput"in e&&n(0,c=e.isInput),"langCode"in e&&n(7,d=e.langCode),"onMouseHover"in e&&n(1,u=e.onMouseHover),"sendImproveRequest"in e&&n(8,p=e.sendImproveRequest)},e.$$.update=()=>{128&e.$$.dirty&&n(9,o=void 0===d||Ra(d)),520&e.$$.dirty&&n(2,i=Hn(a,xt.WRITE)||!o),516&e.$$.dirty&&n(5,r=chrome.i18n.getMessage(i?o?"contact_admin_info_write_disabled":"write_language_not_supported":"review_ui_improve_selection")),8&e.$$.dirty&&n(4,s=Bn(a,xt.WRITE))},[c,u,i,a,s,r,function(){return l(this,void 0,void 0,(function*(){i||(yield p(),Rn({action:Ln.dlTrackUILocationClicked,payload:c?be:_e}))}))},d,p,o,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},()=>u(c?be:_e)]}class yT extends rf{constructor(e){super(),of(this,e,bT,wT,Em,{isInput:0,langCode:7,onMouseHover:1,sendImproveRequest:8})}}function ET(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f;return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Km("div"),r=Km("div"),r.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,s=Jm(),a=Km("div"),a.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,l=Jm(),c=Km("button"),nh(r,"class","headline svelte-150jdi1"),nh(a,"class","text svelte-150jdi1"),nh(i,"class","text-wrapper svelte-150jdi1"),nh(o,"class","content svelte-150jdi1"),nh(c,"class","close-icon svelte-150jdi1"),nh(c,"aria-label","Close"),nh(n,"class",d=Om(`body body__${e[1]}`)+" svelte-150jdi1"),nh(t,"class",u=Om(`container container__${e[1]}`)+" svelte-150jdi1"),nh(t,"data-testid","inline-translate-onboarding-highlighter")},m(d,u){Gm(d,t,u),Hm(t,n),Hm(n,o),Hm(o,i),Hm(i,r),Hm(i,s),Hm(i,a),Hm(n,l),Hm(n,c),m=!0,h||(f=Qm(c,"click",e[3]),h=!0)},p(e,[o]){(!m||2&o&&d!==(d=Om(`body body__${e[1]}`)+" svelte-150jdi1"))&&nh(n,"class",d),(!m||2&o&&u!==(u=Om(`container container__${e[1]}`)+" svelte-150jdi1"))&&nh(t,"class",u)},i(e){m||(Dh((()=>{m&&(g&&g.end(1),p=Zh(t,pf,{x:100,duration:1e3}),p.start())})),m=!0)},o(e){p&&p.invalidate(),g=Yh(t,pf,{x:100,duration:1e3}),m=!1},d(e){e&&Wm(t),e&&g&&g.end(),h=!1,f()}}}function TT(t,n,o){var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{closeInlineHighlighter:r=e=>{}}=n,{el:s}=n,a="topLeft";bh((()=>i(void 0,void 0,void 0,(function*(){try{Rn({action:Ln.dlTrackOpenInlineHighlighter,payload:{domainName:e.websiteData.hostname}})}catch(e){}}))));return t.$$set=e=>{"closeInlineHighlighter"in e&&o(0,r=e.closeInlineHighlighter),"el"in e&&o(2,s=e.el)},t.$$.update=()=>{if(4&t.$$.dirty&&s){const e=s.getBoundingClientRect();let t=e.x>305,n=window.innerWidth-e.right>305,i=window.innerHeight-e.bottom>190,r=e.y>190;r&&t?o(1,a="topLeft"):r&&n?o(1,a="topRight"):i&&t?o(1,a="bottomLeft"):i&&n&&o(1,a="bottomRight")}},[r,a,s,()=>r(ot)]}class xT extends rf{constructor(e){super(),of(this,e,TT,ET,Em,{closeInlineHighlighter:0,el:2})}}function $T(e){let t,n,o,i,r;return i=new zw({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,autoFocusOnOpen:!1,fontSize:"sm",showRecentlyUsed:!0}}),i.$on("selection",e[5]),{c(){t=Km("p"),n=Ym(e[0]),o=Jm(),ef(i.$$.fragment),nh(t,"class","font-bold svelte-1bwyi2r")},m(e,s){Gm(e,t,s),Hm(t,n),Gm(e,o,s),tf(i,e,s),r=!0},p(e,t){(!r||1&t)&&oh(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),i.$set(o)},i(e){r||(Wh(i.$$.fragment,e),r=!0)},o(e){Vh(i.$$.fragment,e),r=!1},d(e){e&&(Wm(t),Wm(o)),nf(i,e)}}}function ST(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&$T(e);return{c(){t=Km("div"),o&&o.c()},m(e,i){Gm(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&Wh(o,1)):(o=$T(e),o.c(),Wh(o,1),o.m(t,null)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d()}}}function CT(e,t,n){let o;const i=Xw();Sm(e,i,(e=>n(2,o=e)));const r=Eh();let{subHeaderText:s=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:a=!1}=t;function l(e){r("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,s=e.subHeaderText),"fromShortcut"in e&&n(1,a=e.fromShortcut)},[s,a,o,i,l,e=>l(e.detail.selectedOption)]}class kT extends rf{constructor(e){super(),of(this,e,CT,ST,Em,{subHeaderText:0,fromShortcut:1})}}function LT(e){let t,n,o,i,r,s,a,l;const c=e[3].default,d=Cm(c,e,e[2],null);return{c(){t=Km("div"),n=Km("div"),o=Km("button"),i=Jm(),r=Km("div"),d&&d.c(),nh(o,"type","button"),nh(o,"class","close-icon svelte-1ckhakb"),nh(n,"class","header svelte-1ckhakb"),nh(r,"class","content"),nh(t,"class","container svelte-1ckhakb")},m(c,u){Gm(c,t,u),Hm(t,n),Hm(n,o),Hm(t,i),Hm(t,r),d&&d.m(r,null),e[5](t),s=!0,a||(l=Qm(o,"click",e[4]),a=!0)},p(e,[t]){d&&d.p&&(!s||4&t)&&Am(d,c,e,e[2],s?Lm(c,e[2],t,null):Im(e[2]),null)},i(e){s||(Wh(d,e),s=!0)},o(e){Vh(d,e),s=!1},d(n){n&&Wm(t),d&&d.d(n),e[5](null),a=!1,l()}}}function AT(e,t,n){let{$$slots:o={},$$scope:i}=t;const r=Eh();let s,a,l,c;bh((()=>{c=N_(l,(e=>{e.offsetHeight=s,e.offsetWidth=a}))})),yh((()=>{c&&c()}));return e.$$set=e=>{"$$scope"in e&&n(2,i=e.$$scope)},r("resize",{offsetHeight:s,offsetWidth:a}),[l,r,i,o,()=>r("close"),function(e){Ch[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class IT extends rf{constructor(e){super(),of(this,e,AT,LT,Em,{})}}const OT="GENERAL_SETTINGS",DT="INPUT_SETTINGS";function MT(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return r=new dy({props:{name:"disable_input_translation",id:Ue,value:Ue,cssClassName:"radio--with-border",checked:e[5]===Ue,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),r.$on("change",e[12]),a=new dy({props:{name:"disable_input_translation",id:qe,value:qe,cssClassName:"radio--with-border",checked:e[5]===qe,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),a.$on("change",e[12]),{c(){t=Km("div"),n=Km("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=Jm(),i=Km("div"),ef(r.$$.fragment),s=Jm(),ef(a.$$.fragment),l=Jm(),c=Km("div"),d=Km("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=Jm(),p=Km("button"),g=Ym(_),nh(n,"class","font-bold svelte-1sqeumw"),nh(i,"class","option-container svelte-1sqeumw"),nh(d,"class","link svelte-1sqeumw"),nh(p,"class",m=Om("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1sqeumw"),nh(p,"data-qa","input-translation_hide-icon_accept"),nh(c,"class","action-container svelte-1sqeumw"),nh(t,"class","dl-widget svelte-1sqeumw"),nh(t,"data-testid","dl-input-translate-turnoff-settings")},m(m,_){Gm(m,t,_),Hm(t,n),Hm(t,o),Hm(t,i),tf(r,i,null),Hm(i,s),tf(a,i,null),Hm(t,l),Hm(t,c),Hm(c,d),Hm(c,u),Hm(c,p),Hm(p,g),h=!0,f||(v=[Qm(d,"click",(function(){ym(e[1]===DT?e[8]:e[9])&&(e[1]===DT?e[8]:e[9]).apply(this,arguments)})),Qm(p,"click",e[11])],f=!0)},p(t,n){e=t;const o={};32&n[0]&&(o.checked=e[5]===Ue),r.$set(o);const i={};32&n[0]&&(i.checked=e[5]===qe),a.$set(i),(!h||32&n[0]&&m!==(m=Om("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1sqeumw"))&&nh(p,"class",m)},i(e){h||(Wh(r.$$.fragment,e),Wh(a.$$.fragment,e),h=!0)},o(e){Vh(r.$$.fragment,e),Vh(a.$$.fragment,e),h=!1},d(e){e&&Wm(t),nf(r),nf(a),f=!1,bm(v)}}}function RT(e){let t,n,o,i,r,s,a;n=new kT({props:{fromShortcut:e[2]}}),n.$on("languageChanged",e[22]);let l=e[6]&&e[6].targetLanguageUserInput&&NT(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),l&&l.c(),i=Xm(),nh(t,"class","dl-widget svelte-1sqeumw"),nh(t,"data-testid","dl-input-settings-language-selector")},m(c,d){Gm(c,t,d),tf(n,t,null),Gm(c,o,d),l&&l.m(c,d),Gm(c,i,d),r=!0,s||(a=Qm(t,"mouseup",e[23]),s=!0)},p(e,t){const o={};4&t[0]&&(o.fromShortcut=e[2]),n.$set(o),e[6]&&e[6].targetLanguageUserInput?l?l.p(e,t):(l=NT(e),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(e){r||(Wh(n.$$.fragment,e),r=!0)},o(e){Vh(n.$$.fragment,e),r=!1},d(e){e&&(Wm(t),Wm(o),Wm(i)),nf(n),l&&l.d(e),s=!1,a()}}}function NT(e){let t,n,o,i,r,s,a,l;return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,r=Jm(),s=Km("span"),nh(s,"class","icon icon-external-link svelte-1sqeumw"),nh(o,"class","link link-settings svelte-1sqeumw"),nh(o,"data-qa","dl-input-translate-open-settings-page"),nh(n,"class","action-container svelte-1sqeumw"),nh(t,"class","dl-widget svelte-1sqeumw")},m(c,d){Gm(c,t,d),Hm(t,n),Hm(n,o),Hm(o,i),Hm(o,r),Hm(o,s),a||(l=Qm(o,"click",e[10]),a=!0)},p:fm,d(e){e&&Wm(t),a=!1,l()}}}function PT(e){let t,n,o,i;const r=[RT,MT],s=[];function a(e,t){return e[3]===OT?0:e[3]===DT?1:-1}return~(t=a(e))&&(n=s[t]=r[t](e)),{c(){n&&n.c(),o=Xm()},m(e,n){~t&&s[t].m(e,n),Gm(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?~t&&s[t].p(e,i):(n&&(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh()),~t?(n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),~t&&s[t].d(e)}}}function UT(e){let t,n,o,i;return n=new IT({props:{$$slots:{default:[PT]},$$scope:{ctx:e}}}),n.$on("close",e[24]),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class",o="settings-container settings-container__"+e[0]+" svelte-1sqeumw")},m(o,r){Gm(o,t,r),tf(n,t,null),e[25](t),i=!0},p(e,r){const s={};110&r[0]|2&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),(!i||1&r[0]&&o!==(o="settings-container settings-container__"+e[0]+" svelte-1sqeumw"))&&nh(t,"class",o)},i(e){i||(Wh(n.$$.fragment,e),i=!0)},o(e){Vh(n.$$.fragment,e),i=!1},d(o){o&&Wm(t),nf(n),e[25](null)}}}function qT(e,t,n){let o;const i=Eh();let r=OT;const s=Xw();Sm(e,s,(e=>n(6,o=e)));let a,l,{startPage:c}=t,{fromShortcut:d=!1}=t,{icon:u}=t,{position:p="top"}=t,{registerSettingsCallbacks:g=e=>{}}=t,{unregisterSettingsCallbacks:m=()=>{}}=t,{closeSettings:h}=t,f={top:0,bottom:0,left:0,right:0},v={height:0,width:0},_=140,w=387,b="";const y=()=>{if(u){const e=u.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==f[n]&&(t[n]=e[n]);Object.keys(t).length&&n(18,f=Object.assign(Object.assign({},f),t));let o={};window.innerHeight!==v.height&&(o.height=window.innerHeight),window.innerWidth!==v.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(19,v=Object.assign(Object.assign({},v),o))}else n(18,f={top:0,bottom:0,left:0,right:0})};bh((()=>{y(),g({recalculateSettingsCoords:y}),l=N_(a,(({clientHeight:e,clientWidth:t})=>{n(20,_=e),n(21,w=t)}))})),yh((()=>{m(),l&&l()}));return e.$$set=e=>{"startPage"in e&&n(1,c=e.startPage),"fromShortcut"in e&&n(2,d=e.fromShortcut),"icon"in e&&n(13,u=e.icon),"position"in e&&n(0,p=e.position),"registerSettingsCallbacks"in e&&n(14,g=e.registerSettingsCallbacks),"unregisterSettingsCallbacks"in e&&n(15,m=e.unregisterSettingsCallbacks),"closeSettings"in e&&n(16,h=e.closeSettings)},e.$$.update=()=>{3932160&e.$$.dirty[0]&&n(0,p=(({iconCoordinates:e,viewportSize:t,popupHeight:n,popupWidth:o})=>{if(!u)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};if(i.top&&!i.left)return"top_right";if(i.top&&!i.right)return"top_left";if(i.bottom&&!i.left)return"bottom_right";if(i.bottom&&!i.right)return"bottom_left";for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:f,viewportSize:v,popupHeight:_,popupWidth:w})),2&e.$$.dirty[0]&&c&&n(3,r=c)},[p,c,d,r,a,b,o,s,function(){i("close")},function(){n(5,b=""),n(3,r=OT)},function(){Rn({action:On.dlOpenInternalPage,payload:{destination:Ww.settings_writing}})},function(){if(!b)return;switch(b){case qe:s.set({enableInputTranslation:!1}),Rn({action:Ln.dlTrackSettingChanged,payload:{settingType:qe,domainName:window.location.hostname,uiFunction:Be,uiLocation:oe}}),null==h||h();break;case Ue:!function(){const e=o.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),s.set({blacklistDomainsForWriting:e}),Rn({action:Ln.dlTrackSettingChanged,payload:{settingType:Ue,domainName:window.location.hostname,uiFunction:Be,uiLocation:oe}}));null==h||h()}()}const e=fy(window.location.hostname,["www."]);Rn({action:Tn.dlSendNotification,payload:{type:B,options:{theme:K.green_theme,currentDomain:e,saveAction:b,settingsPageURL:Ww.settings_writing}}})},function(e){n(5,b=e.target.value)},u,g,m,h,y,f,v,_,w,function(t){$h.call(this,e,t)},()=>Rn({action:Ln.dlTrackUILocationClicked,payload:ie}),function(t){$h.call(this,e,t)},function(e){Ch[e?"unshift":"push"]((()=>{a=e,n(4,a)}))}]}class BT extends rf{constructor(e){super(),of(this,e,qT,UT,Em,{startPage:1,fromShortcut:2,icon:13,position:0,registerSettingsCallbacks:14,unregisterSettingsCallbacks:15,closeSettings:16,recalculateSettingsCoords:17},null,[-1,-1])}get recalculateSettingsCoords(){return this.$$.ctx[17]}}function FT(e){let t,n,o,i,r,s,a,l,c,d,u=e[8]&&!e[1]&&!e[5].isInlineHighlighterShown&&!e[15]&&HT(e),p=void 0!==e[3]&&jT(e);const g=[GT,zT],m=[];function h(e,t){return e[1]?0:1}return s=h(e),a=m[s]=g[s](e),{c(){t=Km("div"),u&&u.c(),n=Jm(),o=Km("div"),p&&p.c(),i=Jm(),r=Km("div"),a.c(),nh(r,"class","icon-container svelte-552fez"),nh(r,"data-testid","deepl-inline-translate-icon-container"),nh(r,"role","group"),nh(o,"class","layout-container svelte-552fez"),nh(t,"dir",Pa())},m(a,g){Gm(a,t,g),u&&u.m(t,null),Hm(t,n),Hm(t,o),p&&p.m(o,null),Hm(o,i),Hm(o,r),m[s].m(r,null),e[57](r),l=!0,c||(d=[Qm(r,"mouseenter",e[22]),Qm(r,"mouseleave",e[23])],c=!0)},p(e,l){!e[8]||e[1]||e[5].isInlineHighlighterShown||e[15]?u&&(zh(),Vh(u,1,1,(()=>{u=null})),Gh()):u?(u.p(e,l),33058&l[0]&&Wh(u,1)):(u=HT(e),u.c(),Wh(u,1),u.m(t,n)),void 0!==e[3]?p?(p.p(e,l),8&l[0]&&Wh(p,1)):(p=jT(e),p.c(),Wh(p,1),p.m(o,i)):p&&(zh(),Vh(p,1,1,(()=>{p=null})),Gh());let c=s;s=h(e),s===c?m[s].p(e,l):(zh(),Vh(m[c],1,1,(()=>{m[c]=null})),Gh(),a=m[s],a?a.p(e,l):(a=m[s]=g[s](e),a.c()),Wh(a,1),a.m(r,null))},i(e){l||(Wh(u),Wh(p),Wh(a),l=!0)},o(e){Vh(u),Vh(p),Vh(a),l=!1},d(n){n&&Wm(t),u&&u.d(),p&&p.d(),m[s].d(),e[57](null),c=!1,bm(d)}}}function HT(e){let t,n;return t=new xT({props:{closeInlineHighlighter:e[26],el:e[8]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.el=e[8]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function jT(e){let t,n,o,i;return n=new fT({props:{position:e[3],onClose:e[18]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"data-testid","onboarding-popup-notification"),nh(t,"class","onboarding-container svelte-552fez"),ch(t,"top","TOP"===e[3]),ch(t,"bottom","BOTTOM"===e[3]),ch(t,"top-left","TOP_LEFT"===e[3]),ch(t,"top-right","TOP_RIGHT"===e[3]),ch(t,"bottom-left","BOTTOM_LEFT"===e[3]),ch(t,"bottom-right","BOTTOM_RIGHT"===e[3])},m(o,r){Gm(o,t,r),tf(n,t,null),e[49](t),i=!0},p(e,o){const r={};8&o[0]&&(r.position=e[3]),n.$set(r),(!i||8&o[0])&&ch(t,"top","TOP"===e[3]),(!i||8&o[0])&&ch(t,"bottom","BOTTOM"===e[3]),(!i||8&o[0])&&ch(t,"top-left","TOP_LEFT"===e[3]),(!i||8&o[0])&&ch(t,"top-right","TOP_RIGHT"===e[3]),(!i||8&o[0])&&ch(t,"bottom-left","BOTTOM_LEFT"===e[3]),(!i||8&o[0])&&ch(t,"bottom-right","BOTTOM_RIGHT"===e[3])},i(e){i||(Wh(n.$$.fragment,e),o&&o.end(1),i=!0)},o(e){Vh(n.$$.fragment,e),e&&(o=Yh(t,pf,{x:100,duration:1e3})),i=!1},d(i){i&&Wm(t),nf(n),e[49](null),i&&o&&o.end()}}}function zT(e){let t,n,o,i;return t=new gb({props:{tooltip:e[7],showProShield:e[12],$$slots:{default:[WT]},$$scope:{ctx:e}}}),o=new gb({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[VT]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment),n=Jm(),ef(o.$$.fragment)},m(e,r){tf(t,e,r),Gm(e,n,r),tf(o,e,r),i=!0},p(e,n){const i={};128&n[0]&&(i.tooltip=e[7]),4096&n[0]&&(i.showProShield=e[12]),16&n[0]|8&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const r={};512&n[0]|8&n[2]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r)},i(e){i||(Wh(t.$$.fragment,e),Wh(o.$$.fragment,e),i=!0)},o(e){Vh(t.$$.fragment,e),Vh(o.$$.fragment,e),i=!1},d(e){e&&Wm(n),nf(t,e),nf(o,e)}}}function GT(e){let t,n,o,i,r;const s=[ZT,KT],a=[];function l(e,t){return e[6]?0:1}t=l(e),n=a[t]=s[t](e);let c=e[0]&&(e[11]||e[13])&&XT(e);return{c(){n.c(),o=Jm(),c&&c.c(),i=Xm()},m(e,n){a[t].m(e,n),Gm(e,o,n),c&&c.m(e,n),Gm(e,i,n),r=!0},p(e,r){let d=t;t=l(e),t===d?a[t].p(e,r):(zh(),Vh(a[d],1,1,(()=>{a[d]=null})),Gh(),n=a[t],n?n.p(e,r):(n=a[t]=s[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o)),e[0]&&(e[11]||e[13])?c?(c.p(e,r),10241&r[0]&&Wh(c,1)):(c=XT(e),c.c(),Wh(c,1),c.m(i.parentNode,i)):c&&(zh(),Vh(c,1,1,(()=>{c=null})),Gh())},i(e){r||(Wh(n),Wh(c),r=!0)},o(e){Vh(n),Vh(c),r=!1},d(e){e&&(Wm(o),Wm(i)),a[t].d(e),c&&c.d(e)}}}function WT(e){let t,n,o;return{c(){t=Km("div"),nh(t,"class","dl-logo svelte-552fez"),nh(t,"data-qa","deepl-inline-translate-menu-icon"),ch(t,"disabled",e[4])},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"click",th(eh(e[20]))),Qm(t,"focus",e[46]),Qm(t,"mouseup",th(eh(e[47]))),Qm(t,"mousedown",th(eh(e[48]))),Qm(t,"mouseenter",e[55])],n=!0)},p(e,n){16&n[0]&&ch(t,"disabled",e[4])},d(e){e&&Wm(t),n=!1,bm(o)}}}function VT(e){let t,n,o,i;return{c(){t=Km("div"),nh(t,"data-qa","deepl-inline-translate-turnoff-icon"),nh(t,"class","dl-turnoff-inline-icon svelte-552fez"),ch(t,"advanced",!1),ch(t,"hidden",!e[9]),ch(t,"left",!1)},m(n,r){Gm(n,t,r),o||(i=[Qm(t,"click",th(eh(e[24]))),Qm(t,"focus",e[43]),Qm(t,"mousedown",th(eh(e[44]))),Qm(t,"mouseup",th(eh(e[45]))),Qm(t,"mouseenter",e[56])],o=!0)},p(e,n){512&n[0]&&ch(t,"hidden",!e[9])},i(e){n||Dh((()=>{n=Zh(t,pf,{x:-5,duration:300}),n.start()}))},o:fm,d(e){e&&Wm(t),o=!1,bm(i)}}}function KT(e){let t,n,o,i,r,s;return t=new gb({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[YT]},$$scope:{ctx:e}}}),o=new yT({props:{isInput:e[0],sendImproveRequest:e[21],onMouseHover:e[25],langCode:e[14]}}),r=new gb({props:{tooltip:e[7],showProShield:e[12],$$slots:{default:[JT]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment),n=Jm(),ef(o.$$.fragment),i=Jm(),ef(r.$$.fragment)},m(e,a){tf(t,e,a),Gm(e,n,a),tf(o,e,a),Gm(e,i,a),tf(r,e,a),s=!0},p(e,n){const i={};3587&n[0]|8&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};1&n[0]&&(s.isInput=e[0]),16384&n[0]&&(s.langCode=e[14]),o.$set(s);const a={};128&n[0]&&(a.tooltip=e[7]),4096&n[0]&&(a.showProShield=e[12]),17&n[0]|8&n[2]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){s||(Wh(t.$$.fragment,e),Wh(o.$$.fragment,e),Wh(r.$$.fragment,e),s=!0)},o(e){Vh(t.$$.fragment,e),Vh(o.$$.fragment,e),Vh(r.$$.fragment,e),s=!1},d(e){e&&(Wm(n),Wm(i)),nf(t,e),nf(o,e),nf(r,e)}}}function ZT(e){let t,n,o;return t=new Uy({}),{c(){n=Km("div"),ef(t.$$.fragment),rh(n,"display","contents"),rh(n,"--size","16px")},m(e,i){Gm(e,n,i),tf(t,n,null),o=!0},p:fm,i(e){o||(Wh(t.$$.fragment,e),o=!0)},o(e){Vh(t.$$.fragment,e),o=!1},d(e){e&&t&&Wm(n),nf(t,e)}}}function YT(e){let t,n,o,i;return{c(){t=Km("div"),nh(t,"data-testid","deepl-advanced-trigger-turnoff-icon"),nh(t,"class","dl-turnoff-inline-icon svelte-552fez"),ch(t,"advanced",e[1]),ch(t,"hidden",!e[9]),ch(t,"left",!0)},m(n,r){Gm(n,t,r),e[52](t),o||(i=[Qm(t,"click",th(eh(e[50]))),Qm(t,"focus",e[40]),Qm(t,"mousedown",th(eh(e[41]))),Qm(t,"mouseup",th(eh(e[42]))),Qm(t,"mouseenter",e[51])],o=!0)},p(e,n){2&n[0]&&ch(t,"advanced",e[1]),512&n[0]&&ch(t,"hidden",!e[9])},i(e){n||Dh((()=>{n=Zh(t,pf,{x:-5,duration:300}),n.start()}))},o:fm,d(n){n&&Wm(t),e[52](null),o=!1,bm(i)}}}function JT(e){let t,n,o;return{c(){t=Km("div"),nh(t,"class","dl-inline-icon dl-translate-icon svelte-552fez"),nh(t,"data-testid","dl-advanced-trigger-translate-icon"),nh(t,"data-qa","deepl-inline-translate-menu-icon"),ch(t,"disabled",e[4])},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"click",th(eh(e[19]))),Qm(t,"mouseup",th(eh(e[38]))),Qm(t,"mousedown",th(eh(e[39]))),Qm(t,"mouseenter",e[53])],n=!0)},p(e,n){16&n[0]&&ch(t,"disabled",e[4])},d(e){e&&Wm(t),n=!1,bm(o)}}}function XT(e){let t,n,o;return n=new BT({props:{icon:e[10],closeSettings:e[27],startPage:e[11]?DT:OT}}),n.$on("close",e[27]),n.$on("languageChanged",e[54]),{c(){t=Km("div"),ef(n.$$.fragment),rh(t,"z-index",e[17])},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};1024&t[0]&&(o.icon=e[10]),2048&t[0]&&(o.startPage=e[11]?DT:OT),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function QT(e){let t,n,o=!e[16]&&FT(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,n){e[16]?o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh()):o?(o.p(e,n),65536&n[0]&&Wh(o,1)):(o=FT(e),o.c(),Wh(o,1),o.m(t.parentNode,t))},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function ex(e,t,n){let o,i,r,s,a,l;Sm(e,Pv,(e=>n(5,a=e))),Sm(e,L_,(e=>n(37,l=e)));var c,d,u=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("text_direction",Pa());let p,g,{platformBehaviour:m=at.default}=t,{isInput:h=!1}=t,{enableAdvancedTriggerIcon:f}=t,v=!1,_="",w="",b=[],y=!1,E=!1,T=!1,x=!1,$=U.deepl_inline_ui.z_index+10;const S=chrome.i18n.getMessage("context_menus_translate_section"),C=()=>{!a.hasITAInlineOnboardingBeenShown&&f&&Pv.set({hasITAInlineOnboardingBeenShown:!0}),n(3,L=void 0)};let k,L,A=!1,I=!1;f&&Hl().then((e=>u(void 0,void 0,void 0,(function*(){e?(a.hasITAInlineOnboardingBeenShown||Pv.set({hasITAInlineOnboardingBeenShown:!0}),A=!1,n(3,L=void 0)):a.hasITAInlineOnboardingBeenShown?A=!1:(A=!0,n(3,L=iT),n(34,I=!0))})))),bh((()=>{if(!A||!k)return;const e=k.getBoundingClientRect();n(3,L=dT(e))})),Rn({action:$n.dlCheckCommandShortcuts}).then((e=>n(33,_=e?e.filter((e=>e.name==De))[0].shortcut:"")));const O=()=>u(void 0,void 0,void 0,(function*(){n(6,v=h&&!(yield gp(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality)}));function D(){return u(this,void 0,void 0,(function*(){s||(bq(),R(),C(),f&&(Rq(),Nq()),h?(Rn({action:Sn.dlTriggerTranslateInput}),yield O()):Rn({action:Sn.dlTriggerTranslateInline}),_||Nn(q),B(it))}))}function M(e){return"dlTriggerTranslationShortcut"===e.action&&(s||h||(D(),Rn({action:Ln.dlTrackUseOfShortcut,payload:{shortcutType:De,location:Z,nicheIntegration:m}})),!1)}function R(){l&&l.isInlineTranslateSettingsTooltipInjected||E||n(9,y=!1)}function N(){l&&!l.isInlineTranslateSettingsTooltipInjected&&(n(9,y=!0),wq(m),Rn({action:Ln.dlTrackInlineSettingOpened,payload:{uiFunction:Fe,uiLocation:Z,nicheIntegration:m}})),B(it)}function P(e){b.includes(e)||(Rn({action:Ln.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:m}}),b.push(e))}function B(e){if(!a.isInlineHighlighterShown){Pv.set({isInlineHighlighterShown:!0});try{Rn({action:Ln.dlTrackCloseInlineHighlighter,payload:{trigger:e}})}catch(e){}}}chrome.runtime.onMessage.addListener(M),yh((()=>{C(),chrome.runtime.onMessage.removeListener(M)}));const F=e=>u(void 0,void 0,void 0,(function*(){yield Pv.set({targetLanguageUserInput:e.value}),n(13,x=!1),D()}));let H,j=!1;f||Hl().then((e=>u(void 0,void 0,void 0,(function*(){e&&!a.isInlineHighlighterShown&&Pv.set({isInlineHighlighterShown:!0}),n(15,j=e)})))),bh((()=>{if(M_(window)){const e=M_(window);if(!e)return void n(14,H=void 0);La(e,!0).then((e=>{n(14,H=e.langCode)}))}else n(14,H=void 0)}));return e.$$set=e=>{"platformBehaviour"in e&&n(30,m=e.platformBehaviour),"isInput"in e&&n(0,h=e.isInput),"enableAdvancedTriggerIcon"in e&&n(1,f=e.enableAdvancedTriggerIcon)},e.$$.update=()=>{if(32&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(35,o=!a.enableInlineTranslation||(null===n(31,c=a.blacklistDomainsForReading)||void 0===c?void 0:c.includes(window.location.hostname))||a.isGmailEnabled&&um()),32&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(36,i=!a.enableInputTranslation||hy(window.location.host,window.location.href)||(null===n(32,d=a.blacklistDomainsForWriting)||void 0===d?void 0:d.includes(window.location.hostname))||a.isGmailEnabled&&um()),1&e.$$.dirty[0]|48&e.$$.dirty[1]&&n(16,r=h&&i||!h&&o),32&e.$$.dirty[0]&&n(4,s=Hn(a,xt.TRANSLATOR)),16&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(7,w=s?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):_?`${S} (${_})`:S),32&e.$$.dirty[0]&&n(12,T=Bn(a,xt.TRANSLATOR)),64&e.$$.dirty[1]&&!1===l.isInlineTranslateSettingsTooltipInjected&&n(9,y=!1),12&e.$$.dirty[0]|8&e.$$.dirty[1]&&I&&k&&L===iT){const e=k.getBoundingClientRect(),t=dT(e);n(3,L=t),n(34,I=!1)}},[h,f,k,L,s,a,v,w,p,y,g,E,T,x,H,j,r,$,C,function(){C(),function(){let e;if(!0===f)e=h?we:ve;else e=Z;Rn({action:Ln.dlTrackUILocationClicked,payload:e})}(),!h||a.targetLanguageUserInput?D():n(13,x=!0)},D,function(){return u(this,void 0,void 0,(function*(){bq(),R(),C(),f&&(Rq(),Nq()),h?(Rn({action:xn.dlTriggerImproveInput}),yield O()):Rn({action:xn.dlTriggerImproveInline}),B(it)}))},function(){v||n(9,y=!0)},R,N,P,B,()=>{n(11,E=!1)},F,undefined,m,c,d,_,I,o,i,l,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(e){Ch[e?"unshift":"push"]((()=>{k=e,n(2,k)}))},()=>{h?n(11,E=!0):N()},()=>P(h?Ee:ye),function(e){Ch[e?"unshift":"push"]((()=>{g=e,n(10,g)}))},()=>P(h?we:ve),e=>F(e.detail.lang),()=>P(Z),()=>P(Y),function(e){Ch[e?"unshift":"push"]((()=>{p=e,n(8,p)}))}]}class tx extends rf{constructor(e){super(),of(this,e,ex,QT,Em,{websiteSettings:29,platformBehaviour:30,isInput:0,enableAdvancedTriggerIcon:1},null,[-1,-1,-1])}get websiteSettings(){return this.$$.ctx[29]}}const nx=e=>{const t={"&":".","<":".",">":".",'"':".","'":".","#":".",";":".","%":".","\\":".","/":"."};return e.replace(/[&<>"'#;%\\/]/g,(function(e){return t[e]}))};function ox(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:i,left:r,right:s,bottom:a,height:l,width:c}=n,d={x:r-o.left,y:a-o.top,selectedTop:i,selectedBottom:a,selectedRight:o.width-s,selectedLeft:r+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}const ix=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},rx=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)};function sx(e){const t=(e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=ix(n,e);if(i)n=i;else if(rx(t))return o}return n=ix(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o})(e),n=e.selectionStart,o=e.selectionEnd,i=document.createElement("div");i.id="mirror",document.body.appendChild(i);const r=window.getComputedStyle(e);i.style.fontFamily=r.fontFamily,i.style.fontSize=r.fontSize,i.style.padding=r.padding,i.style.border=r.border,i.style.lineHeight=r.lineHeight,i.style.whiteSpace="pre-wrap",i.style.wordWrap="break-word",i.style.visibility="hidden",i.style.top=`${t.top+window.scrollY}px`,i.style.bottom=`${t.bottom+window.scrollY}px`,i.style.left=`${t.left}px`,i.style.height=r.height,i.style.width=`${t.width}px`,i.style.position="absolute";const s=nx(e.value.substring(0,n)),a=nx(e.value.substring(n,o)),l=nx(e.value.substring(o)),c=Lg(s+'<span id="marker-start" style="position: absolute;">|</span>'+a+'<span id="marker-end" style="position: absolute;">|</span>'+l);i.innerHTML=c;const d=document.getElementById("marker-start"),u=document.getElementById("marker-end"),p=d.getBoundingClientRect(),g=u.getBoundingClientRect(),m=document.body.parentNode.getBoundingClientRect(),h=e.getBoundingClientRect(),f={x:p.left-m.left,y:h.top>0?g.bottom-m.top:g.bottom-m.top+h.top,selectedTop:p.top,selectedBottom:g.bottom,selectedRight:m.width-g.right,selectedLeft:p.left+window.pageXOffset,selectedWidth:g.right-p.right,height:g.bottom-p.top};return document.body.removeChild(i),f}function ax(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes)){const e=n;if(t.getBoundingClientRect||(t=e),e.getBoundingClientRect&&(e.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=e),e.hasChildNodes())){const n=ax(e);if(null==n?void 0:n.getBoundingClientRect){const o=e.getBoundingClientRect(),i=n.getBoundingClientRect();o.right<i.right&&(t=n)}}}return t}const lx=e=>{const t=[],n=[];return ux({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function cx(e){for(const t of e.childNodes)if("#text"!=t.nodeName&&"#comment"!=t.nodeName){if("block"==window.getComputedStyle(t).display)return!0;if(cx(t))return!0}return!1}const dx=({strings:e,domElements:t})=>{for(const n in t)Array.isArray(e[n])?t[n].innerHTML=Lg(e[n].join("")):t[n].innerHTML=Lg(e[n])},ux=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(function(e){if(e instanceof HTMLFormElement&&fx(e))return!1;if(px(e)||mx(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!px(t)&&(!gx(t)||mx(t)||"inline"!=window.getComputedStyle(t).display||cx(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return px(t)}return!0}(n))e.push(n),t.push(Lg(n.innerHTML));else for(const o of n.childNodes)ux({domElements:e,strings:t,element:o})};const px=e=>"#text"==e.nodeName||"#comment"==e.nodeName,gx=e=>pt.includes(e.nodeName.toLowerCase()),mx=e=>ut.includes(e.nodeName.toLowerCase());function hx(e){const t=[];for(;null!=e.parentNode;){let n=0,o=0;for(const t of e.parentNode.childNodes)t.nodeName===e.nodeName&&(t===e&&(o=n),n++);e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":nth-child("+(o+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t.slice(1)}function fx(e){return"string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof NamedNodeMap)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes}const vx={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60};function _x(e,t){var n,o,i,r,s,a,l,c;let d={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return d;const{TRIGGER_EXPENDED_WIDTH:u,TRIGGER_WIDTH:p,TRIGGER_HEIGHT:g}=vx,m=null==e?void 0:e.detail;if(1===m){if(e.isOutsideOfView)return d;let l=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const c=document.body.parentNode.getBoundingClientRect();let m=e.pageY+.5*l,h=(null!==(n=t.selectedTop)&&void 0!==n?n:t.top)+t.height-l-c.y;const f=()=>{const e=window.getSelection();if(!(null==e?void 0:e.rangeCount))return;const t=e.getRangeAt(0).getClientRects();if(!t.length)return;return{firstRect:t[0],lastRect:t[t.length-1]}};if(t.height<1.5*l){d.containerStyleLeft=e.clientX;const n=t.x+(null!==(i=null!==(o=t.selectedWidth)&&void 0!==o?o:t.width)&&void 0!==i?i:0);e.clientX>n?d.containerStyleLeft=(null!==(s=null!==(r=t.selectedRight)&&void 0!==r?r:t.right)&&void 0!==s?s:0)>u?n:n-u:e.clientX-t.x<p&&e.clientX<t.x&&(d.containerStyleLeft=(null!==(a=t.selectedLeft)&&void 0!==a?a:t.left)>u?t.x:t.x+u)}else if(m>h){const t=f();t&&t.lastRect?d.containerStyleLeft=t.lastRect.right:d.containerStyleLeft=e.clientX}else if(m<h){d.containerStyleTop=t.y-t.height-g-5;const n=f();n&&n.firstRect?d.containerStyleLeft=n.firstRect.x:d.containerStyleLeft=e.clientX}}else if(2===m){d.containerStyleLeft=t.x+(null!==(c=null!==(l=t.selectedWidth)&&void 0!==l?l:t.width)&&void 0!==c?c:0)-p;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));Math.floor(t.height/2)>e&&(d.containerStyleTop=t.y-t.height+e+2)}const h=window.innerWidth||document.documentElement.innerWidth,f=window.scrollHeight||document.documentElement.scrollHeight;return d.containerStyleLeft+u>h&&(d.containerStyleLeft=d.containerStyleLeft-u),(d.containerStyleTop+g>f||d.containerStyleTop<0)&&(d.containerStyleTop=t.y-g),d}class wx{constructor(e){this.createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.repositionContainer(t),this.domElement.shadowContainer.appendChild(this.domElement.container);this.domElement.mainComponent=new tx({target:this.domElement.container,props:{websiteSettings:e,enableAdvancedTriggerIcon:true}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t},this.repositionContainer=e=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:t}=U,n=t.z_index-500,o=ox();let i=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}; visibility: initial !important;`,r=`position: absolute; z-index: ${n};`;this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=r;const s=_x(e,o);this.domElement.container.style.top=`${Math.floor(s.containerStyleTop)}px`,this.domElement.container.style.left=`${Math.floor(s.containerStyleLeft)}px`},this.cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent),this.addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)},this.removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}wx.HTML_TAG_NAME="deepl-inline-trigger",wx.createElement=(e=document)=>{const t=e.createElement(wx.HTML_TAG_NAME),n=new wx(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};class bx{constructor(e){this.createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.cachedElement=e,this.domElement.repositionContainer(t,e);this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadowContainer.appendChild(this.domElement.container),L_.update({inputElement:e}),this.domElement.mainComponent=new tx({target:this.domElement.container,props:{isInput:!0,enableAdvancedTriggerIcon:!0}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t},this.repositionContainer=(e,t)=>{if(!M_(window))return void this.domElement.cleanupDOM();const{deepl_inline_ui:n}=U,o=n.z_index+500;let i;i="TEXTAREA"===t.tagName?sx(t):ox();let r=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o}`,s=`position: absolute; z-index: ${o};`;this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=s;const a=_x(e,i);this.domElement.container.style.top=`${Math.floor(a.containerStyleTop)}px`,this.domElement.container.style.left=`${Math.floor(a.containerStyleLeft)}px`},this.cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent,this.domElement.cachedElement),this.addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)},this.removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent,this.domElement.cachedElement=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function yx(e){let t,n,o,i=Lg(e[1])+"";return{c(){t=Km("div"),nh(t,"class","container svelte-1dicgbw")},m(r,s){Gm(r,t,s),t.innerHTML=i,n||(o=Qm(t,"click",e[0]),n=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),n=!1,o()}}}function Ex(e){return[function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:mo}}),Rn({action:Ln.dlTrackUiAction,payload:{uiAction:Me}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}bx.HTML_TAG_NAME="deepl-input-selection-trigger",bx.createElement=(e=document)=>{const t=e.createElement(bx.HTML_TAG_NAME),n=new bx(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};class Tx extends rf{constructor(e){super(),of(this,e,Ex,yx,Em,{})}}function xx(e){let t,n,o,i=Lg(e[0])+"";return{c(){t=Km("div"),nh(t,"class","container svelte-1dicgbw"),nh(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(r,s){Gm(r,t,s),t.innerHTML=i,n||(o=Qm(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&i!==(i=Lg(e[0])+"")&&(t.innerHTML=i)},i:fm,o:fm,d(e){e&&Wm(t),n=!1,o()}}}function $x(e,t,n){let{options:o}=t;const i=(null==o?void 0:o.settingsPageURL)?null==o?void 0:o.settingsPageURL:Ww.settings_page;let r="",s=(null==o?void 0:o.currentDomain)?o.currentDomain:"";switch(null==o?void 0:o.saveAction){case qe:r=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case Ue:r=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[s,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[r,function(){Rn({action:On.dlOpenInternalPage,payload:{destination:i}})},o]}class Sx extends rf{constructor(e){super(),of(this,e,$x,xx,Em,{options:2})}}function Cx(e){let t,n,o,i=Lg(e[0])+"";return{c(){t=Km("div"),nh(t,"class","container svelte-1dicgbw"),nh(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(r,s){Gm(r,t,s),t.innerHTML=i,n||(o=Qm(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&i!==(i=Lg(e[0])+"")&&(t.innerHTML=i)},i:fm,o:fm,d(e){e&&Wm(t),n=!1,o()}}}function kx(e,t,n){let{options:o}=t;const i=(null==o?void 0:o.settingsPageURL)?null==o?void 0:o.settingsPageURL:Ww.settings_page;let r="";const s=(null==o?void 0:o.currentDomain)?o.currentDomain:"";switch(null==o?void 0:o.saveAction){case qe:r=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case Ue:r=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[s,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[r,function(){Rn({action:On.dlOpenInternalPage,payload:{destination:i}})},o]}class Lx extends rf{constructor(e){super(),of(this,e,kx,Cx,Em,{options:2})}}function Ax(e){let t,n,o;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,nh(t,"class","container svelte-1dicgbw"),nh(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[0]),n=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),n=!1,o()}}}function Ix(e){return[function(){Rn({action:On.dlOpenInternalPage,payload:{destination:Ww.settings_page,hash:Gw}})}]}class Ox extends rf{constructor(e){super(),of(this,e,Ix,Ax,Em,{})}}function Dx(e){let t;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,nh(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Mx(e){return[]}class Rx extends rf{constructor(e){super(),of(this,e,Mx,Dx,Em,{})}}function Nx(e){let t;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,nh(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Px(e){return[]}class Ux extends rf{constructor(e){super(),of(this,e,Px,Nx,Em,{})}}function qx(e){let t,n,o,i;return{c(){t=Km("div"),n=Km("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_main")}`,o=Jm(),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_explanation")}`,nh(n,"class","main-text svelte-18of7gm"),nh(t,"class","dl-notification-gslides-prevent-asset-loss")},m(e,r){Gm(e,t,r),Hm(t,n),Hm(t,o),Hm(t,i)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function Bx(e){return[]}class Fx extends rf{constructor(e){super(),of(this,e,Bx,qx,Em,{})}}function Hx(e){let t,n,o,i,r,s,a,l,c;return{c(){t=Km("div"),n=Km("div"),n.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_headline")}`,o=Jm(),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_text")}`,r=Jm(),s=Km("div"),a=Km("div"),a.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_learn_more")}`,nh(n,"class","dl-ads-for-addins_headline svelte-rs2k84"),nh(i,"class","dl-ads-for-addins_text"),nh(a,"class","dl-ads-for-addins_button svelte-rs2k84"),nh(s,"class","dl-ads-for-addins_wrapper svelte-rs2k84"),nh(t,"class","dl-ads-for-addins svelte-rs2k84")},m(d,u){Gm(d,t,u),Hm(t,n),Hm(t,o),Hm(t,i),Hm(t,r),Hm(t,s),Hm(s,a),l||(c=Qm(s,"click",e[0]),l=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),l=!1,c()}}}function jx(e){return[()=>{Rn({action:On.dlExternalURLRedirect,payload:{destination:wo,utmContent:"msaddin_ads_notification"}}),Rn({action:Ln.dlTrackClicksOnAdsButton})}]}class zx extends rf{constructor(e){super(),of(this,e,jx,Hx,Em,{})}}function Gx(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f=e[4]==K.warning_theme&&Wx();var v=e[5];function _(e,t){return{props:{options:e[1]}}}return v&&(l=ph(v,_(e))),{c(){t=Km("div"),n=Km("div"),o=Km("button"),r=Jm(),s=Km("div"),f&&f.c(),a=Jm(),l&&ef(l.$$.fragment),nh(o,"class",i="dl-close-icon "+e[4]+" svelte-15vc0ki"),nh(n,"class","header"),nh(s,"class",c="body "+e[4]+" svelte-15vc0ki"),nh(t,"class",d="container "+e[4]+" svelte-15vc0ki"),nh(t,"dir",Pa()),ch(t,"success",e[0]===j||e[0]===z)},m(i,c){Gm(i,t,c),Hm(t,n),Hm(n,o),Hm(t,r),Hm(t,s),f&&f.m(s,null),Hm(s,a),l&&tf(l,s,null),g=!0,m||(h=Qm(o,"click",(function(){ym(e[2])&&e[2].apply(this,arguments)})),m=!0)},p(n,r){if(e=n,(!g||16&r&&i!==(i="dl-close-icon "+e[4]+" svelte-15vc0ki"))&&nh(o,"class",i),e[4]==K.warning_theme?f||(f=Wx(),f.c(),f.m(s,a)):f&&(f.d(1),f=null),32&r&&v!==(v=e[5])){if(l){zh();const e=l;Vh(e.$$.fragment,1,0,(()=>{nf(e,1)})),Gh()}v?(l=ph(v,_(e)),ef(l.$$.fragment),Wh(l.$$.fragment,1),tf(l,s,null)):l=null}else if(v){const t={};2&r&&(t.options=e[1]),l.$set(t)}(!g||16&r&&c!==(c="body "+e[4]+" svelte-15vc0ki"))&&nh(s,"class",c),(!g||16&r&&d!==(d="container "+e[4]+" svelte-15vc0ki"))&&nh(t,"class",d),(!g||17&r)&&ch(t,"success",e[0]===j||e[0]===z)},i(e){g||(l&&Wh(l.$$.fragment,e),Dh((()=>{g&&(p&&p.end(1),u=Zh(t,pf,{x:100,duration:1e3}),u.start())})),g=!0)},o(e){l&&Vh(l.$$.fragment,e),u&&u.invalidate(),p=Yh(t,pf,{x:100,duration:1e3}),g=!1},d(e){e&&Wm(t),f&&f.d(),l&&nf(l),e&&p&&p.end(),m=!1,h()}}}function Wx(e){let t;return{c(){t=Km("div"),t.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',nh(t,"class","icon-container")},m(e,n){Gm(e,t,n)},d(e){e&&Wm(t)}}}function Vx(e){let t,n,o=e[3]&&Gx(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&Wh(o,1)):(o=Gx(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function Kx(e,t,n){let o,i;Th("text_direction",Pa());let{type:r}=t,{options:s}=t,{close:a}=t,l=!1;const c={[q]:Tx,[B]:Sx,[F]:Lx,[H]:Ox,[j]:Rx,[z]:Ux,[G]:Fx,[W]:zx};return bh((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>a()),11100)})),e.$$set=e=>{"type"in e&&n(0,r=e.type),"options"in e&&n(1,s=e.options),"close"in e&&n(2,a=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[r]),2&e.$$.dirty&&n(4,i=(null==s?void 0:s.theme)&&K[null==s?void 0:s.theme]?K[null==s?void 0:s.theme]:"")},[r,s,a,l,i,o]}class Zx extends rf{constructor(e){super(),of(this,e,Kx,Vx,Em,{type:0,options:1,close:2})}}class Yx{constructor(e){this.createDOM=(e,t)=>{const n="rtl"===Pa()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${n}: 20px; z-index: ${U.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new Zx({target:this.domElement.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function Jx(e){let t,n,o,i,r;const s=e[7].default,a=Cm(s,e,e[6],null);return{c(){t=Km("button"),a&&a.c(),nh(t,"type","button"),nh(t,"class",n=Om(e[0])+" svelte-1otdxop"),t.disabled=e[1],nh(t,"id",e[5]),nh(t,"data-testid",e[4]),ch(t,"disabled",e[1]),ch(t,"font-size-sm","sm"===e[2]),ch(t,"padding-x-md","md"===e[3]),ch(t,"padding-x-none","none"===e[3])},m(n,s){Gm(n,t,s),a&&a.m(t,null),o=!0,i||(r=[Qm(t,"click",e[8]),Qm(t,"mousedown",th(eh(e[9])))],i=!0)},p(e,[i]){a&&a.p&&(!o||64&i)&&Am(a,s,e,e[6],o?Lm(s,e[6],i,null):Im(e[6]),null),(!o||1&i&&n!==(n=Om(e[0])+" svelte-1otdxop"))&&nh(t,"class",n),(!o||2&i)&&(t.disabled=e[1]),(!o||32&i)&&nh(t,"id",e[5]),(!o||16&i)&&nh(t,"data-testid",e[4]),(!o||3&i)&&ch(t,"disabled",e[1]),(!o||5&i)&&ch(t,"font-size-sm","sm"===e[2]),(!o||9&i)&&ch(t,"padding-x-md","md"===e[3]),(!o||9&i)&&ch(t,"padding-x-none","none"===e[3])},i(e){o||(Wh(a,e),o=!0)},o(e){Vh(a,e),o=!1},d(e){e&&Wm(t),a&&a.d(e),i=!1,bm(r)}}}function Xx(e,t,n){let{$$slots:o={},$$scope:i}=t,{className:r="button-primary"}=t,{disabled:s=!1}=t,{fontSize:a="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,r=e.className),"disabled"in e&&n(1,s=e.disabled),"fontSize"in e&&n(2,a=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,i=e.$$scope)},[r,s,a,l,c,d,i,o,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)}]}Yx.HTML_TAG_NAME="deepl-notification",Yx.createElement=(e=document)=>{const t=e.createElement(Yx.HTML_TAG_NAME),n=new Yx(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class Qx extends rf{constructor(e){super(),of(this,e,Xx,Jx,Em,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function e$(e){let t,n,o;return{c(){t=Zm("svg"),n=Zm("g"),o=Zm("path"),nh(o,"id","Vector (Stroke)"),nh(o,"fill-rule","evenodd"),nh(o,"clip-rule","evenodd"),nh(o,"d","M4.55806 4.55806C4.80214 4.31398 5.19786 4.31398 5.44194 4.55806L10 9.11612L14.5581 4.55806C14.8021 4.31398 15.1979 4.31398 15.4419 4.55806C15.686 4.80214 15.686 5.19786 15.4419 5.44194L10.8839 10L15.4419 14.5581C15.686 14.8021 15.686 15.1979 15.4419 15.4419C15.1979 15.686 14.8021 15.686 14.5581 15.4419L10 10.8839L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L9.11612 10L4.55806 5.44194C4.31398 5.19786 4.31398 4.80214 4.55806 4.55806Z"),nh(o,"fill","currentColor"),nh(n,"id","x-mark"),nh(t,"width","20"),nh(t,"height","20"),nh(t,"viewBox","0 0 20 20"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),rh(t,"color",e[0],1)},m(e,i){Gm(e,t,i),Hm(t,n),Hm(n,o)},p(e,[n]){1&n&&rh(t,"color",e[0],1)},i:fm,o:fm,d(e){e&&Wm(t)}}}function t$(e,t,n){let{fill:o="#FFFFFF"}=t;return e.$$set=e=>{"fill"in e&&n(0,o=e.fill)},[o]}class n$ extends rf{constructor(e){super(),of(this,e,t$,e$,Em,{fill:0})}}function o$(e){let t,n;return{c(){t=Km("div"),n=Ym(e[0]),nh(t,"class","info-msg svelte-17qaccl")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,[t]){1&t&&oh(n,e[0])},i:fm,o:fm,d(e){e&&Wm(t)}}}function i$(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class r$ extends rf{constructor(e){super(),of(this,e,i$,o$,Em,{message:0})}}function s$(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("g"),o=Zm("path"),nh(o,"id","Vector (Stroke)"),nh(o,"fill-rule","evenodd"),nh(o,"clip-rule","evenodd"),nh(o,"d","M4.55806 7.05806C4.80214 6.81398 5.19786 6.81398 5.44194 7.05806L10 11.6161L14.5581 7.05806C14.8021 6.81398 15.1979 6.81398 15.4419 7.05806C15.686 7.30214 15.686 7.69786 15.4419 7.94194L10.4419 12.9419C10.1979 13.186 9.80214 13.186 9.55806 12.9419L4.55806 7.94194C4.31398 7.69786 4.31398 7.30214 4.55806 7.05806Z"),nh(o,"fill","currentColor"),nh(n,"id","chevron-down"),nh(t,"width","20"),nh(t,"height","20"),nh(t,"viewBox","0 0 20 20"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"transform",i=e[1]?"rotate(180)":"rotate(0)"),rh(t,"color",e[0],1)},m(e,i){Gm(e,t,i),Hm(t,n),Hm(n,o)},p(e,[n]){2&n&&i!==(i=e[1]?"rotate(180)":"rotate(0)")&&nh(t,"transform",i),1&n&&rh(t,"color",e[0],1)},i:fm,o:fm,d(e){e&&Wm(t)}}}function a$(e,t,n){let{fill:o="#FFFFFF"}=t,{flipped:i=!1}=t;return e.$$set=e=>{"fill"in e&&n(0,o=e.fill),"flipped"in e&&n(1,i=e.flipped)},[o,i]}class l$ extends rf{constructor(e){super(),of(this,e,a$,s$,Em,{fill:0,flipped:1})}}function c$(e,t,n){const o=e.slice();return o[26]=t[n],o}function d$(e,t,n){const o=e.slice();return o[26]=t[n],o}function u$(e){let t,n;return{c(){t=Km("span"),n=Ym(e[8]),nh(t,"class","target-language-button svelte-zb7zep")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){256&t[0]&&oh(n,e[8])},i:fm,o:fm,d(e){e&&Wm(t)}}}function p$(e){let t,n,o;return n=new Uy({props:{tiny:!0}}),{c(){t=Km("span"),ef(n.$$.fragment),nh(t,"class","target-language-spinner svelte-zb7zep")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function g$(e){let t,n,o,i;const r=[p$,u$],s=[];function a(e,t){return e[3]&&e[3].fptTranslationState===g.ongoingTranslation?0:1}return t=a(e),n=s[t]=r[t](e),{c(){n.c(),o=Xm()},m(e,n){s[t].m(e,n),Gm(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh(),n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o))},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),s[t].d(e)}}}function m$(e){let t,n;return t=new l$({props:{flipped:e[4],fill:e[1]||e[5]?"#FFFFFF":"#292929"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};16&n[0]&&(o.flipped=e[4]),34&n[0]&&(o.fill=e[1]||e[5]?"#FFFFFF":"#292929"),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function h$(e){let t,n,o,i,r,s,a,l,c,d,u;function p(t){e[21](t)}let g={placeholder:chrome.i18n.getMessage("dropdown_search_languages"),customStyles:"margin-bottom: 0;"};void 0!==e[2]&&(g.value=e[2]),i=new q_({props:g}),Ch.push((()=>Qh(i,"value",p)));let m=!e[2]&&e[7].length>0&&f$(e),h=Xh(e[6]),f=[];for(let t=0;t<h.length;t+=1)f[t]=b$(c$(e,h,t));return{c(){t=Km("div"),n=Km("div"),o=Km("div"),ef(i.$$.fragment),s=Jm(),a=Km("div"),m&&m.c(),l=Jm(),c=Km("div"),c.textContent=`${chrome.i18n.getMessage("dropdown_all_languages")}`,d=Jm();for(let e=0;e<f.length;e+=1)f[e].c();nh(o,"class","search-container svelte-zb7zep"),nh(c,"class","section-header svelte-zb7zep"),nh(a,"class","dropdown-content svelte-zb7zep"),nh(n,"class","dropdown svelte-zb7zep"),nh(t,"class","dropdown-container svelte-zb7zep")},m(e,r){Gm(e,t,r),Hm(t,n),Hm(n,o),tf(i,o,null),Hm(n,s),Hm(n,a),m&&m.m(a,null),Hm(a,l),Hm(a,c),Hm(a,d);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(a,null);u=!0},p(e,t){const n={};if(!r&&4&t[0]&&(r=!0,n.value=e[2],Mh((()=>r=!1))),i.$set(n),!e[2]&&e[7].length>0?m?m.p(e,t):(m=f$(e),m.c(),m.m(a,l)):m&&(m.d(1),m=null),8512&t[0]){let n;for(h=Xh(e[6]),n=0;n<h.length;n+=1){const o=c$(e,h,n);f[n]?f[n].p(o,t):(f[n]=b$(o),f[n].c(),f[n].m(a,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}},i(e){u||(Wh(i.$$.fragment,e),u=!0)},o(e){Vh(i.$$.fragment,e),u=!1},d(e){e&&Wm(t),nf(i),m&&m.d(),Vm(f,e)}}}function f$(e){let t,n,o,i,r=Xh(e[7]),s=[];for(let t=0;t<r.length;t+=1)s[t]=_$(d$(e,r,t));return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("dropdown_suggested_languages")}`,n=Jm();for(let e=0;e<s.length;e+=1)s[e].c();o=Jm(),i=Km("div"),nh(t,"class","section-header svelte-zb7zep"),nh(i,"class","section-separator svelte-zb7zep")},m(e,r){Gm(e,t,r),Gm(e,n,r);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,r);Gm(e,o,r),Gm(e,i,r)},p(e,t){if(8576&t[0]){let n;for(r=Xh(e[7]),n=0;n<r.length;n+=1){const i=d$(e,r,n);s[n]?s[n].p(i,t):(s[n]=_$(i),s[n].c(),s[n].m(o.parentNode,o))}for(;n<s.length;n+=1)s[n].d(1);s.length=r.length}},d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(i)),Vm(s,e)}}}function v$(e){let t,n;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"fill-rule","evenodd"),nh(n,"clip-rule","evenodd"),nh(n,"d","M13.7576 3.57573C13.9919 3.81004 13.9919 4.18994 13.7576 4.42426L6.42425 11.7576C6.18993 11.9919 5.81003 11.9919 5.57572 11.7576L2.24239 8.42426C2.00807 8.18994 2.00807 7.81004 2.24239 7.57573C2.4767 7.34142 2.8566 7.34142 3.09091 7.57573L5.99998 10.4848L12.9091 3.57573C13.1434 3.34142 13.5233 3.34142 13.7576 3.57573Z"),nh(n,"fill","#292929"),nh(t,"class","checkmark-icon svelte-zb7zep"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none")},m(e,o){Gm(e,t,o),Hm(t,n)},d(e){e&&Wm(t)}}}function _$(e){let t,n,o,i,r,s,a=e[26].label+"",l=e[8]===e[26].label&&v$();function c(){return e[22](e[26])}return{c(){t=Km("button"),l&&l.c(),n=Jm(),o=Ym(a),i=Jm(),nh(t,"type","button"),nh(t,"class","dropdown-item svelte-zb7zep"),ch(t,"selected",e[8]===e[26].label)},m(e,a){Gm(e,t,a),l&&l.m(t,null),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=Qm(t,"click",c),r=!0)},p(i,r){(e=i)[8]===e[26].label?l||(l=v$(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),128&r[0]&&a!==(a=e[26].label+"")&&oh(o,a),384&r[0]&&ch(t,"selected",e[8]===e[26].label)},d(e){e&&Wm(t),l&&l.d(),r=!1,s()}}}function w$(e){let t,n;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"fill-rule","evenodd"),nh(n,"clip-rule","evenodd"),nh(n,"d","M13.7576 3.57573C13.9919 3.81004 13.9919 4.18994 13.7576 4.42426L6.42425 11.7576C6.18993 11.9919 5.81003 11.9919 5.57572 11.7576L2.24239 8.42426C2.00807 8.18994 2.00807 7.81004 2.24239 7.57573C2.4767 7.34142 2.8566 7.34142 3.09091 7.57573L5.99998 10.4848L12.9091 3.57573C13.1434 3.34142 13.5233 3.34142 13.7576 3.57573Z"),nh(n,"fill","#292929"),nh(t,"class","checkmark-icon svelte-zb7zep"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"width","16"),nh(t,"height","16"),nh(t,"viewBox","0 0 16 16"),nh(t,"fill","none")},m(e,o){Gm(e,t,o),Hm(t,n)},d(e){e&&Wm(t)}}}function b$(e){let t,n,o,i,r,s,a=e[26].label+"",l=e[8]===e[26].label&&w$();function c(){return e[23](e[26])}return{c(){t=Km("button"),l&&l.c(),n=Jm(),o=Ym(a),i=Jm(),nh(t,"type","button"),nh(t,"class","dropdown-item svelte-zb7zep"),ch(t,"selected",e[8]===e[26].label)},m(e,a){Gm(e,t,a),l&&l.m(t,null),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=Qm(t,"click",c),r=!0)},p(i,r){(e=i)[8]===e[26].label?l||(l=w$(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),64&r[0]&&a!==(a=e[26].label+"")&&oh(o,a),320&r[0]&&ch(t,"selected",e[8]===e[26].label)},d(e){e&&Wm(t),l&&l.d(),r=!1,s()}}}function y$(e){let t,n,o,i,r,s,a,l,c;n=new Qx({props:{className:`\n    ${e[1]||e[5]?"dlui-btn-primary always-active":"dlui-btn-secondary"}\n    "rounded-left"\n    ${e[0]?"tall-button":""}\n    `,dataQa:"translate-page-button",$$slots:{default:[g$]},$$scope:{ctx:e}}}),n.$on("click",e[11]),i=new Qx({props:{className:`\n    ${e[0]?"tall-button":""}\n    ${e[1]||e[5]?"dlui-btn-primary":"dlui-btn-secondary"}\n    "rounded-right"\n    ${e[4]?"gray-background":""}\n    ${e[0]?"tall-button":""}\n    `,dataQa:"dropdown-arrow-button",$$slots:{default:[m$]},$$scope:{ctx:e}}}),i.$on("click",e[12]);let d=e[4]&&h$(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),ef(i.$$.fragment),r=Jm(),d&&d.c(),nh(t,"class",s="split-language-button "+(e[1]?"":"not-translated")+" svelte-zb7zep")},m(s,u){Gm(s,t,u),tf(n,t,null),Hm(t,o),tf(i,t,null),Hm(t,r),d&&d.m(t,null),a=!0,l||(c=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[24])],l=!0)},p(e,o){const r={};35&o[0]&&(r.className=`\n    ${e[1]||e[5]?"dlui-btn-primary always-active":"dlui-btn-secondary"}\n    "rounded-left"\n    ${e[0]?"tall-button":""}\n    `),264&o[0]|1&o[1]&&(r.$$scope={dirty:o,ctx:e}),n.$set(r);const l={};51&o[0]&&(l.className=`\n    ${e[0]?"tall-button":""}\n    ${e[1]||e[5]?"dlui-btn-primary":"dlui-btn-secondary"}\n    "rounded-right"\n    ${e[4]?"gray-background":""}\n    ${e[0]?"tall-button":""}\n    `),50&o[0]|1&o[1]&&(l.$$scope={dirty:o,ctx:e}),i.$set(l),e[4]?d?(d.p(e,o),16&o[0]&&Wh(d,1)):(d=h$(e),d.c(),Wh(d,1),d.m(t,null)):d&&(zh(),Vh(d,1,1,(()=>{d=null})),Gh()),(!a||2&o[0]&&s!==(s="split-language-button "+(e[1]?"":"not-translated")+" svelte-zb7zep"))&&nh(t,"class",s)},i(e){a||(Wh(n.$$.fragment,e),Wh(i.$$.fragment,e),Wh(d),a=!0)},o(e){Vh(n.$$.fragment,e),Vh(i.$$.fragment,e),Vh(d),a=!1},d(e){e&&Wm(t),nf(n),nf(i),d&&d.d(),l=!1,bm(c)}}}function E$(e,t,n){let o,i,s,a,l,c,d;var u,p;let{languageItems:m=[]}=t,{selectedLanguage:h}=t,{tallButton:f}=t,{isTranslated:v=!1}=t;const _=Qw();Sm(e,_,(e=>n(3,d=e)));const w=xh("deepl_settings");Sm(e,w,(e=>n(20,c=e)));const b=Eh();let y=!1,E="",T=[];function x(){b("triggerTranslate")}function $(e){if(h===e.value)return void n(4,y=!1);const t=qa(c.recentlyUsedLanguages||[],e.value);w.set({recentlyUsedLanguages:t}),b("selectLanguage",e.value),n(4,y=!1),v&&x()}return e.$$set=e=>{"languageItems"in e&&n(14,m=e.languageItems),"selectedLanguage"in e&&n(15,h=e.selectedLanguage),"tallButton"in e&&n(0,f=e.tallButton),"isTranslated"in e&&n(1,v=e.isTranslated)},e.$$.update=()=>{if(245760&e.$$.dirty[0]&&n(8,o=null!==n(17,p=null===n(16,u=m.find((e=>e.value===h)))||void 0===u?void 0:u.label)&&void 0!==p?p:"Select Language"),1048576&e.$$.dirty[0]&&n(19,i=c.recentlyUsedLanguages||[]),540672&e.$$.dirty[0]){let e=i;if(i.length<6){const t=new Set(i),n=r.filter((e=>!t.has(e)));e=[...i,...n]}e=e.slice(0,6),n(18,T=e.map((e=>m.find((t=>t.value===e)))).filter(Boolean))}262148&e.$$.dirty[0]&&n(7,s=E?T.filter((e=>e.label.toLowerCase().includes(E.toLowerCase()))):T),16388&e.$$.dirty[0]&&n(6,a=E?m.filter((e=>e.label.toLowerCase().includes(E.toLowerCase()))):m),8&e.$$.dirty[0]&&n(5,l=d.fptTranslationState===g.ongoingAutoDetection||d.fptTranslationState===g.ongoingTranslation)},[f,v,E,d,y,l,a,s,o,_,w,x,function(){n(4,y=!y),y||n(2,E="")},$,m,h,u,p,T,i,c,function(e){E=e,n(2,E)},e=>$(e),e=>$(e),()=>{n(4,y=!1),n(2,E="")}]}class T$ extends rf{constructor(e){super(),of(this,e,E$,y$,Em,{languageItems:14,selectedLanguage:15,tallButton:0,isTranslated:1},null,[-1,-1])}}function x$(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("g"),o=Zm("path"),nh(o,"fill-rule","evenodd"),nh(o,"clip-rule","evenodd"),nh(o,"d","M9.46963 3.6363C9.76252 3.3434 10.2374 3.3434 10.5303 3.6363L16.3636 9.46963C16.6565 9.76252 16.6565 10.2374 16.3636 10.5303L10.5303 16.3636C10.2374 16.6565 9.76252 16.6565 9.46963 16.3636C9.17674 16.0707 9.17674 15.5959 9.46963 15.303L14.0226 10.75H4.16663C3.75241 10.75 3.41663 10.4142 3.41663 9.99996C3.41663 9.58575 3.75241 9.24996 4.16663 9.24996H14.0226L9.46963 4.69696C9.17674 4.40406 9.17674 3.92919 9.46963 3.6363Z"),nh(o,"fill","currentColor"),nh(n,"id","arrow-end"),nh(t,"width","20"),nh(t,"class","horizontal-arrow svelte-101llwp"),nh(t,"height","20"),nh(t,"viewBox","0 0 20 20"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"transform",i=e[1]?"rotate(180)":"rotate(0)"),rh(t,"color",e[0],1)},m(e,i){Gm(e,t,i),Hm(t,n),Hm(n,o)},p(e,[n]){2&n&&i!==(i=e[1]?"rotate(180)":"rotate(0)")&&nh(t,"transform",i),1&n&&rh(t,"color",e[0],1)},i:fm,o:fm,d(e){e&&Wm(t)}}}function $$(e,t,n){let{fill:o="#FFFFFF"}=t,{flipped:i=!1}=t;return e.$$set=e=>{"fill"in e&&n(0,o=e.fill),"flipped"in e&&n(1,i=e.flipped)},[o,i]}class S$ extends rf{constructor(e){super(),of(this,e,$$,x$,Em,{fill:0,flipped:1})}}const C$=()=>t(void 0,void 0,void 0,(function*(){yield Rn({action:On.dlOpenInternalPage,payload:{destination:Ww.settings_page,hash:Gw}})})),k$=e=>({}),L$=e=>({});function A$(e,t,n){const o=e.slice();return o[19]=t[n],o}function I$(e,t,n){const o=e.slice();return o[19]=t[n],o}function O$(e,t,n){const o=e.slice();return o[19]=t[n],o}function D$(e,t,n){const o=e.slice();return o[19]=t[n],o}function M$(e){let t,n,o,i,r,s,a,l;n=new Qx({props:{dataQa:"show-orginal",className:`${e[6]||e[4].fptTranslationState===g.ongoingAutoDetection||e[4].fptTranslationState===g.ongoingTranslation?"dlui-btn-secondary":"dlui-btn-primary always-active"} ${e[2]?"tall-button":""}`,$$slots:{default:[q$]},$$scope:{ctx:e}}}),n.$on("click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),i=new S$({props:{fill:"#292929"}}),s=new T$({props:{languageItems:e[7],selectedLanguage:e[8],isTranslated:e[6],tallButton:e[2]}}),s.$on("selectLanguage",e[16]),s.$on("triggerTranslate",(function(){ym(e[0])&&e[0].apply(this,arguments)}));const c=e[15]["rightside-menu"],d=Cm(c,e,e[17],L$);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),ef(i.$$.fragment),r=Jm(),ef(s.$$.fragment),a=Jm(),d&&d.c(),nh(t,"class","language-selection svelte-1tw45n9"),nh(t,"dir",Pa()),nh(t,"data-testid","full-page-translation-body-language-selection")},m(e,c){Gm(e,t,c),tf(n,t,null),Hm(t,o),tf(i,t,null),Hm(t,r),tf(s,t,null),Gm(e,a,c),d&&d.m(e,c),l=!0},p(t,o){e=t;const i={};84&o&&(i.className=`${e[6]||e[4].fptTranslationState===g.ongoingAutoDetection||e[4].fptTranslationState===g.ongoingTranslation?"dlui-btn-secondary":"dlui-btn-primary always-active"} ${e[2]?"tall-button":""}`),131080&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i);const r={};128&o&&(r.languageItems=e[7]),256&o&&(r.selectedLanguage=e[8]),64&o&&(r.isTranslated=e[6]),4&o&&(r.tallButton=e[2]),s.$set(r),d&&d.p&&(!l||131072&o)&&Am(d,c,e,e[17],l?Lm(c,e[17],o,k$):Im(e[17]),L$)},i(e){l||(Wh(n.$$.fragment,e),Wh(i.$$.fragment,e),Wh(s.$$.fragment,e),Wh(d,e),l=!0)},o(e){Vh(n.$$.fragment,e),Vh(i.$$.fragment,e),Vh(s.$$.fragment,e),Vh(d,e),l=!1},d(e){e&&(Wm(t),Wm(a)),nf(n),nf(i),nf(s),d&&d.d(e)}}}function R$(e){let t,n,o,i,r;function s(e,t){return 48&t&&(o=null),null==o&&(o=!!e[5].blacklistDomains.includes(e[4].hostname)),o?F$:e[9]?B$:void 0}let a=s(e,-1),l=a&&a(e),c=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),d=[];for(let t=0;t<c.length;t+=1)d[t]=tS(A$(e,c,t));return{c(){t=Km("div"),n=Km("p"),l&&l.c(),i=Jm(),r=Km("p");for(let e=0;e<d.length;e+=1)d[e].c();nh(n,"class","svelte-1tw45n9"),nh(r,"class","svelte-1tw45n9")},m(e,o){Gm(e,t,o),Hm(t,n),l&&l.m(n,null),Hm(t,i),Hm(t,r);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(r,null)},p(e,t){a===(a=s(e,t))&&l?l.p(e,t):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(n,null)))},i:fm,o:fm,d(e){e&&Wm(t),l&&l.d(),Vm(d,e)}}}function N$(e){let t,n;return t=new r$({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function P$(e){let t,n;return t=new r$({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function U$(e){let t,n,o;return n=new Uy({}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","translation-in-progress svelte-1tw45n9"),nh(t,"data-testid","full-page-translation-body-translation-in-progress")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function q$(e){let t,n;return{c(){t=Km("span"),n=Ym(e[3]),nh(t,"class","original-language-button svelte-1tw45n9")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){8&t&&oh(n,e[3])},d(e){e&&Wm(t)}}}function B$(e){let t,n=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_language",e[3]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=z$(I$(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Xm()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Gm(e,t,n)},p(e,i){if(8&i){let r;for(n=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_language",e[3]),["strong"])),r=0;r<n.length;r+=1){const s=I$(e,n,r);o[r]?o[r].p(s,i):(o[r]=z$(s),o[r].c(),o[r].m(t.parentNode,t))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(e){e&&Wm(t),Vm(o,e)}}}function F$(e){let t;function n(e,t){return e[9]?W$:G$}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function H$(e){let t,n=e[19].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p(e,o){8&o&&n!==(n=e[19].text+"")&&oh(t,n)},d(e){e&&Wm(t)}}}function j$(e){let t,n,o=e[19].text+"";return{c(){t=Km("strong"),n=Ym(o),nh(t,"class","svelte-1tw45n9")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){8&t&&o!==(o=e[19].text+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function z$(e){let t;function n(e,t){return"strong"===e[19].block?j$:H$}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function G$(e){let t,n=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_website",e[4].hostname),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Z$(O$(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Xm()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Gm(e,t,n)},p(e,i){if(16&i){let r;for(n=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_website",e[4].hostname),["strong"])),r=0;r<n.length;r+=1){const s=O$(e,n,r);o[r]?o[r].p(s,i):(o[r]=Z$(s),o[r].c(),o[r].m(t.parentNode,t))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(e){e&&Wm(t),Vm(o,e)}}}function W$(e){let t,n=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[4].hostname,e[3]]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=X$(D$(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Xm()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Gm(e,t,n)},p(e,i){if(24&i){let r;for(n=Xh(Qf(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[4].hostname,e[3]]),["strong"])),r=0;r<n.length;r+=1){const s=D$(e,n,r);o[r]?o[r].p(s,i):(o[r]=X$(s),o[r].c(),o[r].m(t.parentNode,t))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(e){e&&Wm(t),Vm(o,e)}}}function V$(e){let t,n=e[19].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p(e,o){16&o&&n!==(n=e[19].text+"")&&oh(t,n)},d(e){e&&Wm(t)}}}function K$(e){let t,n,o=e[19].text+"";return{c(){t=Km("strong"),n=Ym(o),nh(t,"class","svelte-1tw45n9")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){16&t&&o!==(o=e[19].text+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function Z$(e){let t;function n(e,t){return"strong"===e[19].block?K$:V$}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function Y$(e){let t,n=e[19].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p(e,o){24&o&&n!==(n=e[19].text+"")&&oh(t,n)},d(e){e&&Wm(t)}}}function J$(e){let t,n,o=e[19].text+"";return{c(){t=Km("strong"),n=Ym(o),nh(t,"class","svelte-1tw45n9")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){24&t&&o!==(o=e[19].text+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function X$(e){let t;function n(e,t){return"strong"===e[19].block?J$:Y$}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function Q$(e){let t,n=e[19].text+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function eS(e){let t,n,o;return{c(){t=Km("span"),t.textContent=`${e[19].text}`,nh(t,"class","link svelte-1tw45n9")},m(e,i){Gm(e,t,i),n||(o=Qm(t,"click",C$),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function tS(e){let t;let n=function(e){return"settingsLink"===e[19].block?eS:Q$}(e),o=n(e);return{c(){o.c(),t=Xm()},m(e,n){o.m(e,n),Gm(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Wm(t),o.d(e)}}}function nS(e){let t,n,o,i,r,s;const a=[U$,P$,N$,R$,M$],l=[];function c(e,o){return 16&o&&(t=null),560&o&&(n=null),null==e[4]?0:(null==t&&(t=!(0!==Object.keys(e[4]).length)),t?1:e[4].isGoogleTranslatedActive?2:(null==n&&(n=!(!e[5].blacklistDomains.includes(e[4].hostname)&&!e[9])),n?3:e[4].websiteLanguage?4:-1))}return~(o=c(e,-1))&&(i=l[o]=a[o](e)),{c(){i&&i.c(),r=Xm()},m(e,t){~o&&l[o].m(e,t),Gm(e,r,t),s=!0},p(e,[t]){let n=o;o=c(e,t),o===n?~o&&l[o].p(e,t):(i&&(zh(),Vh(l[n],1,1,(()=>{l[n]=null})),Gh()),~o?(i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Wh(i,1),i.m(r.parentNode,r)):i=null)},i(e){s||(Wh(i),s=!0)},o(e){Vh(i),s=!1},d(e){e&&Wm(r),~o&&l[o].d(e)}}}function oS(e,t,n){let o,i,r,s,a,l,c;Sm(e,Bv,(e=>n(14,l=e)));let{$$slots:d={},$$scope:u}=t;var m;const h=Xw();Sm(e,h,(e=>n(5,c=e)));const f=Qw();Sm(e,f,(e=>n(4,a=e)));let v,_=I.defaultPopup,{triggerTranslate:w}=t,{sendShowOriginal:b}=t,{tallButton:y}=t,{sourceLang:E}=t;return e.$$set=e=>{"triggerTranslate"in e&&n(0,w=e.triggerTranslate),"sendShowOriginal"in e&&n(1,b=e.sendShowOriginal),"tallButton"in e&&n(2,y=e.tallButton),"sourceLang"in e&&n(3,E=e.sourceLang),"$$scope"in e&&n(17,u=e.$$scope)},e.$$.update=()=>{48&e.$$.dirty&&n(9,o=Ma(null==a?void 0:a.websiteLanguage,c.languagesForTranslation,p)),8208&e.$$.dirty&&a&&a.hostname&&a.hostname!==v&&(n(13,v=a.hostname),Rn({action:Ln.dlTrackExtensionOpenedEvent,payload:{domainName:v,extensionContext:_}})),4128&e.$$.dirty&&n(8,i=null!==n(12,m=c.selectedTargetLanguage)&&void 0!==m?m:"en"),16384&e.$$.dirty&&n(7,r=Aa(l)),16&e.$$.dirty&&n(6,s=(null==a?void 0:a.fptTranslationState)===g.isTranslationComplete)},[w,b,y,E,a,c,s,r,i,o,h,f,m,v,l,d,e=>{n(8,i=e.detail),h.set({selectedTargetLanguage:e.detail,isTargetLanguageConfirmed:!0})},u]}class iS extends rf{constructor(e){super(),of(this,e,oS,nS,Em,{triggerTranslate:0,sendShowOriginal:1,tallButton:2,sourceLang:3})}}const rS={dlUniqueId:0,fptTranslationState:void 0,translatedDOM:[],observer:void 0,currentTargetLanguage:void 0,lastFptTranslationState:void 0,isLoggedIn:!1,translatorServiceType:void 0},sS=()=>{rS.translatedDOM.forEach((e=>{var t,n;AS(e.original,e.clone),SS(e.original,e.clone),null===(n=(t=e.translationStrategy.domActions).revertTranslationState)||void 0===n||n.call(t,e),ES(e.original,!1)})),uS(),rS.fptTranslationState=g.none},aS=L_.subscribe((e=>{rS.fptTranslationState=e.fptTranslationState,e.translatedDOM&&(rS.translatedDOM=e.translatedDOM.map((e=>e))),e.fptTranslationState!==rS.lastFptTranslationState&&(rS.lastFptTranslationState=e.fptTranslationState,rS.fptTranslationState===g.showOriginal&&sS())})),lS=Pv.subscribe((e=>{if(0!==Object.keys(e).length){if(rS.isLoggedIn=e.isLoggedIn,rS.translatorServiceType=e.translatorServiceType,rS.currentTargetLanguage&&rS.currentTargetLanguage!==e.selectedTargetLanguage){const e=rS.fptTranslationState!==g.none;e&&sS(),L_.update({translatedDOM:[]}),rS.translatedDOM=[],e&&L_.update({fptTranslationState:g.none})}rS.currentTargetLanguage=e.selectedTargetLanguage}}));let cS;const dS=()=>{if(cS)return;const e=()=>{aS(),lS(),uS(),null==cS||cS()};cS=()=>{var t;t=e,document.removeEventListener("deepl-reset-event",t),cS=void 0},gm(e)},uS=()=>{var e,t,n;null===(e=rS.observer)||void 0===e||e.disconnect(),rS.observer=void 0,null===(t=rS.visibilityObserver)||void 0===t||t.disconnect(),rS.visibilityObserver=void 0,null===(n=rS.translatedNodeObserver)||void 0===n||n.disconnect(),rS.translatedNodeObserver=void 0};class pS{constructor(e){this._callback=e,this._observer=new MutationObserver(((e,t)=>{this._handleMutations(e,t)})),this._subObservers=new Map,this._options=null}takeRecords(){const e=this._observer.takeRecords();for(const t of this._subObservers.values())e.push(...t.takeRecords());return e}observe(e,t){this._options=null!=t?t:null,this._observer.observe(e,t),this._walkShadows(e)}disconnect(){this._observer.disconnect();for(const e of this._subObservers.values())e.disconnect();this._subObservers.clear()}_handleMutations(e,t){for(const t of e){for(const e of t.addedNodes)this._walkShadows(e);for(const e of t.removedNodes)this._unobserveShadows(e)}this._callback(e,t)}_walkShadows(e){if(e instanceof Element){e.shadowRoot&&"open"===e.shadowRoot.mode&&this.observeShadowRoot(e.shadowRoot);for(const t of Array.from(e.children))this._walkShadows(t)}}_unobserveShadows(e){if(e instanceof Element){if(e.shadowRoot&&"open"===e.shadowRoot.mode){const t=this._subObservers.get(e.shadowRoot);t&&(t.disconnect(),this._subObservers.delete(e.shadowRoot))}for(const t of Array.from(e.children))this._unobserveShadows(t)}}observeShadowRoot(e){var t;if(this._subObservers.has(e))return;const n=new MutationObserver(((e,t)=>{this._handleMutations(e,t)}));n.observe(e,null!==(t=this._options)&&void 0!==t?t:void 0),this._subObservers.set(e,n);for(const t of Array.from(e.children))this._walkShadows(t)}}const gS=new WeakSet,mS=e=>gS.has(e),hS=e=>{let t=!1;for(const n of e)n.isIntersecting?(gS.add(n.target),t=!0):gS.delete(n.target);return t},fS=e=>t(void 0,void 0,void 0,(function*(){return new Promise((t=>{let n=!1;rS.visibilityObserver=new IntersectionObserver((o=>{const i=hS(o);n&&i&&e(),n||(n=!0,t())}),{threshold:0});const o=e=>{for(const t of e.querySelectorAll("*"))rS.visibilityObserver.observe(t),t.shadowRoot&&o(t.shadowRoot)};o(document.body);const i=document.querySelectorAll("iframe");for(const e of i)try{e.contentDocument&&o(e.contentDocument.body)}catch(e){Ga()}}))})),vS=e=>{if(rS.visibilityObserver)for(const t of e){for(const e of t.addedNodes)if(e instanceof Element)for(const t of RS(e))rS.visibilityObserver.observe(t);for(const e of t.removedNodes)if(e instanceof Element)for(const t of RS(e))rS.visibilityObserver.unobserve(t),gS.delete(t)}},_S=()=>rS.fptTranslationState!==g.isTranslationComplete,wS=e=>{(e=>{rS.observer=new pS((t=>{vS(t),_S()||t.some((e=>e.addedNodes&&e.addedNodes.length>0))&&e()})),rS.observer.observe(document.body,{childList:!0,subtree:!0})})(e),(e=>{rS.translatedNodeObserver=new pS((t=>{if(_S())return;const n=t.filter((e=>{var t,n;const o=e.target;switch(e.type){case"characterData":return e.oldValue!==e.target.nodeValue&&"true"===(null===(n=null===(t=null==o?void 0:o.parentElement)||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.dlTranslated);case"childList":return(null==o?void 0:o.dataset)&&"true"===o.dataset.dlTranslated;default:return!1}}));if(0!==n.length){for(const e of n){let t;t="characterData"===e.type?e.target.parentElement:e.target,t.dataset.dlTranslated="false"}e()}})),rS.translatedNodeObserver.observe(document.body,{subtree:!0,attributeFilter:["data-dl-translated"],characterData:!0,characterDataOldValue:!0})})(e)},bS={dlTranslated:"dlTranslated"},yS=e=>{if(void 0!==e.dataset&&(void 0===e.dataset[bS.dlTranslated]||"false"===e.dataset[bS.dlTranslated]))return!1;for(const t of e.childNodes)if(!IS(t)&&!yS(t))return!1;return!0},ES=(e,t)=>{if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(const n of e.childNodes)ES(n,t)}},TS=e=>{if("option"===e.nodeName.toLowerCase()){const t=e.getBoundingClientRect();if(0===t.height&&0===t.width)return e.parentElement}return e},xS=e=>(e=TS(e),mS(e)),$S=e=>!!e.contentDocument&&xS(e),SS=(e,t)=>{const n=[];for(;e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(const e of n)t.appendChild(e)},CS=(e,t)=>{if(null===e.parentNode||null===t.parentNode)return;const n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),SS(e,t)},kS=e=>{if("no"==e.getAttribute("translate"))return!0;const t=e.className;return null!=t&&null!=t.split&&t.split(" ").includes("notranslate")},LS=(e,t)=>{var n;if(void 0===t.dataset)return null;if((null===(n=e.dataset)||void 0===n?void 0:n.dlUid)&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(const n of e.childNodes){const e=LS(n,t);if(null!==e)return e}return null},AS=(e,t)=>{for(const n of t.childNodes){const t=LS(e,n);if(t){let o;o=t.dataset&&"true"===t.dataset.dlOriginal?t:t.cloneNode(!1),CS(o,n),AS(e,o)}else AS(e,n)}},IS=e=>"#text"==e.nodeName||"#comment"==e.nodeName,OS=e=>"textarea"===e.tagName.toLowerCase(),DS=e=>"input"===e.tagName.toLowerCase()&&"submit"!==e.getAttribute("type"),MS=e=>"pre"===e.tagName.toLowerCase()||"code"===e.tagName.toLowerCase(),RS=e=>{var t,n,o;const i=[e];for(const o of e.querySelectorAll("*")){i.push(o);const e=null!==(n=null===(t=o.shadowRoot)||void 0===t?void 0:t.querySelectorAll("*"))&&void 0!==n?n:[];for(const t of e)i.push(t)}if(e.shadowRoot)for(const t of null!==(o=e.shadowRoot.querySelectorAll("*"))&&void 0!==o?o:[])i.push(t);return i},NS=()=>t(void 0,void 0,void 0,(function*(){yield Rn({action:Ln.dlTrackIframeTranslationSuccessful})})),PS=e=>t(void 0,void 0,void 0,(function*(){yield Rn({action:Ln.dlTrackIframeTranslationFailed,payload:{errorCode:e.name,errorMessage:e.message}})})),US=(e,n,o,i,r)=>t(void 0,void 0,void 0,(function*(){return yield Rn({action:Sn.dlRequestHtmlTranslation,payload:{sourceLang:n,trigger:o,texts:e,isFirstTime:i,domainName:r,isFullPageTranslation:!0}})})),qS=new DOMParser,BS=(e,t)=>{const n=document.createElement(t),o=Array.from(e.attributes),i=e.tagName;for(;e.firstChild;)n.appendChild(e.firstChild);return e.parentNode?.replaceChild(n,e),{tagName:i.toLowerCase(),attributes:o}},FS=e=>{const t=[],n=new Map;for(let o=0;o<e.length;++o){const i=e[o],r=qS.parseFromString(i,"text/html"),s=Array.from(r.querySelectorAll("body *:not(head):not(html)"));for(let e of s){const t=`a${n.size+1}`,o=BS(e,t);n.set(t,o)}const a=r.body.innerHTML;t.push(a)}return{map:n,simplifiedHtml:t}},HS=(e,t)=>{const n=qS.parseFromString(t,"text/html"),o=Array.from(n.querySelectorAll("body *:not(head):not(html)"));for(const t of o){const n=e.get(t.tagName.toLowerCase());if(!n)continue;const o=document.createElement(n.tagName);for(const e of n.attributes)o.setAttribute(e.name,e.value);for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode?.replaceChild(o,t)}return n.body.innerHTML},jS=(e,n,o,i,r)=>t(void 0,void 0,void 0,(function*(){const t=e.map((e=>e.translationStrategy.domActions.extractTranslatable(e))).map((e=>Lg(e.translatable))),{map:s,simplifiedHtml:a}=FS(t);return(yield US(a,n,o,i,r)).map((e=>HS(s,e))).map((e=>({translated:e})))}));function zS(e){let t,n,o,i,r,s;return{c(){t=Km("div"),n=Km("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=Jm(),i=Km("span"),nh(i,"class","icon icon-external-link svelte-1yv621f"),nh(t,"class","settings-link svelte-1yv621f")},m(a,l){Gm(a,t,l),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=Qm(t,"click",th(eh(e[0]))),r=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),r=!1,s()}}}function GS(e,t,n){let{page:o=Ww.settings_page}=t;return e.$$set=e=>{"page"in e&&n(1,o=e.page)},[function(){Rn({action:On.dlOpenInternalPage,payload:{destination:o}})},o]}class WS extends rf{constructor(e){super(),of(this,e,GS,zS,Em,{page:1})}}function VS(e){let t,n,o;return{c(){t=Km("button"),nh(t,"type","button"),nh(t,"class","close-icon svelte-nskp1z")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[0]),n=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),n=!1,o()}}}function KS(e){return[function(t){$h.call(this,e,t)}]}class ZS extends rf{constructor(e){super(),of(this,e,KS,VS,Em,{})}}function YS(e){let t,n,o,i,r,s,a,l,c,d,u,p,g;return i=new ZS({}),i.$on("click",e[2]),c=new zw({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),p=new WS({}),{c(){t=Km("div"),n=Km("div"),o=Km("div"),ef(i.$$.fragment),r=Jm(),s=Km("div"),a=Km("p"),a.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=Jm(),ef(c.$$.fragment),d=Jm(),u=Km("div"),ef(p.$$.fragment),nh(o,"class","close-icon-container svelte-49cd64"),nh(n,"class","header"),nh(a,"class","label-language-switch svelte-49cd64"),nh(s,"class","body svelte-49cd64"),nh(u,"class","footer svelte-49cd64"),nh(t,"class","container svelte-49cd64")},m(e,m){Gm(e,t,m),Hm(t,n),Hm(n,o),tf(i,o,null),Hm(t,r),Hm(t,s),Hm(s,a),Hm(s,l),tf(c,s,null),Hm(t,d),Hm(t,u),tf(p,u,null),g=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){g||(Wh(i.$$.fragment,e),Wh(c.$$.fragment,e),Wh(p.$$.fragment,e),g=!0)},o(e){Vh(i.$$.fragment,e),Vh(c.$$.fragment,e),Vh(p.$$.fragment,e),g=!1},d(e){e&&Wm(t),nf(i),nf(c),nf(p)}}}function JS(e,t,n){let o;const i=Xw();Sm(e,i,(e=>n(0,o=e)));const r=Eh();return[o,i,function(){r("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class XS extends rf{constructor(e){super(),of(this,e,JS,YS,Em,{})}}function QS(e){return/\bdark\b/gm.test(e)}const eC=function(){const e={isDarkMode:QS(document.body.className)},{subscribe:t,update:n}=af(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>Object.assign(Object.assign({},e),{isDarkMode:QS(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{gm((()=>{o.disconnect()}))})),{subscribe:t}}();function tC(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m;const h=[oC,nC],f=[];function v(e,t){return e[2]?0:1}return n=v(e),o=f[n]=h[n](e),{c(){t=Km("div"),o.c(),i=Jm(),r=Km("div"),r.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,s=Jm(),a=Km("button"),l=Zm("svg"),c=Zm("path"),nh(r,"class","show-alternatives svelte-3k7vbu"),ch(r,"dark",e[6]),nh(c,"d","M3 9L9 3M3 3L9 9"),nh(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),nh(c,"stroke-width","1.5"),nh(c,"stroke-linecap","round"),nh(c,"stroke-linejoin","round"),nh(l,"width","12"),nh(l,"height","12"),nh(l,"viewBox","0 0 12 12"),nh(l,"fill","none"),nh(l,"xmlns","http://www.w3.org/2000/svg"),nh(a,"class","svelte-3k7vbu"),nh(t,"class","container svelte-3k7vbu"),nh(t,"dir",Pa()),ch(t,"dark",e[6])},m(o,d){Gm(o,t,d),f[n].m(t,null),Hm(t,i),Hm(t,r),Hm(t,s),Hm(t,a),Hm(a,l),Hm(l,c),p=!0,g||(m=[Qm(r,"click",e[7]),Qm(a,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)}))],g=!0)},p(s,a){let l=n;n=v(e=s),n===l?f[n].p(e,a):(zh(),Vh(f[l],1,1,(()=>{f[l]=null})),Gh(),o=f[n],o?o.p(e,a):(o=f[n]=h[n](e),o.c()),Wh(o,1),o.m(t,i)),(!p||64&a)&&ch(r,"dark",e[6]),(!p||8&a&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&nh(c,"stroke",d),(!p||64&a)&&ch(t,"dark",e[6])},i(e){p||(Wh(o),u||Dh((()=>{u=Zh(t,pf,{y:-10,duration:200}),u.start()})),p=!0)},o(e){Vh(o),p=!1},d(e){e&&Wm(t),f[n].d(),g=!1,bm(m)}}}function nC(e){let t,n,o,i;return{c(){t=Km("div"),n=Km("span"),o=Ym(e[0]),nh(n,"class","translatedText svelte-3k7vbu"),nh(t,"dir",i=Pa(e[5]))},m(e,i){Gm(e,t,i),Hm(t,n),Hm(n,o)},p(e,n){1&n&&oh(o,e[0]),32&n&&i!==(i=Pa(e[5]))&&nh(t,"dir",i)},i:fm,o:fm,d(e){e&&Wm(t)}}}function oC(e){let t,n;return t=new E_({props:{error:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function iC(e){let t,n,o=e[4]&&tC(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&Wh(o,1)):(o=tC(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function rC(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(9,i=e))),Sm(e,eC,(e=>n(3,r=e))),Th("text_direction",Pa());let s,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t,p=!1;return setTimeout((()=>n(4,p=!0)),50),e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(8,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{8&e.$$.dirty&&n(6,o=r&&r.isDarkMode),256&e.$$.dirty&&La(c).then((e=>{s=e})),512&e.$$.dirty&&n(5,a=i.selectedTargetLanguage)},[l,d,u,r,p,a,o,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:uo,sourceLang:s,targetLang:a,textToShare:c}})},c,i]}class sC extends rf{constructor(e){super(),of(this,e,rC,iC,Em,{translatedText:0,sourceText:8,onClose:1,error:2})}}class aC{constructor(e){this.createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new sC({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function lC(e){let t,n,o,i,r,s,a,l;const c=[dC,cC],d=[];function u(e,t){return e[6]?0:1}n=u(e),o=d[n]=c[n](e);let p=e[8]&&mC(e);return{c(){t=Km("div"),o.c(),i=Jm(),p&&p.c(),nh(t,"class","container svelte-eh3fi1"),nh(t,"style",r=`\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`),nh(t,"dir",Pa()),ch(t,"isTranslated",e[5]),ch(t,"isHidden",e[1]),ch(t,"messageHasReactionIcon",e[9]),ch(t,"isExpanded",e[2]),ch(t,"isParentRTL",e[0])},m(o,r){Gm(o,t,r),d[n].m(t,null),Hm(t,i),p&&p.m(t,null),e[28](t),s=!0,a||(l=[Qm(t,"mouseleave",e[29]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[17]),Qm(t,"mousedown",th(eh(e[22])))],a=!0)},p(e,a){let l=n;n=u(e),n===l?d[n].p(e,a):(zh(),Vh(d[l],1,1,(()=>{d[l]=null})),Gh(),o=d[n],o?o.p(e,a):(o=d[n]=c[n](e),o.c()),Wh(o,1),o.m(t,i)),e[8]?p?(p.p(e,a),256&a[0]&&Wh(p,1)):(p=mC(e),p.c(),Wh(p,1),p.m(t,null)):p&&(zh(),Vh(p,1,1,(()=>{p=null})),Gh()),(!s||12416&a[0]&&r!==(r=`\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`))&&nh(t,"style",r),(!s||32&a[0])&&ch(t,"isTranslated",e[5]),(!s||2&a[0])&&ch(t,"isHidden",e[1]),(!s||512&a[0])&&ch(t,"messageHasReactionIcon",e[9]),(!s||4&a[0])&&ch(t,"isExpanded",e[2]),(!s||1&a[0])&&ch(t,"isParentRTL",e[0])},i(e){s||(Wh(o),Wh(p),s=!0)},o(e){Vh(o),Vh(p),s=!1},d(o){o&&Wm(t),d[n].d(),p&&p.d(),e[28](null),a=!1,bm(l)}}}function cC(e){let t,n,o,i;t=new gb({props:{tooltip:e[14]?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",parentIsRTL:e[0],ignoreTextDirection:!0,$$slots:{default:[uC]},$$scope:{ctx:e}}});let r=e[2]&&pC(e);return{c(){ef(t.$$.fragment),n=Jm(),r&&r.c(),o=Xm()},m(e,s){tf(t,e,s),Gm(e,n,s),r&&r.m(e,s),Gm(e,o,s),i=!0},p(e,n){const i={};16384&n[0]&&(i.tooltip=e[14]?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button")),1&n[0]&&(i.parentIsRTL=e[0]),16388&n[0]|4&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[2]?r?(r.p(e,n),4&n[0]&&Wh(r,1)):(r=pC(e),r.c(),Wh(r,1),r.m(o.parentNode,o)):r&&(zh(),Vh(r,1,1,(()=>{r=null})),Gh())},i(e){i||(Wh(t.$$.fragment,e),Wh(r),i=!0)},o(e){Vh(t.$$.fragment,e),Vh(r),i=!1},d(e){e&&(Wm(n),Wm(o)),nf(t,e),r&&r.d(e)}}}function dC(e){let t,n;return t=new Uy({props:{small:!0}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function uC(e){let t,n,o,i,r;return n=new kb({props:{style:"width: 15px; height: 15px; padding: 2px;",whiteLabelStyle:"width: 15px; height: 15px; border-radius: 50%;"}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","translateTrigger svelte-eh3fi1")},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=[Qm(t,"mouseover",e[24]),Qm(t,"click",e[25])],i=!0)},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,bm(r)}}}function pC(e){let t,n;return t=new gb({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[gC]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};256&n[0]|4&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function gC(e){let t,n,o,i;return{c(){t=Km("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-eh3fi1"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',nh(t,"class","settingsTrigger svelte-eh3fi1")},m(n,r){Gm(n,t,r),o||(i=[Qm(t,"click",e[26]),Qm(t,"mousedown",th(eh(e[23])))],o=!0)},p:fm,i(e){n||Dh((()=>{n=Zh(t,pf,{x:-8,duration:600}),n.start()}))},o:fm,d(e){e&&Wm(t),o=!1,bm(i)}}}function mC(e){let t,n,o,i,r;return n=new XS({}),n.$on("close",e[27]),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","settingsContainer svelte-eh3fi1"),ch(t,"isTop",!e[10]),ch(t,"isLeft",!e[11])},m(e,o){Gm(e,t,o),tf(n,t,null),r=!0},p(e,n){(!r||1024&n[0])&&ch(t,"isTop",!e[10]),(!r||2048&n[0])&&ch(t,"isLeft",!e[11])},i(e){r||(Wh(n.$$.fragment,e),Dh((()=>{r&&(i&&i.end(1),o=Zh(t,pf,{y:-10,duration:600}),o.start())})),r=!0)},o(e){Vh(n.$$.fragment,e),o&&o.invalidate(),i=Yh(t,pf,{y:-10,duration:600}),r=!1},d(e){e&&Wm(t),nf(n),e&&i&&i.end()}}}function hC(e){let t,n,o=e[3]&&e[3].isWhatsAppWebEnabled&&lC(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,n){e[3]&&e[3].isWhatsAppWebEnabled?o?(o.p(e,n),8&n[0]&&Wh(o,1)):(o=lC(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function fC(e,t,n){let o,i;Sm(e,Pv,(e=>n(3,i=e)));var r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let{textElement:s}=t,{messageContainer:a}=t,l=!1;const c=265,d=150,u=220;let p,g,m=!1,h=!0,f=0,v=0,_=!1,w=!1,b=!1,y=U.deepl_inline_ui.z_index,E=!0,T=!0,x=!1,$=0,S=0;function C(){const e=p.getRootNode(),t=e instanceof ShadowRoot?e.host:null,o=a.getBoundingClientRect(),i=ax(a);n(7,v=o.height/2);const r=t?t.getBoundingClientRect():p.parentNode.getBoundingClientRect();n(20,f=i.getBoundingClientRect().right-r.left);const s=(e=0)=>{setTimeout((()=>{var t,o;const i=p.getRootNode(),r=i instanceof ShadowRoot?i.host:null,c=r?r.getBoundingClientRect():p.parentNode.getBoundingClientRect();let d=null;if(d=a.querySelector('[data-icon="react"]'),!d){const e=a.querySelectorAll("svg");for(const n of e){const e=n.querySelector("title");if(e&&((null===(t=e.textContent)||void 0===t?void 0:t.includes("mood"))||(null===(o=e.textContent)||void 0===o?void 0:o.includes("ic-mood")))){let e=n.parentElement;for(;e&&"button"!==e.getAttribute("role");)e=e.parentElement;if(e){d=e;break}}}}if(!d){const e=Array.from(a.querySelectorAll("svg"));if(e.length>0){let t=e[e.length-1].parentElement;for(;t&&"button"!==t.getAttribute("role");)t=t.parentElement;t&&(d=t)}}if(d){const e=d.getBoundingClientRect(),t=c;n(20,f=e.right-t.left);const o=e.top+e.height/2;n(7,v=o-t.top),n(21,x=!0),n(12,$=1),l&&n(20,f=f+-42)}else e<2?s(e+1):(n(21,x=!1),n(1,h=!0),n(12,$=0))}),[150,300,500][e]||d)};s();const g=a.querySelector('[data-a8n="reaction-bubble"]'),m=a.querySelector('[data-testid="reaction-bubble"]');n(9,b=!(!g&&!m)),window.innerHeight-r.bottom<u+v?n(10,E=!1):n(10,E=!0),a.getBoundingClientRect().right-i.getBoundingClientRect().right<c?n(11,T=!1):n(11,T=!0)}function k(){return r(this,void 0,void 0,(function*(){if(g)return;n(6,m=!0),n(8,_=!1);let e,t,o="";try{o=yield La(s.innerText)}catch(e){}try{t=yield Rn({action:Sn.dlRequestWhatsAppMessageTranslation,payload:{message:s.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t}n(5,g=e?"":t[0].text),n(6,m=!1);const i=aC.createElement();i.createDOM(g,s.innerText,(()=>{n(18,a.dataset.dlIsTranslated="false",a),setTimeout((()=>n(5,g="")),600),i.cleanupDOM(),i.remove()}),e),s.appendChild(i),n(18,a.dataset.dlIsTranslated="true",a)}))}a.addEventListener("mouseover",(()=>{n(1,h=!1)}),!1),a.addEventListener("mouseout",(()=>{_||n(1,h=!0)}),!1);return e.$$set=e=>{"textElement"in e&&n(19,s=e.textElement),"messageContainer"in e&&n(18,a=e.messageContainer)},e.$$.update=()=>{8&e.$$.dirty[0]&&n(14,o=Hn(i,xt.TRANSLATOR)),2621442&e.$$.dirty[0]&&(n(0,l=Ua(s.parentNode)),h||x||C()),1048581&e.$$.dirty[0]&&n(13,S=l&&w?f-20:f)},[l,h,w,i,p,g,m,v,_,b,E,T,$,S,o,y,k,function(){n(8,_=!1)},a,s,f,x,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},()=>{o||n(2,w=!0)},()=>{o||k()},()=>n(8,_=!_),()=>n(8,_=!1),function(e){Ch[e?"unshift":"push"]((()=>{p=e,n(4,p)}))},()=>{_||n(2,w=!1)}]}aC.HTML_TAG_NAME="deepl-whatsapp-translated-message",aC.createElement=(e=document)=>{const t=e.createElement(aC.HTML_TAG_NAME),n=new aC(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class vC extends rf{constructor(e){super(),of(this,e,fC,hC,Em,{textElement:19,messageContainer:18},null,[-1,-1])}}class _C{constructor(e){this.createDOM=(e,t)=>{this.domElement.mainComponent=new vC({target:this.domElement.shadowContainer,props:{textElement:e,messageContainer:t}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function wC(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function bC(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!vy(e.innerText)){const n=_C.createElement();n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",wC),gm((()=>{window.removeEventListener("resize",wC),e.disconnect()}))}_C.HTML_TAG_NAME="deepl-whatsapp-message-in-translator",_C.createElement=(e=document)=>{const t=e.createElement(_C.HTML_TAG_NAME),n=new _C(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class yC{constructor(e){this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.bindChildFunctions=(e=[])=>{["createDOM","cleanupDOM",...e].forEach((e=>{this.domElement[e]=this[e]}))},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function EC(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}const TC=function(){const e={isDarkMode:EC(document.body.style.backgroundColor)},{subscribe:t,update:n}=af(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>Object.assign(Object.assign({},e),{isDarkMode:EC(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{gm((()=>{o.disconnect()}))})),{subscribe:t}}();function xC(e){let t,n,o=function(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f;const v=[SC,$C],_=[];function w(e,t){return e[2]?0:1}return o=w(e),i=_[o]=v[o](e),{c(){t=Km("div"),n=Km("div"),i.c(),r=Jm(),s=Km("div"),s.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,l=Jm(),c=Km("button"),d=Zm("svg"),u=Zm("path"),nh(s,"class","show-alternatives svelte-t50unb"),ch(s,"dark",e[4]),nh(n,"dir",a=Pa(e[3].selectedTargetLanguage)),nh(u,"d","M3 9L9 3M3 3L9 9"),nh(u,"stroke",p=e[4]?"white":"#037171"),nh(u,"stroke-width","1.5"),nh(u,"stroke-linecap","round"),nh(u,"stroke-linejoin","round"),nh(d,"width","12"),nh(d,"height","12"),nh(d,"viewBox","0 0 12 12"),nh(d,"fill","none"),nh(d,"xmlns","http://www.w3.org/2000/svg"),nh(c,"class","svelte-t50unb"),nh(t,"class","container svelte-t50unb"),nh(t,"dir",Pa()),ch(t,"dark",e[4])},m(i,a){Gm(i,t,a),Hm(t,n),_[o].m(n,null),Hm(n,r),Hm(n,s),Hm(t,l),Hm(t,c),Hm(c,d),Hm(d,u),m=!0,h||(f=[Qm(s,"click",e[5]),Qm(c,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=w(e=l),o===d?_[o].p(e,c):(zh(),Vh(_[d],1,1,(()=>{_[d]=null})),Gh(),i=_[o],i?i.p(e,c):(i=_[o]=v[o](e),i.c()),Wh(i,1),i.m(n,r)),(!m||16&c)&&ch(s,"dark",e[4]),(!m||8&c&&a!==(a=Pa(e[3].selectedTargetLanguage)))&&nh(n,"dir",a),(!m||16&c&&p!==(p=e[4]?"white":"#037171"))&&nh(u,"stroke",p),(!m||16&c)&&ch(t,"dark",e[4])},i(e){m||(Wh(i),g||Dh((()=>{g=Zh(t,pf,{y:-10,duration:200}),g.start()})),m=!0)},o(e){Vh(i),m=!1},d(e){e&&Wm(t),_[o].d(),h=!1,bm(f)}}}(e);return{c(){o.c(),t=Xm()},m(e,i){o.m(e,i),Gm(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o.d(e)}}}function $C(e){let t,n;return{c(){t=Km("span"),n=Ym(e[0]),nh(t,"class","translatedText svelte-t50unb")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){1&t&&oh(n,e[0])},i:fm,o:fm,d(e){e&&Wm(t)}}}function SC(e){let t,n;return t=new E_({props:{error:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function CC(e){let t,n,o=e[3]&&e[3].isTwitterEnabled&&xC(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isTwitterEnabled?o?(o.p(e,n),8&n&&Wh(o,1)):(o=xC(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function kC(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(3,i=e))),Sm(e,TC,(e=>n(7,r=e))),Th("text_direction",Pa());let s,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(6,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(4,o=r&&r.isDarkMode),64&e.$$.dirty&&La(c).then((e=>{s=e})),8&e.$$.dirty&&(a=i.selectedTargetLanguage)},[l,d,u,i,o,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:uo,sourceLang:s,targetLang:a,textToShare:c}})},c,r]}class LC extends rf{constructor(e){super(),of(this,e,kC,CC,Em,{translatedText:0,sourceText:6,onClose:1,error:2})}}class AC extends yC{constructor(e){super(e),this.createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new LC({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})},this.bindChildFunctions()}}function IC(e){let t,n,o,i;const r=[DC,OC],s=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=s[n]=r[n](e)),{c(){t=Km("div"),o&&o.c(),nh(t,"dir",Pa())},m(e,o){Gm(e,t,o),~n&&s[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&s[n].p(e,i):(o&&(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh()),~n?(o=s[n],o?o.p(e,i):(o=s[n]=r[n](e),o.c()),Wh(o,1),o.m(t,null)):o=null)},i(e){i||(Wh(o),i=!0)},o(e){Vh(o),i=!1},d(e){e&&Wm(t),~n&&s[n].d()}}}function OC(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h;return n=new gb({props:{isEnabled:e[4],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),multiline:!0,$$slots:{default:[MC]},$$scope:{ctx:e}}}),{c(){t=Km("button"),ef(n.$$.fragment),o=Jm(),i=Zm("svg"),r=Zm("g"),s=Zm("path"),a=Zm("path"),l=Zm("path"),c=Zm("defs"),d=Zm("clipPath"),u=Zm("rect"),nh(s,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),nh(s,"class","deepl-icon svelte-qovtib"),nh(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),nh(a,"fill","white"),nh(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),nh(l,"fill","white"),nh(r,"clip-path","url(#clip0)"),nh(u,"width","18.5294"),nh(u,"height","19"),nh(u,"fill","white"),nh(u,"transform","matrix(-1 0 0 1 18.5294 0)"),nh(d,"id","clip0"),nh(i,"width","15"),nh(i,"height","15"),nh(i,"viewBox","0 0 19 19"),nh(i,"fill","none"),nh(i,"xmlns","http://www.w3.org/2000/svg"),nh(i,"class","svelte-qovtib"),nh(t,"class","tweetLink svelte-qovtib"),t.disabled=p=!!e[1]||e[4],ch(t,"dark",e[5])},m(p,f){Gm(p,t,f),tf(n,t,null),Hm(t,o),Hm(t,i),Hm(i,r),Hm(r,s),Hm(r,a),Hm(r,l),Hm(i,c),Hm(c,d),Hm(d,u),g=!0,m||(h=[Qm(t,"keydown",e[6]),Qm(t,"click",e[6])],m=!0)},p(e,o){const i={};16&o&&(i.isEnabled=e[4]),2048&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!g||18&o&&p!==(p=!!e[1]||e[4]))&&(t.disabled=p),(!g||32&o)&&ch(t,"dark",e[5])},i(e){g||(Wh(n.$$.fragment,e),g=!0)},o(e){Vh(n.$$.fragment,e),g=!1},d(e){e&&Wm(t),nf(n),m=!1,bm(h)}}}function DC(e){let t,n;return t=new Uy({props:{small:!0}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function MC(e){let t;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,nh(t,"class","copy svelte-qovtib")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function RC(e){let t,n,o=e[0]&&e[0].isTwitterEnabled&&IC(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isTwitterEnabled?o?(o.p(e,n),1&n&&Wh(o,1)):(o=IC(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function NC(e,t,n){let o,i,r,s;Sm(e,Pv,(e=>n(0,r=e))),Sm(e,TC,(e=>n(8,s=e)));var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let l,c,{tweetTextNode:d}=t,u=!1;return e.$$set=e=>{"tweetTextNode"in e&&n(7,d=e.tweetTextNode)},e.$$.update=()=>{if(256&e.$$.dirty&&n(5,o=s&&s.isDarkMode),1&e.$$.dirty&&n(4,i=Hn(r,xt.TRANSLATOR)),1&e.$$.dirty){r.blacklistDomainsForReading.includes(window.location.hostname)?n(3,c=!1):r.selectedTargetLanguage&&function(){return a(this,void 0,void 0,(function*(){const e=d.innerText;if(e.length<20)return!1;const t=yield La(e);return ka(chrome.i18n.getUILanguage())!==t&&ka(r.selectedTargetLanguage)!==t}))}().then((e=>n(3,c=e))).catch((()=>n(3,c=!1)))}},[r,l,u,c,i,o,function(){return a(this,void 0,void 0,(function*(){if(l)return;n(2,u=!0);let e,t,o="";try{o=yield La(d.innerText),o=Da(o)}catch(e){}try{t=yield Rn({action:Sn.dlRequestTwitterTweetTranslation,payload:{message:d.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){t instanceof Error&&(e=t)}n(1,l=e?"":Lg(t)),n(2,u=!1);const i=AC.createElement();i.createDOM(l,d.innerText,(()=>{n(1,l=""),i.cleanupDOM()}),e),d.appendChild(i)}))},d,s]}AC.HTML_TAG_NAME="deepl-twitter-translated-tweet",AC.createElement=(e=document)=>{const t=e.createElement(AC.HTML_TAG_NAME);return new AC(t),t};class PC extends rf{constructor(e){super(),of(this,e,NC,RC,Em,{tweetTextNode:7})}}class UC extends yC{constructor(e){super(e),this.createDOM=e=>{this.domElement.mainComponent=new PC({target:this.domElement.shadowContainer,props:{tweetTextNode:e}})},this.bindChildFunctions()}}function qC(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=UC.createElement();return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),gm((()=>e.disconnect()))}function BC(e){let t,n;return{c(){t=Km("span"),n=Ym(e[0]),nh(t,"class","translatedText svelte-jkt5fr")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){1&t&&oh(n,e[0])},i:fm,o:fm,d(e){e&&Wm(t)}}}function FC(e){let t,n;return t=new E_({props:{error:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function HC(e){let t,n,o=function(e){let t,n,o,i,r,s,a,l,c,d,u,p;const g=[FC,BC],m=[];function h(e,t){return e[2]?0:1}return o=h(e),i=m[o]=g[o](e),{c(){t=Km("div"),n=Km("div"),i.c(),r=Jm(),s=Km("div"),s.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,a=Jm(),l=Km("button"),l.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',nh(s,"class","show-alternatives svelte-jkt5fr"),nh(l,"class","svelte-jkt5fr"),nh(t,"class","container svelte-jkt5fr"),nh(t,"dir",Pa())},m(i,c){Gm(i,t,c),Hm(t,n),m[o].m(n,null),Hm(n,r),Hm(n,s),Hm(t,a),Hm(t,l),d=!0,u||(p=[Qm(s,"click",e[3]),Qm(l,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)}))],u=!0)},p(t,s){let a=o;o=h(e=t),o===a?m[o].p(e,s):(zh(),Vh(m[a],1,1,(()=>{m[a]=null})),Gh(),i=m[o],i?i.p(e,s):(i=m[o]=g[o](e),i.c()),Wh(i,1),i.m(n,r))},i(e){d||(Wh(i),c||Dh((()=>{c=Zh(t,pf,{y:-10,duration:200}),c.start()})),d=!0)},o(e){Vh(i),d=!1},d(e){e&&Wm(t),m[o].d(),u=!1,bm(p)}}}(e);return{c(){o.c(),t=Xm()},m(e,i){o.m(e,i),Gm(e,t,i),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o.d(e)}}}function jC(e,t,n){let o;Sm(e,Pv,(e=>n(5,o=e))),Th("text_direction",Pa());let i,r,{translatedText:s}=t,{sourceText:a}=t,{onClose:l}=t,{error:c}=t;return e.$$set=e=>{"translatedText"in e&&n(0,s=e.translatedText),"sourceText"in e&&n(4,a=e.sourceText),"onClose"in e&&n(1,l=e.onClose),"error"in e&&n(2,c=e.error)},e.$$.update=()=>{16&e.$$.dirty&&La(a).then((e=>{i=e})),32&e.$$.dirty&&(r=o.selectedTargetLanguage)},[s,l,c,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:uo,sourceLang:i,targetLang:r,textToShare:a}});try{Rn({action:Ln.dlTrackUiAction,payload:{uiAction:Re,nicheIntegration:at.linkedIn}})}catch(e){}},a,o]}UC.HTML_TAG_NAME="deepl-twitter-tweet-link",UC.createElement=(e=document)=>{const t=e.createElement(UC.HTML_TAG_NAME);return new UC(t),t};class zC extends rf{constructor(e){super(),of(this,e,jC,HC,Em,{translatedText:0,sourceText:4,onClose:1,error:2})}}class GC{constructor(e){this.createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new zC({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function WC(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!1,pending:XC,then:KC,catch:VC,value:13,blocks:[,,,]};return function(e,t){const n=t.token={};function o(e,o,i,r){if(t.token!==n)return;t.resolved=r;let s=t.ctx;void 0!==i&&(s=s.slice(),s[i]=r);const a=e&&(t.current=e)(s);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(zh(),Vh(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Gh())})):t.block.d(1),a.c(),Wh(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[o]=a),l&&Uh()}if(!(i=e)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then){if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}else{const n=wh();if(e.then((e=>{_h(n),o(t.then,1,t.value,e),_h(null)}),(e=>{if(_h(n),o(t.catch,2,t.error,e),_h(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}var i}(e[4](),o),{c(){t=Xm(),o.block.c()},m(e,i){Gm(e,t,i),o.block.m(e,o.anchor=i),o.mount=()=>t.parentNode,o.anchor=t,n=!0},p(t,n){!function(e,t,n){const o=t.slice(),{resolved:i}=e;e.current===e.then&&(o[e.value]=i),e.current===e.catch&&(o[e.error]=i),e.block.p(o,n)}(o,e=t,n)},i(e){n||(Wh(o.block),n=!0)},o(e){for(let e=0;e<3;e+=1){Vh(o.blocks[e])}n=!1},d(e){e&&Wm(t),o.block.d(e),o.token=null,o=null}}}function VC(e){return{c:fm,m:fm,p:fm,i:fm,o:fm,d:fm}}function KC(e){let t,n,o=e[13]&&function(e){let t,n,o,i;const r=[YC,ZC],s=[];function a(e,t){return e[0]?0:1}return n=a(e),o=s[n]=r[n](e),{c(){t=Km("div"),o.c(),nh(t,"class","linkedin-link-container svelte-11s4dqh"),nh(t,"dir",Pa())},m(e,o){Gm(e,t,o),s[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?s[n].p(e,i):(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh(),o=s[n],o?o.p(e,i):(o=s[n]=r[n](e),o.c()),Wh(o,1),o.m(t,null))},i(e){i||(Wh(o),i=!0)},o(e){Vh(o),i=!1},d(e){e&&Wm(t),s[n].d()}}}(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,t){e[13]&&o.p(e,t)},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function ZC(e){let t,n,o,i,r;return n=new gb({props:{isEnabled:e[2],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),$$slots:{default:[JC]},$$scope:{ctx:e}}}),{c(){t=Km("button"),ef(n.$$.fragment),nh(t,"class","linkedin-link svelte-11s4dqh"),t.disabled=e[2]},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=[Qm(t,"keydown",e[5]),Qm(t,"click",e[5])],i=!0)},p(e,i){const r={};4&i&&(r.isEnabled=e[2]),16386&i&&(r.$$scope={dirty:i,ctx:e}),n.$set(r),(!o||4&i)&&(t.disabled=e[2])},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,bm(r)}}}function YC(e){let t,n,o;return n=new Uy({props:{small:!0}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","spinner svelte-11s4dqh")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function JC(e){let t;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("linkedin_web_translate_post_link")}`,nh(t,"class","copy svelte-11s4dqh"),ch(t,"active",e[1])},m(e,n){Gm(e,t,n)},p(e,n){2&n&&ch(t,"active",e[1])},d(e){e&&Wm(t)}}}function XC(e){return{c:fm,m:fm,p:fm,i:fm,o:fm,d:fm}}function QC(e){let t,n,o=e[3]&&e[3][at.linkedIn]&&WC(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[3]&&e[3][at.linkedIn]?o?(o.p(e,n),8&n&&Wh(o,1)):(o=WC(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}GC.HTML_TAG_NAME="deepl-linkedin-translated-post",GC.createElement=(e=document)=>{const t=e.createElement(GC.HTML_TAG_NAME),n=new GC(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};function ek(e,t,n){let o,i,r,s;Sm(e,Pv,(e=>n(7,s=e)));var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let l,{linkedInPostNode:c}=t,d=!1,u=c.querySelector(".update-components-text").innerText;return e.$$set=e=>{"linkedInPostNode"in e&&n(6,c=e.linkedInPostNode)},e.$$.update=()=>{128&e.$$.dirty&&n(3,i=s.customizationsActiveStates),128&e.$$.dirty&&n(2,r=Hn(s,xt.TRANSLATOR))},n(1,o=!0),[d,o,r,i,function(){return a(this,void 0,void 0,(function*(){if(u.length<20)return!1;const e=yield La(u);return t=e,ka(chrome.i18n.getUILanguage())!==t&&(e=>ka(s.selectedTargetLanguage)!==e)(e);var t}))},function(){return a(this,void 0,void 0,(function*(){if(l)return;n(0,d=!0);let e,t,i="";try{i=yield La(u),i=Da(i)}catch(e){}try{t=yield Rn({action:Sn.dlRequestLinkedInPostTranslation,payload:{message:u,messageLang:i,domainName:window.location.hostname,trigger:T}})}catch(t){t instanceof Error&&(e=t)}l=e?"":t[0].text,n(0,d=!1);const r=GC.createElement();r.createDOM(l,u,(()=>{l="",n(1,o=!0),r.cleanupDOM(),r.remove()}),e),c.appendChild(r),n(1,o=!1)}))},c,s]}class tk extends rf{constructor(e){super(),of(this,e,ek,QC,Em,{linkedInPostNode:6})}}class nk{constructor(e){this.createDOM=e=>{this.domElement.mainComponent=new tk({target:this.domElement.shadowContainer,props:{linkedInPostNode:e}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}nk.HTML_TAG_NAME="deepl-linkedin-post-link",nk.createElement=(e=document)=>{const t=e.createElement(nk.HTML_TAG_NAME),n=new nk(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const ok=e=>{const t=nk.createElement();t.createDOM(e),e.appendChild(t)};function ik(){const e=document.body.querySelectorAll(".feed-shared-update-v2__description");for(let t of e){const e=t.parentNode;if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",null==e?void 0:e.innerText))return void ok(e)}}function rk(){return!!document.documentElement.hasAttribute("dark")}const sk=function(){const e={isDarkMode:rk()},{subscribe:t,update:n}=af(e),o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>Object.assign(Object.assign({},e),{isDarkMode:rk()})))}))}));return o.observe(document,{attributes:!0}),setTimeout((()=>{gm((()=>{o.disconnect()}))})),{subscribe:t}}();function ak(e){let t,n,o=function(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f;const v=[ck,lk],_=[];function w(e,t){return e[2]?0:1}return o=w(e),i=_[o]=v[o](e),{c(){t=Km("div"),n=Km("div"),i.c(),r=Jm(),s=Km("div"),s.textContent=`${chrome.i18n.getMessage("youtube_alternatives_link")}`,l=Jm(),c=Km("button"),d=Zm("svg"),u=Zm("path"),nh(s,"class","show-alternatives svelte-t50unb"),ch(s,"dark",e[4]),nh(n,"dir",a=Pa(e[3].selectedTargetLanguage)),nh(u,"d","M3 9L9 3M3 3L9 9"),nh(u,"stroke",p=e[4]?"white":"#037171"),nh(u,"stroke-width","1.5"),nh(u,"stroke-linecap","round"),nh(u,"stroke-linejoin","round"),nh(d,"width","12"),nh(d,"height","12"),nh(d,"viewBox","0 0 12 12"),nh(d,"fill","none"),nh(d,"xmlns","http://www.w3.org/2000/svg"),nh(c,"class","svelte-t50unb"),nh(t,"class","container svelte-t50unb"),nh(t,"dir",Pa()),ch(t,"dark",e[4])},m(i,a){Gm(i,t,a),Hm(t,n),_[o].m(n,null),Hm(n,r),Hm(n,s),Hm(t,l),Hm(t,c),Hm(c,d),Hm(d,u),m=!0,h||(f=[Qm(s,"click",e[5]),Qm(c,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=w(e=l),o===d?_[o].p(e,c):(zh(),Vh(_[d],1,1,(()=>{_[d]=null})),Gh(),i=_[o],i?i.p(e,c):(i=_[o]=v[o](e),i.c()),Wh(i,1),i.m(n,r)),(!m||16&c)&&ch(s,"dark",e[4]),(!m||8&c&&a!==(a=Pa(e[3].selectedTargetLanguage)))&&nh(n,"dir",a),(!m||16&c&&p!==(p=e[4]?"white":"#037171"))&&nh(u,"stroke",p),(!m||16&c)&&ch(t,"dark",e[4])},i(e){m||(Wh(i),g||Dh((()=>{g=Zh(t,pf,{y:-10,duration:200}),g.start()})),m=!0)},o(e){Vh(i),m=!1},d(e){e&&Wm(t),_[o].d(),h=!1,bm(f)}}}(e);return{c(){o.c(),t=Xm()},m(e,i){o.m(e,i),Gm(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o.d(e)}}}function lk(e){let t,n;return{c(){t=Km("span"),n=Ym(e[0]),nh(t,"class","translatedText svelte-t50unb")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){1&t&&oh(n,e[0])},i:fm,o:fm,d(e){e&&Wm(t)}}}function ck(e){let t,n;return t=new E_({props:{error:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function dk(e){let t,n,o=e[3]&&e[3].isYoutubeEnabled&&ak(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isYoutubeEnabled?o?(o.p(e,n),8&n&&Wh(o,1)):(o=ak(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function uk(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(3,i=e))),Sm(e,sk,(e=>n(7,r=e)));let s,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(6,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(4,o=r&&r.isDarkMode),64&e.$$.dirty&&La(c).then((e=>{s=e})),8&e.$$.dirty&&(a=i.selectedTargetLanguage)},[l,d,u,i,o,function(){Rn({action:On.dlExternalURLRedirect,payload:{destination:uo,sourceLang:s,targetLang:a,textToShare:c}})},c,r]}class pk extends rf{constructor(e){super(),of(this,e,uk,dk,Em,{translatedText:0,sourceText:6,onClose:1,error:2})}}class gk extends yC{constructor(e){super(e),this.createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new pk({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})},this.bindChildFunctions()}}function mk(e){let t,n,o,i;const r=[fk,hk],s=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=s[n]=r[n](e)),{c(){t=Km("div"),o&&o.c(),nh(t,"dir",Pa())},m(e,o){Gm(e,t,o),~n&&s[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&s[n].p(e,i):(o&&(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh()),~n?(o=s[n],o?o.p(e,i):(o=s[n]=r[n](e),o.c()),Wh(o,1),o.m(t,null)):o=null)},i(e){i||(Wh(o),i=!0)},o(e){Vh(o),i=!1},d(e){e&&Wm(t),~n&&s[n].d()}}}function hk(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h;return n=new gb({props:{isEnabled:e[4],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),$$slots:{default:[vk]},$$scope:{ctx:e}}}),{c(){t=Km("button"),ef(n.$$.fragment),o=Jm(),i=Zm("svg"),r=Zm("g"),s=Zm("path"),a=Zm("path"),l=Zm("path"),c=Zm("defs"),d=Zm("clipPath"),u=Zm("rect"),nh(s,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),nh(s,"class","deepl-icon svelte-mtyjwe"),nh(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),nh(a,"fill","white"),nh(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),nh(l,"fill","white"),nh(r,"clip-path","url(#clip0)"),nh(u,"width","18.5294"),nh(u,"height","19"),nh(u,"fill","white"),nh(u,"transform","matrix(-1 0 0 1 18.5294 0)"),nh(d,"id","clip0"),nh(i,"width","15"),nh(i,"height","15"),nh(i,"viewBox","0 0 19 19"),nh(i,"fill","none"),nh(i,"xmlns","http://www.w3.org/2000/svg"),nh(i,"class","svelte-mtyjwe"),nh(t,"class","commentLink svelte-mtyjwe"),t.disabled=p=e[4]||!!e[1],ch(t,"dark",e[5])},m(p,f){Gm(p,t,f),tf(n,t,null),Hm(t,o),Hm(t,i),Hm(i,r),Hm(r,s),Hm(r,a),Hm(r,l),Hm(i,c),Hm(c,d),Hm(d,u),g=!0,m||(h=[Qm(t,"keydown",e[6]),Qm(t,"click",e[6])],m=!0)},p(e,o){const i={};16&o&&(i.isEnabled=e[4]),2048&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!g||18&o&&p!==(p=e[4]||!!e[1]))&&(t.disabled=p),(!g||32&o)&&ch(t,"dark",e[5])},i(e){g||(Wh(n.$$.fragment,e),g=!0)},o(e){Vh(n.$$.fragment,e),g=!1},d(e){e&&Wm(t),nf(n),m=!1,bm(h)}}}function fk(e){let t,n;return t=new Uy({props:{small:!0}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function vk(e){let t;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("youtube_translate_comment_link")}`,nh(t,"class","copy svelte-mtyjwe")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function _k(e){let t,n,o=e[0]&&e[0].isYoutubeEnabled&&mk(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isYoutubeEnabled?o?(o.p(e,n),1&n&&Wh(o,1)):(o=mk(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function wk(e,t,n){let o,i,r,s;Sm(e,Pv,(e=>n(0,r=e))),Sm(e,sk,(e=>n(8,s=e)));var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let l,c,{commentNode:d}=t,u=!1;return e.$$set=e=>{"commentNode"in e&&n(7,d=e.commentNode)},e.$$.update=()=>{if(256&e.$$.dirty&&n(5,o=s&&s.isDarkMode),1&e.$$.dirty&&n(4,i=Hn(r,xt.TRANSLATOR)),1&e.$$.dirty){r.blacklistDomainsForReading.includes(window.location.hostname)?n(3,c=!1):r.selectedTargetLanguage&&function(){return a(this,void 0,void 0,(function*(){const e=d.innerText;if(e.length<10)return!1;const t=yield La(e);return ka(chrome.i18n.getUILanguage())!==t&&ka(r.selectedTargetLanguage)!==t}))}().then((e=>n(3,c=e))).catch((()=>n(3,c=!1)))}},[r,l,u,c,i,o,function(){return a(this,void 0,void 0,(function*(){if(l)return;n(2,u=!0);let e,t,o="";try{o=yield La(d.innerText),o=Da(o)}catch(e){}try{t=yield Rn({action:Sn.dlRequestYouTubeTranslation,payload:{message:d.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t}n(1,l=e?"":t[0].text),n(2,u=!1);const i=gk.createElement();i.createDOM(l,d.innerText,(()=>{n(1,l=""),i.cleanupDOM()}),e),d.appendChild(i)}))},d,s]}gk.HTML_TAG_NAME="deepl-youtube-translated-translated",gk.createElement=(e=document)=>{const t=e.createElement(gk.HTML_TAG_NAME);return new gk(t),t};class bk extends rf{constructor(e){super(),of(this,e,wk,_k,Em,{commentNode:7})}}class yk extends yC{constructor(e){super(e),this.createDOM=e=>{this.domElement.mainComponent=new bk({target:this.domElement.shadowContainer,props:{commentNode:e}})},this.bindChildFunctions()}}function Ek(){let e=document.body.querySelector("ytd-comments");return e||(e=document.body.querySelector("#comments")),e}function Tk(){setTimeout((()=>{const e=Ek();if(e){let t=new MutationObserver((()=>{!function(){let e=Ek();if(!e)return;const t=e.querySelectorAll("#content-text");for(let e of t)if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",e&&e.innerText)){const t=yk.createElement();return t.createDOM(e),void e.appendChild(t)}}()}));t.observe(e,{attributes:!1,childList:!0,subtree:!0}),gm((()=>t.disconnect()))}}),1e3)}function xk(e){switch(e){case"web.whatsapp.com":bC();break;case"twitter.com":case"tweetdeck.twitter.com":case"x.com":qC();break;case"www.linkedin.com":!function(){let e=new MutationObserver((()=>{ik()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),gm((()=>e.disconnect()))}();break;case"www.youtube.com":Tk()}}function $k(e){return t(this,void 0,void 0,(function*(){const t=e.split(".");if("deepl.com"===t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".")){document.body.dataset.dlBrowserExtensionPresent="true";try{const{requireLogin:e,suggestIdp:t}=yield chrome.storage.managed.get(["requireLogin","suggestIdp"]);e&&(document.body.dataset.dlBrowserExtensionRequireLogin="true"),t&&(document.body.dataset.dlBrowserExtensionSuggestIdp=t)}catch(e){}setTimeout((()=>{try{const e=window.localStorage.getItem("releaseGroups");e&&chrome.runtime.sendMessage({action:kn.dlStoreTranslationLanguages,payload:{releaseGroups:e}})}catch(e){}}),1e3)}}))}function Sk(e){return t(this,void 0,void 0,(function*(){const t=yield gp(["shouldDisplayFeedbackPopup"]),n=new URL(e);if("https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ"===`${n.protocol}//${n.hostname}${n.pathname}`)t.shouldDisplayFeedbackPopup&&(Pv.set({shouldDisplayFeedbackPopup:!1}),Bq(nt.feedback))}))}function Ck(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function kk(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}yk.HTML_TAG_NAME="deepl-youtube-comment-link",yk.createElement=(e=document)=>{const t=e.createElement(yk.HTML_TAG_NAME);return new yk(t),t};const Lk={domActions:{extractTranslatable:e=>({translatable:e.clone.innerHTML}),insertTranslation:(e,t)=>{e.clone.innerHTML=t.translated}},attributeActions:{attributeCleanup:e=>Uk(e.clone)}};function Ak(t,n=!0){var o;if(t instanceof HTMLFormElement&&fx(t))return[void 0,!1];if(t.isContentEditable&&n)return[void 0,!1];if(IS(t))return[void 0,!1];if(MS(t))return[void 0,!0];if(!kk(t,e.websiteData.hostname))return[void 0,!1];if(OS(t))return[void 0,!1];if(DS(t))return"button"==t.getAttribute("type")&&t.value?t.value.length>=1e4?[void 0,!1]:[{domActions:{extractTranslatable:e=>({translatable:e.clone.value}),insertTranslation:(e,t)=>e.original.value=t.translated,revertTranslationState:e=>{const{original:t,clone:n}=e;[t.value,n.value]=[n.value,t.value]}}},!0]:[void 0,!1];if(mx(t))return[void 0,!1];const i=t.childNodes;if(Ik(i))return[void 0,!1];if(Ok(i))return[Lk,!0];for(const e of i)if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&(!gx(e)||mx(e)||"inline"!=window.getComputedStyle(e).display||cx(t)))return[void 0,!1];return Rk(i)?[void 0,!1]:void 0!==t.textContent&&""!=(null===(o=t.textContent)||void 0===o?void 0:o.trim())?[Lk,!0]:[void 0,!1]}const Ik=e=>1===e.length&&void 0!==Ak(e[0])[0],Ok=e=>{for(const t of e){if("font"===t.nodeName.toLowerCase())return!0;if("#text"===t.nodeName.toLowerCase()&&""!=t.wholeText.trim())return!Mk(t)}return!1},Dk=/[`!@#$%^&*()_+\-=[\]{};':"\\|,./?~]/,Mk=e=>[...e.wholeText.trim()].every((e=>Dk.test(e))),Rk=e=>!Ok(e),{scope:Nk}=hm();function Pk(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=rS.dlUniqueId++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(const t of e.childNodes)Pk(t)}}const Uk=e=>{if(!(e instanceof HTMLFormElement&&fx(e))&&function(e){if(!(null==e?void 0:e.attributes))return!1;const t=e.attributes,n=t instanceof NamedNodeMap,o=t.constructor===NamedNodeMap,i=Object.getPrototypeOf(t)===NamedNodeMap.prototype;return n&&o&&i}(e)){if(void 0!==e.attributes){let t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(const t of e.childNodes)Uk(t)}},qk=(e,t,n)=>{var o,i;Pk(t);const r=t.cloneNode(!0),s={original:t,clone:r,translationStrategy:n};e.push(s),null===(i=null===(o=n.attributeActions)||void 0===o?void 0:o.attributeCleanup)||void 0===i||i.call(o,s),ES(t,!0)};function Bk(e,t){var n;if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!kS(t)){const[o,i]=Ak(t);if(o&&xS(t)&&!yS(t)&&qk(e,t,o),i)return;const r="open"===(null===(n=null==t?void 0:t.shadowRoot)||void 0===n?void 0:n.mode)?[...t.childNodes,...t.shadowRoot.childNodes]:t.childNodes;for(const t of r)Bk(e,t)}}const Fk=(e,n,o,i,r,s)=>t(void 0,void 0,void 0,(function*(){if(e.length<=0)return;const t=yield jS(e,n,i,r,s);if(t&&t.length>0)for(let n=0;n<e.length;++n){const{original:o,clone:i,translationStrategy:r}=e[n];r.domActions.insertTranslation(e[n],{translated:Lg(t[n].translated)}),AS(o,i),SS(o,i),ES(o,!0)}})),Hk=(e,n,o)=>{const i=[];Bk(i,o);try{document.querySelectorAll("iframe").forEach((o=>function(e,n,o){return t(this,void 0,void 0,(function*(){try{const t=e.contentDocument||e.contentWindow.document;if(!e||!$S(e))return;const i=[];if(Bk(i,t.documentElement),0===i.length)return;yield Fk(i,n.sourceLang,n.noTranslationLanguages,n.trigger,o,window.location.hostname),e.translatedDOM=[...e.translatedDOM||[],...i],NS()}catch(e){e instanceof Error&&PS(e)}}))}(o,e,n)))}catch(e){ja()}return i};function jk(e,n){return t(this,arguments,void 0,(function*(e,n,o=document.documentElement){if(!Bn({isLoggedIn:rS.isLoggedIn,translatorServiceType:rS.translatorServiceType},xt.TRANSLATOR))return;let i=[];try{if(i=Hk(e,n,o),0===i.length)return;L_.update({fptTranslationState:g.ongoingTranslation}),yield Fk(i,e.sourceLang,e.noTranslationLanguages,e.trigger,n,window.location.hostname)}catch(e){!function(e){t(this,void 0,void 0,(function*(){return kl((t=>Object.assign(Object.assign({},t),{eventId:wl,errorData:{extensionVersion:"1.71.0",errorCode:e.errorCode,errorMessage:e.errorMessage,errorCategory:xl(e.errorCategory)}})))}))}({errorCode:e.name,errorMessage:e.message,errorCategory:wn}),Ka(e,Nk);for(const e of i)ES(e.original,!1);return L_.update({fptTranslationState:g.none,error:e.name?e.name:e}),void(rS.observer&&rS.observer.disconnect())}L_.update({fptTranslationState:g.isTranslationComplete}),i.length>0&&L_.update({translatedDOM:[...rS.translatedDOM,...i]})}))}function zk(e){return t(this,void 0,void 0,(function*(){uS();let n=!1;if(rS.translatedDOM.length>0)try{L_.update({fptTranslationState:g.ongoingTranslation}),sS(),rS.translatedDOM.forEach((e=>{var t,n,o,i;SS(e.original,e.clone),SS(e.original,e.clone),null===(n=(t=e.translationStrategy.domActions).revertTranslationState)||void 0===n||n.call(t,e),null===(i=(o=e.translationStrategy.domActions).revertTranslationState)||void 0===i||i.call(o,e),ES(e.original,!0)}))}finally{L_.update({fptTranslationState:g.isTranslationComplete})}else n=!0;const o=((e=500,n)=>{let o;return i=>{o&&clearTimeout(o),o=setTimeout((()=>t(void 0,void 0,void 0,(function*(){try{yield n(i)}finally{o=void 0}}))),e)}})(250,(()=>t(this,void 0,void 0,(function*(){yield jk(e,!1)}))));yield fS(o),yield jk(e,n),wS(o),dS()}))}const Gk=(e,n)=>t(void 0,void 0,void 0,(function*(){_q(),fq();const t=yield Rn({action:$n.dlGetAppSettings}),o={sourceLang:e,trigger:n,isFirstTime:!0,noTranslationLanguages:(i=t.languagesForTranslation,Object.keys(i).filter((e=>i[e]===p)))};var i;try{yield zk(o)}catch(e){L_.update({fptTranslationState:g.none,error:e.message?e.message:e})}}));function Wk(e){let t,n;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"fill-rule","evenodd"),nh(n,"clip-rule","evenodd"),nh(n,"d","M4.16667 3.125C3.59137 3.125 3.125 3.59137 3.125 4.16667V15.8333C3.125 16.4086 3.59137 16.875 4.16667 16.875H6.875V3.125H4.16667ZM4.16667 1.875C2.90101 1.875 1.875 2.90101 1.875 4.16667V15.8333C1.875 17.099 2.90101 18.125 4.16667 18.125H15.8333C17.099 18.125 18.125 17.099 18.125 15.8333V4.16667C18.125 2.90101 17.099 1.875 15.8333 1.875H4.16667ZM8.125 3.125V16.875H15.8333C16.4086 16.875 16.875 16.4086 16.875 15.8333V4.16667C16.875 3.59137 16.4086 3.125 15.8333 3.125H8.125ZM13.7753 7.05806C14.0194 7.30214 14.0194 7.69786 13.7753 7.94194L11.7172 10L13.7753 12.0581C14.0194 12.3021 14.0194 12.6979 13.7753 12.9419C13.5312 13.186 13.1355 13.186 12.8914 12.9419L10.3914 10.4419C10.1473 10.1979 10.1473 9.80214 10.3914 9.55806L12.8914 7.05806C13.1355 6.81398 13.5312 6.81398 13.7753 7.05806Z"),nh(n,"fill","currentColor"),nh(t,"width","20"),nh(t,"height","20"),nh(t,"viewBox","0 0 20 20"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),rh(t,"color",e[0],1)},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,[n]){1&n&&rh(t,"color",e[0],1)},i:fm,o:fm,d(e){e&&Wm(t)}}}function Vk(e,t,n){let{fill:o="#292929"}=t;return e.$$set=e=>{"fill"in e&&n(0,o=e.fill)},[o]}class Kk extends rf{constructor(e){super(),of(this,e,Vk,Wk,Em,{fill:0})}}function Zk(e){let t,n;return t=new Kk({}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function Yk(e){let t,n,o=e[1](),i=o&&function(e){let t,n;return t=new Qx({props:{className:"dlui-btn-secondary open-side-panel-button",dataQa:"open-side-panel-button",$$slots:{default:[Zk]},$$scope:{ctx:e}}}),t.$on("click",e[0]),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}(e);return{c(){i&&i.c(),t=Xm()},m(e,o){i&&i.m(e,o),Gm(e,t,o),n=!0},p(e,[t]){o&&i.p(e,t)},i(e){n||(Wh(i),n=!0)},o(e){Vh(i),n=!1},d(e){e&&Wm(t),i&&i.d(e)}}}function Jk(e){const{browser:t}=bp();return[function(){try{Rn({action:On.dlOpenSidePanel}),Rn({action:Ln.dlTrackUILocationClicked,payload:de})}catch(e){}},function(){return t===hp.chrome||t===hp.edge||t===hp.brave}]}class Xk extends rf{constructor(e){super(),of(this,e,Jk,Yk,Em,{})}}function Qk(e){let t,n,o;return{c(){t=Zm("svg"),n=Zm("g"),o=Zm("path"),nh(o,"id","Union"),nh(o,"fill-rule","evenodd"),nh(o,"clip-rule","evenodd"),nh(o,"d","M9.99984 2.58203C9.12539 2.58203 8.4165 3.29091 8.4165 4.16536C8.4165 5.03982 9.12539 5.7487 9.99984 5.7487C10.8743 5.7487 11.5832 5.03982 11.5832 4.16536C11.5832 3.29091 10.8743 2.58203 9.99984 2.58203ZM9.99984 8.41536C9.12539 8.41536 8.4165 9.12425 8.4165 9.9987C8.4165 10.8731 9.12539 11.582 9.99984 11.582C10.8743 11.582 11.5832 10.8731 11.5832 9.9987C11.5832 9.12425 10.8743 8.41536 9.99984 8.41536ZM9.99984 14.2487C9.12539 14.2487 8.4165 14.9576 8.4165 15.832C8.4165 16.7065 9.12539 17.4154 9.99984 17.4154C10.8743 17.4154 11.5832 16.7065 11.5832 15.832C11.5832 14.9576 10.8743 14.2487 9.99984 14.2487Z"),nh(o,"fill","currentColor"),nh(n,"id","more-vertical"),nh(t,"width","20"),nh(t,"height","20"),nh(t,"viewBox","0 0 20 20"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),rh(t,"color",e[0],1)},m(e,i){Gm(e,t,i),Hm(t,n),Hm(n,o)},p(e,[n]){1&n&&rh(t,"color",e[0],1)},i:fm,o:fm,d(e){e&&Wm(t)}}}function eL(e,t,n){let{fill:o="#FFFFFF"}=t;return e.$$set=e=>{"fill"in e&&n(0,o=e.fill)},[o]}class tL extends rf{constructor(e){super(),of(this,e,eL,Qk,Em,{fill:0})}}function nL(e){let t,n;return t=new tL({props:{fill:"#191919"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function oL(e){let t,n,o,i,r,s,a,l=!e[2]&&iL(e);return{c(){t=Km("div"),l&&l.c(),n=Jm(),o=Km("button"),o.textContent=`${chrome.i18n.getMessage("ui_no_translate_website")}`,i=Jm(),r=Km("button"),r.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,nh(o,"data-testid","options-never-translate-website"),nh(o,"class","options-dropdown-item svelte-dacewr"),nh(r,"data-testid","options-more-settings"),nh(r,"class","options-dropdown-item options-link svelte-dacewr"),nh(t,"class","options-dropdown svelte-dacewr")},m(c,d){Gm(c,t,d),l&&l.m(t,null),Hm(t,n),Hm(t,o),Hm(t,i),Hm(t,r),s||(a=[Qm(o,"click",e[14]),Qm(r,"click",e[5])],s=!0)},p(e,o){e[2]?l&&(l.d(1),l=null):l?l.p(e,o):(l=iL(e),l.c(),l.m(t,n))},d(e){e&&Wm(t),l&&l.d(),s=!1,bm(a)}}}function iL(e){let t,n,o,i,r,s,a,l=chrome.i18n.getMessage("full_page_translation_menu_always_translate",e[0])+"",c=chrome.i18n.getMessage("full_page_translation_settings_list_never_translate",e[0])+"";return{c(){t=Km("button"),n=Ym(l),o=Jm(),i=Km("button"),r=Ym(c),nh(t,"data-testid","options-always-translate"),nh(t,"class","options-dropdown-item svelte-dacewr"),nh(i,"data-testid","options-never-translate"),nh(i,"class","options-dropdown-item svelte-dacewr")},m(l,c){Gm(l,t,c),Hm(t,n),Gm(l,o,c),Gm(l,i,c),Hm(i,r),s||(a=[Qm(t,"click",e[12]),Qm(i,"click",e[13])],s=!0)},p(e,t){1&t&&l!==(l=chrome.i18n.getMessage("full_page_translation_menu_always_translate",e[0])+"")&&oh(n,l),1&t&&c!==(c=chrome.i18n.getMessage("full_page_translation_settings_list_never_translate",e[0])+"")&&oh(r,c)},d(e){e&&(Wm(t),Wm(o),Wm(i)),s=!1,bm(a)}}}function rL(e){let t,n,o,i,r,s;n=new Qx({props:{dataQa:"options-button",className:"dlui-btn-secondary transparent-border "+(e[1]?"active":""),$$slots:{default:[nL]},$$scope:{ctx:e}}}),n.$on("click",e[11]);let a=e[1]&&oL(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),a&&a.c(),nh(t,"class","options-menu-container svelte-dacewr")},m(l,c){Gm(l,t,c),tf(n,t,null),Hm(t,o),a&&a.m(t,null),i=!0,r||(s=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[15])],r=!0)},p(e,[o]){const i={};2&o&&(i.className="dlui-btn-secondary transparent-border "+(e[1]?"active":"")),1048576&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),e[1]?a?a.p(e,o):(a=oL(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){i||(Wh(n.$$.fragment,e),i=!0)},o(e){Vh(n.$$.fragment,e),i=!1},d(e){e&&Wm(t),nf(n),a&&a.d(),r=!1,bm(s)}}}function sL(e,t,n){let o,i,r,{onClose:s=()=>{}}=t,{sourceLanguage:a}=t,l=!1;const c=xh("deepl_settings");Sm(e,c,(e=>n(9,i=e)));const g=xh("deepl_website_settings");Sm(e,g,(e=>n(10,r=e)));const m=Eh();function h(e){const t={hideOption:void 0,sourceLang:r.websiteLanguage,domainName:r.hostname,uiLocation:re};switch(e){case"website":Dm(c,i.blacklistDomains=[...i.blacklistDomains,r.hostname],i),t.hideOption=O;break;case"lang":!function(){let e=r.websiteLanguage,t=Oa(e);if(t)for(let e of t)Dm(c,i.languagesForTranslation=Object.assign(Object.assign({},i.languagesForTranslation),{[e]:p}),i);else Dm(c,i.languagesForTranslation=Object.assign(Object.assign({},i.languagesForTranslation),{[e]:p}),i)}(),t.hideOption=D}f(),Rn({action:Ln.dlTrackFptHide,payload:t}),s()}const f=()=>{Rn({action:Tn.dlSendNotification,payload:{type:H,options:{theme:K.green_theme}}})};function v(){!function(e,t,n,o){const i=Oa(e);if(i)for(const e of i)t[e]===u?(t[e]=d,o(!1)):(t[e]=u,o(!0));else t[e]===u?(t[e]=d,o(!1)):(t[e]=u,o(!0));n.set({languagesForTranslation:t})}(r.websiteLanguage,i.languagesForTranslation,c,(e=>{e&&Rn({action:Ln.dlTrackUILocationClicked,payload:se})})),n(1,l=!1),m("triggerTranslate")}return e.$$set=e=>{"onClose"in e&&n(8,s=e.onClose),"sourceLanguage"in e&&n(0,a=e.sourceLanguage)},e.$$.update=()=>{1536&e.$$.dirty&&n(2,o=i.languagesForTranslation[r.websiteLanguage]===u)},[a,l,o,c,g,function(){try{Rn({action:Ln.dlTrackUILocationClicked,payload:ae})}catch(e){}m("settings")},h,v,s,i,r,()=>n(1,l=!l),()=>v(),()=>h("lang"),()=>h("website"),()=>n(1,l=!1)]}class aL extends rf{constructor(e){super(),of(this,e,sL,rL,Em,{onClose:8,sourceLanguage:0})}}function lL(e){let t,n,o;return n=new Qx({props:{dataQa:"full-page-translation-close-button",className:"dlui-btn-secondary transparent-border",$$slots:{default:[cL]},$$scope:{ctx:e}}}),n.$on("click",e[8]),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","close-button-div svelte-u58wji")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};1024&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function cL(e){let t,n;return t=new n$({props:{fill:"#000000"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function dL(e){let t,n,o,i,r;return n=new Xk({}),i=new aL({props:{onClose:e[1].websiteLanguage?e[0]:void 0,sourceLanguage:e[2]}}),i.$on("settings",C$),i.$on("triggerTranslate",e[6]),{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),ef(i.$$.fragment),nh(t,"slot","rightside-menu"),nh(t,"class","rightside-menu svelte-u58wji")},m(e,s){Gm(e,t,s),tf(n,t,null),Hm(t,o),tf(i,t,null),r=!0},p(e,t){const n={};3&t&&(n.onClose=e[1].websiteLanguage?e[0]:void 0),4&t&&(n.sourceLanguage=e[2]),i.$set(n)},i(e){r||(Wh(n.$$.fragment,e),Wh(i.$$.fragment,e),r=!0)},o(e){Vh(n.$$.fragment,e),Vh(i.$$.fragment,e),r=!1},d(e){e&&Wm(t),nf(n),nf(i)}}}function uL(e){let t,n,o;return n=new E_({props:{error:e[1].error}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","error-container svelte-u58wji"),nh(t,"data-testid","full-page-translation-body-error-container")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function pL(e){let t,n,o,i,r,s,a,l,c,d=e[0]&&lL(e);r=new kb({}),a=new iS({props:{triggerTranslate:e[6],sendShowOriginal:e[7],tallButton:!1,sourceLang:e[2],$$slots:{"rightside-menu":[dL]},$$scope:{ctx:e}}});let u=e[3]&&uL(e);return{c(){t=Km("div"),n=Km("div"),d&&d.c(),o=Jm(),i=Km("div"),ef(r.$$.fragment),s=Jm(),ef(a.$$.fragment),l=Jm(),u&&u.c(),nh(i,"class","body svelte-u58wji"),nh(n,"class","fpt-wrapper svelte-u58wji"),nh(t,"class","full-page-translation svelte-u58wji")},m(e,p){Gm(e,t,p),Hm(t,n),d&&d.m(n,null),Hm(n,o),Hm(n,i),tf(r,i,null),Hm(i,s),tf(a,i,null),Hm(t,l),u&&u.m(t,null),c=!0},p(e,[i]){e[0]?d?(d.p(e,i),1&i&&Wh(d,1)):(d=lL(e),d.c(),Wh(d,1),d.m(n,o)):d&&(zh(),Vh(d,1,1,(()=>{d=null})),Gh());const r={};4&i&&(r.sourceLang=e[2]),1031&i&&(r.$$scope={dirty:i,ctx:e}),a.$set(r),e[3]?u?(u.p(e,i),8&i&&Wh(u,1)):(u=uL(e),u.c(),Wh(u,1),u.m(t,null)):u&&(zh(),Vh(u,1,1,(()=>{u=null})),Gh())},i(e){c||(Wh(d),Wh(r.$$.fragment,e),Wh(a.$$.fragment,e),Wh(u),c=!0)},o(e){Vh(d),Vh(r.$$.fragment,e),Vh(a.$$.fragment,e),Vh(u),c=!1},d(e){e&&Wm(t),d&&d.d(),nf(r),nf(a),u&&u.d()}}}function gL(e,t,n){let o,i,r;const s=xh("deepl_settings");Sm(e,s,(e=>n(9,r=e)));const a=xh("deepl_website_settings");Sm(e,a,(e=>n(1,i=e)));let{onClose:l}=t;let c;return e.$$set=e=>{"onClose"in e&&n(0,l=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&n(3,o=i&&i.error),2&e.$$.dirty&&i&&(i.isSupportedLanguage?n(2,c=chrome.i18n.getMessage(`supported_languages_${i.websiteLanguage}`)):n(2,c=chrome.i18n.getMessage("supported_languages_EN")))},[l,i,c,o,s,a,()=>{0==r.isTargetLanguageConfirmed&&i.fptTranslationState!==g.isTranslationComplete&&s.set({isTargetLanguageConfirmed:!0}),Gk(i.websiteLanguage,y)},()=>{i.fptTranslationState===g.isTranslationComplete&&(a.update({fptTranslationState:g.showOriginal}),Rn({action:Ln.dlTrackUILocationClicked,payload:ce}))},()=>{Rn({action:Ln.dlTrackUILocationClicked,payload:le}),null==l||l()}]}class mL extends rf{constructor(e){super(),of(this,e,gL,pL,Em,{onClose:0})}}function hL(e){let t,n,o;return n=new mL({props:{onClose:e[0]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","app-popup svelte-18n2tt9"),nh(t,"style",`z-index: ${e[2].z_index}`),nh(t,"dir",Pa())},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function fL(e){let t,n,o=e[3]()&&e[1]&&e[1].isValidUrlForFullPageTranslation,i=o&&hL(e);return{c(){i&&i.c(),t=Xm()},m(e,o){i&&i.m(e,o),Gm(e,t,o),n=!0},p(e,[n]){2&n&&(o=e[3]()&&e[1]&&e[1].isValidUrlForFullPageTranslation),o?i?(i.p(e,n),2&n&&Wh(i,1)):(i=hL(e),i.c(),Wh(i,1),i.m(t.parentNode,t)):i&&(zh(),Vh(i,1,1,(()=>{i=null})),Gh())},i(e){n||(Wh(i),n=!0)},o(e){Vh(i),n=!1},d(e){e&&Wm(t),i&&i.d(e)}}}function vL(e,t,n){let o,i;Sm(e,Pv,(e=>n(4,o=e))),Sm(e,L_,(e=>n(1,i=e))),Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let{onClose:r}=t;const{deepl_inline_ui:s}=U;return e.$$set=e=>{"onClose"in e&&n(0,r=e.onClose)},[r,i,s,function(){return Bn(o,xt.TRANSLATOR)}]}class _L extends rf{constructor(e){super(),of(this,e,vL,fL,Em,{onClose:0})}}class wL{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new _L({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function bL(e){return"IFRAME"===e.nodeName.toUpperCase()?TL(e):e.ownerDocument===document?window:e.ownerDocument}function yL(e){return e.ownerDocument===document?document:e.ownerDocument}function EL(e){var t;return"IFRAME"!==e.nodeName.toUpperCase()?e:null===(t=TL(e))||void 0===t?void 0:t.body}function TL(e){var t;return e.contentDocument||(null===(t=e.contentWindow)||void 0===t?void 0:t.document)}function xL(e){var t,n,o;if("IFRAME"===e.nodeName.toUpperCase())return window;if(e.ownerDocument!==document){const i=null===(o=null===(n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===n?void 0:n.frameElement)||void 0===o?void 0:o.contentWindow;if(i)return i}return window}function $L(e){return"IFRAME"===e.nodeName.toUpperCase()?TL(e):e.ownerDocument===document?document:e.ownerDocument}function SL(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{var n;const o=yL(e).createRange();o.selectNodeContents(EL(e));const i=null===(n=bL(e))||void 0===n?void 0:n.getSelection();null==i||i.removeAllRanges(),null==i||i.addRange(o),t(i)}))}))}wL.HTML_TAG_NAME="deepl-page-load-popup",wL.createElement=(e=document)=>{const t=e.createElement(wL.HTML_TAG_NAME),n=new wL(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const CL=(e,n)=>t(void 0,void 0,void 0,(function*(){var t,o,i;yield oo(10);const r=new ClipboardEvent("paste");null===(t=r.clipboardData)||void 0===t||t.setData("text/html",null!==(o=n.html)&&void 0!==o?o:n.text),null===(i=r.clipboardData)||void 0===i||i.setData("text/plain",n.text),e.dispatchEvent(r),yield oo(10)})),kL=(e,n)=>t(void 0,void 0,void 0,(function*(){yield oo(10);const t=new ClipboardEvent("paste",{dataType:"text/html",data:n.html});e.dispatchEvent(t),yield oo(10)})),LL=(e,n)=>t(void 0,void 0,void 0,(function*(){yield oo(10);const t=new ClipboardEvent("paste",{dataType:"text/plain",data:n.text});e.dispatchEvent(t),yield oo(10)})),AL=(e,n)=>t(void 0,void 0,void 0,(function*(){yield oo(10),document.execCommand("insertText",!1,n.text),yield oo(10)})),IL=(e,n)=>t(void 0,void 0,void 0,(function*(){yield oo(10),document.execCommand("insertHTML",!1,n.html),yield oo(10)})),OL=(e,n)=>t(void 0,void 0,void 0,(function*(){var t;const o=xL(e);yield oo(10);const i=new DataTransfer;i.setData("text/html",null!==(t=n.html)&&void 0!==t?t:n.text),i.setData("text/plain",n.text),e.dispatchEvent(new o.ClipboardEvent("paste",{clipboardData:i,bubbles:!0,cancelable:!0})),i.clearData(),yield oo(10)})),DL=(e,n)=>t(void 0,void 0,void 0,(function*(){const t=$L(e),o=xL(e),i=null==t?void 0:t.createEvent("TextEvent");i&&(i.initTextEvent("textInput",!0,!0,o,n.text),e.dispatchEvent(i),yield oo(10))})),ML=(e,n)=>t(void 0,void 0,void 0,(function*(){const t=$L(e);e.value&&e.select(),null==t||t.execCommand("insertHTML",!1,n.html),yield oo(20),(e.value||""===e.value)&&(e.value=n.text)})),RL=(e,n,o)=>t(void 0,void 0,void 0,(function*(){var t,i;const r=Ep();o||e.focus();const s=null===(t=EL(e))||void 0===t?void 0:t.innerText,a=null===(i=EL(e))||void 0===i?void 0:i.value,l=[...r?[{method:CL,isSuccessful:()=>NL(s,e.innerText,n.text)},{method:kL,isSuccessful:()=>NL(s,e.innerText,n.text)},{method:LL,isSuccessful:()=>NL(s,e.innerText,n.text)},{method:AL,isSuccessful:()=>NL(s,e.innerText,n.text)},{method:IL,isSuccessful:()=>NL(s,e.innerText,n.text)||NL(a,e.value,n.text)}]:[],{method:OL,isSuccessful:()=>{var t;return NL(s,null===(t=EL(e))||void 0===t?void 0:t.innerText,n.text)}},{method:DL,isSuccessful:()=>{var t;return NL(s,null===(t=EL(e))||void 0===t?void 0:t.innerText,n.text)}},{method:ML,isSuccessful:()=>{var t,o;return NL(s,null===(t=EL(e))||void 0===t?void 0:t.innerText,n.text)||NL(a,null===(o=EL(e))||void 0===o?void 0:o.value,n.text)}}];for(const t of l)if(r&&ja(),yield t.method(e,n),t.isSuccessful())return void(r&&ja());throw yield oo(1e3),Rn({action:Sn.dlTranslatedInputTextNotSet,payload:window.location.hostname}),new Error({error:al})})),NL=(e,t,n)=>{let o=!0;return(e&&!t||!Jf(e,n)&&e===t||!Jf(t,n))&&(o=!1),o},PL=(e,t)=>{const n=new(xL(t).KeyboardEvent)(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},UL=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)};function qL(e){let t,n;return t=new wb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function BL(e){let t,n,o,i,r,s,a=chrome.i18n.getMessage("ui_gslides_translate_cta")+"",l=Bn(e[4],xt.TRANSLATOR),c=l&&qL();return{c(){t=Km("button"),n=Ym(a),o=Jm(),c&&c.c(),nh(t,"class","action-button svelte-c2z0h2"),t.disabled=e[5]},m(a,l){Gm(a,t,l),Hm(t,n),Hm(t,o),c&&c.m(t,null),i=!0,r||(s=Qm(t,"click",(function(){ym(e[0])&&e[0].apply(this,arguments)})),r=!0)},p(n,o){e=n,16&o&&(l=Bn(e[4],xt.TRANSLATOR)),l?c?16&o&&Wh(c,1):(c=qL(),c.c(),Wh(c,1),c.m(t,null)):c&&(zh(),Vh(c,1,1,(()=>{c=null})),Gh()),(!i||32&o)&&(t.disabled=e[5])},i(e){i||(Wh(c),i=!0)},o(e){Vh(c),i=!1},d(e){e&&Wm(t),c&&c.d(),r=!1,s()}}}function FL(e){let t,n,o;return n=new gb({props:{tooltip:Hn(e[4],xt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:"10000000000",multiline:!0,$$slots:{default:[jL]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","write-container svelte-c2z0h2")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};16&t&&(o.tooltip=Hn(e[4],xt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),8218&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function HL(e){let t,n;return t=new wb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function jL(e){let t,n,o,i,r,s,a,l=chrome.i18n.getMessage("ui_gslides_write_cta")+"",c=Bn(e[4],xt.TRANSLATOR),d=c&&HL();return{c(){t=Km("button"),n=Ym(l),o=Jm(),d&&d.c(),nh(t,"class","action-button svelte-c2z0h2"),t.disabled=i=!Ra(e[3])||Hn(e[4],xt.WRITE)},m(i,l){Gm(i,t,l),Hm(t,n),Hm(t,o),d&&d.m(t,null),r=!0,s||(a=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),s=!0)},p(n,o){e=n,16&o&&(c=Bn(e[4],xt.TRANSLATOR)),c?d?16&o&&Wh(d,1):(d=HL(),d.c(),Wh(d,1),d.m(t,null)):d&&(zh(),Vh(d,1,1,(()=>{d=null})),Gh()),(!r||24&o&&i!==(i=!Ra(e[3])||Hn(e[4],xt.WRITE)))&&(t.disabled=i)},i(e){r||(Wh(d),r=!0)},o(e){Vh(d),r=!1},d(e){e&&Wm(t),d&&d.d(),s=!1,a()}}}function zL(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h;s=new zw({props:{disabled:e[2],websiteSettings:e[7],value:e[3],showSortCode:!1,showRegionalVariants:!1,extraPadding:!0}}),s.$on("selection",e[11]),u=new zw({props:{disabled:e[2],websiteSettings:e[7],value:e[4].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[12]),g=new gb({props:{tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),isEnabled:e[5],zIndex:"10000000000",multiline:!0,$$slots:{default:[BL]},$$scope:{ctx:e}}});let f=!e[4].hideWrite&&FL(e);return{c(){t=Km("div"),n=Km("div"),o=Km("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_from")}`,i=Jm(),r=Km("div"),ef(s.$$.fragment),a=Jm(),l=Km("p"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_into")}`,c=Jm(),d=Km("div"),ef(u.$$.fragment),p=Jm(),ef(g.$$.fragment),m=Jm(),f&&f.c(),nh(o,"class","svelte-c2z0h2"),nh(r,"class","dropdown svelte-c2z0h2"),nh(l,"class","svelte-c2z0h2"),nh(d,"class","dropdown svelte-c2z0h2"),nh(n,"class","translate-container svelte-c2z0h2"),nh(t,"class","dl-gslides-toolbar svelte-c2z0h2")},m(e,v){Gm(e,t,v),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),tf(s,r,null),Hm(n,a),Hm(n,l),Hm(n,c),Hm(n,d),tf(u,d,null),Hm(n,p),tf(g,n,null),Hm(t,m),f&&f.m(t,null),h=!0},p(e,[n]){const o={};4&n&&(o.disabled=e[2]),8&n&&(o.value=e[3]),s.$set(o);const i={};4&n&&(i.disabled=e[2]),16&n&&(i.value=e[4].selectedTargetLanguage),u.$set(i);const r={};32&n&&(r.isEnabled=e[5]),8241&n&&(r.$$scope={dirty:n,ctx:e}),g.$set(r),e[4].hideWrite?f&&(zh(),Vh(f,1,1,(()=>{f=null})),Gh()):f?(f.p(e,n),16&n&&Wh(f,1)):(f=FL(e),f.c(),Wh(f,1),f.m(t,null))},i(e){h||(Wh(s.$$.fragment,e),Wh(u.$$.fragment,e),Wh(g.$$.fragment,e),Wh(f),h=!0)},o(e){Vh(s.$$.fragment,e),Vh(u.$$.fragment,e),Vh(g.$$.fragment,e),Vh(f),h=!1},d(e){e&&Wm(t),nf(s),nf(u),nf(g),f&&f.d()}}}function GL(e,t,n){let o,i;const r=Xw();Sm(e,r,(e=>n(4,i=e)));const s=xh("deepl_website_settings");let{onTranslateSelection:a}=t,{onImproveSelection:l}=t,{isLoading:c}=t,{sourceLang:d}=t,{manualSourceLang:u}=t;const p=e=>{n(10,u=e)},g=e=>{Dm(r,i.selectedTargetLanguage=e,i)};return e.$$set=e=>{"onTranslateSelection"in e&&n(0,a=e.onTranslateSelection),"onImproveSelection"in e&&n(1,l=e.onImproveSelection),"isLoading"in e&&n(2,c=e.isLoading),"sourceLang"in e&&n(3,d=e.sourceLang),"manualSourceLang"in e&&n(10,u=e.manualSourceLang)},e.$$.update=()=>{16&e.$$.dirty&&n(5,o=Hn(i,xt.TRANSLATOR))},[a,l,c,d,i,o,r,s,p,g,u,e=>{p(e.detail.selectedOption.value)},e=>{g(e.detail.selectedOption.value)}]}class WL extends rf{constructor(e){super(),of(this,e,GL,zL,Em,{onTranslateSelection:0,onImproveSelection:1,isLoading:2,sourceLang:3,manualSourceLang:10})}}function VL(e){let t,n,o,i,r,s,a;function l(t){e[12](t)}let c={onTranslateSelection:e[7],onImproveSelection:e[8],isLoading:e[4],sourceLang:e[1]};return void 0!==e[0]&&(c.manualSourceLang=e[0]),n=new WL({props:c}),Ch.push((()=>Qh(n,"manualSourceLang",l))),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl-gslides-toolbar svelte-fbd6a5"),nh(t,"dir",Pa())},m(o,i){Gm(o,t,i),tf(n,t,null),r=!0,s||(a=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[13])],s=!0)},p(e,t){const i={};16&t&&(i.isLoading=e[4]),2&t&&(i.sourceLang=e[1]),!o&&1&t&&(o=!0,i.manualSourceLang=e[0],Mh((()=>o=!1))),n.$set(i)},i(e){r||(Wh(n.$$.fragment,e),Dh((()=>{r&&(i||(i=Jh(t,uf,{},!0)),i.run(1))})),r=!0)},o(e){Vh(n.$$.fragment,e),i||(i=Jh(t,uf,{},!1)),i.run(0),r=!1},d(e){e&&Wm(t),nf(n),e&&i&&i.end(),s=!1,bm(a)}}}function KL(e){let t,n;return t=new kb({props:{style:"display: block;",whiteLabelStyle:"display: block; border-radius: 50%;"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function ZL(e){let t,n;return t=new Uy({props:{small:!0}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function YL(e){let t,n,o,i,r,s,a,l,c,d,u=e[3]&&VL(e);const p=[ZL,KL],g=[];function m(e,t){return e[4]?0:1}return i=m(e),r=g[i]=p[i](e),{c(){t=Km("div"),u&&u.c(),n=Jm(),o=Km("button"),r.c(),nh(o,"class","dl-gslides-button svelte-fbd6a5"),nh(o,"title","Translate with DeepL"),ch(o,"is-loading",e[4]),nh(t,"class","dl-gslides-icon svelte-fbd6a5"),nh(t,"style",a="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;")},m(r,s){Gm(r,t,s),u&&u.m(t,null),Hm(t,n),Hm(t,o),g[i].m(o,null),l=!0,c||(d=Qm(o,"click",e[6]),c=!0)},p(e,[s]){e[3]?u?(u.p(e,s),8&s&&Wh(u,1)):(u=VL(e),u.c(),Wh(u,1),u.m(t,n)):u&&(zh(),Vh(u,1,1,(()=>{u=null})),Gh());let c=i;i=m(e),i!==c&&(zh(),Vh(g[c],1,1,(()=>{g[c]=null})),Gh(),r=g[i],r||(r=g[i]=p[i](e),r.c()),Wh(r,1),r.m(o,null)),(!l||16&s)&&ch(o,"is-loading",e[4]),(!l||4&s&&a!==(a="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;"))&&nh(t,"style",a)},i(e){l||(Wh(u),Wh(r),Dh((()=>{l&&(s||(s=Jh(o,uf,{},!0)),s.run(1))})),l=!0)},o(e){Vh(u),Vh(r),s||(s=Jh(o,uf,{},!1)),s.run(0),l=!1},d(e){e&&Wm(t),u&&u.d(),g[i].d(),e&&s&&s.end(),c=!1,d()}}}const JL=16,XL="application/x-vnd.google-docs-drawings-object+wrapped",QL="application/x-vnd.google-docs-document-slice-clip+wrapped";function eA(e,t,n){let o;var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const r=Xw();Sm(e,r,(e=>n(15,o=e)));let s,{registerActionIconCallbacks:a}=t,{clearActionIconCallbacks:l}=t,{sourceLang:c}=t,{manualSourceLang:d}=t,{charLimitError:u}=t,p={bottom:0,right:0},g=!1,m=!1;const h=[],f=()=>{const e=document.querySelector("#canvas-container"),t=Pa(),o="ltr"===t?"right":"left";if(e){const i=e.getBoundingClientRect();let r=JL;r="ltr"===t?i.right>window.innerWidth?0:window.innerWidth-i.right:i.left<0?0:i.left;const s=i.bottom>window.innerHeight?16:window.innerHeight-i.bottom;n(2,p={bottom:s+JL,horizonalOffset:r+JL,horizonalAlignment:o})}else n(2,p={bottom:JL,horizonalOffset:JL,horizonalAlignment:o})},v=(e,t)=>i(void 0,void 0,void 0,(function*(){var r,a;try{let l=null===(r=e.clipboardData)||void 0===r?void 0:r.getData(XL),d=null===(a=e.clipboardData)||void 0===a?void 0:a.getData(QL);if(l){if((e=>{let t=null==e?void 0:e.getData("application/x-vnd.google-docs-image-clip+wrapped");if(!t)return!1;const n=JSON.parse(t),o=JSON.parse(n.data).image_urls,i=Object.keys(o);let r=!1;for(const e of i)if(e.includes("PLACEHOLDER_")&&!h.includes(e)){h.push(e),r=!0;break}return r})(e.clipboardData))return void Nn(G,{theme:K.warning_theme});n(4,m=!0);const r=yield((e,t)=>i(void 0,void 0,void 0,(function*(){const n=JSON.parse(e),i=JSON.parse(n.data),r=i.unresolved,{entities:s,sentencesToTranslate:a}=Xg(r),l=yield Jq({targetLang:o.selectedTargetLanguage,sourceLang:c,sentences:a,mode:t}),d=[];for(let e=0;e<s.length;e++)Qg({entity:s[e],translatedSentences:l,modifiersToDelete:d});return i.unresolved=i.unresolved.filter((e=>!d.includes(e))),n.data=JSON.stringify(i),JSON.stringify(n)})))(l,t);PL("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),_(r),n(4,m=!1)}else if(d){n(4,m=!0);const r=yield((e,t)=>i(void 0,void 0,void 0,(function*(){return yield Xq({event:e,sourceLang:c,targetLang:o.selectedTargetLanguage,mode:t})})))(e,t);PL("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),w(r),n(4,m=!1)}else yield Jg(),s=t,n(3,g=!1),Og()}catch(e){e.name===dl?n(9,u=Kt):e.name===cl?n(9,u=Zt):e.name===pl?n(9,u=pl):e.name===gl&&n(9,u=gl),n(4,m=!1)}})),_=e=>{const{editable:t}=Ig();let n;if(Ep())n=new ClipboardEvent("paste",{dataType:XL,data:e});else{const t=new DataTransfer;t.setData(XL,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}null==t||t.dispatchEvent(n)},w=e=>{const{editable:t}=Ig();let n;if(Ep())n=new ClipboardEvent("paste",{dataType:QL,data:e});else{const t=new DataTransfer;t.setData(QL,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}null==t||t.dispatchEvent(n)};bh((()=>{setTimeout((()=>{const{editable:e}=Ig();null==e||e.addEventListener("copy",(e=>{if(s){const t=s;s=void 0,v(e,t)}}))}),2e3),a({repositionActionIcon:f})})),yh((()=>{l()}));return e.$$set=e=>{"registerActionIconCallbacks"in e&&n(10,a=e.registerActionIconCallbacks),"clearActionIconCallbacks"in e&&n(11,l=e.clearActionIconCallbacks),"sourceLang"in e&&n(1,c=e.sourceLang),"manualSourceLang"in e&&n(0,d=e.manualSourceLang),"charLimitError"in e&&n(9,u=e.charLimitError)},[d,c,p,g,m,r,()=>{n(3,g=!g)},()=>{s=dt.translate,n(3,g=!1),Og()},()=>{s=dt.write,n(3,g=!1),Og()},u,a,l,function(e){d=e,n(0,d)},()=>{n(3,g=!1)}]}let tA=class extends rf{constructor(e){super(),of(this,e,eA,YL,Em,{registerActionIconCallbacks:10,clearActionIconCallbacks:11,sourceLang:1,manualSourceLang:0,charLimitError:9})}};function nA(e){let t,n,o,i,r,s,a,l,c,d,u=e[1]&&oA();return a=new Eb({props:{checked:e[3].isGSlidesEnabled}}),a.$on("change",e[8]),{c(){t=Km("div"),u&&u.c(),n=Jm(),o=Km("div"),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,r=Jm(),s=Km("div"),ef(a.$$.fragment),nh(i,"class","legend"),nh(s,"class","switch svelte-5s8nrb"),nh(o,"class","turn-on-off-panel svelte-5s8nrb"),nh(t,"class","dl-gslides-top-icon-modal svelte-5s8nrb"),rh(t,"left",e[2]+"px"),nh(t,"dir",Pa())},m(p,g){Gm(p,t,g),u&&u.m(t,null),Hm(t,n),Hm(t,o),Hm(o,i),Hm(o,r),Hm(o,s),tf(a,s,null),l=!0,c||(d=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=oA(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGSlidesEnabled),a.$set(i),(!l||4&o)&&rh(t,"left",e[2]+"px")},i(e){l||(Wh(a.$$.fragment,e),l=!0)},o(e){Vh(a.$$.fragment,e),l=!1},d(e){e&&Wm(t),u&&u.d(),nf(a),c=!1,bm(d)}}}function oA(e){let t,n,o,i,r,s,a,l,c,d;return{c(){t=Km("div"),n=Km("div"),o=Km("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,i=Jm(),r=Km("div"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,s=Jm(),a=Km("div"),l=Km("div"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,c=Jm(),d=Km("div"),d.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,nh(o,"class","svelte-5s8nrb"),nh(r,"class","beta-label svelte-5s8nrb"),nh(n,"class","header svelte-5s8nrb"),nh(l,"class","ups-item svelte-5s8nrb"),nh(d,"class","ups-item svelte-5s8nrb"),nh(a,"class","ups-list"),nh(t,"class","onboarding svelte-5s8nrb")},m(e,u){Gm(e,t,u),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),Hm(t,s),Hm(t,a),Hm(a,l),Hm(a,c),Hm(a,d)},p:fm,d(e){e&&Wm(t)}}}function iA(e){let t,n,o,i,r,s,a;n=new kb({props:{whiteLabelStyle:"border-radius: 50%;"}});let l=e[0]&&nA(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),l&&l.c(),i=Xm(),nh(t,"class","dl-gslides-top-icon svelte-5s8nrb"),rh(t,"left",e[2]+"px"),ch(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown)},m(c,d){Gm(c,t,d),tf(n,t,null),Gm(c,o,d),l&&l.m(c,d),Gm(c,i,d),r=!0,s||(a=Qm(t,"click",e[7]),s=!0)},p(e,[n]){(!r||4&n)&&rh(t,"left",e[2]+"px"),(!r||8&n)&&ch(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown),e[0]?l?(l.p(e,n),1&n&&Wh(l,1)):(l=nA(e),l.c(),Wh(l,1),l.m(i.parentNode,i)):l&&(zh(),Vh(l,1,1,(()=>{l=null})),Gh())},i(e){r||(Wh(n.$$.fragment,e),Wh(l),r=!0)},o(e){Vh(n.$$.fragment,e),Vh(l),r=!1},d(e){e&&(Wm(t),Wm(o),Wm(i)),nf(n),l&&l.d(e),s=!1,a()}}}function rA(e,t,n){let o;const i=Xw();Sm(e,i,(e=>n(3,o=e)));let r,{registerTopIconCallbacks:s}=t,{clearTopIconCallbacks:a}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),t=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const o=e.getBoundingClientRect();n(2,r=t?n(2,r=o.left+40-32):o.left-40)}};bh((()=>{d(),s({repositionTopIcon:d})})),yh((()=>{a()}));return e.$$set=e=>{"registerTopIconCallbacks"in e&&n(5,s=e.registerTopIconCallbacks),"clearTopIconCallbacks"in e&&n(6,a=e.clearTopIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&Rn({action:Ln.dlTrackOnboardingModalShown,payload:{nicheIntegration:at.gslides}})},[l,c,r,o,i,s,a,()=>{n(0,l=!0),o.isGSlidesOnboardingShown||(Dm(i,o.isGSlidesOnboardingShown=!0,o),n(1,c=!0))},e=>Dm(i,o.isGSlidesEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class sA extends rf{constructor(e){super(),of(this,e,rA,iA,Em,{registerTopIconCallbacks:5,clearTopIconCallbacks:6})}}function aA(e){let t,n,o,i,r;function s(e,t){return e[0]===Zt?dA:e[0]===Kt?cA:void 0}let a=s(e),l=a&&a(e);return{c(){t=Km("button"),n=Jm(),l&&l.c(),o=Xm(),nh(t,"class","close-button svelte-8x6yh8")},m(s,a){Gm(s,t,a),Gm(s,n,a),l&&l.m(s,a),Gm(s,o,a),i||(r=Qm(t,"click",(function(){ym(e[1])&&e[1].apply(this,arguments)})),i=!0)},p(t,n){a===(a=s(e=t))&&l?l.p(e,n):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(o.parentNode,o)))},i:fm,o:fm,d(e){e&&(Wm(t),Wm(n),Wm(o)),l&&l.d(e),i=!1,r()}}}function lA(e){let t,n;return t=new E_({props:{error:{error:e[0]},close:e[1],config:{nicheIntegration:at.gslides}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),2&n&&(o.close=e[1]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function cA(e){let t,n,o,i,r,s,a,l,c,d;return{c(){t=Km("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,n=Jm(),o=Km("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,i=Jm(),r=Km("div"),s=Km("button"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,a=Jm(),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,nh(t,"class","svelte-8x6yh8"),nh(o,"class","svelte-8x6yh8"),nh(s,"class","btn-secondary svelte-8x6yh8"),nh(l,"class","btn-primary svelte-8x6yh8"),nh(r,"class","buttons-row svelte-8x6yh8")},m(u,p){Gm(u,t,p),Gm(u,n,p),Gm(u,o,p),Gm(u,i,p),Gm(u,r,p),Hm(r,s),Hm(r,a),Hm(r,l),c||(d=[Qm(s,"click",e[5]),Qm(l,"click",e[4])],c=!0)},p:fm,d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(i),Wm(r)),c=!1,bm(d)}}}function dA(e){let t,n,o,i,r,s,a,l;return{c(){t=Km("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,n=Jm(),o=Km("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,i=Jm(),r=Km("div"),s=Km("button"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,nh(t,"class","svelte-8x6yh8"),nh(o,"class","svelte-8x6yh8"),nh(s,"class","btn-primary svelte-8x6yh8"),nh(r,"class","buttons-row svelte-8x6yh8")},m(c,d){Gm(c,t,d),Gm(c,n,d),Gm(c,o,d),Gm(c,i,d),Gm(c,r,d),Hm(r,s),a||(l=Qm(s,"click",e[3]),a=!0)},p:fm,d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(i),Wm(r)),a=!1,l()}}}function uA(e){let t,n,o,i,r,s,a;const l=[lA,aA],c=[];function d(e,t){return e[2]?0:1}return o=d(e),i=c[o]=l[o](e),{c(){t=Km("div"),n=Km("div"),i.c(),nh(n,"class","dl-char-limit-error-container svelte-8x6yh8"),ch(n,"is-translator-limit",!e[2]),nh(t,"class","dl-char-limit-error-overlay svelte-8x6yh8")},m(i,l){Gm(i,t,l),Hm(t,n),c[o].m(n,null),r=!0,s||(a=[Mm(pm.call(null,n,{isShadow:!0})),Qm(n,"click_outside",(function(){ym(e[1])&&e[1].apply(this,arguments)}))],s=!0)},p(t,[s]){let a=o;o=d(e=t),o===a?c[o].p(e,s):(zh(),Vh(c[a],1,1,(()=>{c[a]=null})),Gh(),i=c[o],i?i.p(e,s):(i=c[o]=l[o](e),i.c()),Wh(i,1),i.m(n,null)),(!r||4&s)&&ch(n,"is-translator-limit",!e[2])},i(e){r||(Wh(i),r=!0)},o(e){Vh(i),r=!1},d(e){e&&Wm(t),c[o].d(),s=!1,bm(a)}}}function pA(e,t,n){let o,{charLimitError:i}=t,{closeModal:r}=t;let s=!1;return e.$$set=e=>{"charLimitError"in e&&n(0,i=e.charLimitError),"closeModal"in e&&n(1,r=e.closeModal)},e.$$.update=()=>{1&e.$$.dirty&&n(2,o=i===pl||i===gl)},[i,r,o,()=>{Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"gslides_customization"}}),r()},()=>{Rn({action:yn.dlRequestSignUp}),r()},()=>{s||(Rn({action:Ln.dlTrackUILocationClicked,payload:he}),s=!0,Rn({action:yn.dlRequestLogin}).then((()=>{s=!1,r()})).catch((()=>{s=!1})))}]}class gA extends rf{constructor(e){super(),of(this,e,pA,uA,Em,{charLimitError:0,closeModal:1})}}function mA(e){let t,n;return t=new gA({props:{charLimitError:e[2],closeModal:e[11]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.charLimitError=e[2]),4&n&&(o.closeModal=e[11]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function hA(e){let t,n,o,i;function r(t){e[12](t)}function s(t){e[13](t)}let a={registerActionIconCallbacks:e[7],clearActionIconCallbacks:e[8],sourceLang:e[3]};return void 0!==e[0]&&(a.manualSourceLang=e[0]),void 0!==e[2]&&(a.charLimitError=e[2]),t=new tA({props:a}),Ch.push((()=>Qh(t,"manualSourceLang",r))),Ch.push((()=>Qh(t,"charLimitError",s))),{c(){ef(t.$$.fragment)},m(e,n){tf(t,e,n),i=!0},p(e,i){const r={};8&i&&(r.sourceLang=e[3]),!n&&1&i&&(n=!0,r.manualSourceLang=e[0],Mh((()=>n=!1))),!o&&4&i&&(o=!0,r.charLimitError=e[2],Mh((()=>o=!1))),t.$set(r)},i(e){i||(Wh(t.$$.fragment,e),i=!0)},o(e){Vh(t.$$.fragment,e),i=!1},d(e){nf(t,e)}}}function fA(e){let t,n,o,i,r;t=new sA({props:{registerTopIconCallbacks:e[5],clearTopIconCallbacks:e[6]}});let s=e[2]&&mA(e),a=e[4].isGSlidesEnabled&&!e[1]&&hA(e);return{c(){ef(t.$$.fragment),n=Jm(),s&&s.c(),o=Jm(),a&&a.c(),i=Xm()},m(e,l){tf(t,e,l),Gm(e,n,l),s&&s.m(e,l),Gm(e,o,l),a&&a.m(e,l),Gm(e,i,l),r=!0},p(e,[t]){e[2]?s?(s.p(e,t),4&t&&Wh(s,1)):(s=mA(e),s.c(),Wh(s,1),s.m(o.parentNode,o)):s&&(zh(),Vh(s,1,1,(()=>{s=null})),Gh()),e[4].isGSlidesEnabled&&!e[1]?a?(a.p(e,t),18&t&&Wh(a,1)):(a=hA(e),a.c(),Wh(a,1),a.m(i.parentNode,i)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh())},i(e){r||(Wh(t.$$.fragment,e),Wh(s),Wh(a),r=!0)},o(e){Vh(t.$$.fragment,e),Vh(s),Vh(a),r=!1},d(e){e&&(Wm(n),Wm(o),Wm(i)),nf(t,e),s&&s.d(e),a&&a.d(e)}}}function vA(e,t,n){let o,i;Sm(e,Pv,(e=>n(4,i=e)));var r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let s,a,l,c,d,u,p,g=!0;const m=e=>e.action===bc.uiActions.dlChangeActiveTabStatus&&(e.payload.isActive?h():f(),!1),h=()=>{s&&clearInterval(s),s=setInterval(v,800)},f=()=>{clearInterval(s)},v=()=>{a&&a(),l&&l(),d||_()},_=()=>r(void 0,void 0,void 0,(function*(){n(10,c=(yield Yg())||"EN-US")}));bh((()=>{h(),u=new MutationObserver((()=>{window.document.querySelector(".punch-full-screen-element")?n(1,g=!0):n(1,g=!1)})),u.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0}),gm((()=>u.disconnect())),chrome.runtime.onMessage.addListener(m)})),yh((()=>{s&&f(),chrome.runtime.onMessage.removeListener(m),u.disconnect()}));return e.$$.update=()=>{1025&e.$$.dirty&&n(3,o=d||c)},[d,g,p,o,i,e=>{a=e.repositionTopIcon},()=>{a=void 0},e=>{l=e.repositionActionIcon},()=>{l=void 0},undefined,c,()=>n(2,p=void 0),function(e){d=e,n(0,d)},function(e){p=e,n(2,p)}]}class _A extends rf{constructor(e){super(),of(this,e,vA,fA,Em,{onClose:9})}get onClose(){return this.$$.ctx[9]}}class wA{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new _A({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div");const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function bA(e){let t;return{c(){t=Km("p"),t.textContent=`${chrome.i18n.getMessage("ui_toaster_sorry_after_bad_feedback")}`,nh(t,"class","svelte-1f24nqv")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function yA(e){let t,n,o,i;return{c(){t=Km("p"),n=Km("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=Jm(),i=Km("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,nh(n,"class","svelte-1f24nqv"),nh(t,"class","svelte-1f24nqv"),nh(i,"class","svelte-1f24nqv")},m(e,r){Gm(e,t,r),Hm(t,n),Gm(e,o,r),Gm(e,i,r)},p:fm,d(e){e&&(Wm(t),Wm(o),Wm(i))}}}function EA(e){let t,n,o,i;return{c(){t=Km("p"),n=Km("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=Jm(),i=Km("p"),i.textContent=`${e[2].writeAReview.lineTwo}`,nh(n,"class","svelte-1f24nqv"),nh(t,"class","svelte-1f24nqv"),nh(i,"class","svelte-1f24nqv")},m(e,r){Gm(e,t,r),Hm(t,n),Gm(e,o,r),Gm(e,i,r)},p:fm,d(e){e&&(Wm(t),Wm(o),Wm(i))}}}function TA(e){let t,n,o,i,r,s,a,l;return{c(){t=Km("p"),t.textContent=`${e[2].howWasYourExperience.lineOne}`,n=Jm(),o=Km("p"),i=Km("strong"),i.textContent=`${e[2].howWasYourExperience.lineTwo}`,r=Jm(),s=Km("button"),s.textContent=`${chrome.i18n.getMessage("user_profiling_survey_popup_remind_later_button")}`,nh(t,"class","svelte-1f24nqv"),nh(i,"class","svelte-1f24nqv"),nh(o,"class","svelte-1f24nqv"),nh(s,"class","link-button svelte-1f24nqv")},m(c,d){Gm(c,t,d),Gm(c,n,d),Gm(c,o,d),Hm(o,i),Gm(c,r,d),Gm(c,s,d),a||(l=Qm(s,"click",e[6]),a=!0)},p:fm,d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(r),Wm(s)),a=!1,l()}}}function xA(e){let t,n,o,i;return{c(){t=Km("button"),n=Km("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,nh(t,"class","svelte-1f24nqv")},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",e[5]),o=!0)},p:fm,d(e){e&&Wm(t),o=!1,i()}}}function $A(e){let t,n,o,i,r,s,a,l,c,d,u;return{c(){t=Km("button"),n=Km("i"),o=Jm(),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,r=Jm(),s=Km("button"),a=Km("i"),l=Jm(),c=Km("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,nh(n,"class","icon-bad svelte-1f24nqv"),nh(t,"class","svelte-1f24nqv"),nh(a,"class","icon-good svelte-1f24nqv"),nh(s,"class","svelte-1f24nqv")},m(p,g){Gm(p,t,g),Hm(t,n),Hm(t,o),Hm(t,i),Gm(p,r,g),Gm(p,s,g),Hm(s,a),Hm(s,l),Hm(s,c),d||(u=[Qm(t,"click",e[3]),Qm(s,"click",e[4])],d=!0)},p:fm,d(e){e&&(Wm(t),Wm(r),Wm(s)),d=!1,bm(u)}}}function SA(e){let t,n,o,i,r,s,a,l,c,d,u,p,g;function m(e,t){return e[0]===nt.initial?TA:e[0]===nt.review?EA:e[0]===nt.feedback?yA:e[0]===nt.negative_feedback_end?bA:void 0}let h=m(e),f=h&&h(e),v=e[1]&&function(e){let t;function n(e,t){return e[0]===nt.initial?$A:e[0]===nt.review?xA:void 0}let o=n(e),i=o&&o(e);return{c(){t=Km("div"),i&&i.c(),nh(t,"class","buttons svelte-1f24nqv")},m(e,n){Gm(e,t,n),i&&i.m(t,null)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&Wm(t),i&&i.d()}}}(e);return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Jm(),r=Km("div"),s=Km("button"),a=Jm(),f&&f.c(),l=Jm(),v&&v.c(),nh(o,"class","logo svelte-1f24nqv"),nh(s,"class","close-icon svelte-1f24nqv"),nh(s,"aria-label",chrome.i18n.getMessage("close_icon_aria_text")),ch(s,"rtl","rtl"===Pa()),nh(r,"class","content svelte-1f24nqv"),nh(n,"class","body svelte-1f24nqv"),nh(t,"class","container svelte-1f24nqv"),nh(t,"dir",Pa())},m(c,d){Gm(c,t,d),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),Hm(r,s),Hm(r,a),f&&f.m(r,null),Hm(r,l),v&&v.m(r,null),u=!0,p||(g=Qm(s,"click",e[7]),p=!0)},p(e,[t]){h===(h=m(e))&&f?f.p(e,t):(f&&f.d(1),f=h&&h(e),f&&(f.c(),f.m(r,l))),e[1]&&v.p(e,t)},i(e){u||(Dh((()=>{u&&(d&&d.end(1),c=Zh(t,pf,{x:100,duration:1e3}),c.start())})),u=!0)},o(e){c&&c.invalidate(),d=Yh(t,pf,{x:100,duration:1e3}),u=!1},d(e){e&&Wm(t),f&&f.d(),v&&v.d(),e&&d&&d.end(),p=!1,g()}}}function CA(e,t,n){let o,i;Sm(e,qv,(e=>n(9,o=e))),Sm(e,Pv,(e=>n(10,i=e)));var r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let{onClose:s}=t,{reviewStage:a=nt.initial}=t;const l=[nt.initial,nt.review].includes(a);let c=(()=>{let e;if(Ep())e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_firefox",lineTwo:"ui_toaster_how_was_your_experience_line_2_firefox"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_firefox"}};else{if(bp().browser===hp.edge)e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_edge",lineTwo:"ui_toaster_how_was_your_experience_line_2_edge"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_edge"}};else e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1",lineTwo:"ui_toaster_how_was_your_experience_line_2"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2"}}}return{howWasYourExperience:{lineOne:chrome.i18n.getMessage(e.howWasYourExperience.lineOne),lineTwo:chrome.i18n.getMessage(e.howWasYourExperience.lineTwo)},writeAReview:{lineTwo:chrome.i18n.getMessage(e.writeAReview.lineTwo)}}})();return e.$$set=e=>{"onClose"in e&&n(8,s=e.onClose),"reviewStage"in e&&n(0,a=e.reviewStage)},[a,l,c,function(){Rn({action:Ln.dlTrackUILocationClicked,payload:Ce}),Bn(i,xt.TRANSLATOR)||Bn(i,xt.WRITE)||2===Ol(o,Al)?(Pv.set({shouldDisplayFeedbackPopup:!0}),Rn({action:On.dlOpenAllBrowserFeedbackSurvey}),s()):n(0,a=nt.negative_feedback_end)},function(){n(0,a=nt.review),Rn({action:Ln.dlTrackUILocationClicked,payload:Se})},function(){let e=ho;if(chrome.runtime.id===Ye)e=fo;else if(Ep())e=vo;else{if(bp().browser===hp.edge)e=fo;else e=ho}Rn({action:On.dlExternalURLRedirect,payload:{destination:e}}),Rn({action:Ln.dlTrackUILocationClicked,payload:Ae}),s()},function(){return r(this,void 0,void 0,(function*(){yield chrome.storage.sync.set({isReviewPopupShown:!1,reviewPopupRemindAt:Date.now()+6912e5}),Rn({action:Ln.dlTrackUILocationClicked,payload:Le}),s()}))},function(){if(a===nt.initial)Rn({action:Ln.dlTrackUILocationClicked,payload:ke});s()},s]}wA.HTML_TAG_NAME="deepl-gslides-controller",wA.createElement=(e=document)=>{const t=e.createElement(wA.HTML_TAG_NAME),n=new wA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class kA extends rf{constructor(e){super(),of(this,e,CA,SA,Em,{onClose:8,reviewStage:0})}}class LA{constructor(e){this.createDOM=({reviewStage:e})=>{const t="rtl"===Pa()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; bottom: 32px; ${t}: 32px; z-index: ${U.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new kA({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function AA(e){return e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type)}LA.HTML_TAG_NAME="deepl-ask-for-review-popup",LA.createElement=(e=document)=>{const t=e.createElement(LA.HTML_TAG_NAME),n=new LA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const IA=e=>e.selectionStart<e.selectionEnd,OA=(e,n,o)=>t(void 0,void 0,void 0,(function*(){if(!AA(e))return o||(e=>{UL("mousedown",e);const t=window.getSelection();null==t||t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),null==t||t.addRange(n),UL("mouseup",e)})(e),yield RL(e,n,!0);{const t=e;if(IA(t)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(t,{start:0,end:t.value.length}),!document.execCommand("insertText",!1,n.text)){const e=t.value.substring(0,t.selectionStart)+n.text+t.value.substring(t.selectionEnd);t.value=e}}}));function DA(e,t){var n;if(!t)return!1;const o=t.getBoundingClientRect();if(AA(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e);let o=!1;try{o=MA(n,t)}catch(e){}return n.remove(),o}(e,o);{const t=null===(n=bL(e))||void 0===n?void 0:n.getSelection(),i=function(e){return"IFRAME"===e.nodeName.toUpperCase()?e.getBoundingClientRect():{top:0,left:0}}(e);if(null==t?void 0:t.rangeCount)return MA(EL(e),o,i)}return!1}function MA(e,t,n={top:0,left:0}){var o;const i=null===(o=bL(e))||void 0===o?void 0:o.getSelection();for(const o of e.childNodes)if("#text"===o.nodeName.toLowerCase()){const e=null==i?void 0:i.getRangeAt(0).cloneRange();null==e||e.setStart(o,0),null==e||e.setEnd(o,o.textContent.length);const a=null==e?void 0:e.getClientRects();if(!(null==a?void 0:a.length))continue;for(const e of a){const o={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top};if(s=t,(r=o).left<=s.right&&r.right>=s.left&&r.top<=s.bottom&&r.bottom>=s.top)return!0}}else if(e.childNodes.length&&MA(o,t,n))return!0;var r,s;return!1}const RA=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"chatgpt.com"===e.hostname},NA=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&NA.forEach((e=>e.resize.disconnect()))};const{scope:PA}=hm();const UA=e=>"true"===e.contentEditable||"TEXTAREA"===e.nodeName&&(e.rows>1||RA());const qA=({inputArea:e})=>{const t=jA(e);return{position:"absolute",top:t.top,left:t.left,right:t.right,width:t.width,height:t.height,isLanguageToolsPresent:!!document.querySelector("lt-toolbar"),isGrammarlyPresent:!!document.querySelector("grammarly-extension"),isChatGPTPresent:RA()}},BA=({inputArea:e})=>{const t=[];if(e)for(let n=e.parentElement;null!==n;n=n.parentElement)FA(n)&&t.push(n);return t},FA=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)},HA=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},jA=e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=HA(n,e);if(i)n=i;else if(FA(t))return o}return n=HA(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o},zA=[];const GA=e=>t(void 0,void 0,void 0,(function*(){var t,n,o;const i=Ep(),r=e.ownerDocument;let s,a=null===(t=bL(e))||void 0===t?void 0:t.getSelection();s=i?"#text"==(null===(n=null==a?void 0:a.anchorNode)||void 0===n?void 0:n.nodeName)&&"Range"==a.type&&e.contains(a.anchorNode):"#text"==(null===(o=null==a?void 0:a.baseNode)||void 0===o?void 0:o.nodeName)&&"Range"==a.type&&(e.contains(a.baseNode)||function(e,t){return"IFRAME"===e.nodeName.toUpperCase()&&TL(e)===t.ownerDocument}(e,a.baseNode)),s||(e.focus(),yield SL(e)),a=bL(e).getSelection();const{domElements:l,strings:c,container:d}=function({thisDocument:e,selection:t}){let n;t.getRangeAt?n=t.getRangeAt(0):(n=e.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),i=document.createElement("div");i.appendChild(o),i.style.display="block",i.style.position="fixed",i.style.height="0px",i.style.width="0px",i.style.top="-500px",i.style.left="-500px",i.style.overflow="hidden",document.body.appendChild(i);const{domElements:r,strings:s}=lx(i);return{domElements:r,strings:s,container:i}}({thisDocument:r,selection:a});return{domElements:l,strings:c,container:d,isSubtextSelected:s}}));const WA=e=>{const{domElements:t,strings:n,cloneContainer:o}=function(e){const t=e.cloneNode(!0),n=document.createElement("div");n.appendChild(t),n.style.display="none",document.body.appendChild(n);const{domElements:o,strings:i}=lx(n);return{domElements:o,strings:i,cloneContainer:n}}(e);return{domElements:t,strings:n,cloneContainer:o}};function VA(e,n,o){return t(this,void 0,void 0,(function*(){!function(){var e;const t=window.getSelection();return(null==t?void 0:t.toString())===(null===(e=null==t?void 0:t.focusNode)||void 0===e?void 0:e.textContent)}()?yield OA(e,n,o):yield OL(e,n)}))}var KA=Object.freeze({__proto__:null,injectContent:(e,n,o)=>t(void 0,void 0,void 0,(function*(){yield VA(e,n,o)})),reassemble:(e,t)=>{var n,o,i;dx({strings:null===(n=t[0])||void 0===n?void 0:n.texts,domElements:e.domElements});const r=new Map;let s=0,a=0;for(const t of e.container.children)1===t.children.length&&"BR"===t.children[0].nodeName?a++:(r.set(s,a),s++);const l={text:(null===(o=t[0])||void 0===o?void 0:o.texts)?null===(i=t[0])||void 0===i?void 0:i.texts.map(((e,t)=>{var n;const o=null!==(n=r.get(t+1))&&void 0!==n?n:0;return e+"\n".repeat(o)})).join("\n"):"",html:e.container.innerHTML};return e.container.remove(),l},split:(e,n)=>t(void 0,void 0,void 0,(function*(){const t=yield GA(e);n&&(t.strings=t.domElements.map((e=>e.innerText)));const o=t.strings.map((e=>({text:e})));return{textConfig:t,requests:o}}))});var ZA=Object.freeze({__proto__:null,injectContent:(e,n,o)=>t(void 0,void 0,void 0,(function*(){yield VA(e,n,o)}))});function YA(e,n){return t(this,void 0,void 0,(function*(){var t;const{isWriteRequest:o,targetLang:i,nicheIntegration:r,sourceLang:s,isHtml:a,clearInnerHTML:l,removeFormatting:c}=Object.assign(Object.assign({},{isWriteRequest:!1,targetLang:null,nicheIntegration:null,sourceLang:null,isHtml:null,clearInnerHTML:null,removeFormatting:!1}),n);let d,u={},p=[];const g=!AA(e),m=(h=window.location.host).includes("web.whatsapp.com")?KA:h.includes("facebook.com")?ZA:void 0;var h;if(null==m?void 0:m.split){const t=yield m.split(e,c);u=t.textConfig,p=t.requests}else if(g)u=yield GA(e),c&&(u.strings=u.domElements.map((e=>e.innerText))),p=u.strings.map((e=>({text:e})));else{const t=e.value;IA(e)&&(u.isSubtextSelected=!0),d=u.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,p.push({text:d})}if(0===p.length)return;let f,v;if(s)f=s;else try{f=document.documentElement.lang}catch(e){}const _=FS(p.map((e=>e.text)));v=o?[yield Rn({action:xn.dlRequestImproveWriting,payload:Object.assign(Object.assign({requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:f,sourceLang:s},a&&{isHtml:!0}),{nicheIntegration:r})})]:yield Rn({action:Sn.dlRequestInputTranslation,payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:f,targetLang:i,platformBehavior:r}}),v=v.map((e=>Object.assign(Object.assign({},e),{text:HS(_.map,e.text),texts:e.texts.map((e=>HS(_.map,e)))})));let w={text:"",html:""};(null==m?void 0:m.reassemble)?w=m.reassemble(u,v):g?(dx({strings:null===(t=v[0])||void 0===t?void 0:t.texts,domElements:u.domElements}),w.text=u.container.innerText,w.html=Lg(u.container.innerHTML),u.container.remove()):(w.text=v[0].text,w.html=v[0].text),g&&!u.isSubtextSelected&&(e=>{const t=xL(e),n=yL(e);if(PL("keydown",e)){const o=new t.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(o)&&n.execCommand("delete",!1)}PL("keyup",e)})(e),l&&!u.isSubtextSelected&&(e.innerHTML=""),yield OA(e,w,u.isSubtextSelected)}))}function JA(e){let t;return{c(){t=Km("span"),nh(t,"class","svelte-13bnwfp")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function XA(e){let t,n,o,i,r,s,a;return n=new gb({props:{tooltip:e[9],showProShield:Bn(e[3],xt.WRITE),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[QA]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),i=Km("div"),nh(t,"class","dl-icon-circle dl-improve svelte-13bnwfp"),ch(t,"disabled",!e[8]),nh(i,"class","spacer svelte-13bnwfp")},m(l,c){Gm(l,t,c),tf(n,t,null),Gm(l,o,c),Gm(l,i,c),r=!0,s||(a=[Qm(t,"mousedown",th(eh(e[32]))),Qm(t,"mouseenter",e[36]),Qm(t,"click",e[37])],s=!0)},p(e,o){const i={};512&o[0]&&(i.tooltip=e[9]),8&o[0]&&(i.showProShield=Bn(e[3],xt.WRITE)),2&o[0]&&(i.parentIsRTL=e[1]),2097152&o[1]&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!r||256&o[0])&&ch(t,"disabled",!e[8])},i(e){r||(Wh(n.$$.fragment,e),r=!0)},o(e){Vh(n.$$.fragment,e),r=!1},d(e){e&&(Wm(t),Wm(o),Wm(i)),nf(n),s=!1,bm(a)}}}function QA(e){let t;return{c(){t=Km("span"),nh(t,"class","svelte-13bnwfp")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function eI(e){let t;return{c(){t=Km("span"),nh(t,"class","svelte-13bnwfp")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function tI(e){let t,n,o,i,r;return n=new gb({props:{showProShield:Bn(e[3],xt.TRANSLATOR),tooltip:e[7],parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[oI]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl-icon-circle dl-icon svelte-13bnwfp"),nh(t,"data-qa","input-translation-icon"),ch(t,"disabled",e[2])},m(s,a){Gm(s,t,a),tf(n,t,null),e[45](t),o=!0,i||(r=[Qm(t,"mousedown",th(eh(e[30]))),Qm(t,"click",e[43]),Qm(t,"mouseenter",e[44])],i=!0)},p(e,i){const r={};8&i[0]&&(r.showProShield=Bn(e[3],xt.TRANSLATOR)),128&i[0]&&(r.tooltip=e[7]),2&i[0]&&(r.parentIsRTL=e[1]),2097152&i[1]&&(r.$$scope={dirty:i,ctx:e}),n.$set(r),(!o||4&i[0])&&ch(t,"disabled",e[2])},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(o){o&&Wm(t),nf(n),e[45](null),i=!1,bm(r)}}}function nI(e){let t,n,o,i,r,s;return n=new gb({props:{showProShield:Bn(e[3],xt.TRANSLATOR),tooltip:e[7],parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[iI]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"style",o=e[12]?"display: none;":"border-radius: 0px 20px 20px 0px;"),nh(t,"class","dl-icon-circle svelte-13bnwfp"),nh(t,"data-qa","input-translation-icon"),ch(t,"disabled",e[2])},m(o,a){Gm(o,t,a),tf(n,t,null),e[42](t),i=!0,r||(s=[Qm(t,"mousedown",th(eh(e[29]))),Qm(t,"click",e[40]),Qm(t,"mouseenter",e[41])],r=!0)},p(e,r){const s={};8&r[0]&&(s.showProShield=Bn(e[3],xt.TRANSLATOR)),128&r[0]&&(s.tooltip=e[7]),2&r[0]&&(s.parentIsRTL=e[1]),4096&r[0]|2097152&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),(!i||4096&r[0]&&o!==(o=e[12]?"display: none;":"border-radius: 0px 20px 20px 0px;"))&&nh(t,"style",o),(!i||4&r[0])&&ch(t,"disabled",e[2])},i(e){i||(Wh(n.$$.fragment,e),i=!0)},o(e){Vh(n.$$.fragment,e),i=!1},d(o){o&&Wm(t),nf(n),e[42](null),r=!1,bm(s)}}}function oI(e){let t;return{c(){t=Km("span"),nh(t,"class","svelte-13bnwfp")},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function iI(e){let t,n;return t=new kb({props:{whiteLabelStyle:"border-radius: 50px; padding: 2px; "+(e[12]?"display: none;":"")}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4096&n[0]&&(o.whiteLabelStyle="border-radius: 50px; padding: 2px; "+(e[12]?"display: none;":"")),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function rI(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h;o=new gb({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[JA]},$$scope:{ctx:e}}});let f=!e[11]&&XA(e);a=new gb({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_select_target_lang"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[eI]},$$scope:{ctx:e}}});const v=[nI,tI],_=[];function w(e,t){return e[3]?.isLoggedIn&&e[3]?.whiteLabelLogoId&&e[10]?0:1}return c=w(e),d=_[c]=v[c](e),{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),f&&f.c(),r=Jm(),s=Km("div"),ef(a.$$.fragment),l=Jm(),d.c(),u=Jm(),p=Km("div"),nh(n,"class","dl-icon-circle dl-on-off svelte-13bnwfp"),nh(s,"class","dl-icon-circle dl-settings svelte-13bnwfp"),ch(s,"disabled",e[2]),nh(p,"class","dl-icon-circle dl-loading svelte-13bnwfp"),nh(t,"class","dl-input-icon svelte-13bnwfp"),ch(t,"is-input-translation-disabled",e[12]),ch(t,"is-loading",e[6]),ch(t,"is-minimized",e[5]),ch(t,"is-write-hidden",e[11])},m(d,v){Gm(d,t,v),Hm(t,n),tf(o,n,null),Hm(t,i),f&&f.m(t,null),Hm(t,r),Hm(t,s),tf(a,s,null),Hm(t,l),_[c].m(t,null),Hm(t,u),Hm(t,p),g=!0,m||(h=[Qm(n,"mousedown",th(eh(e[33]))),Qm(n,"mouseenter",e[34]),Qm(n,"click",e[35]),Qm(s,"mousedown",th(eh(e[31]))),Qm(s,"mouseenter",e[38]),Qm(s,"click",e[39])],m=!0)},p(e,n){const i={};2&n[0]&&(i.parentIsRTL=e[1]),2097152&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i),e[11]?f&&(zh(),Vh(f,1,1,(()=>{f=null})),Gh()):f?(f.p(e,n),2048&n[0]&&Wh(f,1)):(f=XA(e),f.c(),Wh(f,1),f.m(t,r));const l={};2&n[0]&&(l.parentIsRTL=e[1]),2097152&n[1]&&(l.$$scope={dirty:n,ctx:e}),a.$set(l),(!g||4&n[0])&&ch(s,"disabled",e[2]);let p=c;c=w(e),c===p?_[c].p(e,n):(zh(),Vh(_[p],1,1,(()=>{_[p]=null})),Gh(),d=_[c],d?d.p(e,n):(d=_[c]=v[c](e),d.c()),Wh(d,1),d.m(t,u)),(!g||4096&n[0])&&ch(t,"is-input-translation-disabled",e[12]),(!g||64&n[0])&&ch(t,"is-loading",e[6]),(!g||32&n[0])&&ch(t,"is-minimized",e[5]),(!g||2048&n[0])&&ch(t,"is-write-hidden",e[11])},i(e){g||(Wh(o.$$.fragment,e),Wh(f),Wh(a.$$.fragment,e),Wh(d),g=!0)},o(e){Vh(o.$$.fragment,e),Vh(f),Vh(a.$$.fragment,e),Vh(d),g=!1},d(e){e&&Wm(t),nf(o),f&&f.d(),nf(a),_[c].d(),m=!1,bm(h)}}}function sI(e,t,n){let o,i,r,s;var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const l=Xw();Sm(e,l,(e=>n(3,s=e)));let c,d,u,{inputArea:p}=t,{lockActiveElement:g}=t,{openSettings:m}=t,{closeSettings:h}=t,{hideOnboardingHighlighter:f}=t,{registerIconCallbacks:v}=t,{unregisterIconCallbacks:_}=t,{getActiveElement:w}=t,{setErrorMessage:b}=t,{isInputAreaRTL:y}=t,{useIconForShortcutOnly:T=!1}=t,x=!1,$=!1,S="",C={},k=chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported"),L=!1;const A=()=>{I()},I=()=>{n(5,x=DA(p,c))};function O(e){return a(this,void 0,void 0,(function*(){l.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),M({languageSelectionTrigger:!0})}))}const D=e=>{const t=w();switch(e.action){case bc.translate.dlTriggerTranslationShortcut:if(b(void 0),t!==p)return!1;try{Rn({action:Ln.dlTrackUseOfShortcut,payload:{shortcutType:De,location:ee}})}catch(e){}return i||(s&&s.targetLanguageUserInput?(n(6,$=!0),YA(p).catch((e=>{b(e)})).finally((()=>{n(6,$=!1)}))):m({fromShortcut:!0})),!1;case bc.uiActions.dlChangeLanguageShortcut:if(t!==p)return!1;if(i)return!1;n(6,$=!0);try{m({fromShortcut:!0})}catch(e){b(e)}return n(6,$=!1),!1}return!1};function M(e){return a(this,void 0,void 0,(function*(){if(b(void 0),f(),s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput||(null==e?void 0:e.isWriteRequest)||(null==e?void 0:e.languageSelectionTrigger)){h(),n(6,$=!0);try{yield YA(p,e),d||Nn(q)}catch(e){b(e)}n(6,$=!1)}else m()}))}function R(e){Rn({action:Ln.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host}})}const N=()=>{g(),s.targetLanguageUserInput?M():m(),Rn({action:Ln.dlTrackUILocationClicked,payload:ee})};function P(){return a(this,void 0,void 0,(function*(){let e;e=AA(p)?p.value:p.innerText,n(28,C=yield La(e,!0)),C.isReliable;try{e&&function(e){try{return e.replace(/[^\p{L}]/gu,"").length}catch(t){return e.replace(/[^a-zA-Z]/g,"").length}}(e)>0&&Rn({action:Ln.dlTrackLanguageDetectionForTextProcessing,payload:{lang:C.langCode,isReliable:C.isReliable,trigger:E,textLength:e.length,domainName:window.location.hostname}})}catch(e){}}))}bh((()=>{chrome.runtime.onMessage.addListener(D),v({processRefreshCycle:A,languageChanged:O,triggerTranslation:M}),Fl().then((e=>{n(10,L=e)}))})),yh((()=>{chrome.runtime.onMessage.removeListener(D),_()}));return e.$$set=e=>{"inputArea"in e&&n(18,p=e.inputArea),"lockActiveElement"in e&&n(19,g=e.lockActiveElement),"openSettings"in e&&n(0,m=e.openSettings),"closeSettings"in e&&n(20,h=e.closeSettings),"hideOnboardingHighlighter"in e&&n(21,f=e.hideOnboardingHighlighter),"registerIconCallbacks"in e&&n(22,v=e.registerIconCallbacks),"unregisterIconCallbacks"in e&&n(23,_=e.unregisterIconCallbacks),"getActiveElement"in e&&n(24,w=e.getActiveElement),"setErrorMessage"in e&&n(25,b=e.setErrorMessage),"isInputAreaRTL"in e&&n(1,y=e.isInputAreaRTL),"useIconForShortcutOnly"in e&&n(26,T=e.useIconForShortcutOnly)},e.$$.update=()=>{if(268435464&e.$$.dirty[0]&&(Hn(s,xt.WRITE)?n(9,k=chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin")):C.langCode&&Ra(C.langCode)?n(9,k=chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")):n(9,k=chrome.i18n.getMessage("write_language_not_supported")),n(8,u=!C.langCode||Ra(C.langCode)&&!Hn(s,xt.WRITE))),8&e.$$.dirty[0]&&n(2,i=Hn(s,xt.TRANSLATOR)),12&e.$$.dirty[0])if(i)n(7,S=chrome.i18n.getMessage("contact_admin_info_translate_disabled"));else if(s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput){let e;Rn({action:$n.dlCheckCommandShortcuts}).then((t=>{e=t?t.filter((e=>e.name==De))[0].shortcut:"",e?(e=`(${e})`,d=!0):d=!1,n(7,S=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else n(7,S=chrome.i18n.getMessage("input_translation_tooltip_translate_text"));67108872&e.$$.dirty[0]&&n(12,o=T||!s.enableInputTranslation||hy(window.location.host,window.location.href)||s.blacklistDomainsForWriting.includes(window.location.host)||s.isGmailEnabled&&um()),8&e.$$.dirty[0]&&n(11,r=s.hideWrite)},[m,y,i,s,c,x,$,S,u,k,L,r,o,l,M,R,N,P,p,g,h,f,v,_,w,b,T,O,C,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},()=>R(ne),()=>m({page:DT}),()=>{R(te)},()=>{u&&M({isWriteRequest:!0})},()=>R(ne),()=>{!i&&m({page:OT})},()=>i?null:N(),()=>{P(),R(ee)},function(e){Ch[e?"unshift":"push"]((()=>{c=e,n(4,c)}))},()=>i?null:N(),()=>{P(),R(ee)},function(e){Ch[e?"unshift":"push"]((()=>{c=e,n(4,c)}))}]}class aI extends rf{constructor(e){super(),of(this,e,sI,rI,Em,{inputArea:18,lockActiveElement:19,openSettings:0,closeSettings:20,hideOnboardingHighlighter:21,registerIconCallbacks:22,unregisterIconCallbacks:23,getActiveElement:24,setErrorMessage:25,isInputAreaRTL:1,useIconForShortcutOnly:26,onLanguageChanged:27},null,[-1,-1])}get onLanguageChanged(){return this.$$.ctx[27]}}function lI(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f;return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Km("div"),r=Km("div"),r.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,s=Jm(),a=Km("div"),a.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,l=Jm(),c=Km("button"),nh(r,"class","headline svelte-1vokldc"),nh(i,"class","text-wrapper svelte-1vokldc"),nh(o,"class","content svelte-1vokldc"),nh(c,"class","close-icon svelte-1vokldc"),nh(n,"class",d=Om(`body body__${e[0]}`)+" svelte-1vokldc"),nh(t,"class",u="container container__"+e[0]+" svelte-1vokldc")},m(d,u){Gm(d,t,u),Hm(t,n),Hm(n,o),Hm(o,i),Hm(i,r),Hm(i,s),Hm(i,a),Hm(n,l),Hm(n,c),e[12](t),m=!0,h||(f=Qm(c,"click",e[11]),h=!0)},p(e,o){(!m||1&o&&d!==(d=Om(`body body__${e[0]}`)+" svelte-1vokldc"))&&nh(n,"class",d),(!m||1&o&&u!==(u="container container__"+e[0]+" svelte-1vokldc"))&&nh(t,"class",u)},i(e){m||(Dh((()=>{m&&(g&&g.end(1),p=Zh(t,pf,{x:100,duration:1e3}),p.start())})),m=!0)},o(e){p&&p.invalidate(),g=Yh(t,pf,{x:100,duration:1e3}),m=!1},d(n){n&&Wm(t),e[12](null),n&&g&&g.end(),h=!1,f()}}}function cI(e){let t,n,o=e[1]&&lI(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[1]?o?(o.p(e,n),2&n&&Wh(o,1)):(o=lI(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function dI(t,n,o){let i,r,{onClose:s}=n,{icon:a}=n,{position:l="top"}=n,{registerHighlighterCallbacks:c}=n,{unregisterHighlighterCallbacks:d}=n,u={top:0,bottom:0,left:0,right:0},p={height:0,width:0},g=190,m=305;const h=()=>{if(a){const e=a.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==u[n]&&(t[n]=e[n]);Object.keys(t).length&&o(7,u=Object.assign(Object.assign({},u),t));let n={};window.innerHeight!==p.height&&(n.height=window.innerHeight),window.innerWidth!==p.width&&(n.width=window.innerWidth),Object.keys(n).length&&o(8,p=Object.assign(Object.assign({},p),n))}else o(7,u={top:0,bottom:0,left:0,right:0})};function f(e=st){s();try{Rn({action:Ln.dlTrackCloseInputHighlighter,payload:{trigger:e}})}catch(e){}}bh((()=>{try{c({recalculateHighlighterCoords:h});try{Rn({action:Ln.dlTrackOpenInputHighlighter,payload:{domainName:e.websiteData.hostname}}),h()}catch(e){}r=N_(i,(({clientHeight:e,clientWidth:t})=>{o(9,g=e),o(10,m=t)}))}catch(e){Ga()}})),yh((()=>{d(),r&&r()}));return t.$$set=e=>{"onClose"in e&&o(4,s=e.onClose),"icon"in e&&o(1,a=e.icon),"position"in e&&o(0,l=e.position),"registerHighlighterCallbacks"in e&&o(5,c=e.registerHighlighterCallbacks),"unregisterHighlighterCallbacks"in e&&o(6,d=e.unregisterHighlighterCallbacks)},t.$$.update=()=>{1920&t.$$.dirty&&o(0,l=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!a)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:u,viewportSize:p,highlighterHeight:g,highlighterWidth:m}))},[l,a,i,f,s,c,d,u,p,g,m,()=>f(),function(e){Ch[e?"unshift":"push"]((()=>{i=e,o(2,i)}))}]}class uI extends rf{constructor(e){super(),of(this,e,dI,cI,Em,{onClose:4,icon:1,position:0,registerHighlighterCallbacks:5,unregisterHighlighterCallbacks:6})}}function pI(e){let t,n,o,i,r,s;return n=new E_({props:{error:e[1],config:{small:!0},close:e[2]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class",o="error-container error-container__"+e[0]+" svelte-16e3fjt")},m(o,a){Gm(o,t,a),tf(n,t,null),e[12](t),i=!0,r||(s=[Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[13])],r=!0)},p(e,[r]){const s={};2&r&&(s.error=e[1]),4&r&&(s.close=e[2]),n.$set(s),(!i||1&r&&o!==(o="error-container error-container__"+e[0]+" svelte-16e3fjt"))&&nh(t,"class",o)},i(e){i||(Wh(n.$$.fragment,e),i=!0)},o(e){Vh(n.$$.fragment,e),i=!1},d(o){o&&Wm(t),nf(n),e[12](null),r=!1,bm(s)}}}function gI(e,t,n){let o,i,{errorMessage:r}=t,{icon:s}=t,{position:a="top"}=t,{registerErrorCallbacks:l}=t,{unregisterErrorCallbacks:c}=t,{close:d}=t,u=140,p=387,g={top:0,bottom:0,left:0,right:0},m={height:0,width:0};const h=()=>{if(s){const e=s.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==g[n]&&(t[n]=e[n]);Object.keys(t).length&&n(10,g=Object.assign(Object.assign({},g),t));let o={};window.innerHeight!==m.height&&(o.height=window.innerHeight),window.innerWidth!==m.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(11,m=Object.assign(Object.assign({},m),o))}else n(10,g={top:0,bottom:0,left:0,right:0})};bh((()=>{h(),null==l||l({recalculateErrorCoords:h}),i=N_(o,(({clientHeight:e,clientWidth:t})=>{n(8,u=e),n(9,p=t)}))})),yh((()=>{null==c||c(),i&&i()}));return e.$$set=e=>{"errorMessage"in e&&n(1,r=e.errorMessage),"icon"in e&&n(4,s=e.icon),"position"in e&&n(0,a=e.position),"registerErrorCallbacks"in e&&n(5,l=e.registerErrorCallbacks),"unregisterErrorCallbacks"in e&&n(6,c=e.unregisterErrorCallbacks),"close"in e&&n(2,d=e.close)},e.$$.update=()=>{3840&e.$$.dirty&&n(0,a=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!s)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:g,viewportSize:m,highlighterHeight:u,highlighterWidth:p}))},[a,r,d,o,s,l,c,h,u,p,g,m,function(e){Ch[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},()=>d()]}class mI extends rf{constructor(e){super(),of(this,e,gI,pI,Em,{errorMessage:1,icon:4,position:0,registerErrorCallbacks:5,unregisterErrorCallbacks:6,close:2,recalculateErrorCoords:7})}get recalculateErrorCoords(){return this.$$.ctx[7]}}function hI(e){let t,n,o;return{c(){t=Km("div")},m(i,r){Gm(i,t,r),n||(o=[Qm(t,"click_outside",e[17]),Mm(pm.call(null,t,{isShadow:!0}))],n=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),n=!1,bm(o)}}}function fI(e){let t,n,o,i,r,s,a,l,c,d,u,p,g;o=new aI({props:{inputArea:e[2],lockActiveElement:e[18],openSettings:e[21],closeSettings:e[22],hideOnboardingHighlighter:e[19],registerIconCallbacks:e[23],unregisterIconCallbacks:e[24],getActiveElement:e[20],isInputAreaRTL:e[10],setErrorMessage:e[31],useIconForShortcutOnly:e[0]}});let m=e[4]&&vI(e),h=e[5]&&_I(e),f=e[8]&&wI(e);return{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),m&&m.c(),r=Jm(),h&&h.c(),s=Jm(),f&&f.c(),nh(n,"class","dl-input-placeholder svelte-d7i1bp"),ch(n,"disabled",e[13]),ch(n,"reduced-space",!e[14]),ch(n,"other-extension-present",e[12]),ch(n,"chat-gpt-present",e[1].isChatGPTPresent),nh(t,"class","dl-input-positioner svelte-d7i1bp"),nh(t,"dir",c=e[10]?"rtl":"ltr"),nh(t,"style",d=[`top: ${e[1].top}px;`,`left: ${e[1].left}px;`,`height: ${e[1].height}px;`,`width: ${e[1].width}px;`,`position: ${e[1].position};`].join(" ")),ch(t,"debug-mode",yI)},m(a,l){Gm(a,t,l),Hm(t,n),tf(o,n,null),Hm(n,i),m&&m.m(n,null),Hm(n,r),h&&h.m(n,null),Hm(n,s),f&&f.m(n,null),e[40](n),u=!0,p||(g=[Mm(pm.call(null,n,{isShadow:!0})),Qm(n,"click_outside",e[39]),Qm(n,"click",e[18])],p=!0)},p(e,i){const a={};4&i[0]&&(a.inputArea=e[2]),1024&i[0]&&(a.isInputAreaRTL=e[10]),1&i[0]&&(a.useIconForShortcutOnly=e[0]),o.$set(a),e[4]?m?(m.p(e,i),16&i[0]&&Wh(m,1)):(m=vI(e),m.c(),Wh(m,1),m.m(n,r)):m&&(zh(),Vh(m,1,1,(()=>{m=null})),Gh()),e[5]?h?(h.p(e,i),32&i[0]&&Wh(h,1)):(h=_I(e),h.c(),Wh(h,1),h.m(n,s)):h&&(zh(),Vh(h,1,1,(()=>{h=null})),Gh()),e[8]?f?(f.p(e,i),256&i[0]&&Wh(f,1)):(f=wI(e),f.c(),Wh(f,1),f.m(n,null)):f&&(zh(),Vh(f,1,1,(()=>{f=null})),Gh()),(!u||8192&i[0])&&ch(n,"disabled",e[13]),(!u||16384&i[0])&&ch(n,"reduced-space",!e[14]),(!u||4096&i[0])&&ch(n,"other-extension-present",e[12]),(!u||2&i[0])&&ch(n,"chat-gpt-present",e[1].isChatGPTPresent),(!u||1024&i[0]&&c!==(c=e[10]?"rtl":"ltr"))&&nh(t,"dir",c),(!u||2&i[0]&&d!==(d=[`top: ${e[1].top}px;`,`left: ${e[1].left}px;`,`height: ${e[1].height}px;`,`width: ${e[1].width}px;`,`position: ${e[1].position};`].join(" ")))&&nh(t,"style",d)},i(e){u||(Wh(o.$$.fragment,e),Wh(m),Wh(h),Wh(f),Dh((()=>{u&&(l&&l.end(1),a=Zh(n,uf,{duration:100}),a.start())})),u=!0)},o(e){Vh(o.$$.fragment,e),Vh(m),Vh(h),Vh(f),a&&a.invalidate(),l=Yh(n,uf,{duration:150}),u=!1},d(n){n&&Wm(t),nf(o),m&&m.d(),h&&h.d(),f&&f.d(),e[40](null),n&&l&&l.end(),p=!1,bm(g)}}}function vI(e){let t,n,o,i;return n=new uI({props:{onClose:e[19],position:"top",registerHighlighterCallbacks:e[29],unregisterHighlighterCallbacks:e[30],icon:e[3]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl-onboarding-highlighter svelte-d7i1bp"),nh(t,"dir",o=e[10]?"rtl":"ltr")},m(e,o){Gm(e,t,o),tf(n,t,null),i=!0},p(e,r){const s={};8&r[0]&&(s.icon=e[3]),n.$set(s),(!i||1024&r[0]&&o!==(o=e[10]?"rtl":"ltr"))&&nh(t,"dir",o)},i(e){i||(Wh(n.$$.fragment,e),i=!0)},o(e){Vh(n.$$.fragment,e),i=!1},d(e){e&&Wm(t),nf(n)}}}function _I(e){let t,n;return t=new BT({props:{icon:e[3],startPage:e[6],fromShortcut:e[7],position:"top",registerSettingsCallbacks:e[25],unregisterSettingsCallbacks:e[26],closeSettings:e[22]}}),t.$on("languageChanged",e[37]),t.$on("close",e[22]),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};8&n[0]&&(o.icon=e[3]),64&n[0]&&(o.startPage=e[6]),128&n[0]&&(o.fromShortcut=e[7]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function wI(e){let t,n;return t=new mI({props:{errorMessage:e[8],icon:e[3],position:"top",registerErrorCallbacks:e[27],unregisterErrorCallbacks:e[28],close:e[38]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.errorMessage=e[8]),8&n[0]&&(o.icon=e[3]),256&n[0]&&(o.close=e[38]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function bI(e){let t,n,o,i;const r=[fI,hI],s=[];function a(e,t){return e[11]&&e[1]&&e[15]?0:1}return t=a(e),n=s[t]=r[t](e),{c(){n.c(),o=Xm()},m(e,n){s[t].m(e,n),Gm(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh(),n=s[t],n?n.p(e,i):(n=s[t]=r[t](e),n.c()),Wh(n,1),n.m(o.parentNode,o))},i(e){i||(Wh(n),i=!0)},o(e){Vh(n),i=!1},d(e){e&&Wm(o),s[t].d(e)}}}const yI=!1;function EI(t,n,o){let i,r,s,a,l;var c,d=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const u=Xw();Sm(t,u,(e=>o(36,l=e)));const p=20,g=40;let m,h,f,v,_,w,b,y,E,T,x=!1,$=!1,S=!1,C=!1,k=!1,{trackInputInjectionIfNecessary:L}=n,{registerPositionerCallbacks:A}=n,{unregisterPositionerCallbacks:I}=n,{useIconForShortcutOnly:O=!1}=n,D=!1,M=[],R={top:0,left:0,height:0,width:0,position:"absolute",isLanguageToolsPresent:!1,isGrammarlyPresent:!1,isChatGPTPresent:RA()},N=!1;const P=()=>{o(2,m=document.activeElement);const e=function(e){const t=zA.find((({domain:t})=>{const n=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");return new RegExp(n).test(e)}));return t||null}(window.location.href);if((null==e?void 0:e.uniqueDataAttributes)&&e.uniqueDataAttributes.length>0)for(let t of e.uniqueDataAttributes)if((null==m?void 0:m.dataset[t.key])===t.value)return;if((null==e?void 0:e.selectors)&&e.selectors.length>0)for(let t of e.selectors){const e=document.querySelector(t),n=hx(e),o=hx(m),i=n.toString()===o.toString();if(e===m||e.isSameNode(m)||i)return}M=BA({inputArea:m}),W(),L(),q()},U=()=>{x=!1},q=()=>d(void 0,void 0,void 0,(function*(){if(!s&&!l.isInputHighlighterShown&&!um()){if(yield Hl())return void Dm(u,l.isInputHighlighterShown=!0,l);Dm(u,l.isInputHighlighterShown=!0,l),o(4,$=!0);try{Rn({action:Ln.dlTrackOpenInputHighlighter,payload:{domainName:e.websiteData.hostname}})}catch(e){}}})),B=()=>{o(4,$=!1)},F=()=>{j(),N&&(o(10,D=Ua(m)),z(),T&&T(),$&&w&&w(),S&&b&&b(),y&&y())},H=(e=document.activeElement)=>{const t=null==e?void 0:e.contentDocument;return t&&t.activeElement?H(t.activeElement):e},j=()=>{const e=H(),t=!x&&e!==m,n=e&&UA(e),i=m&&!m.isConnected;!t||n||k?(k=!1,(t||i)&&(B(),o(8,v=void 0),V(),M=[],o(2,m=void 0)),n&&P()):k=!0},z=()=>{m&&o(1,R=qA({inputArea:m}))},G=()=>{z()},W=()=>{o(11,N=!0),z();for(const e of M)e.addEventListener("scroll",G);window.addEventListener("scroll",G)},V=()=>{o(11,N=!1);for(const e of M)e.removeEventListener("scroll",G);window.removeEventListener("scroll",G),Y()},K=()=>{_&&_()},Z=({page:e,fromShortcut:t=!1}={})=>{o(6,f=e),o(7,C=t),S||(o(5,S=!0),Rn({action:Ln.dlTrackInlineSettingOpened,payload:{uiFunction:Be,uiLocation:ee}}))},Y=()=>{S&&o(5,S=!1)};bh((()=>{M=BA({inputArea:m}),A({processRefreshCycle:F,triggerTranslation:K,openSettings:Z})})),yh((()=>{for(const e of M)e.removeEventListener("scroll",G);I()}));return t.$$set=e=>{"trackInputInjectionIfNecessary"in e&&o(32,L=e.trackInputInjectionIfNecessary),"registerPositionerCallbacks"in e&&o(33,A=e.registerPositionerCallbacks),"unregisterPositionerCallbacks"in e&&o(34,I=e.unregisterPositionerCallbacks),"useIconForShortcutOnly"in e&&o(0,O=e.useIconForShortcutOnly)},t.$$.update=()=>{2&t.$$.dirty[0]&&o(15,i=R.height>=p),2&t.$$.dirty[0]&&o(14,r=R.height>=g),1&t.$$.dirty[0]|48&t.$$.dirty[1]&&o(13,s=O||!l.enableInputTranslation||hy(window.location.host,window.location.href)||(null!==o(35,c=l.blacklistDomainsForWriting)&&void 0!==c?c:[]).includes(window.location.host)||l.isGmailEnabled&&um()),2&t.$$.dirty[0]&&o(12,a=R.isLanguageToolsPresent||R.isGrammarlyPresent)},[O,R,m,h,$,S,f,C,v,E,D,N,a,s,r,i,u,U,()=>{x=!0},B,H,Z,Y,({processRefreshCycle:e,languageChanged:t,triggerTranslation:n})=>{T=e,o(9,E=t),_=n},()=>{T=void 0,o(9,E=void 0),_=void 0},({recalculateSettingsCoords:e})=>{b=e},()=>{b=void 0},({recalculateErrorCoords:e})=>{y=e},()=>{y=void 0},({recalculateHighlighterCoords:e})=>{w=e},()=>{w=void 0},e=>{o(8,v=e)},L,A,I,c,l,e=>E&&E(e.detail.lang),()=>{o(8,v=void 0)},()=>{U(),Y()},function(e){Ch[e?"unshift":"push"]((()=>{h=e,o(3,h)}))}]}class TI extends rf{constructor(e){super(),of(this,e,EI,bI,Em,{trackInputInjectionIfNecessary:32,registerPositionerCallbacks:33,unregisterPositionerCallbacks:34,useIconForShortcutOnly:0},null,[-1,-1])}}function xI(e){let t,n,o;return n=new TI({props:{trackInputInjectionIfNecessary:e[1],registerPositionerCallbacks:e[2],unregisterPositionerCallbacks:e[3],useIconForShortcutOnly:e[0]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl-input-translation-container svelte-95aucy")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.useIconForShortcutOnly=e[0]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function $I(e,t,n){Th("deepl_settings",Pv),Th("deepl_website_settings",L_),Th("text_direction",Pa());let o,i,r,s,{useIconForShortcutOnly:a=!1}=t,l=!0,c=!1;const d=()=>{o&&o()},u=e=>e.action===bc.uiActions.dlChangeActiveTabStatus&&(n(8,l=e.payload.isActive),!1),p=()=>{s&&clearInterval(s),s=setInterval(d,300)},g=()=>{clearInterval(s)};return bh((()=>{p(),chrome.runtime.onMessage.addListener(u)})),yh((()=>{s&&g(),chrome.runtime.onMessage.removeListener(u)})),e.$$set=e=>{"useIconForShortcutOnly"in e&&n(0,a=e.useIconForShortcutOnly)},e.$$.update=()=>{256&e.$$.dirty&&(l?p():g())},[a,()=>{c||(c=!0,Rn({action:Ln.dlTrackInputTranslationInjection,payload:window.location.host}))},({processRefreshCycle:e,triggerTranslation:t,openSettings:n})=>{o=e,i=t,r=n},()=>{o=void 0,i=void 0,r=void 0},undefined,undefined,()=>{i&&i()},()=>{r&&r({fromShortcut:!1})},l]}class SI extends rf{constructor(e){super(),of(this,e,$I,xI,Em,{onClose:4,controller:5,useIconForShortcutOnly:0,triggerTranslation:6,openSettingsFromShortcut:7})}get onClose(){return this.$$.ctx[4]}get controller(){return this.$$.ctx[5]}get triggerTranslation(){return this.$$.ctx[6]}get openSettingsFromShortcut(){return this.$$.ctx[7]}}class CI{constructor(e){this.createDOM=({useIconForShortcutOnly:e})=>{this.domElement.mainComponent=new SI({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this.domElement,useIconForShortcutOnly:e}})},this.triggerTranslation=()=>{this.domElement.mainComponent.triggerTranslation()},this.openSettingsFromShortcut=()=>{this.domElement.mainComponent.openSettingsFromShortcut()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.shadowContainer.dir="ltr",this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css"));this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}cleanupDOM(){var e;null===(e=this.domElement.shadowContainer)||void 0===e||e.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function kI(e){let t,n;return t=new gT({props:{headsupText:chrome.i18n.getMessage("review_advanced_mode_onboarding_title"),informationText:chrome.i18n.getMessage("review_advanced_mode_onboarding_text"),position:e[0],onClose:e[1]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.position=e[0]),2&n&&(o.onClose=e[1]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function LI(e,t,n){let{position:o}=t,{onClose:i=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"onClose"in e&&n(1,i=e.onClose)},[o,i]}CI.HTML_TAG_NAME="deepl-input-controller",CI.createElement=(e=document)=>{const t=e.createElement(CI.HTML_TAG_NAME),n=new CI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerTranslation=n.triggerTranslation,t.openSettingsFromShortcut=n.openSettingsFromShortcut,t};class AI extends rf{constructor(e){super(),of(this,e,LI,kI,Em,{position:0,onClose:1})}}function II(e){let t,n,o,i;n=new gb({props:{tooltip:!!e[9]&&chrome.i18n.getMessage("contact_admin_info_translate_disabled"),dataTestId:"translate-service-disabled-tooltip",zIndex:`var(--tab-z-index, ${U.deepl_inline_ui.z_index})`,$$slots:{default:[RI]},$$scope:{ctx:e}}});let r=e[4]&&!e[7].hideWrite&&NI(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),r&&r.c(),nh(t,"class","tabs-container svelte-oky0t7")},m(e,s){Gm(e,t,s),tf(n,t,null),Hm(t,o),r&&r.m(t,null),i=!0},p(e,o){const i={};512&o&&(i.tooltip=!!e[9]&&chrome.i18n.getMessage("contact_admin_info_translate_disabled")),16777859&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),e[4]&&!e[7].hideWrite?r?(r.p(e,o),144&o&&Wh(r,1)):(r=NI(e),r.c(),Wh(r,1),r.m(t,null)):r&&(zh(),Vh(r,1,1,(()=>{r=null})),Gh())},i(e){i||(Wh(n.$$.fragment,e),Wh(r),i=!0)},o(e){Vh(n.$$.fragment,e),Vh(r),i=!1},d(e){e&&Wm(t),nf(n),r&&r.d()}}}function OI(e){let t;return{c(){t=Km("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function DI(e){let t,n,o=e[7].customTranslatorName+"";return{c(){t=Km("span"),n=Ym(o)},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){128&t&&o!==(o=e[7].customTranslatorName+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function MI(e){let t,n;return t=new wb({props:{size:24,translator:!0,dataTestId:"translate-pro-shield"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function RI(e){let t,n,o,i,r,s,a,l,c=Bn(e[7],xt.TRANSLATOR);function d(e,t){return e[7]?.customTranslatorName?DI:OI}let u=d(e),p=u(e),g=c&&MI();return{c(){t=Km("button"),n=Km("div"),o=Jm(),p.c(),i=Jm(),g&&g.c(),nh(n,"class","dl-translate-icon icon-size svelte-oky0t7"),t.disabled=e[9],nh(t,"class",r=Om("tab "+(e[0]===dt.translate?"active":""))+" svelte-oky0t7")},m(r,c){Gm(r,t,c),Hm(t,n),Hm(t,o),p.m(t,null),Hm(t,i),g&&g.m(t,null),s=!0,a||(l=Qm(t,"click",e[17]),a=!0)},p(e,n){u===(u=d(e))&&p?p.p(e,n):(p.d(1),p=u(e),p&&(p.c(),p.m(t,i))),128&n&&(c=Bn(e[7],xt.TRANSLATOR)),c?g?128&n&&Wh(g,1):(g=MI(),g.c(),Wh(g,1),g.m(t,null)):g&&(zh(),Vh(g,1,1,(()=>{g=null})),Gh()),(!s||512&n)&&(t.disabled=e[9]),(!s||1&n&&r!==(r=Om("tab "+(e[0]===dt.translate?"active":""))+" svelte-oky0t7"))&&nh(t,"class",r)},i(e){s||(Wh(g),s=!0)},o(e){Vh(g),s=!1},d(e){e&&Wm(t),p.d(),g&&g.d(),a=!1,l()}}}function NI(e){let t,n;return t=new gb({props:{tooltip:!!e[8]&&chrome.i18n.getMessage("contact_admin_info_write_disabled"),dataTestId:"write-service-disabled-tooltip",zIndex:`var(--tab-z-index, ${U.deepl_inline_ui.z_index})`,$$slots:{default:[UI]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};256&n&&(o.tooltip=!!e[8]&&chrome.i18n.getMessage("contact_admin_info_write_disabled")),16777603&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function PI(e){let t,n;return t=new wb({props:{size:24,write:!0,dataTestId:"write-pro-shield"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function UI(e){let t,n,o,i,r,s,a,l,c,d=Bn(e[7],xt.WRITE),u=d&&PI();return{c(){t=Km("button"),n=Km("div"),o=Jm(),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,r=Jm(),u&&u.c(),nh(n,"class","dl-write-icon icon-size svelte-oky0t7"),t.disabled=e[8],nh(t,"class",s=Om("tab "+(e[0]===dt.write?"active":""))+" svelte-oky0t7")},m(s,d){Gm(s,t,d),Hm(t,n),Hm(t,o),Hm(t,i),Hm(t,r),u&&u.m(t,null),a=!0,l||(c=Qm(t,"click",e[18]),l=!0)},p(e,n){128&n&&(d=Bn(e[7],xt.WRITE)),d?u?128&n&&Wh(u,1):(u=PI(),u.c(),Wh(u,1),u.m(t,null)):u&&(zh(),Vh(u,1,1,(()=>{u=null})),Gh()),(!a||256&n)&&(t.disabled=e[8]),(!a||1&n&&s!==(s=Om("tab "+(e[0]===dt.write?"active":""))+" svelte-oky0t7"))&&nh(t,"class",s)},i(e){a||(Wh(u),a=!0)},o(e){Vh(u),a=!1},d(e){e&&Wm(t),u&&u.d(),l=!1,c()}}}function qI(e){let t,n,o,i;return n=new AI({props:{position:e[6],onClose:e[12]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"data-testid","headsup-popup-notification"),nh(t,"class","headsup-container svelte-oky0t7"),ch(t,"top","TOP"===e[6]),ch(t,"bottom","BOTTOM"===e[6]),ch(t,"top-left","TOP_LEFT"===e[6]),ch(t,"bottom-left","BOTTOM_LEFT"===e[6])},m(o,r){Gm(o,t,r),tf(n,t,null),e[19](t),i=!0},p(e,o){const r={};64&o&&(r.position=e[6]),n.$set(r),(!i||64&o)&&ch(t,"top","TOP"===e[6]),(!i||64&o)&&ch(t,"bottom","BOTTOM"===e[6]),(!i||64&o)&&ch(t,"top-left","TOP_LEFT"===e[6]),(!i||64&o)&&ch(t,"bottom-left","BOTTOM_LEFT"===e[6])},i(e){i||(Wh(n.$$.fragment,e),o&&o.end(1),i=!0)},o(e){Vh(n.$$.fragment,e),e&&(o=Yh(t,pf,{x:100,duration:1e3})),i=!1},d(i){i&&Wm(t),nf(n),e[19](null),i&&o&&o.end()}}}function BI(e){let t,n,o;return{c(){t=Km("button"),nh(t,"class","dl-settings-icon svelte-oky0t7")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[11]),n=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),n=!1,o()}}}function FI(e){let t,n;return t=new gb({props:{tooltip:chrome.i18n.getMessage("review_advanced_mode_disable_advanced_window_tooltip"),$$slots:{default:[HI]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};16777216&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function HI(e){let t,n,o;return{c(){t=Km("button"),nh(t,"class","dl-settings-icon svelte-oky0t7")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[11]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function jI(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m;n=new kb({}),n.$on("click",e[10]);let h=e[2]&&II(e),f=e[3]&&void 0!==e[6]&&qI(e);const v=[FI,BI],_=[];function w(e,t){return e[3]?0:1}return l=w(e),c=_[l]=v[l](e),{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),h&&h.c(),i=Jm(),r=Km("div"),s=Km("div"),f&&f.c(),a=Jm(),c.c(),d=Jm(),u=Km("button"),nh(s,"class","settings-container svelte-oky0t7"),nh(u,"class","dl-close-icon svelte-oky0t7"),nh(r,"class","dl-actions svelte-oky0t7"),nh(t,"class","dl-review-header svelte-oky0t7")},m(c,v){Gm(c,t,v),tf(n,t,null),Hm(t,o),h&&h.m(t,null),Hm(t,i),Hm(t,r),Hm(r,s),f&&f.m(s,null),Hm(s,a),_[l].m(s,null),Hm(r,d),Hm(r,u),p=!0,g||(m=Qm(u,"click",e[13]),g=!0)},p(e,[n]){e[2]?h?(h.p(e,n),4&n&&Wh(h,1)):(h=II(e),h.c(),Wh(h,1),h.m(t,i)):h&&(zh(),Vh(h,1,1,(()=>{h=null})),Gh()),e[3]&&void 0!==e[6]?f?(f.p(e,n),72&n&&Wh(f,1)):(f=qI(e),f.c(),Wh(f,1),f.m(s,a)):f&&(zh(),Vh(f,1,1,(()=>{f=null})),Gh());let o=l;l=w(e),l===o?_[l].p(e,n):(zh(),Vh(_[o],1,1,(()=>{_[o]=null})),Gh(),c=_[l],c?c.p(e,n):(c=_[l]=v[l](e),c.c()),Wh(c,1),c.m(s,null))},i(e){p||(Wh(n.$$.fragment,e),Wh(h),Wh(f),Wh(c),p=!0)},o(e){Vh(n.$$.fragment,e),Vh(h),Vh(f),Vh(c),p=!1},d(e){e&&Wm(t),nf(n),h&&h.d(),f&&f.d(),_[l].d(),g=!1,m()}}}function zI(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(7,r=e)));var s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let a,{closeWindow:l=()=>{}}=t,{extensionContext:c=I.none}=t,{textProcessingMode:d=dt.translate}=t,{onChangeTextProcessingMode:u=e=>{}}=t,{showTranslateWriteTabs:p=!0}=t,{isInput:g=!1}=t,{isItaWriteEnabled:m=!1}=t;const h=()=>{if(r.hasITAPopupHideRemarkBeenShown)return;if(!a)return iT;const e=a.getBoundingClientRect();return dT(e)},f=()=>{g&&!r.hasITAPopupHideRemarkBeenShown&&Pv.set({hasITAPopupHideRemarkBeenShown:!0}),n(6,v=void 0)};let v,_,w=!1,b=!1;g&&Hl().then((e=>s(void 0,void 0,void 0,(function*(){e?(r.hasITAPopupHideRemarkBeenShown||Pv.set({hasITAPopupHideRemarkBeenShown:!0}),w=!1,n(6,v=void 0)):r.hasITAPopupHideRemarkBeenShown?w=!1:(w=!0,n(6,v=iT),n(16,b=!0))})))),bh((()=>{w&&a&&(n(6,v=h()),_=N_(a,(()=>n(6,v=h()))))})),yh((()=>{null==_||_(),f()}));return e.$$set=e=>{"closeWindow"in e&&n(14,l=e.closeWindow),"extensionContext"in e&&n(15,c=e.extensionContext),"textProcessingMode"in e&&n(0,d=e.textProcessingMode),"onChangeTextProcessingMode"in e&&n(1,u=e.onChangeTextProcessingMode),"showTranslateWriteTabs"in e&&n(2,p=e.showTranslateWriteTabs),"isInput"in e&&n(3,g=e.isInput),"isItaWriteEnabled"in e&&n(4,m=e.isItaWriteEnabled)},e.$$.update=()=>{1&e.$$.dirty&&L_.update({textProcessingMode:d}),128&e.$$.dirty&&n(9,o=Hn(r,xt.TRANSLATOR)),128&e.$$.dirty&&n(8,i=Hn(r,xt.WRITE)),65632&e.$$.dirty&&b&&a&&v===iT&&(n(6,v=h()),_=N_(a,(()=>n(6,v=h()))),n(16,b=!1))},[d,u,p,g,m,a,v,r,i,o,function(){Rn({action:Ln.dlTrackLogoClickedEvent,payload:{extensionContext:c}});let e=d===dt.write?go:po;Rn({action:On.dlExternalURLRedirect,payload:{destination:e,utmContent:"review_window_logo"}})},function(){let e=d===dt.write?Ww.settings_writing:Ww.settings_reading;Rn({action:On.dlOpenInternalPage,payload:{destination:e}})},f,()=>{Rn({action:Ln.dlTrackUILocationClicked,payload:Te}),l()},l,c,b,()=>u(dt.translate),()=>u(dt.write),function(e){Ch[e?"unshift":"push"]((()=>{a=e,n(5,a)}))}]}class GI extends rf{constructor(e){super(),of(this,e,zI,jI,Em,{closeWindow:14,extensionContext:15,textProcessingMode:0,onChangeTextProcessingMode:1,showTranslateWriteTabs:2,isInput:3,isItaWriteEnabled:4})}}function WI(e){L_.update({translationState:g.none,error:e})}const VI=n=>t(void 0,void 0,void 0,(function*(){yield OA(e.websiteData.inputElement,{html:n,text:n},IA(e.websiteData.inputElement))})),KI=()=>{L_.update({itaDocumentState:null,itaWriteDocumentState:null,itaTranslateTrigger:null,itaWriteTrigger:null}),yO({type:Yl}),yO({type:pc})},ZI=(n,...o)=>t(void 0,[n,...o],void 0,(function*(n,o=!1,i=dt.translate){if(M_(window)){const s=M_(window);if(o&&!(yield gp(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality){const n=i===dt.translate?(r=s,t(void 0,void 0,void 0,(function*(){var t,n;const o=(yield gp(["targetLanguageUserInput"])).targetLanguageUserInput,i=yield Rn({action:Sn.dlRequestInputTranslation,payload:{requests:[{text:r}],domainName:window.location.hostname,websiteLanguage:e.websiteData.websiteLanguage,targetLang:o}});(null===(t=i[0])||void 0===t?void 0:t.text)&&(yield VI(null===(n=i[0])||void 0===n?void 0:n.text))}))):(n=>t(void 0,void 0,void 0,(function*(){const t=yield Rn({action:xn.dlRequestImproveWriting,payload:{requests:[{text:n}],domainName:window.location.hostname,websiteLanguage:e.websiteData.websiteLanguage,sourceLang:e.websiteData.itaWriteSourceLanguage}});t.text&&(yield VI(t.text))})))(s);return void(yield n)}if(document.getElementsByTagName("deepl-review-translate-write-window").length||hq({websiteData:L_,onRemove:KI,isInput:o,textProcessingMode:i}),i!==dt.translate)return L_.update({improvedSnippet:"",writeState:h,error:null,providedWriteAlternatives:[],writeStyle:null,itaWriteTrigger:o?dn:cn}),yO({type:Jl,payload:{sourceText:s,domainName:window.location.hostname,trigger:o?dn:cn}});L_.update({translationState:g.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:s,itaTranslateSourceLanguage:"",itaTranslateSourceLanguageIsAutoDetected:null,itaDocumentState:null,error:null,providedTranslateAlternatives:[],itaTranslateTrigger:o?E:w}),yO({type:Zl,payload:{sourceText:s,targetLanguage:n,domainName:window.location.hostname,trigger:o?E:w,websiteLanguage:e.websiteData.websiteLanguage}})}var r})),YI=e=>null==e,JI=()=>{YI(e.websiteData.translatedSnippet)||L_.update({translationState:g.none})},XI=()=>{YI(e.websiteData.improvedSnippet)||L_.update({writeState:m})},QI=e=>{e&&L_.update({translationState:g.none,translatedSnippet:e,error:null})},eO=e=>{e&&L_.update({writeState:m,improvedSnippet:e,error:null})},tO=e=>{e&&L_.update({itaTranslateSourceLanguage:e.toUpperCase()})},nO=e=>{e&&chrome.storage.local.get([Yn],(t=>{L_.update({itaTranslateTargetLanguage:Ta(e,(null==t?void 0:t.translationLanguages)||[])})}))},oO=e=>{e&&L_.update({itaWriteSourceLanguage:e})},iO=e=>{L_.update({itaTranslateSourceLanguageIsAutoDetected:e})},rO=e=>{L_.update({itaWriteSourceLanguageIsAutoDetected:e})},sO=e=>{e&&L_.update({itaDocumentState:e})},aO=e=>{e&&L_.update({itaWriteDocumentState:e})};function lO(t){e.websiteData.itaDocumentState&&t.postMessage({type:Xl,payload:{itaDocumentState:e.websiteData.itaDocumentState,domainName:window.location.host,trigger:e.websiteData.itaTranslateTrigger}}),e.websiteData.itaWriteDocumentState&&t.postMessage({type:cc,payload:{itaWriteDocumentState:e.websiteData.itaWriteDocumentState,domainName:window.location.host,trigger:e.websiteData.itaWriteTrigger}})}const cO=e=>{L_.update({isTranslateSourceLanguageUnsupported:e})},dO=e=>{L_.update({isWriteSourceLanguageUnsupported:e})},uO=()=>{L_.update({error:{error:_f}})},pO=()=>{L_.update({error:{error:bf}})},gO=()=>{L_.update({error:{error:vf}})},mO=e=>{L_.update({providedWriteAlternatives:e})},hO=e=>{L_.update({providedTranslateAlternatives:e})},fO=()=>t(void 0,void 0,void 0,(function*(){try{return!!(yield Rn({action:On.checkForOpenSidePanel}))}catch(e){return!1}}));function vO(e,t,n){return ja(),_O({action:e.action,request:e,sendResponse:n})}function _O(n,o){const{action:i,request:r,sendResponse:s}=n;switch(i){case bc.translate.dlTranslate:return r.sourceLang&&Gk(r.sourceLang,y),!1;case bc.uiActions.dlShowOriginal:return L_.update({fptTranslationState:g.showOriginal}),!1;case bc.uiActions.dlShowPageLoadPopup:return oB().then((()=>t(this,void 0,void 0,(function*(){var t;if(!(null===e.websiteData||void 0===e.websiteData?void 0:e.websiteData.hostname)||!(null===e.websiteData||void 0===e.websiteData?void 0:e.websiteData.websiteLanguage))return;if(yield fO())return;const[n,o]=yield Promise.all([Rn({action:$n.dlGetAppSettings}),iB()]),i=Bn(o,xt.TRANSLATOR),r=null===(t=n.blacklistDomains)||void 0===t?void 0:t.includes(e.websiteData.hostname),s=Ma(e.websiteData.websiteLanguage,n.languagesForTranslation,p),a=Sa(n.selectedTargetLanguage,e.websiteData.websiteLanguage);!i||r||s||a||!n.enableFullPageTranslation||yq()})))),!1;case bc.uiActions.dlTranslateWebPageByRightMenuClick:return oB().then((()=>Eq())),!1;case bc.uiActions.dlDefaultPopUpMounting:return e.websiteData.translationState===g.none&&_q(),Tq(),!1;case bc.uiActions.dlTabChanged:return setTimeout((()=>{oB()}),500),!1;case bc.translate.dlTranslateInline:return oB().then((()=>{ZI(r.targetLang)})),!1;case bc.write.dlImproveInline:return oB().then((()=>ZI(r.targetLang,!1,dt.write))),!1;case bc.translate.dlTranslateInput:return oB().then((()=>t(this,void 0,void 0,(function*(){ZI(r.targetLang,!0)})))),!1;case bc.write.dlImproveInput:return oB().then((()=>ZI(r.targetLang,!0,dt.write))),!1;case bc.translate.dlTranslateSelectionRightClick:return oB().then((()=>Wq())),!1;case bc.uiActions.dlSelectCaptureArea:return oB().then((()=>t(this,void 0,void 0,(function*(){const e=yield Gq();s(e),Rn({action:Ln.dlTrackRightClick,payload:{translationType:v,domainName:window.location.host}})})))),!0;case bc.uiActions.dlGetWebsiteData:return oB().then((()=>s(e.websiteData))),!0;case bc.uiActions.dlShowNotification:return qq(r.payload.type,r.payload.options),!1;case bc.uiActions.dlErrorVisibility:return dB(r.payload.state),!1;case bc.uiActions.dlShowAskForAReviewPopup:return Bq(nt.initial),!1;case bc.uiActions.dlShowAlert:return mB(r.payload),!1;case bc.special.ping:return s({status:"active"}),!1}return!1}let wO;function bO(e){e.onMessage.addListener(EO),wO=e}function yO(e){wO&&(ja(),wO.postMessage(e))}function EO(e){const{payload:t,type:n}=e;switch(ja(),n){case tc:QI(t.targetText);break;case nc:eO(t.targetText);break;case Ql:tO(t.language);break;case ec:iO(t.isAutoDetected);break;case ic:WI(t);break;case rc:sO(t.itaDocumentState);break;case sc:aO(t.itaDocumentState);break;case dc:oO(t.language);break;case uc:rO(t.isAutoDetected);break;case gc:cO(t.isUnsupported);break;case mc:dO(t.isUnsupported);break;case hc:uO();break;case vc:pO();break;case fc:gO();break;case wc.REPLY.ITA_BACKEND_IDLE:JI();break;case _c.REPLY.ITA_BACKEND_IDLE:XI();break;case wc.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:hO(t.providedAlternatives);break;case wc.REPLY.ITA_TARGET_LANGUAGE:nO(t.language);break;case _c.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:ja(),mO(t.providedAlternatives);break;default:ja()}}function TO(e,t,n){const o=e.slice();return o[22]=t[n],o}function xO(e){let t,n,o=Lg(e[1])+"";return{c(){t=Km("div"),n=Km("div"),nh(t,"class","dictionary-error svelte-1m42cve"),ch(t,"display-dictionary-error",e[5])},m(e,i){Gm(e,t,i),Hm(t,n),n.innerHTML=o},p(e,i){2&i&&o!==(o=Lg(e[1])+"")&&(n.innerHTML=o),32&i&&ch(t,"display-dictionary-error",e[5])},d(e){e&&Wm(t)}}}function $O(e){let t,n,o=Xh(e[6]),i=[];for(let t=0;t<o.length;t+=1)i[t]=SO(TO(e,o,t));return{c(){t=Km("div"),n=Km("div");for(let e=0;e<i.length;e+=1)i[e].c();nh(n,"class","alternatives-list svelte-1m42cve"),nh(t,"class","alternatives-container svelte-1m42cve")},m(e,o){Gm(e,t,o),Hm(t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,null)},p(e,t){if(8256&t){let r;for(o=Xh(e[6]),r=0;r<o.length;r+=1){const s=TO(e,o,r);i[r]?i[r].p(s,t):(i[r]=SO(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},d(e){e&&Wm(t),Vm(i,e)}}}function SO(e){let t,n,o,i,r,s=Lg(e[22].text)+"";function a(){return e[19](e[22])}function l(...t){return e[20](e[22],...t)}return{c(){t=Km("div"),n=new uh(!1),o=Jm(),n.a=o,nh(t,"class","alternative svelte-1m42cve"),nh(t,"data-testid","dl-result-view-alternative"),nh(t,"tabindex","0"),nh(t,"role","button")},m(c,d){Gm(c,t,d),n.m(s,t),Hm(t,o),i||(r=[Qm(t,"click",a),Qm(t,"keydown",l),Qm(t,"mousedown",eh(e[16]))],i=!0)},p(t,o){e=t,64&o&&s!==(s=Lg(e[22].text)+"")&&n.p(s)},d(e){e&&Wm(t),i=!1,bm(r)}}}function CO(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w=chrome.i18n.getMessage("ui_alternatives_title")+"",b=chrome.i18n.getMessage("ui_inline_translation_dictionary")+"",y=e[1]&&xO(e),E=e[4]&&$O(e);return h=new EE({props:{originalSnippet:e[2].originalSnippet,sourceLanguage:e[2].itaTranslateSourceLanguage,targetLanguage:e[7].selectedTargetLanguage,websiteLanguage:e[2].websiteLanguage,showDictionary:e[3],setDictionaryLauncherState:e[11],resetDictionary:e[10]}}),{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Km("button"),r=Ym(w),a=Jm(),l=Km("div"),c=Km("button"),d=Ym(b),p=Jm(),y&&y.c(),g=Jm(),E&&E.c(),m=Jm(),ef(h.$$.fragment),i.disabled=s=!e[6]||!e[6].length,nh(i,"class","svelte-1m42cve"),nh(o,"class","tab svelte-1m42cve"),nh(c,"class","dl-dictionary svelte-1m42cve"),c.disabled=u=!e[0],nh(l,"class","tab svelte-1m42cve"),nh(n,"class","tabs-container svelte-1m42cve"),nh(t,"class","dl-review-footer svelte-1m42cve")},m(s,u){Gm(s,t,u),Hm(t,n),Hm(n,o),Hm(o,i),Hm(i,r),Hm(n,a),Hm(n,l),Hm(l,c),Hm(c,d),Hm(l,p),y&&y.m(l,null),Hm(t,g),E&&E.m(t,null),Hm(t,m),tf(h,t,null),f=!0,v||(_=[Qm(i,"click",e[9]),Qm(c,"click",e[17]),Qm(c,"mouseenter",e[8]),Qm(c,"mouseleave",e[18])],v=!0)},p(e,[n]){(!f||64&n&&s!==(s=!e[6]||!e[6].length))&&(i.disabled=s),(!f||1&n&&u!==(u=!e[0]))&&(c.disabled=u),e[1]?y?y.p(e,n):(y=xO(e),y.c(),y.m(l,null)):y&&(y.d(1),y=null),e[4]?E?E.p(e,n):(E=$O(e),E.c(),E.m(t,m)):E&&(E.d(1),E=null);const o={};4&n&&(o.originalSnippet=e[2].originalSnippet),4&n&&(o.sourceLanguage=e[2].itaTranslateSourceLanguage),128&n&&(o.targetLanguage=e[7].selectedTargetLanguage),4&n&&(o.websiteLanguage=e[2].websiteLanguage),8&n&&(o.showDictionary=e[3]),h.$set(o)},i(e){f||(Wh(h.$$.fragment,e),f=!0)},o(e){Vh(h.$$.fragment,e),f=!1},d(e){e&&Wm(t),y&&y.d(),E&&E.d(),nf(h),v=!1,bm(_)}}}function kO(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(7,i=e))),Sm(e,L_,(e=>n(2,r=e)));var s,a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{enableDictionaryButton:l=!1}=t,{dictionaryButtonError:c=""}=t,{textProcessingMode:d=dt.translate}=t,u=!1,p=!1,g=!1;function m(){l&&n(3,u=!u)}function h(e){var t;yO({type:d===dt.write?_c.REQUEST.ITA_SELECT_ALTERNATIVE:wc.REQUEST.ITA_SELECT_ALTERNATIVE,payload:{alternative:e}}),Rn({action:Ln.dlTrackAlternativeSelected,payload:{numberOfAlternatives:o.length,selectedAlternative:e.index+1,sourceLang:r.itaTranslateSourceLanguage,targetLang:i.selectedTargetLanguage,contentProcessingMode:d,alternativesSegmentation:(t=e.text,/^[\p{L}\p{M}\p{N}\p{Pc}]+$/u.test(t)?Yt:Jt)}}),n(4,p=!1)}return e.$$set=e=>{"enableDictionaryButton"in e&&n(0,l=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(1,c=e.dictionaryButtonError),"textProcessingMode"in e&&n(14,d=e.textProcessingMode)},e.$$.update=()=>{49156&e.$$.dirty&&n(6,o=null!==n(15,s=d===dt.write?r.providedWriteAlternatives:r.providedTranslateAlternatives)&&void 0!==s?s:[])},[l,c,r,u,p,g,o,i,function(){if(n(5,g=!0),!l)try{Rn({action:Ln.dlTrackDisabledDictionaryHover,payload:{}})}catch(e){}},function(){return a(this,void 0,void 0,(function*(){u&&m(),n(4,p=!p),Rn({action:Ln.dlTrackUILocationClicked,payload:d===dt.write?$e:xe})}))},function(){n(3,u=!1)},function(e){n(1,c=e.dictionaryButtonError),n(0,l=e.enableDictionaryButton)},m,h,d,s,function(t){$h.call(this,e,t)},()=>{n(4,p=!1),m()},()=>{n(5,g=!1)},e=>{h(e)},(e,t)=>{"Enter"===t.key&&h(e)}]}class LO extends rf{constructor(e){super(),of(this,e,kO,CO,Em,{enableDictionaryButton:0,dictionaryButtonError:1,textProcessingMode:14})}}function AO(e){let t,n,o=e[2],i=IO(e);return{c(){i.c(),t=Xm()},m(e,o){i.m(e,o),Gm(e,t,o),n=!0},p(e,n){4&n&&Em(o,o=e[2])?(zh(),Vh(i,1,1,fm),Gh(),i=IO(e),i.c(),Wh(i,1),i.m(t.parentNode,t)):i.p(e,n)},i(e){n||(Wh(i),n=!0)},o(e){Vh(i),n=!1},d(e){e&&Wm(t),i.d(e)}}}function IO(e){let t,n;return t=new LO({props:{enableDictionaryButton:MO,dictionaryButtonError:DO,textProcessingMode:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.textProcessingMode=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function OO(e){let t,n,o,i,r,s;n=new GI({props:{closeWindow:e[0],extensionContext:e[1],textProcessingMode:e[2],onChangeTextProcessingMode:e[3],isInput:e[5],showTranslateWriteTabs:!e[4],isItaWriteEnabled:e[6]}});const a=e[9].default,l=Cm(a,e,e[8],null);let c=!e[4]&&AO(e);return{c(){t=Km("div"),ef(n.$$.fragment),o=Jm(),i=Km("div"),l&&l.c(),r=Jm(),c&&c.c(),nh(i,"class","dl-content svelte-jwy61a"),nh(t,"class","dl-layout svelte-jwy61a"),nh(t,"translate","no"),nh(t,"dir",e[7])},m(e,a){Gm(e,t,a),tf(n,t,null),Hm(t,o),Hm(t,i),l&&l.m(i,null),Hm(t,r),c&&c.m(t,null),s=!0},p(e,[o]){const i={};1&o&&(i.closeWindow=e[0]),2&o&&(i.extensionContext=e[1]),4&o&&(i.textProcessingMode=e[2]),8&o&&(i.onChangeTextProcessingMode=e[3]),32&o&&(i.isInput=e[5]),16&o&&(i.showTranslateWriteTabs=!e[4]),64&o&&(i.isItaWriteEnabled=e[6]),n.$set(i),l&&l.p&&(!s||256&o)&&Am(l,a,e,e[8],s?Lm(a,e[8],o,null):Im(e[8]),null),e[4]?c&&(zh(),Vh(c,1,1,(()=>{c=null})),Gh()):c?(c.p(e,o),16&o&&Wh(c,1)):(c=AO(e),c.c(),Wh(c,1),c.m(t,null))},i(e){s||(Wh(n.$$.fragment,e),Wh(l,e),Wh(c),s=!0)},o(e){Vh(n.$$.fragment,e),Vh(l,e),Vh(c),s=!1},d(e){e&&Wm(t),nf(n),l&&l.d(e),c&&c.d()}}}let DO="",MO=!1;function RO(e,t,n){let{$$slots:o={},$$scope:i}=t;const r=xh("text_direction");let{closeWindow:s=()=>{}}=t,{extensionContext:a}=t,{textProcessingMode:l=dt.translate}=t,{onChangeTextProcessingMode:c}=t,{error:d}=t,{isInput:u=!1}=t,p=!1;return bh((()=>{n(6,p=!0)})),e.$$set=e=>{"closeWindow"in e&&n(0,s=e.closeWindow),"extensionContext"in e&&n(1,a=e.extensionContext),"textProcessingMode"in e&&n(2,l=e.textProcessingMode),"onChangeTextProcessingMode"in e&&n(3,c=e.onChangeTextProcessingMode),"error"in e&&n(4,d=e.error),"isInput"in e&&n(5,u=e.isInput),"$$scope"in e&&n(8,i=e.$$scope)},[s,a,l,c,d,u,p,r,i,o]}class NO extends rf{constructor(e){super(),of(this,e,RO,OO,Em,{closeWindow:0,extensionContext:1,textProcessingMode:2,onChangeTextProcessingMode:3,error:4,isInput:5})}}function PO(e){let t,n,o;return n=new zw({props:{languages:e[1],value:e[0].isTranslateSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaTranslateSourceLanguage,websiteSettings:L_,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1,dataQaButton:"deepl-source-language-selection"}}),n.$on("selection",e[4]),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","language-dropdown-container svelte-r760fx")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.languages=e[1]),1&t&&(o.value=e[0].isTranslateSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaTranslateSourceLanguage),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function UO(e){let t,n,o,i,r,s,a;return i=new zw({props:{value:e[0].itaTranslateTargetLanguage,websiteSettings:L_,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1,dataQaButton:"deepl-target-language-selection",showRecentlyUsed:!0}}),i.$on("selection",e[3]),{c(){t=Km("div"),t.innerHTML='<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-r760fx"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 15C9.5 14.5858 9.83579 14.25 10.25 14.25L20.8879 14.25L16.7302 10.2906C16.4316 10.0035 16.4223 9.52875 16.7094 9.23017C16.9965 8.93159 17.4713 8.92228 17.7698 9.20937L23.2698 14.4594C23.4169 14.6008 23.5 14.796 23.5 15C23.5 15.204 23.4169 15.3992 23.2698 15.5406L17.7698 20.7906C17.4713 21.0777 16.9965 21.0684 16.7094 20.7698C16.4223 20.4713 16.4316 19.9965 16.7302 19.7094L20.8879 15.75L10.25 15.75C9.83579 15.75 9.5 15.4142 9.5 15Z" fill="#848F9B"></path></svg>',n=Jm(),o=Km("div"),ef(i.$$.fragment),nh(t,"class","arrow-icon svelte-r760fx"),nh(o,"class","language-dropdown-container svelte-r760fx")},m(l,c){Gm(l,t,c),Gm(l,n,c),Gm(l,o,c),tf(i,o,null),r=!0,s||(a=Qm(o,"mouseup",e[8]),s=!0)},p(e,t){const n={};1&t&&(n.value=e[0].itaTranslateTargetLanguage),i.$set(n)},i(e){r||(Wh(i.$$.fragment,e),r=!0)},o(e){Vh(i.$$.fragment,e),r=!1},d(e){e&&(Wm(t),Wm(n),Wm(o)),nf(i),s=!1,a()}}}function qO(e){let t,n,o,i=e[0].itaTranslateSourceLanguage&&PO(e),r=e[0].itaTranslateTargetLanguage&&UO(e);return{c(){t=Km("div"),i&&i.c(),n=Jm(),r&&r.c(),nh(t,"class","language-selector-container svelte-r760fx")},m(e,s){Gm(e,t,s),i&&i.m(t,null),Hm(t,n),r&&r.m(t,null),o=!0},p(e,[o]){e[0].itaTranslateSourceLanguage?i?(i.p(e,o),1&o&&Wh(i,1)):(i=PO(e),i.c(),Wh(i,1),i.m(t,n)):i&&(zh(),Vh(i,1,1,(()=>{i=null})),Gh()),e[0].itaTranslateTargetLanguage?r?(r.p(e,o),1&o&&Wh(r,1)):(r=UO(e),r.c(),Wh(r,1),r.m(t,null)):r&&(zh(),Vh(r,1,1,(()=>{r=null})),Gh())},i(e){o||(Wh(i),Wh(r),o=!0)},o(e){Vh(i),Vh(r),o=!1},d(e){e&&Wm(t),i&&i.d(),r&&r.d()}}}function BO(e,t,n){let o,i,r,s;Sm(e,L_,(e=>n(0,r=e))),Sm(e,Bv,(e=>n(7,s=e)));var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const l={unavailableLanguage:"unavailable_language"};let{settings:c}=t,{isInput:d=!1}=t;const u={label:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),selectedOptionLabel:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),value:l.unavailableLanguage,isNew:!1};return e.$$set=e=>{"settings"in e&&n(5,c=e.settings),"isInput"in e&&n(6,d=e.isInput)},e.$$.update=()=>{128&e.$$.dirty&&(o=Ia(s)),1&e.$$.dirty&&n(1,i=((e,t,n)=>{const i=[...o];if(e)i.unshift(Object.assign(Object.assign({},u),{isNew:!1}));else if(t){const e=i.findIndex((e=>e.value===n)),t=Object.assign({},i[e]),o=chrome.i18n.getMessage("ui_inline_translation_source_language_detected");t.label=`${t.label} ${o}`,t.selectedOptionLabel=`${t.selectedOptionLabel} ${o}`,i[e]=t}return i})(r.isTranslateSourceLanguageUnsupported,r.itaTranslateSourceLanguageIsAutoDetected,r.itaTranslateSourceLanguage))},[r,i,l,function(e){return a(this,void 0,void 0,(function*(){const t=e.detail.selectedOption;d?yield c.set({targetLanguageUserInput:t.value}):yield c.set({selectedTargetLanguage:t.value,isTargetLanguageConfirmed:!0,regionalVariant:t.regionalVariant||""}),L_.update({translationState:g.ongoingTranslation}),yO({type:wc.REQUEST.ITA_UPDATE_TARGET_LANGUAGE,payload:{language:t.value}})}))},e=>{e.detail.selectedOption.value!==r.itaTranslateSourceLanguage&&e.detail.selectedOption.value!==l.unavailableLanguage&&yO({type:wc.REQUEST.ITA_UPDATE_SOURCE_LANGUAGE,payload:{language:e.detail.selectedOption.value}})},c,d,s,()=>Rn({action:Ln.dlTrackUILocationClicked,payload:X})]}class FO extends rf{constructor(e){super(),of(this,e,BO,qO,Em,{settings:5,isInput:6})}}function HO(e){let t,n,o,i;return{c(){t=Km("button"),n=Km("div"),nh(n,"class","glossary-icon svelte-q1f4m0"),nh(t,"class","glossary-button svelte-q1f4m0"),nh(t,"aria-label",chrome.i18n.getMessage("glossary_label"))},m(r,s){Gm(r,t,s),Hm(t,n),o||(i=Qm(t,"click",e[0]),o=!0)},p:fm,d(e){e&&Wm(t),o=!1,i()}}}function jO(e){let t,n,o;return n=new gb({props:{tooltip:chrome.i18n.getMessage("glossary_label"),zIndex:"10000000000",isEnabled:!0,$$slots:{default:[HO]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","customisations-toolbar svelte-q1f4m0")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function zO(e){return[function(){const e=Ww.settings_glossary;Rn({action:On.dlOpenInternalPage,payload:{destination:e}})}]}class GO extends rf{constructor(e){super(),of(this,e,zO,jO,Em,{})}}function WO(e,t,n){const o=e.slice();return o[32]=t[n],o[34]=n,o}function VO(e){let t;let n=function(e){return e[15]()?ZO:KO}(e),o=n(e);return{c(){o.c(),t=Xm()},m(e,n){o.m(e,n),Gm(e,t,n)},p(e,t){o.p(e,t)},i(e){Wh(o)},o:fm,d(e){e&&Wm(t),o.d(e)}}}function KO(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v;return{c(){t=Km("ul"),n=Km("li"),o=Km("span"),o.textContent=`${chrome.i18n.getMessage("ui_formality_formal")}`,i=Jm(),r=Km("span"),r.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,s=Jm(),a=Km("li"),l=Km("span"),l.textContent=`${chrome.i18n.getMessage("ui_formality_informal")}`,c=Jm(),d=Km("span"),d.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,u=Jm(),p=Km("li"),p.textContent=`${chrome.i18n.getMessage("ui_formality_automatic")}`,g=Jm(),m=Km("li"),h=Km("button"),h.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,nh(r,"class","pro-label svelte-1904xvm"),nh(n,"disabled",""),nh(n,"class","svelte-1904xvm"),nh(d,"class","pro-label svelte-1904xvm"),nh(a,"disabled",""),nh(a,"class","svelte-1904xvm"),nh(p,"class","selected svelte-1904xvm"),nh(h,"class","svelte-1904xvm"),nh(m,"class","svelte-1904xvm"),nh(t,"id","dropdown_list"),nh(t,"class","alternate-dropdown-list svelte-1904xvm"),nh(t,"role","listbox"),nh(t,"aria-labelledby","dropdown_option"),nh(t,"tabindex","-1"),ch(t,"pro-dropdown",!0)},m(_,w){Gm(_,t,w),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),Hm(t,s),Hm(t,a),Hm(a,l),Hm(a,c),Hm(a,d),Hm(t,u),Hm(t,p),Hm(t,g),Hm(t,m),Hm(m,h),f||(v=Qm(h,"click",e[16]),f=!0)},p:fm,i:fm,o:fm,d(e){e&&Wm(t),f=!1,v()}}}function ZO(e){let t,n,o=Xh(e[10]),i=[];for(let t=0;t<o.length;t+=1)i[t]=YO(WO(e,o,t));return{c(){t=Km("ul");for(let e=0;e<i.length;e+=1)i[e].c();nh(t,"id","dropdown_list"),nh(t,"class","alternate-dropdown-list svelte-1904xvm"),nh(t,"role","listbox"),nh(t,"aria-labelledby","dropdown_option"),nh(t,"tabindex","-1"),nh(t,"style",`height: ${e[12].height}; top: ${e[12].top};`),nh(t,"data-qa",e[2])},m(n,o){Gm(n,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);e[24](t)},p(e,n){if(1161&n[0]){let r;for(o=Xh(e[10]),r=0;r<o.length;r+=1){const s=WO(e,o,r);i[r]?i[r].p(s,n):(i[r]=YO(s),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}4&n[0]&&nh(t,"data-qa",e[2])},i(e){n||Dh((()=>{n=Zh(t,pf,{y:-5,duration:500}),n.start()}))},o:fm,d(n){n&&Wm(t),Vm(i,n),e[24](null)}}}function YO(e){let t,n,o,i,r,s,a=e[32].label+"";function l(){return e[23](e[32])}return{c(){t=Km("li"),n=Ym(a),o=Jm(),nh(t,"role","option"),nh(t,"data-option-value",e[32].value),nh(t,"aria-selected",i=e[3]===e[32]),nh(t,"class","svelte-1904xvm"),ch(t,"selected",e[3]===e[32]),ch(t,"keyboardSelected",e[34]===e[7])},m(i,a){Gm(i,t,a),Hm(t,n),Hm(t,o),r||(s=[Qm(t,"click",l),Qm(t,"mousedown",th(eh(e[20])))],r=!0)},p(n,o){e=n,8&o[0]&&i!==(i=e[3]===e[32])&&nh(t,"aria-selected",i),1032&o[0]&&ch(t,"selected",e[3]===e[32]),128&o[0]&&ch(t,"keyboardSelected",e[34]===e[7])},d(e){e&&Wm(t),r=!1,bm(s)}}}function JO(e){let t,n,o,i,r,s,a=e[0]&&VO(e);return{c(){t=Km("div"),n=Km("button"),o=Ym(e[5]),i=Jm(),a&&a.c(),nh(n,"aria-haspopup","listbox"),nh(n,"id","dropdown_button"),nh(n,"aria-label","Formality dropdown"),nh(n,"aria-expanded",e[0]),nh(n,"data-qa",e[1]),nh(n,"class","dropdown-label svelte-1904xvm"),nh(t,"class","dropdown__wrapper svelte-1904xvm"),nh(t,"style",e[9])},m(l,c){Gm(l,t,c),Hm(t,n),Hm(n,o),e[22](n),Hm(t,i),a&&a.m(t,null),e[26](t),r||(s=[Qm(n,"click",e[13]),Qm(n,"mousedown",th(eh(e[21]))),Qm(n,"keydown",e[14]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[25])],r=!0)},p(e,i){32&i[0]&&oh(o,e[5]),1&i[0]&&nh(n,"aria-expanded",e[0]),2&i[0]&&nh(n,"data-qa",e[1]),e[0]?a?(a.p(e,i),1&i[0]&&Wh(a,1)):(a=VO(e),a.c(),Wh(a,1),a.m(t,null)):a&&(a.d(1),a=null),512&i[0]&&nh(t,"style",e[9])},i(e){Wh(a)},o:fm,d(n){n&&Wm(t),e[22](null),a&&a.d(),e[26](null),r=!1,bm(s)}}}function XO(e,t,n){let o,{isOpen:i=!1}=t,{dataQaButton:r="dl-dropdown-button"}=t,{dataQaList:s="dl-dropdown-list"}=t,{handleSelect:a}=t;const l=[{value:on,label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:rn,label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")},{value:sn,label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")}];let c=l.find((e=>e.value===sn));const d=Xw();Sm(e,d,(e=>n(29,o=e)));let u,p,g,m,h,f=0,v=c,_=-1,w="visibility: hidden; opacity:0; height:0;";bh((()=>{setTimeout((()=>{n(9,w="")}),100),m=N_(g,(({clientWidth:e})=>{n(18,f=e)}))})),yh((()=>{m&&m()}));return e.$$set=e=>{"isOpen"in e&&n(0,i=e.isOpen),"dataQaButton"in e&&n(1,r=e.dataQaButton),"dataQaList"in e&&n(2,s=e.dataQaList),"handleSelect"in e&&n(17,a=e.handleSelect)},e.$$.update=()=>{917512&e.$$.dirty[0]&&(c&&(null==v?void 0:v.value)!==(null==c?void 0:c.value)&&(n(19,v=c),a({selectedOption:c}),Rn({action:Ln.dlTrackFormalitySelected,payload:{formality:c.value}})),f&&(Math.abs(u.getBoundingClientRect().top),Math.abs(window.innerHeight-u.getBoundingClientRect().bottom))),8&e.$$.dirty[0]&&c&&n(5,p=`${c.selectedOptionLabel}`)},[i,r,s,c,u,p,g,_,h,w,l,d,{},function(){n(0,i=!i),function(){let e=u.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{null==e||e.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!i)return;if("ArrowUp"===e.key&&_>0)n(7,_-=1);else if("ArrowDown"===e.key&&_<l.length-1)n(7,_+=1);else if("Enter"===e.key&&-1!==_){const t=l[_];n(0,i=!1),n(3,c=t),n(7,_=-1),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(0,i=!1),n(7,_=-1)}const t=l[_],o=h.querySelector(`[data-option-value="${t.value}"]`).offsetTop-h.offsetTop;h.scrollTo({top:o,behavior:"smooth"})},function(){return Bn(o,xt.TRANSLATOR)},function(){Rn({action:Ln.dlTrackUILocationClicked,payload:Z}),Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"inline_translator"}})},a,f,v,function(t){$h.call(this,e,t)},function(t){$h.call(this,e,t)},function(e){Ch[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},e=>{n(0,i=!1),n(3,c=e),n(7,_=-1)},function(e){Ch[e?"unshift":"push"]((()=>{h=e,n(8,h)}))},()=>{n(0,i=!1)},function(e){Ch[e?"unshift":"push"]((()=>{g=e,n(6,g)}))}]}class QO extends rf{constructor(e){super(),of(this,e,XO,JO,Em,{isOpen:0,dataQaButton:1,dataQaList:2,handleSelect:17},null,[-1,-1])}}function eD(e){let t,n,o,i,r;return n=new QO({props:{dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",handleSelect:e[0]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"role","button"),nh(t,"class","formality-dropdown_container svelte-svjje"),nh(t,"tabindex","-1")},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=Qm(t,"mousedown",th(eh(e[1]))),i=!0)},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,r()}}}function tD(e){return[function({selectedOption:e}){Pv.set({formality:e.value}),yO({type:oc,payload:{formality:e.value}})},function(t){$h.call(this,e,t)}]}class nD extends rf{constructor(e){super(),of(this,e,tD,eD,Em,{})}}function oD(e){let t,n;return t=new nD({}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function iD(e){let t,n,o,i,r,s,a,l,c;const d=[lD,aD],u=[];function p(e,t){return e[5].isTranslateSourceLanguageUnsupported?0:1}n=p(e),o=u[n]=d[n](e);let g=!e[5].isTranslateSourceLanguageUnsupported&&cD(e);return{c(){t=Km("div"),o.c(),r=Jm(),g&&g.c(),s=Xm(),nh(t,"class","result-frame svelte-mpctqd"),nh(t,"dir",i=Pa(e[2]?e[3].targetLanguageUserInput:e[3].selectedTargetLanguage))},m(o,i){Gm(o,t,i),u[n].m(t,null),Gm(o,r,i),g&&g.m(o,i),Gm(o,s,i),a=!0,l||(c=Qm(t,"mousedown",eh(e[8])),l=!0)},p(e,r){let l=n;n=p(e),n===l?u[n].p(e,r):(zh(),Vh(u[l],1,1,(()=>{u[l]=null})),Gh(),o=u[n],o?o.p(e,r):(o=u[n]=d[n](e),o.c()),Wh(o,1),o.m(t,null)),(!a||12&r&&i!==(i=Pa(e[2]?e[3].targetLanguageUserInput:e[3].selectedTargetLanguage)))&&nh(t,"dir",i),e[5].isTranslateSourceLanguageUnsupported?g&&(zh(),Vh(g,1,1,(()=>{g=null})),Gh()):g?(g.p(e,r),32&r&&Wh(g,1)):(g=cD(e),g.c(),Wh(g,1),g.m(s.parentNode,s))},i(e){a||(Wh(o),Wh(g),a=!0)},o(e){Vh(o),Vh(g),a=!1},d(e){e&&(Wm(t),Wm(r),Wm(s)),u[n].d(),g&&g.d(e),l=!1,c()}}}function rD(e){let t,n,o;return n=new Uy({}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","loading-spinner-container svelte-mpctqd")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function sD(e){let t,n;return t=new E_({props:{error:e[5].error}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.error=e[5].error),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function aD(e){let t,n,o=Ry(e[5].translatedSnippet)+"";return{c(){t=new uh(!1),n=Xm(),t.a=n},m(e,i){t.m(o,e,i),Gm(e,n,i)},p(e,n){32&n&&o!==(o=Ry(e[5].translatedSnippet)+"")&&t.p(o)},i:fm,o:fm,d(e){e&&(Wm(n),t.d())}}}function lD(e){let t,n;return t=new E_({props:{error:{error:ff}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function cD(e){let t,n,o,i,r,s,a,l=e[2]&&dD(e);return i=new Jy({props:{sourceLang:e[5].websiteLanguage,targetLang:e[3].selectedTargetLanguage,sourceText:e[5].originalSnippet,targetText:e[5].translatedSnippet,platformBehaviour:e[1]}}),s=new Hy({props:{targetLang:e[3].selectedTargetLanguage,text:e[5].translatedSnippet,platformBehaviour:e[1]}}),{c(){t=Km("div"),l&&l.c(),n=Jm(),o=Km("div"),ef(i.$$.fragment),r=Jm(),ef(s.$$.fragment),nh(o,"class","dl-options-container svelte-mpctqd"),nh(t,"class","dl-btn-group svelte-mpctqd"),ch(t,"is-input",!e[2])},m(e,c){Gm(e,t,c),l&&l.m(t,null),Hm(t,n),Hm(t,o),tf(i,o,null),Hm(o,r),tf(s,o,null),a=!0},p(e,o){e[2]?l?l.p(e,o):(l=dD(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const r={};32&o&&(r.sourceLang=e[5].websiteLanguage),8&o&&(r.targetLang=e[3].selectedTargetLanguage),32&o&&(r.sourceText=e[5].originalSnippet),32&o&&(r.targetText=e[5].translatedSnippet),2&o&&(r.platformBehaviour=e[1]),i.$set(r);const c={};8&o&&(c.targetLang=e[3].selectedTargetLanguage),32&o&&(c.text=e[5].translatedSnippet),2&o&&(c.platformBehaviour=e[1]),s.$set(c),(!a||4&o)&&ch(t,"is-input",!e[2])},i(e){a||(Wh(i.$$.fragment,e),Wh(s.$$.fragment,e),a=!0)},o(e){Vh(i.$$.fragment,e),Vh(s.$$.fragment,e),a=!1},d(e){e&&Wm(t),l&&l.d(),nf(i),nf(s)}}}function dD(e){let t,n,o;return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage("replace_in_field")}`,nh(t,"class","svelte-mpctqd")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[6]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function uD(e){let t,n,o,i,r,s,a,l,c,d,u;o=new FO({props:{settings:e[0],isInput:e[2]}});let p=e[4]&&oD();a=new GO({});const m=[sD,rD,iD],h=[];function f(e,t){return e[5].error?0:null==e[5]||e[5].translationState===g.ongoingTranslation?1:e[5].translatedSnippet?2:-1}return~(c=f(e))&&(d=h[c]=m[c](e)),{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),r=Km("div"),p&&p.c(),s=Jm(),ef(a.$$.fragment),l=Jm(),d&&d.c(),nh(r,"class","translate-toolbar-buttons svelte-mpctqd"),nh(n,"class","translate-toolbar-container svelte-mpctqd")},m(e,d){Gm(e,t,d),Hm(t,n),tf(o,n,null),Hm(n,i),Hm(n,r),p&&p.m(r,null),Hm(r,s),tf(a,r,null),Hm(t,l),~c&&h[c].m(t,null),u=!0},p(e,[n]){const i={};1&n&&(i.settings=e[0]),4&n&&(i.isInput=e[2]),o.$set(i),e[4]?p?16&n&&Wh(p,1):(p=oD(),p.c(),Wh(p,1),p.m(r,s)):p&&(zh(),Vh(p,1,1,(()=>{p=null})),Gh());let a=c;c=f(e),c===a?~c&&h[c].p(e,n):(d&&(zh(),Vh(h[a],1,1,(()=>{h[a]=null})),Gh()),~c?(d=h[c],d?d.p(e,n):(d=h[c]=m[c](e),d.c()),Wh(d,1),d.m(t,null)):d=null)},i(e){u||(Wh(o.$$.fragment,e),Wh(p),Wh(a.$$.fragment,e),Wh(d),u=!0)},o(e){Vh(o.$$.fragment,e),Vh(p),Vh(a.$$.fragment,e),Vh(d),u=!1},d(e){e&&Wm(t),nf(o),p&&p.d(),nf(a),~c&&h[c].d()}}}function pD(e,t,n){let o,i,r,s=fm,a=()=>(s(),s=$m(l,(e=>n(3,i=e))),l);Sm(e,L_,(e=>n(5,r=e))),e.$$.on_destroy.push((()=>s()));let{settings:l}=t;a();let{platformBehaviour:c}=t,{isInput:d=!1}=t,{closeWindow:u}=t;return e.$$set=e=>{"settings"in e&&a(n(0,l=e.settings)),"platformBehaviour"in e&&n(1,c=e.platformBehaviour),"isInput"in e&&n(2,d=e.isInput),"closeWindow"in e&&n(7,u=e.closeWindow)},e.$$.update=()=>{12&e.$$.dirty&&n(4,o=Na(d?i.targetLanguageUserInput:i.selectedTargetLanguage))},[l,c,d,i,o,r,()=>{var e,t;OA(r.inputElement,{html:null!==(e=r.translatedSnippet)&&void 0!==e?e:"",text:null!==(t=r.translatedSnippet)&&void 0!==t?t:""},!0),Rn({action:Ln.dlTrackReplaceInField,payload:{replacementType:gn}}),u()},u,function(t){$h.call(this,e,t)}]}class gD extends rf{constructor(e){super(),of(this,e,pD,uD,Em,{settings:0,platformBehaviour:1,isInput:2,closeWindow:7})}}function mD(e){let t,n;return t=new zw({props:{languages:e[1],value:e[0].isWriteSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaWriteSourceLanguage,websiteSettings:L_,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1}}),t.$on("selection",e[3]),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.languages=e[1]),1&n&&(o.value=e[0].isWriteSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaWriteSourceLanguage),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function hD(e){let t,n,o,i,r=e[0].itaWriteSourceLanguage&&mD(e);return{c(){t=Km("div"),r&&r.c(),nh(t,"class","language-selector-container svelte-tostmu")},m(s,a){Gm(s,t,a),r&&r.m(t,null),n=!0,o||(i=Qm(t,"mouseup",e[4]),o=!0)},p(e,[n]){e[0].itaWriteSourceLanguage?r?(r.p(e,n),1&n&&Wh(r,1)):(r=mD(e),r.c(),Wh(r,1),r.m(t,null)):r&&(zh(),Vh(r,1,1,(()=>{r=null})),Gh())},i(e){n||(Wh(r),n=!0)},o(e){Vh(r),n=!1},d(e){e&&Wm(t),r&&r.d(),o=!1,i()}}}function fD(e,t,n){let o,r;Sm(e,L_,(e=>n(0,r=e)));const s={unavailableLanguage:"unavailable_language"},a=i.filter((e=>c.includes(e.langCodeForIta))).map((e=>{switch(e.langCode){case"EN-US":return Object.assign(Object.assign({},e),{langCode:"EN_US"});case"EN-GB":return Object.assign(Object.assign({},e),{langCode:"EN_UK"});case"PT-BR":return Object.assign(Object.assign({},e),{langCode:"PT_BR"});case"PT-PT":return Object.assign(Object.assign({},e),{langCode:"PT"});default:return e}})).map((e=>({value:e.langCodeForIta,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage()))),l={label:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),selectedOptionLabel:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),value:s.unavailableLanguage};return e.$$.update=()=>{1&e.$$.dirty&&n(1,o=((e,t,n)=>{const o=[...a];if(e)o.unshift(l);else if(t){const e=o.findIndex((e=>e.value===n)),t=Object.assign({},o[e]),i=chrome.i18n.getMessage("ui_inline_translation_source_language_detected");t.label=`${t.label} ${i}`,t.selectedOptionLabel=`${t.selectedOptionLabel} ${i}`,o[e]=t}return o})(r.isWriteSourceLanguageUnsupported,r.itaWriteSourceLanguageIsAutoDetected,r.itaWriteSourceLanguage))},[r,o,s,e=>{e.detail.selectedOption.value!==r.itaWriteSourceLanguage&&e.detail.selectedOption.value!==s.unavailableLanguage&&yO({type:ac,payload:{language:e.detail.selectedOption.value}})},()=>Rn({action:Ln.dlTrackUILocationClicked,payload:Q})]}class vD extends rf{constructor(e){super(),of(this,e,fD,hD,Em,{})}}function _D(e){let t,n,o,i,r,s,a,l,c;return{c(){t=Km("div"),n=Km("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_new")}`,o=Jm(),i=Km("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,nh(n,"class","list-entry svelte-16m1mav"),nh(n,"data-qa","dl-toolbar-listener-button-target-lang"),ch(n,"dl-entry-notAvailable",!e[0]),nh(i,"class","list-entry svelte-16m1mav"),nh(i,"data-qa","dl-toolbar-listener-button-source-lang"),ch(i,"dl-entry-notAvailable",!e[0]),nh(t,"class","listen-list svelte-16m1mav"),nh(t,"data-qa","dl-toolbar-listener-element-langs")},m(r,s){Gm(r,t,s),Hm(t,n),Hm(t,o),Hm(t,i),a=!0,l||(c=[Qm(n,"click",e[5]),Qm(i,"click",e[6])],l=!0)},p(e,[t]){(!a||1&t)&&ch(n,"dl-entry-notAvailable",!e[0]),(!a||1&t)&&ch(i,"dl-entry-notAvailable",!e[0])},i(e){a||(Dh((()=>{a&&(s&&s.end(1),r=Zh(t,pf,{y:-5,duration:500}),r.start())})),a=!0)},o(e){r&&r.invalidate(),s=Yh(t,pf,{y:-5,duration:500}),a=!1},d(e){e&&Wm(t),e&&s&&s.end(),l=!1,bm(c)}}}function wD(e,t,n){let{isRequestedLanguageAvailable:o}=t,{requestedLang:i}=t,{sourceText:r}=t,{improvedText:s}=t,{listen:a=(e,t)=>Promise.resolve()}=t;return e.$$set=e=>{"isRequestedLanguageAvailable"in e&&n(0,o=e.isRequestedLanguageAvailable),"requestedLang"in e&&n(1,i=e.requestedLang),"sourceText"in e&&n(2,r=e.sourceText),"improvedText"in e&&n(3,s=e.improvedText),"listen"in e&&n(4,a=e.listen)},[o,i,r,s,a,()=>{a(s,i)},()=>{a(r,i)}]}class bD extends rf{constructor(e){super(),of(this,e,wD,_D,Em,{isRequestedLanguageAvailable:0,requestedLang:1,sourceText:2,improvedText:3,listen:4})}}function yD(e){let t,n,o,i,r;return n=new gb({props:{tooltip:e[6],zIndex:300,$$slots:{default:[TD]},$$scope:{ctx:e}}}),{c(){t=Km("fragment"),ef(n.$$.fragment),nh(t,"role","navigation")},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=[Qm(t,"mouseover",e[9]),Qm(t,"focus",e[9]),Qm(t,"mouseleave",e[11])],i=!0)},p(e,t){const o={};64&t&&(o.tooltip=e[6]),131135&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,bm(r)}}}function ED(e){let t,n;return t=new bD({props:{isRequestedLanguageAvailable:e[5],requestedLang:e[0],sourceText:e[1],improvedText:e[2],listen:e[7]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.isRequestedLanguageAvailable=e[5]),1&n&&(o.requestedLang=e[0]),2&n&&(o.sourceText=e[1]),4&n&&(o.improvedText=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function TD(e){let t,n,o,i,r,s,a=e[4]&&ED(e);return{c(){t=Km("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=Jm(),a&&a.c(),o=Xm(),nh(t,"type","button"),nh(t,"class","dl-btn svelte-17suwwx"),nh(t,"data-qa","dl-toolbar-listener-button"),ch(t,"dl-btn-active",e[3]),ch(t,"dl-btn-hovered",e[4])},m(l,c){Gm(l,t,c),Gm(l,n,c),a&&a.m(l,c),Gm(l,o,c),i=!0,r||(s=Qm(t,"click",e[8]),r=!0)},p(e,n){(!i||8&n)&&ch(t,"dl-btn-active",e[3]),(!i||16&n)&&ch(t,"dl-btn-hovered",e[4]),e[4]?a?(a.p(e,n),16&n&&Wh(a,1)):(a=ED(e),a.c(),Wh(a,1),a.m(o.parentNode,o)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh())},i(e){i||(Wh(a),i=!0)},o(e){Vh(a),i=!1},d(e){e&&(Wm(t),Wm(n),Wm(o)),a&&a.d(e),r=!1,s()}}}function xD(e){let t,n,o=e[5]&&yD(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[5]?o?(o.p(e,n),32&n&&Wh(o,1)):(o=yD(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function $D(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{platformBehaviour:i=at.default}=t,{requestedLang:r=""}=t,{sourceText:s=""}=t,{improvedText:a=""}=t,l=!1,c=!1,d=!1,u=!1;function p(){Rn({action:En.dlStopSpeech}),n(3,c=!1)}function g(e){try{Rn({action:Ln.dlTrackInlineListen,payload:e})}catch(e){}}function m(e,t,o){switch(e.action){case"dlVoiceOverStopped":return n(3,c=!1),!1;case"dlVoiceOverErrorOccurred":return!1}return!1}function h(e){try{Rn({action:Ln.dlTrackVoiceOverStops,payload:e})}catch(e){}}chrome.runtime.onMessage.addListener(m),yh((()=>{p(),chrome.runtime.onMessage.removeListener(m),c&&h({targetLang:r,targetLength:a.length,triggerType:R,nicheIntegration:i})}));return e.$$set=e=>{"platformBehaviour"in e&&n(10,i=e.platformBehaviour),"requestedLang"in e&&n(0,r=e.requestedLang),"sourceText"in e&&n(1,s=e.sourceText),"improvedText"in e&&n(2,a=e.improvedText)},e.$$.update=()=>{25&e.$$.dirty&&(r&&Rn({action:En.dlGetSupportedVoices}).then((e=>{n(5,l=e.includes(["EN-US","EN-GB"].includes(r)?"EN":["ES-419"].includes(r)?"ES":["PT-PT","PT-BR"].includes(r)?"PT":["ZH-HANT"].includes(r)?"ZH":r))})),!d&&c?setTimeout((()=>{n(6,u=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(6,u=!1))},[r,s,a,c,d,l,u,function(e,t){return o(this,void 0,void 0,(function*(){c||(Rn({action:En.dlTextToSpeech,payload:{text:e,lang:t}}),n(3,c=!0),n(4,d=!1),g({targetLang:t,targetLength:e.length,actionType:He,nicheIntegration:i}))}))},function(){c?(p(),n(3,c=!1),h({targetLang:r,targetLength:a.length,triggerType:M,nicheIntegration:i}),g({targetLang:r,targetLength:a.length,actionType:je,nicheIntegration:i})):n(4,d=!0)},function(){c||n(4,d=!0)},i,()=>n(4,d=!1)]}class SD extends rf{constructor(e){super(),of(this,e,$D,xD,Em,{platformBehaviour:10,requestedLang:0,sourceText:1,improvedText:2})}}function CD(e,t,n){const o=e.slice();return o[11]=t[n],o}function kD(e,t,n){const o=e.slice();return o[14]=t[n],o}function LD(e){let t,n,o;function i(){return e[8](e[14])}return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage(`writing_style_${e[14]}`)}`,nh(t,"class","svelte-1g7xxeu"),ch(t,"active",e[14]===e[0])},m(e,r){Gm(e,t,r),n||(o=Qm(t,"click",i),n=!0)},p(n,o){e=n,1&o&&ch(t,"active",e[14]===e[0])},d(e){e&&Wm(t),n=!1,o()}}}function AD(e){let t,n,o;function i(){return e[9](e[11])}return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage(`writing_tone_${e[11]}`)}`,nh(t,"class","svelte-1g7xxeu"),ch(t,"active",e[11]===e[1])},m(e,r){Gm(e,t,r),n||(o=Qm(t,"click",i),n=!0)},p(n,o){e=n,2&o&&ch(t,"active",e[11]===e[1])},d(e){e&&Wm(t),n=!1,o()}}}function ID(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w,b,y,E=Xh(an),T=[];for(let t=0;t<E.length;t+=1)T[t]=LD(kD(e,E,t));let x=Xh(ln),$=[];for(let t=0;t<x.length;t+=1)$[t]=AD(CD(e,x,t));return{c(){t=Km("div"),n=Km("div"),o=Km("div"),o.textContent=`${chrome.i18n.getMessage("write_style_options_headline_style")}`,i=Jm(),r=Km("div");for(let e=0;e<T.length;e+=1)T[e].c();s=Jm(),a=Km("div"),a.textContent=`${chrome.i18n.getMessage("write_style_options_description_style")}`,l=Jm(),c=Km("div"),d=Km("div"),d.textContent=`${chrome.i18n.getMessage("write_style_options_headline_tone")}`,u=Jm(),p=Km("div");for(let e=0;e<$.length;e+=1)$[e].c();g=Jm(),m=Km("div"),m.textContent=`${chrome.i18n.getMessage("write_style_options_description_tone")}`,h=Jm(),f=Km("div"),v=Km("button"),v.textContent=`${chrome.i18n.getMessage("write_style_options_cta_reset")}`,_=Jm(),w=Km("button"),w.textContent=`${chrome.i18n.getMessage("write_style_options_cta_apply")}`,nh(o,"class","title svelte-1g7xxeu"),nh(r,"class","toggles svelte-1g7xxeu"),nh(a,"class","explanation svelte-1g7xxeu"),nh(n,"class","writing-style svelte-1g7xxeu"),nh(d,"class","title svelte-1g7xxeu"),nh(p,"class","toggles svelte-1g7xxeu"),nh(m,"class","explanation svelte-1g7xxeu"),nh(c,"class","tone svelte-1g7xxeu"),nh(v,"class","reset svelte-1g7xxeu"),nh(w,"class","apply svelte-1g7xxeu"),ch(w,"enabled",e[0]||e[1]),nh(f,"class","actions svelte-1g7xxeu"),nh(t,"class","container svelte-1g7xxeu")},m(E,x){Gm(E,t,x),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(r,null);Hm(n,s),Hm(n,a),Hm(t,l),Hm(t,c),Hm(c,d),Hm(c,u),Hm(c,p);for(let e=0;e<$.length;e+=1)$[e]&&$[e].m(p,null);Hm(c,g),Hm(c,m),Hm(t,h),Hm(t,f),Hm(f,v),Hm(f,_),Hm(f,w),b||(y=[Qm(v,"click",e[5]),Qm(w,"click",e[4])],b=!0)},p(e,[t]){if(5&t){let n;for(E=Xh(an),n=0;n<E.length;n+=1){const o=kD(e,E,n);T[n]?T[n].p(o,t):(T[n]=LD(o),T[n].c(),T[n].m(r,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}if(10&t){let n;for(x=Xh(ln),n=0;n<x.length;n+=1){const o=CD(e,x,n);$[n]?$[n].p(o,t):($[n]=AD(o),$[n].c(),$[n].m(p,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=x.length}3&t&&ch(w,"enabled",e[0]||e[1])},i:fm,o:fm,d(e){e&&Wm(t),Vm(T,e),Vm($,e),b=!1,bm(y)}}}function OD(e,t,n){const o=Eh();let{writingStyle:i}=t,{tone:r}=t,s=i,a=r;function l(e){n(1,a=void 0),n(0,s=e);try{Rn({action:Ln.dlTrackWriteTextStylesChanged,payload:{style:s||void 0}})}catch(e){}}function c(e){n(0,s=void 0),n(1,a=e);try{Rn({action:Ln.dlTrackWriteTextTonesChanged,payload:{tone:a||void 0}})}catch(e){}}return e.$$set=e=>{"writingStyle"in e&&n(6,i=e.writingStyle),"tone"in e&&n(7,r=e.tone)},[s,a,l,c,function(){n(6,i=s),n(7,r=a);try{Rn({action:Ln.dlTrackWriteTextStylesApplied,payload:{style:i||r||void 0}})}catch(e){}o("apply")},function(){n(1,a=void 0),n(0,s=void 0),n(7,r=null),n(6,i=null),o("reset")},i,r,e=>l(e),e=>c(e)]}class DD extends rf{constructor(e){super(),of(this,e,OD,ID,Em,{writingStyle:6,tone:7})}}function MD(e){let t,n,o,i,r,s;function a(t){e[6](t)}function l(t){e[7](t)}let c={};return void 0!==e[0]&&(c.writingStyle=e[0]),void 0!==e[1]&&(c.tone=e[1]),n=new DD({props:c}),Ch.push((()=>Qh(n,"writingStyle",a))),Ch.push((()=>Qh(n,"tone",l))),n.$on("apply",e[3]),n.$on("reset",e[3]),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","scoped svelte-1heg5ak")},m(e,o){Gm(e,t,o),tf(n,t,null),s=!0},p(e,t){const r={};!o&&1&t&&(o=!0,r.writingStyle=e[0],Mh((()=>o=!1))),!i&&2&t&&(i=!0,r.tone=e[1],Mh((()=>i=!1))),n.$set(r)},i(e){s||(Wh(n.$$.fragment,e),e&&(r||Dh((()=>{r=Zh(t,pf,{y:-5,duration:500}),r.start()}))),s=!0)},o(e){Vh(n.$$.fragment,e),s=!1},d(e){e&&Wm(t),nf(n)}}}function RD(e){let t,n,o,i,r,s,a=e[2]&&MD(e);return{c(){t=Km("div"),n=Km("button"),n.textContent=`${chrome.i18n.getMessage("write_style_options_button_label")}`,o=Jm(),a&&a.c(),nh(n,"class","style-switch svelte-1heg5ak"),ch(n,"open",e[2]),ch(n,"active",e[0]||e[1]),nh(t,"role","button"),nh(t,"tabindex","-1")},m(l,c){Gm(l,t,c),Hm(t,n),Hm(t,o),a&&a.m(t,null),i=!0,r||(s=[Qm(n,"click",e[5]),Qm(t,"mousedown",th(eh(e[4])))],r=!0)},p(e,[o]){(!i||4&o)&&ch(n,"open",e[2]),(!i||3&o)&&ch(n,"active",e[0]||e[1]),e[2]?a?(a.p(e,o),4&o&&Wh(a,1)):(a=MD(e),a.c(),Wh(a,1),a.m(t,null)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh())},i(e){i||(Wh(a),i=!0)},o(e){Vh(a),i=!1},d(e){e&&Wm(t),a&&a.d(),r=!1,bm(s)}}}function ND(e,t,n){let o,i,r;Sm(e,L_,(e=>n(8,o=e)));let s=!1;bh((()=>{const e=o.writeStyle;e&&(Object.keys(tn).includes(e)?(n(1,r=e),n(0,i=null)):(n(0,i=e),n(1,r=null)))}));return[i,r,s,function(){const e=i||r||null;L_.update({writeState:h,writeStyle:e}),yO({type:lc,payload:{styleVariant:e}}),n(2,s=!1)},function(t){$h.call(this,e,t)},()=>n(2,s=!s),function(e){i=e,n(0,i)},function(e){r=e,n(1,r)}]}class PD extends rf{constructor(e){super(),of(this,e,ND,RD,Em,{})}}function UD(e){let t,n,o,i,r,s,a,l,c;const d=[HD,FD],u=[];function p(e,t){return e[2].isWriteSourceLanguageUnsupported?0:1}n=p(e),o=u[n]=d[n](e);let g=!e[2].isWriteSourceLanguageUnsupported&&jD(e);return{c(){t=Km("div"),o.c(),r=Jm(),g&&g.c(),s=Xm(),nh(t,"class","result-frame svelte-1t6fc8d"),nh(t,"dir",i=Pa(e[2].itaWriteSourceLanguage))},m(o,i){Gm(o,t,i),u[n].m(t,null),Gm(o,r,i),g&&g.m(o,i),Gm(o,s,i),a=!0,l||(c=Qm(t,"mousedown",eh(e[5])),l=!0)},p(e,r){let l=n;n=p(e),n===l?u[n].p(e,r):(zh(),Vh(u[l],1,1,(()=>{u[l]=null})),Gh(),o=u[n],o?o.p(e,r):(o=u[n]=d[n](e),o.c()),Wh(o,1),o.m(t,null)),(!a||4&r&&i!==(i=Pa(e[2].itaWriteSourceLanguage)))&&nh(t,"dir",i),e[2].isWriteSourceLanguageUnsupported?g&&(zh(),Vh(g,1,1,(()=>{g=null})),Gh()):g?(g.p(e,r),4&r&&Wh(g,1)):(g=jD(e),g.c(),Wh(g,1),g.m(s.parentNode,s))},i(e){a||(Wh(o),Wh(g),a=!0)},o(e){Vh(o),Vh(g),a=!1},d(e){e&&(Wm(t),Wm(r),Wm(s)),u[n].d(),g&&g.d(e),l=!1,c()}}}function qD(e){let t,n,o;return n=new Uy({}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","loading-spinner-container svelte-1t6fc8d")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p:fm,i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function BD(e){let t,n;return t=new E_({props:{error:e[2].error}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2].error),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function FD(e){let t,n,o=Ry(e[2].improvedSnippet)+"";return{c(){t=new uh(!1),n=Xm(),t.a=n},m(e,i){t.m(o,e,i),Gm(e,n,i)},p(e,n){4&n&&o!==(o=Ry(e[2].improvedSnippet)+"")&&t.p(o)},i:fm,o:fm,d(e){e&&(Wm(n),t.d())}}}function HD(e){let t,n;return t=new E_({props:{error:{error:hf}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function jD(e){let t,n,o,i,r,s,a,l=e[1]&&zD(e);return i=new SD({props:{requestedLang:e[2].itaWriteSourceLanguage,sourceText:e[2].originalSnippet,improvedText:e[2].improvedSnippet,platformBehaviour:e[0]}}),s=new Hy({props:{targetLang:e[2].itaWriteSourceLanguage,text:e[2].improvedSnippet,platformBehaviour:e[0]}}),{c(){t=Km("div"),l&&l.c(),n=Jm(),o=Km("div"),ef(i.$$.fragment),r=Jm(),ef(s.$$.fragment),nh(o,"class","dl-options-container svelte-1t6fc8d"),nh(t,"class","dl-btn-group svelte-1t6fc8d"),ch(t,"is-input",!e[1])},m(e,c){Gm(e,t,c),l&&l.m(t,null),Hm(t,n),Hm(t,o),tf(i,o,null),Hm(o,r),tf(s,o,null),a=!0},p(e,o){e[1]?l?l.p(e,o):(l=zD(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const r={};4&o&&(r.requestedLang=e[2].itaWriteSourceLanguage),4&o&&(r.sourceText=e[2].originalSnippet),4&o&&(r.improvedText=e[2].improvedSnippet),1&o&&(r.platformBehaviour=e[0]),i.$set(r);const c={};4&o&&(c.targetLang=e[2].itaWriteSourceLanguage),4&o&&(c.text=e[2].improvedSnippet),1&o&&(c.platformBehaviour=e[0]),s.$set(c),(!a||2&o)&&ch(t,"is-input",!e[1])},i(e){a||(Wh(i.$$.fragment,e),Wh(s.$$.fragment,e),a=!0)},o(e){Vh(i.$$.fragment,e),Vh(s.$$.fragment,e),a=!1},d(e){e&&Wm(t),l&&l.d(),nf(i),nf(s)}}}function zD(e){let t,n,o;return{c(){t=Km("button"),t.textContent=`${chrome.i18n.getMessage("replace_in_field")}`,nh(t,"class","svelte-1t6fc8d")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[3]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function GD(e){let t,n,o,i,r,s,a,l,c;o=new vD({}),r=new PD({});const d=[BD,qD,UD],u=[];function p(e,t){return e[2].error?0:null==e[2]||e[2].writeState===h?1:e[2].improvedSnippet?2:-1}return~(a=p(e))&&(l=u[a]=d[a](e)),{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),ef(r.$$.fragment),s=Jm(),l&&l.c(),nh(n,"class","write-toolbar-container svelte-1t6fc8d")},m(e,l){Gm(e,t,l),Hm(t,n),tf(o,n,null),Hm(n,i),tf(r,n,null),Hm(t,s),~a&&u[a].m(t,null),c=!0},p(e,[n]){let o=a;a=p(e),a===o?~a&&u[a].p(e,n):(l&&(zh(),Vh(u[o],1,1,(()=>{u[o]=null})),Gh()),~a?(l=u[a],l?l.p(e,n):(l=u[a]=d[a](e),l.c()),Wh(l,1),l.m(t,null)):l=null)},i(e){c||(Wh(o.$$.fragment,e),Wh(r.$$.fragment,e),Wh(l),c=!0)},o(e){Vh(o.$$.fragment,e),Vh(r.$$.fragment,e),Vh(l),c=!1},d(e){e&&Wm(t),nf(o),nf(r),~a&&u[a].d()}}}function WD(e,t,n){let o;Sm(e,L_,(e=>n(2,o=e)));let{platformBehaviour:i}=t,{isInput:r=!1}=t,{closeWindow:s}=t;return e.$$set=e=>{"platformBehaviour"in e&&n(0,i=e.platformBehaviour),"isInput"in e&&n(1,r=e.isInput),"closeWindow"in e&&n(4,s=e.closeWindow)},[i,r,o,()=>{var e,t;OA(o.inputElement,{html:null!==(e=o.improvedSnippet)&&void 0!==e?e:"",text:null!==(t=o.improvedSnippet)&&void 0!==t?t:""},!0),Rn({action:Ln.dlTrackReplaceInField,payload:{replacementType:mn}}),s()},s,function(t){$h.call(this,e,t)}]}class VD extends rf{constructor(e){super(),of(this,e,WD,GD,Em,{platformBehaviour:0,isInput:1,closeWindow:4})}}function KD(e){let t,n;return t=new VD({props:{platformBehaviour:e[2],isInput:e[3],closeWindow:e[6]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),8&n&&(o.isInput=e[3]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function ZD(e){let t,n;return t=new gD({props:{settings:Pv,platformBehaviour:e[2],isInput:e[3],closeWindow:e[6]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),8&n&&(o.isInput=e[3]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function YD(e){let t,n,o,i;const r=[ZD,KD],s=[];function a(e,t){return e[0]===dt.translate?0:e[0]===dt.write?1:-1}return~(n=a(e))&&(o=s[n]=r[n](e)),{c(){t=Km("div"),o&&o.c(),nh(t,"class","tooltip-container svelte-1f7gk72"),nh(t,"data-qa","deepl-tooltip-container")},m(e,o){Gm(e,t,o),~n&&s[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&s[n].p(e,i):(o&&(zh(),Vh(s[l],1,1,(()=>{s[l]=null})),Gh()),~n?(o=s[n],o?o.p(e,i):(o=s[n]=r[n](e),o.c()),Wh(o,1),o.m(t,null)):o=null)},i(e){i||(Wh(o),i=!0)},o(e){Vh(o),i=!1},d(e){e&&Wm(t),~n&&s[n].d()}}}function JD(e){let t,n,o;return n=new NO({props:{closeWindow:e[6],extensionContext:e[5],textProcessingMode:e[0],isInput:e[3],onChangeTextProcessingMode:e[7],error:e[4].error,$$slots:{default:[YD]},$$scope:{ctx:e}}}),{c(){t=Km("div"),ef(n.$$.fragment)},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.textProcessingMode=e[0]),8&t&&(o.isInput=e[3]),16&t&&(o.error=e[4].error),4109&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function XD(e,t,n){let o,i=fm,r=()=>(i(),i=$m(a,(e=>n(4,o=e))),a);e.$$.on_destroy.push((()=>i()));let{closeTooltip:s}=t,{websiteSettings:a}=t;r();let{platformBehaviour:l=at.default}=t,{isInput:c=!1}=t,{textProcessingMode:d}=t,{setPositioningStatus:u}=t,p=I.itaReviewPopup;return e.$$set=e=>{"closeTooltip"in e&&n(8,s=e.closeTooltip),"websiteSettings"in e&&r(n(1,a=e.websiteSettings)),"platformBehaviour"in e&&n(2,l=e.platformBehaviour),"isInput"in e&&n(3,c=e.isInput),"textProcessingMode"in e&&n(0,d=e.textProcessingMode),"setPositioningStatus"in e&&n(9,u=e.setPositioningStatus)},e.$$.update=()=>{532&e.$$.dirty&&!o.translationState&&l===at.default&&u&&(u(!0),setTimeout((()=>{u(!1)}),600))},[d,a,l,c,o,p,function(){s()},e=>{switch(e){case dt.translate:n(0,d=dt.translate),Rn(c?{action:Sn.dlTriggerTranslateInput}:{action:Sn.dlTriggerTranslateInline});break;case dt.write:n(0,d=dt.write),Rn(c?{action:xn.dlTriggerImproveInput}:{action:xn.dlTriggerImproveInline});break;default:return}},s,u]}class QD extends rf{constructor(e){super(),of(this,e,XD,JD,Em,{closeTooltip:8,websiteSettings:1,platformBehaviour:2,isInput:3,textProcessingMode:0,setPositioningStatus:9})}}function eM(e){let t,n,o,i,r,s,a,l;return r=new QD({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[4],setPositioningStatus:e[8],isInput:e[3]}}),{c(){t=Km("div"),n=Km("div"),o=Jm(),i=Km("div"),ef(r.$$.fragment),nh(n,"class","tooltip-drag-handle svelte-1lexz31"),nh(i,"class","review-window-body svelte-1lexz31"),nh(t,"data-qa","review-translate-write-window"),nh(t,"class","review-window-wrapper svelte-1lexz31"),nh(t,"role","dialog"),nh(t,"style",e[7]),nh(t,"draggable",e[6]),nh(t,"dir",Pa())},m(c,d){Gm(c,t,d),Hm(t,n),Hm(t,o),Hm(t,i),tf(r,i,null),e[18](t),s=!0,a||(l=[Qm(n,"mouseover",e[9]),Qm(n,"mouseout",e[10]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[17]),Qm(t,"dragstart",e[11])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),16&n&&(o.textProcessingMode=e[4]),8&n&&(o.isInput=e[3]),r.$set(o),(!s||128&n)&&nh(t,"style",e[7]),(!s||64&n)&&nh(t,"draggable",e[6])},i(e){s||(Wh(r.$$.fragment,e),s=!0)},o(e){Vh(r.$$.fragment,e),s=!1},d(n){n&&Wm(t),nf(r),e[18](null),a=!1,bm(l)}}}function tM(e,t,n){let o;Sm(e,Pv,(e=>n(16,o=e))),Th("deepl_settings",Pv),Th("text_direction",Pa());let i,r,s,a,l,c,{closeWindow:d}=t,{websiteSettings:u}=t,{replaceElement:p}=t,{dragContainerTo:g}=t,{platformBehaviour:m=at.default}=t,{isInput:h=!1}=t,{textProcessingMode:f}=t,v=!1,_=!1,w="visibility: hidden; opacity:0; height:0;";let b={x:0,y:0};function y(e){let t=My({dropEvent:e,document:document,dragConfig:{dragOffset:b,dragElementRect:l,dragBarWidth:16}});t&&g(t)}bh((()=>{n(15,c=o.isLoggedIn),setTimeout((()=>{n(7,w="")}),100),document.addEventListener("dragover",Oy),document.addEventListener("drop",y),a=N_(r,(({clientHeight:e})=>{n(14,s=e)}))})),yh((()=>{document.removeEventListener("dragover",Oy),document.removeEventListener("drop",y),a&&a()}));return e.$$set=e=>{"closeWindow"in e&&n(0,d=e.closeWindow),"websiteSettings"in e&&n(1,u=e.websiteSettings),"replaceElement"in e&&n(12,p=e.replaceElement),"dragContainerTo"in e&&n(13,g=e.dragContainerTo),"platformBehaviour"in e&&n(2,m=e.platformBehaviour),"isInput"in e&&n(3,h=e.isInput),"textProcessingMode"in e&&n(4,f=e.textProcessingMode)},e.$$.update=()=>{var t,n;98305&e.$$.dirty&&!1===c&&!0===o.isLoggedIn&&d(),65536&e.$$.dirty&&(t=o.inlineTranslateTooltipPosition,i=p(s,t)),16384&e.$$.dirty&&(n=s,i=_||m===at.gdocs?p(n,o.inlineTranslateTooltipPosition):i)},[d,u,m,h,f,r,v,w,e=>{_=e},function(){n(6,v=!0)},function(){n(6,v=!1)},function(e){const t=Dy(e,m);b=t.dragOffset,l=t.dragElementRect},p,g,s,c,o,()=>d(),function(e){Ch[e?"unshift":"push"]((()=>{r=e,n(5,r)}))}]}class nM extends rf{constructor(e){super(),of(this,e,tM,eM,Em,{closeWindow:0,websiteSettings:1,replaceElement:12,dragContainerTo:13,platformBehaviour:2,isInput:3,textProcessingMode:4})}}var oM;class iM{constructor(e){oM.set(this,void 0),this.createDOM=(e,t,o,i=!1)=>{const{deepl_inline_ui:r}=U;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===at.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let s=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let a="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(r.z_index-100),l=`position: absolute; top: ${s.y}px; left: ${s.x-200}px; z-index: ${r.z_index-100};`;switch(this.domElement.platformBehaviour){case at.gdocs:l+="top: 600px; left: 10px;";break;case at.default:default:l+=""}this.domElement.shadowContainer.style.cssText=a,this.domElement.container.style.cssText=l,this.domElement.mainComponent=new nM({target:this.domElement.container,props:{closeWindow:t,websiteSettings:o,replaceElement:(t,o)=>{var i;s=e(this.domElement.selectionRange);const r={coords:s,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let a=o;const l=Ay(r),[c,d]=Iy(o),u=null!==(i=n(this,oM,"f"))&&void 0!==i?i:{x:0,y:0};if(this.domElement.platformBehaviour===at.gdocs){for(const e of d)if(Ly(e,r)){ky(e,r,u);break}}else for(const e of c)if(Ly(e,r)){a="middle"!==e?e:void 0,Cy(e,r,u);break}return Object.assign(Object.assign({},l),{current:a})},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo,isInput:i}})},this.dragContainerTo=e=>{var t,i,r,s;o(this,oM,{y:parseInt(this.domElement.container.style.top)-e.y+(null!==(i=null===(t=n(this,oM,"f"))||void 0===t?void 0:t.y)&&void 0!==i?i:0),x:parseInt(this.domElement.container.style.left)-e.x+(null!==(s=null===(r=n(this,oM,"f"))||void 0===r?void 0:r.x)&&void 0!==s?s:0)},"f"),this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.platformBehaviour=at.default,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}}function rM(e){let t;return{c(){t=Km("div"),nh(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}oM=new WeakMap,iM.HTML_TAG_NAME="deepl-review-translate-write-window",iM.createElement=(e=document)=>{const t=e.createElement(iM.HTML_TAG_NAME),n=new iM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};function sM(e,t,n){let o;var i,r,s,a;let l,c,d;Sm(e,Pv,(e=>n(5,o=e))),Th("text_direction",Pa());const u=()=>{var e;const t=window.location.pathname,n=hN(t);if(n){const t=fN();if(!t)return;const o=vN(t)||_N(t,n);let i=!1;if((null==d?void 0:d.id)!==n){const r=o.getTicketLanguageInformation();i=t.id===(null==d?void 0:d.paneId)||!(null!==(e=null==r?void 0:r.hasAttemptedLanguageDetection)&&void 0!==e&&e),d={id:n,paneId:t.id}}o&&o.processRefreshUI(i)}},p=e=>{if(e.action===bc.uiActions.dlChangeActiveTabStatus){if(e.payload.isActive)g();else{if(!document.hidden)return!1;m()}return!1}return!1},g=()=>{l&&clearInterval(l),l=setInterval(u,800)},m=()=>{clearInterval(l)};bh((()=>{var e,t;const i=o.zendeskSuccessfulTranslations>=Tt;n(4,c=null===(t=null===(e=null==o?void 0:o.featureSet)||void 0===e?void 0:e.customizations)||void 0===t?void 0:t.includes("zendesk")),i&&!c&&Dm(Pv,o.isZendeskEnabled=!1,o),h()}));const h=()=>{g(),chrome.runtime.onMessage.addListener(p)};return yh((()=>{l&&m(),chrome.runtime.onMessage.removeListener(p),bN()})),e.$$.update=()=>{35&e.$$.dirty&&!(null===n(1,r=null===n(0,i=null==o?void 0:o.featureSet)||void 0===i?void 0:i.customizations)||void 0===r?void 0:r.includes("zendesk"))&&o.zendeskSuccessfulTranslations>=Tt&&(Dm(Pv,o.isZendeskEnabled=!1,o),yN()),60&e.$$.dirty&&!1===c&&(null===n(3,a=null===n(2,s=null==o?void 0:o.featureSet)||void 0===s?void 0:s.customizations)||void 0===a?void 0:a.includes("zendesk"))&&(n(4,c=!0),Dm(Pv,o.isZendeskEnabled=!0,o),g()),32&e.$$.dirty&&(o.isZendeskEnabled?g():yN())},[i,r,s,a,c,o]}class aM extends rf{constructor(e){super(),of(this,e,sM,rM,Em,{})}}class lM{static HTML_TAG_NAME="deepl-zendesk-controller";static createElement=(e=document)=>{const t=e.createElement(lM.HTML_TAG_NAME),n=new lM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t.getActiveTermbases=n.getActiveTermbases,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new aM({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()};getActiveTermbases=()=>this.domElement.mainComponent.getActiveTermbases()}function cM(e){let t,n,o,i,r;return n=new Nw({props:{items:e[2],selectedOption:e[1],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:"zendesk",isFullWidth:e[0],direction:"up"}}),n.$on("valueselected",e[3]),{c(){t=Km("div"),ef(n.$$.fragment)},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=Qm(t,"mousedown",th(eh(e[5]))),i=!0)},p(e,[t]){const o={};2&t&&(o.selectedOption=e[1]),1&t&&(o.isFullWidth=e[0]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,r()}}}function dM(e,t,n){let o;const i=Eh();let{value:r}=t,{isFullWidth:s=!1}=t;const a=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}];return e.$$set=e=>{"value"in e&&n(4,r=e.value),"isFullWidth"in e&&n(0,s=e.isFullWidth)},e.$$.update=()=>{16&e.$$.dirty&&n(1,o=r?a.find((e=>e.value===r)):a.find((e=>"auto"===e.value)))},[s,o,a,function(e){var t;(null===(t=e.detail.selectedOption)||void 0===t?void 0:t.value)!==r&&i("selection",e.detail)},r,function(t){$h.call(this,e,t)}]}class uM extends rf{constructor(e){super(),of(this,e,dM,cM,Em,{value:4,isFullWidth:0})}}function pM(e){let t,n,o,i,r,s,a,l,c;return i=new E_({props:{error:e[2]}}),{c(){t=Km("div"),n=Km("button"),o=Jm(),ef(i.$$.fragment),nh(n,"class","close-button svelte-6y44uj"),nh(t,"class","dl-zendesk-error-message svelte-6y44uj"),nh(t,"dir",Pa())},m(r,s){Gm(r,t,s),Hm(t,n),Hm(t,o),tf(i,t,null),a=!0,l||(c=[Qm(n,"click",e[8]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[8])],l=!0)},p(e,t){const n={};4&t[0]&&(n.error=e[2]),i.$set(n)},i(e){a||(Wh(i.$$.fragment,e),Dh((()=>{a&&(s&&s.end(1),r=Zh(t,pf,{y:-5,duration:300}),r.start())})),a=!0)},o(e){Vh(i.$$.fragment,e),r&&r.invalidate(),s=Yh(t,pf,{y:-5,duration:300}),a=!1},d(e){e&&Wm(t),nf(i),e&&s&&s.end(),l=!1,bm(c)}}}function gM(e){let t,n;return t=new uM({props:{value:e[6].zendeskFormality}}),t.$on("selection",e[9]),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.value=e[6].zendeskFormality),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function mM(e){let t,n,o;return{c(){t=Km("button"),t.innerHTML='<span class="svelte-6y44uj"></span>',nh(t,"class","dl-zendesk-input-icon svelte-6y44uj"),ch(t,"is-active",e[0]),ch(t,"is-loading",e[1]),ch(t,"is-language-mismatching",e[3])},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[7]),n=!0)},p(e,n){1&n[0]&&ch(t,"is-active",e[0]),2&n[0]&&ch(t,"is-loading",e[1]),8&n[0]&&ch(t,"is-language-mismatching",e[3])},d(e){e&&Wm(t),n=!1,o()}}}function hM(e){let t,n,o,i,r,s=e[2]&&pM(e),a=e[4]&&gM(e);return i=new gb({props:{tooltip:e[5],zIndex:"0",$$slots:{default:[mM]},$$scope:{ctx:e}}}),{c(){s&&s.c(),t=Jm(),n=Km("div"),a&&a.c(),o=Jm(),ef(i.$$.fragment),nh(n,"class","dl-icons-holder svelte-6y44uj"),nh(n,"dir",Pa()),ch(n,"has-formality",e[4])},m(e,l){s&&s.m(e,l),Gm(e,t,l),Gm(e,n,l),a&&a.m(n,null),Hm(n,o),tf(i,n,null),r=!0},p(e,l){e[2]?s?(s.p(e,l),4&l[0]&&Wh(s,1)):(s=pM(e),s.c(),Wh(s,1),s.m(t.parentNode,t)):s&&(zh(),Vh(s,1,1,(()=>{s=null})),Gh()),e[4]?a?(a.p(e,l),16&l[0]&&Wh(a,1)):(a=gM(e),a.c(),Wh(a,1),a.m(n,o)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh());const c={};32&l[0]&&(c.tooltip=e[5]),11&l[0]|8&l[1]&&(c.$$scope={dirty:l,ctx:e}),i.$set(c),(!r||16&l[0])&&ch(n,"has-formality",e[4])},i(e){r||(Wh(s),Wh(a),Wh(i.$$.fragment,e),r=!0)},o(e){Vh(s),Vh(a),Vh(i.$$.fragment,e),r=!1},d(e){e&&(Wm(t),Wm(n)),s&&s.d(e),a&&a.d(),nf(i)}}}function fM(e,t,n){let o,r,s;Sm(e,Pv,(e=>n(6,s=e)));var a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("text_direction",Pa());let l,c,d,u,{controller:p}=t,{editable:g}=t,m=!1,h=!1,f=!1,v=!1,_="",w="",b=!1;const y=()=>{n(0,m=!0)},E=()=>{n(0,m=!1)};function T(e){if(e.action===bc.translate.dlTriggerTranslationShortcut){if(document.activeElement!==g)return!1;try{Rn({action:Ln.dlTrackUseOfShortcut,payload:{shortcutType:De,location:ee}})}catch(e){}return x(),!1}return!1}const x=()=>a(void 0,void 0,void 0,(function*(){if(v)return;const e=Ep(),t=()=>{if(e){const e=window.getSelection().toString();navigator.clipboard.writeText(e).then((()=>{$(e)})).catch((e=>{}))}else{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});h=!0,g.dispatchEvent(e)}},n=window.getSelection();let o;o=e?n&&n.anchorNode&&"#text"==n.anchorNode.nodeName&&"Range"==n.type&&g.contains(n.anchorNode):n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&g.contains(n.baseNode),0!==g.innerText.trim().length&&(o?t():(yield SL(g),setTimeout(t,300)))})),$=e=>a(void 0,void 0,void 0,(function*(){var t;h=!1,n(1,v=!0),n(3,b=!1);const i=null===(t=p.getTicketLanguageInformation())||void 0===t?void 0:t.language,r=p.getInputWorkingArea();r.innerHTML=Lg(e);const[a,l]=yield Qq(Object.assign({element:r,targetLang:i,content:e},o&&["formal","informal"].includes(s.zendeskFormality)&&{formality:s.zendeskFormality}));l?(n(2,d=l),pB({eventType:bt,controller:p,error:l.error||l.message})):a&&k(a,e),n(1,v=!1)})),S=e=>a(void 0,void 0,void 0,(function*(){var t;if(!h)return;h=!1,n(1,v=!0),n(3,b=!1);const i=null===(t=p.getTicketLanguageInformation())||void 0===t?void 0:t.language,r=e.clipboardData.getData("text/html"),a=p.getInputWorkingArea(),[l,c]=yield Qq(Object.assign({element:a,targetLang:i,content:r},o&&["formal","informal"].includes(s.zendeskFormality)&&{formality:s.zendeskFormality}));c?(n(2,d=c),pB({eventType:bt,controller:p,error:c.error||c.message})):l&&k(l,r)})),C=()=>{if(!f)return;f=!1;window.getSelection().collapse(null)},k=(e,t)=>{const n=Lg(e);if(Ep())document.execCommand("insertText",!1,n),f=!0;else{const e=new DataTransfer;e.setData("text/html",n);const t=new ClipboardEvent("paste",{bubbles:!0,clipboardData:e});f=!0,g.dispatchEvent(t)}pB({eventType:wt,controller:p,sourceTextLength:t.length,targetTextLength:n.length})},L=()=>{const e=g.innerText;e!==w&&(w=e,u&&(clearTimeout(u),u=void 0),u=setTimeout(A,400))},A=()=>a(void 0,void 0,void 0,(function*(){const e=p.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=g.innerText;if(t.trim()){let o=yield La(t),i=e.language;o=Da(o),i=Da(i);let r=!1;o&&i&&o!==i&&(r=!0),b!==r&&n(3,b=r)}else n(3,b=!1),I()})),I=()=>{l&&l.resetTooltip()};return bh((()=>{chrome.runtime.onMessage.addListener(T),Rn({action:$n.dlCheckCommandShortcuts}).then((e=>{n(14,_=e?e.filter((e=>e.name==De))[0].shortcut:"")})),g.addEventListener("focus",y),g.addEventListener("blur",E),g.addEventListener("copy",S),g.addEventListener("paste",C),g.addEventListener("keydown",L),l=jN(p),document.activeElement===g&&y()})),yh((()=>{chrome.runtime.onMessage.removeListener(T),g&&(g.removeEventListener("focus",y),g.removeEventListener("blur",E),g.removeEventListener("copy",S),g.removeEventListener("paste",C),g.removeEventListener("keydown",L),l&&(l.cleanupDOM(),l.remove()))})),e.$$set=e=>{"controller"in e&&n(10,p=e.controller),"editable"in e&&n(11,g=e.editable)},e.$$.update=()=>{32768&e.$$.dirty[0]&&n(4,o=Na(c)),49152&e.$$.dirty[0]&&n(5,r=i.find((e=>e.langCode===c))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(_?` (${_})`:""):"")},l&&l.setIsLanguageMismatching(b),[m,v,d,b,o,r,s,x,()=>{n(2,d=void 0)},e=>{var t;const n=null===(t=e.detail.selectedOption)||void 0===t?void 0:t.value;Dm(Pv,s.zendeskFormality=n,s)},p,g,e=>{n(15,c=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&g.contains(e.baseNode)},_,c]}class vM extends rf{constructor(e){super(),of(this,e,fM,hM,Em,{controller:10,editable:11,updateTargetLanguage:12,getInputHasSelection:13},null,[-1,-1])}get updateTargetLanguage(){return this.$$.ctx[12]}get getInputHasSelection(){return this.$$.ctx[13]}}class _M{static HTML_TAG_NAME="deepl-zendesk-input-icon";static createElement=(e=document)=>{const t=e.createElement(_M.HTML_TAG_NAME),n=new _M(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getInputHasSelection=n.getInputHasSelection,t.updateTargetLanguage=n.updateTargetLanguage,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,editable:t})=>{this.domElement.mainComponent=new vM({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})};getInputHasSelection=()=>this.domElement.mainComponent.getInputHasSelection();updateTargetLanguage=e=>{this.domElement.mainComponent?.updateTargetLanguage(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function wM(e,t,n){const o=e.slice();return o[17]=t[n],o[19]=n,o}function bM(e){let t,n,o=!e[0]&&EM(e),i=Xh(e[3]),r=[];for(let t=0;t<i.length;t+=1)r[t]=$M(wM(e,i,t));return{c(){t=Km("div"),o&&o.c(),n=Jm();for(let e=0;e<r.length;e+=1)r[e].c();nh(t,"class","dl-zendesk-translation-placeholder svelte-1xx4hw"),nh(t,"dir",Pa()),ch(t,"loading-skeleton",e[0])},m(e,i){Gm(e,t,i),o&&o.m(t,null),Hm(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null)},p(e,s){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,s):(o=EM(e),o.c(),o.m(t,n)),8&s){let n;for(i=Xh(e[3]),n=0;n<i.length;n+=1){const o=wM(e,i,n);r[n]?r[n].p(o,s):(r[n]=$M(o),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=i.length}1&s&&ch(t,"loading-skeleton",e[0])},i:fm,o:fm,d(e){e&&Wm(t),o&&o.d(),Vm(r,e)}}}function yM(e){let t,n,o;return n=new E_({props:{error:e[2],close:e[6]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","dl-zendesk-translation-placeholder has-error svelte-1xx4hw")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};4&t&&(o.error=e[2]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function EM(e){let t,n,o;return{c(){t=Km("button"),nh(t,"class","close-button svelte-1xx4hw")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[5]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function TM(e){let t,n=Lg(e[17])+"";return{c(){t=Km("span"),nh(t,"class","svelte-1xx4hw")},m(e,o){Gm(e,t,o),t.innerHTML=n},p(e,o){8&o&&n!==(n=Lg(e[17])+"")&&(t.innerHTML=n)},d(e){e&&Wm(t)}}}function xM(e){let t;return{c(){t=Km("br")},m(e,n){Gm(e,t,n)},d(e){e&&Wm(t)}}}function $M(e){let t,n,o=e[17]&&TM(e),i=e[19]<e[3].length-1&&xM();return{c(){o&&o.c(),t=Jm(),i&&i.c(),n=Xm()},m(e,r){o&&o.m(e,r),Gm(e,t,r),i&&i.m(e,r),Gm(e,n,r)},p(e,r){e[17]?o?o.p(e,r):(o=TM(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[19]<e[3].length-1?i||(i=xM(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&(Wm(t),Wm(n)),o&&o.d(e),i&&i.d(e)}}}function SM(e){let t,n,o,i,r,s,a,l,c;const d=[yM,bM],u=[];function p(e,t){return e[2]?0:e[1]||e[0]?1:-1}return~(i=p(e))&&(r=u[i]=d[i](e)),{c(){t=Km("div"),n=Km("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=Jm(),r&&r.c(),s=Xm(),nh(n,"class","dl-zendesk-translate-this-ticket svelte-1xx4hw"),nh(t,"dir",Pa())},m(r,d){Gm(r,t,d),Hm(t,n),Gm(r,o,d),~i&&u[i].m(r,d),Gm(r,s,d),a=!0,l||(c=Qm(n,"click",e[4]),l=!0)},p(e,[t]){let n=i;i=p(e),i===n?~i&&u[i].p(e,t):(r&&(zh(),Vh(u[n],1,1,(()=>{u[n]=null})),Gh()),~i?(r=u[i],r?r.p(e,t):(r=u[i]=d[i](e),r.c()),Wh(r,1),r.m(s.parentNode,s)):r=null)},i(e){a||(Wh(r),a=!0)},o(e){Vh(r),a=!1},d(e){e&&(Wm(t),Wm(o),Wm(s)),~i&&u[i].d(e),l=!1,c()}}}function CM(e,t,n){let o,i;Sm(e,Pv,(e=>n(14,i=e)));var r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("text_direction",Pa());let s,{controller:a}=t,{message:l}=t,c=!1,d=!1,u=!1,p="",g=!1;const m=({trigger:e})=>r(void 0,void 0,void 0,(function*(){var t;n(1,u=!1),n(0,c=!0),n(2,s=void 0);let o=AN(l).innerText;n(11,p=o);const[r,d]=yield eB({targetLang:i.selectedTargetLanguage,sourceLang:null===(t=a.getTicketLanguageInformation())||void 0===t?void 0:t.language,text:o,trigger:e});if(d)n(11,p=""),n(1,u=!1),n(2,s=d),g=!0,pB({eventType:bt,controller:a,error:d.error||d.message});else if(r){n(11,p=r),n(1,u=!0),pB({eventType:_t,controller:a,sourceTextLength:o.length,targetTextLength:p.length})}else n(1,u=!0);n(0,c=!1)}));return e.$$set=e=>{"controller"in e&&n(7,a=e.controller),"message"in e&&n(8,l=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=p.split("\n"))},[c,u,s,o,()=>{c||m({trigger:y})},()=>{n(1,u=!1),n(0,c=!1),n(11,p=""),a.getIsAutoTranslatedEnabled()&&(d=!0)},()=>{n(2,s=void 0)},a,l,()=>{!a.getIsAutoTranslatedEnabled()||u||c||d||g||m({trigger:b})},()=>{!u||c||d||m({trigger:y})},p]}class kM extends rf{constructor(e){super(),of(this,e,CM,SM,Em,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class LM{static HTML_TAG_NAME="deepl-zendesk-message-controller";static createElement=(e=document)=>{const t=e.createElement(LM.HTML_TAG_NAME),n=new LM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.processRefreshUI=n.processRefreshUI,t.triggerTranslateAgain=n.triggerTranslateAgain,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,message:t})=>{this.domElement.mainComponent=new kM({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})};processRefreshUI=()=>{this.domElement.mainComponent.processRefreshUI()};triggerTranslateAgain=()=>{this.domElement.mainComponent.triggerTranslateAgain()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function AM(e){let t,n,o,i,r,s,a,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=Km("div"),n=Km("button"),o=Jm(),i=Ym(d),nh(n,"class","dismiss-tooltip svelte-p7jbvt"),nh(t,"class","dl-zendesk-submit-button-tooltip svelte-p7jbvt"),rh(t,"max-width",(e[1].width||0)+"px"),rh(t,"bottom",e[0].height+12+"px"),nh(t,"dir",Pa())},m(r,s){Gm(r,t,s),Hm(t,n),Hm(t,o),Hm(t,i),a=!0,l||(c=Qm(n,"click",e[4]),l=!0)},p(e,n){(!a||2&n)&&rh(t,"max-width",(e[1].width||0)+"px"),(!a||1&n)&&rh(t,"bottom",e[0].height+12+"px")},i(e){a||(Dh((()=>{a&&(s&&s.end(1),r=Zh(t,pf,{y:-5,duration:500}),r.start())})),a=!0)},o(e){r&&r.invalidate(),s=Yh(t,pf,{y:-5,duration:500}),a=!1},d(e){e&&Wm(t),e&&s&&s.end(),l=!1,c()}}}function IM(e){let t,n,o=e[2]&&!e[3]&&AM(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&Wh(o,1)):(o=AM(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}function OM(e,t,n){Th("text_direction",Pa());let{coords:o}=t,{containerCoords:i}=t,r=!1,s=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,i=e.containerCoords)},[o,i,r,s,()=>{n(3,s=!0)},e=>{n(2,r=e)},()=>{n(2,r=!1),n(3,s=!1)}]}class DM extends rf{constructor(e){super(),of(this,e,OM,IM,Em,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class MM{static HTML_TAG_NAME="deepl-zendesk-submit-button-tooltip";static createElement=(e=document)=>{const t=e.createElement(MM.HTML_TAG_NAME),n=new MM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setIsLanguageMismatching=n.setIsLanguageMismatching,t.resetTooltip=n.resetTooltip,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({coords:e,containerCoords:t})=>{this.domElement.mainComponent=new DM({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})};setIsLanguageMismatching=e=>{this.domElement.mainComponent?.setIsLanguageMismatching(e)};resetTooltip=()=>{this.domElement.mainComponent?.resetTooltip()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function RM(e){let t,n,o;return{c(){t=Km("div"),n=Jm(),o=Km("div"),nh(t,"class","dl-zendesk-icon svelte-i3vxpb"),nh(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,i){Gm(e,t,i),Gm(e,n,i),Gm(e,o,i)},p:fm,i:fm,o:fm,d(e){e&&(Wm(t),Wm(n),Wm(o))}}}function NM(e,t,n){let o;Sm(e,Pv,(e=>n(17,o=e)));var r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("text_direction",Pa());let s,{pane:a}=t,{ticketId:l}=t,{controller:c}=t,d={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1},u=!1;const p={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},g=(e,t)=>{p[e]=t},m=()=>{for(const e of Object.keys(p))if(p[e]){p[e]()&&(p[e]=void 0)}},h=()=>r(void 0,void 0,void 0,(function*(){if(!s)return;let e;try{switch(s){case yt:e=yield IN(a);break;case Et:e=yield ON(a)}}catch(e){ja()}e&&(e=Da(e),n(13,d.hasAttemptedLanguageDetection=!0,d),n(13,d.language=e,d),n(13,d.isDetected=!0,d),n(13,d.isSupported=!!i.find((t=>t.langCode===e)),d),pB({eventType:mt,controller:c}),zN(a))}));return bh((()=>{pB({eventType:gt,controller:c}),g("ticketTypeDetection",(()=>{const e=SN(a);return!!e&&(s=e,h(),!0)}))})),e.$$set=e=>{"pane"in e&&n(0,a=e.pane),"ticketId"in e&&n(1,l=e.ticketId),"controller"in e&&n(2,c=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&g("toolbarLanguageUpdate",(()=>DN(a,{language:d.language,isDetected:d.isDetected,isSupported:d.isSupported}))),8193&e.$$.dirty&&(g("inputIconLanguageUpdate",(()=>NN(a,d.language))),g("topIconLanguageUpdate",(()=>RN(a)))),16385&e.$$.dirty&&g("toolbarAutoTranslateStatus",(()=>{MN(a,{isEnabled:u})}))},[a,l,c,()=>a,()=>l,()=>d,()=>u,e=>{n(13,d.language=e.language,d),n(13,d.isDetected=e.isDetected,d),n(13,d.isSupported=e.isSupported,d)},e=>{n(14,u=e)},()=>s,e=>{s=e},(e=!1)=>r(void 0,void 0,void 0,(function*(){if(e&&n(13,d={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1}),d.hasAttemptedLanguageDetection||(yield h()),wN(c,o.isZendeskEnabled),d.isSupported&&o.isZendeskEnabled){PN(c);for(const e of CN(a)){const t=UN(e);t&&t.processRefreshUI()}}FN(a),m()})),()=>{HN(a)},d,u]}class PM extends rf{constructor(e){super(),of(this,e,NM,RM,Em,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class UM{static HTML_TAG_NAME="deepl-zendesk-ticket-controller";static createElement=(e=document)=>{const t=e.createElement(UM.HTML_TAG_NAME),n=new UM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getTicketId=n.getTicketId,t.getPane=n.getPane,t.getTicketLanguageInformation=n.getTicketLanguageInformation,t.getIsAutoTranslatedEnabled=n.getIsAutoTranslatedEnabled,t.setIsAutoTranslateEnabled=n.setIsAutoTranslateEnabled,t.getInputWorkingArea=n.getInputWorkingArea,t.setLanguageInformation=n.setLanguageInformation,t.getTicketType=n.getTicketType,t.setTicketType=n.setTicketType,t.processRefreshUI=n.processRefreshUI,t.getInputHasSelection=n.getInputHasSelection,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({ticketId:e,pane:t})=>{this.domElement.mainComponent=new PM({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this.domElement,ticketId:e,pane:t}})};getTicketId=()=>this.domElement.mainComponent?.getTicketId();getPane=()=>this.domElement.mainComponent?.getPane();getTicketLanguageInformation=()=>this.domElement.mainComponent?.getTicketLanguageInformation();getIsAutoTranslatedEnabled=()=>this.domElement.mainComponent?.getIsAutoTranslatedEnabled();setIsAutoTranslateEnabled=e=>{this.domElement.mainComponent?.setIsAutoTranslateEnabled(e)};getInputWorkingArea=()=>this.domElement.shadowContainer.querySelector(".dl-zendesk-working-area");setLanguageInformation=e=>{this.domElement.mainComponent?.setLanguageInformation(e)};getTicketType=()=>this.domElement.mainComponent?.getTicketType();setTicketType=e=>{this.domElement.mainComponent?.setTicketType(e)};processRefreshUI=(e=!1)=>{this.domElement.mainComponent.processRefreshUI(e)};getInputHasSelection=()=>this.domElement.mainComponent?.getInputHasSelection();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function qM(e){let t,n,o,i,r;return n=new Nw({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=Km("div"),ef(n.$$.fragment)},m(s,a){Gm(s,t,a),tf(n,t,null),o=!0,i||(r=Qm(t,"mousedown",th(eh(e[7]))),i=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n),i=!1,r()}}}function BM(e,t,n){let o,i;const r=Eh(),s=Aa();let{value:a}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,a=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...s]),96&e.$$.dirty&&n(2,i=c?a?s.find((e=>e.value===a)):void 0:u)},[l,d,i,o,function(e){e.detail.selectedOption.value!==a&&r("selection",e.detail)},a,c,function(t){$h.call(this,e,t)}]}class FM extends rf{constructor(e){super(),of(this,e,BM,qM,Em,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function HM(e){let t,n,o,i;function r(e,t){return e[1]?GM:zM}let s=r(e),a=s(e);return{c(){t=Km("button"),a.c(),nh(t,"class","translate-all svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,r){Gm(n,t,r),a.m(t,null),o||(i=Qm(t,"click",e[6]),o=!0)},p(e,o){s===(s=r(e))&&a?a.p(e,o):(a.d(1),a=s(e),a&&(a.c(),a.m(t,null))),1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},i:fm,o:fm,d(e){e&&Wm(t),a.d(),o=!1,i()}}}function jM(e){let t,n;return t=new gb({props:{tooltip:chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[WM]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),131073&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function zM(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function GM(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function WM(e){let t,n,o,i;return{c(){t=Km("button"),nh(t,"class","translate-all btn-icon svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,r){Gm(n,t,r),o||(i=Qm(t,"click",e[6]),o=!0)},p(e,o){1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},d(e){e&&Wm(t),o=!1,i()}}}function VM(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f;c=new FM({props:{value:e[0].language,isDetected:e[0].isDetected,isSupported:e[0].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const v=[jM,HM],_=[];function w(e,t){return"sm"===e[4]?0:1}return p=w(e),g=_[p]=v[p](e),{c(){t=Km("div"),n=Km("div"),o=Km("button"),i=Jm(),r=Km("div"),s=Km("div"),s.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,a=Jm(),l=Km("div"),ef(c.$$.fragment),d=Jm(),u=Km("div"),g.c(),nh(o,"class","senders-language-toggle svelte-147seig"),nh(s,"class","label svelte-147seig"),nh(l,"class","dropdown-container svelte-147seig"),nh(r,"class","container svelte-147seig"),ch(r,"show",e[3]),nh(n,"class","senders-language svelte-147seig"),nh(u,"class","translate-all-container"),nh(t,"class","dl-zendesk-toolbar svelte-147seig"),nh(t,"dir",Pa()),ch(t,"toolbar-sm","sm"===e[4]),ch(t,"toolbar-md","md"===e[4]),ch(t,"toolbar-lg","lg"===e[4])},m(g,v){Gm(g,t,v),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r),Hm(r,s),Hm(r,a),Hm(r,l),tf(c,l,null),Hm(t,d),Hm(t,u),_[p].m(u,null),e[13](t),m=!0,h||(f=[Qm(o,"click",e[7]),Mm(pm.call(null,n,{isShadow:!0})),Qm(n,"click_outside",e[12])],h=!0)},p(e,[n]){const o={};1&n&&(o.value=e[0].language),1&n&&(o.isDetected=e[0].isDetected),1&n&&(o.isSupported=e[0].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!m||8&n)&&ch(r,"show",e[3]);let i=p;p=w(e),p===i?_[p].p(e,n):(zh(),Vh(_[i],1,1,(()=>{_[i]=null})),Gh(),g=_[p],g?g.p(e,n):(g=_[p]=v[p](e),g.c()),Wh(g,1),g.m(u,null)),(!m||16&n)&&ch(t,"toolbar-sm","sm"===e[4]),(!m||16&n)&&ch(t,"toolbar-md","md"===e[4]),(!m||16&n)&&ch(t,"toolbar-lg","lg"===e[4])},i(e){m||(Wh(c.$$.fragment,e),Wh(g),m=!0)},o(e){Vh(c.$$.fragment,e),Vh(g),m=!1},d(n){n&&Wm(t),nf(c),_[p].d(),e[13](null),h=!1,bm(f)}}}function KM(e,t,n){let o;Th("text_direction",Pa());const i=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:r}=t;const s={language:"",isDetected:!1,isSupported:!1};let a,l,c,d=!1,u=!1;bh((()=>{c=N_(a,(e=>{n(11,l=e.clientWidth)}))})),yh((()=>{c&&c()}));return e.$$set=e=>{"controller"in e&&n(8,r=e.controller)},e.$$.update=()=>{2048&e.$$.dirty&&n(4,o=(e=>{const t=i.find((e=>e.isDefault));for(const t of i)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(l))},[s,d,a,u,o,e=>{const t=e.detail.selectedOption.value;r.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),pB({eventType:ht,controller:r,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!d;r.setIsAutoTranslateEnabled(e),pB({eventType:e?ft:vt,controller:r,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,u=!u)},r,({language:e,isDetected:t,isSupported:o})=>{n(0,s.language=e,s),n(0,s.isDetected=t,s),n(0,s.isSupported=o,s)},e=>{n(1,d=e)},l,()=>n(3,u=!1),function(e){Ch[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class ZM extends rf{constructor(e){super(),of(this,e,KM,VM,Em,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class YM{static HTML_TAG_NAME="deepl-zendesk-toolbar";static createElement=(e=document)=>{const t=e.createElement(YM.HTML_TAG_NAME),n=new YM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.updateLanguageInformation=n.updateLanguageInformation,t.updateAutoTranslateStatus=n.updateAutoTranslateStatus,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new ZM({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};updateLanguageInformation=e=>{this.domElement.mainComponent.updateLanguageInformation(e)};updateAutoTranslateStatus=e=>{this.domElement.mainComponent.updateAutoTranslateStatus(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function JM(e){let t,n,o,i;return{c(){t=Zm("svg"),n=Zm("path"),nh(n,"d","M1 7L5 11L15 1"),nh(n,"stroke",o=e[0]?e[3]:e[4]),nh(n,"stroke-width","2"),nh(n,"stroke-linecap","round"),nh(n,"stroke-linejoin","round"),nh(n,"class","svelte-mrm8jk"),nh(t,"width",e[2]),nh(t,"height",e[1]),nh(t,"class","checkmark svelte-mrm8jk"),nh(t,"viewBox","0 0 16 12"),nh(t,"fill","none"),nh(t,"xmlns","http://www.w3.org/2000/svg"),nh(t,"style",i=`padding: ${e[6]};`),ch(t,"enableHover",e[5])},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,[r]){25&r&&o!==(o=e[0]?e[3]:e[4])&&nh(n,"stroke",o),4&r&&nh(t,"width",e[2]),2&r&&nh(t,"height",e[1]),64&r&&i!==(i=`padding: ${e[6]};`)&&nh(t,"style",i),32&r&&ch(t,"enableHover",e[5])},i:fm,o:fm,d(e){e&&Wm(t)}}}function XM(e,t,n){let{disabled:o=!1}=t,{height:i="16px"}=t,{width:r="16px"}=t,{disabledColor:s="#727A83"}=t,{enabledColor:a="#007E5E"}=t,{enableHover:l=!1}=t,{padding:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"height"in e&&n(1,i=e.height),"width"in e&&n(2,r=e.width),"disabledColor"in e&&n(3,s=e.disabledColor),"enabledColor"in e&&n(4,a=e.enabledColor),"enableHover"in e&&n(5,l=e.enableHover),"padding"in e&&n(6,c=e.padding)},[o,i,r,s,a,l,c]}class QM extends rf{constructor(e){super(),of(this,e,XM,JM,Em,{disabled:0,height:1,width:2,disabledColor:3,enabledColor:4,enableHover:5,padding:6})}}function eR(e,t,n){const o=e.slice();return o[20]=t[n],o[22]=n,o}function tR(e,t,n){const o=e.slice();return o[23]=t[n],o}function nR(e,t,n){const o=e.slice();return o[26]=t[n],o}function oR(e){let t,n,o,i,r,s,a,l,c,d,u=e[5].name+"",p=Xh(e[5].termDictionaries),g=[];for(let t=0;t<p.length;t+=1)g[t]=iR(nR(e,p,t));let m=e[5].hasAdditionalPairs&&rR(e);return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Ym(u),r=Jm();for(let e=0;e<g.length;e+=1)g[e].c();s=Jm(),m&&m.c(),a=Jm(),l=Km("div"),l.textContent="Remove",nh(o,"class","title"),nh(l,"class","remove-button svelte-1ium3jp"),nh(n,"class","glossary-menu-active-glossary-display svelte-1ium3jp"),nh(t,"class","glossary-menu-active-glossary-display-container svelte-1ium3jp")},m(u,p){Gm(u,t,p),Hm(t,n),Hm(n,o),Hm(o,i),Hm(n,r);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(n,null);Hm(n,s),m&&m.m(n,null),Hm(n,a),Hm(n,l),c||(d=Qm(l,"click",e[9]),c=!0)},p(e,t){if(32&t&&u!==(u=e[5].name+"")&&oh(i,u),2080&t){let o;for(p=Xh(e[5].termDictionaries),o=0;o<p.length;o+=1){const i=nR(e,p,o);g[o]?g[o].p(i,t):(g[o]=iR(i),g[o].c(),g[o].m(n,s))}for(;o<g.length;o+=1)g[o].d(1);g.length=p.length}e[5].hasAdditionalPairs?m?m.p(e,t):(m=rR(e),m.c(),m.m(n,a)):m&&(m.d(1),m=null)},d(e){e&&Wm(t),Vm(g,e),m&&m.d(),c=!1,d()}}}function iR(e){let t,n=e[11](e[26].languagePair)+"";return{c(){t=Km("div"),nh(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Gm(e,t,o),t.innerHTML=n},p(e,o){32&o&&n!==(n=e[11](e[26].languagePair)+"")&&(t.innerHTML=n)},d(e){e&&Wm(t)}}}function rR(e){let t,n,o;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,nh(t,"class","show-more svelte-1ium3jp")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",e[13]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function sR(e){let t;function n(e,t){return e[0]?e[3]||0!==e[1].length?aR:lR:cR}let o=n(e),i=o(e);return{c(){i.c(),t=Xm()},m(e,n){i.m(e,n),Gm(e,t,n)},p(e,r){o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&Wm(t),i.d(e)}}}function aR(e){let t,n=Xh(e[6]),o=[];for(let t=0;t<n.length;t+=1)o[t]=gR(eR(e,n,t));return{c(){t=Km("div");for(let e=0;e<o.length;e+=1)o[e].c();nh(t,"class","glossary-list svelte-1ium3jp")},m(e,n){Gm(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(3270&i){let r;for(n=Xh(e[6]),r=0;r<n.length;r+=1){const s=eR(e,n,r);o[r]?o[r].p(s,i):(o[r]=gR(s),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(e){e&&Wm(t),Vm(o,e)}}}function lR(e){let t,n,o,i,r;return{c(){t=Km("div"),n=Km("div"),o=Km("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=Jm(),r=Km("div"),r.textContent=`${chrome.i18n.getMessage("zendesk_no_glossaries_found")}`,nh(o,"class","icon-container svelte-1ium3jp"),nh(r,"class","content svelte-1ium3jp"),nh(n,"class","container svelte-1ium3jp"),nh(t,"class","glossary-not-found svelte-1ium3jp")},m(e,s){Gm(e,t,s),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r)},p:fm,d(e){e&&Wm(t)}}}function cR(e){let t,n,o,i,r;return{c(){t=Km("div"),n=Km("div"),o=Km("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=Jm(),r=Km("div"),r.textContent=`${chrome.i18n.getMessage("zendesk_not_pro_user_body")}`,nh(o,"class","icon-container svelte-1ium3jp"),nh(r,"class","content svelte-1ium3jp"),nh(n,"class","container svelte-1ium3jp"),nh(t,"class","glossary-not-found svelte-1ium3jp")},m(e,s){Gm(e,t,s),Hm(t,n),Hm(n,o),Hm(n,i),Hm(n,r)},p:fm,d(e){e&&Wm(t)}}}function dR(e){let t,n,o=e[11](e[23].languagePair)+"";return{c(){t=Km("div"),n=Ym(o),nh(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Gm(e,t,o),Hm(t,n)},p(e,t){64&t&&o!==(o=e[11](e[23].languagePair)+"")&&oh(n,o)},d(e){e&&Wm(t)}}}function uR(e){let t,n,o;function i(){return e[14](e[20])}return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,nh(t,"class","show-more svelte-1ium3jp")},m(e,r){Gm(e,t,r),n||(o=Qm(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&Wm(t),n=!1,o()}}}function pR(e){let t;return{c(){t=Km("div"),nh(t,"class","divider svelte-1ium3jp")},m(e,n){Gm(e,t,n)},d(e){e&&Wm(t)}}}function gR(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h=e[20].name+"",f=Xh(e[20].termDictionaries),v=[];for(let t=0;t<f.length;t+=1)v[t]=dR(tR(e,f,t));let _=e[20].hasAdditionalPairs&&uR(e);function w(){return e[15](e[20])}let b=e[22]<e[1].length-1&&pR();return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Ym(h),r=Jm();for(let e=0;e<v.length;e+=1)v[e].c();s=Jm(),_&&_.c(),a=Jm(),l=Km("div"),c=Km("input"),u=Jm(),b&&b.c(),p=Xm(),nh(o,"class","name"),nh(n,"class","info svelte-1ium3jp"),nh(c,"type","radio"),c.checked=d=e[2]?.zendeskActiveTermbase?.id===e[20].id,nh(c,"class","svelte-1ium3jp"),nh(l,"class","radio-container svelte-1ium3jp"),nh(t,"class","glossary-item svelte-1ium3jp")},m(e,d){Gm(e,t,d),Hm(t,n),Hm(n,o),Hm(o,i),Hm(n,r);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(n,null);Hm(n,s),_&&_.m(n,null),Hm(t,a),Hm(t,l),Hm(l,c),Gm(e,u,d),b&&b.m(e,d),Gm(e,p,d),g||(m=Qm(c,"click",w),g=!0)},p(t,o){if(e=t,64&o&&h!==(h=e[20].name+"")&&oh(i,h),2112&o){let t;for(f=Xh(e[20].termDictionaries),t=0;t<f.length;t+=1){const i=tR(e,f,t);v[t]?v[t].p(i,o):(v[t]=dR(i),v[t].c(),v[t].m(n,s))}for(;t<v.length;t+=1)v[t].d(1);v.length=f.length}e[20].hasAdditionalPairs?_?_.p(e,o):(_=uR(e),_.c(),_.m(n,null)):_&&(_.d(1),_=null),68&o&&d!==(d=e[2]?.zendeskActiveTermbase?.id===e[20].id)&&(c.checked=d),e[22]<e[1].length-1?b||(b=pR(),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},d(e){e&&(Wm(t),Wm(u),Wm(p)),Vm(v,e),_&&_.d(),b&&b.d(e),g=!1,m()}}}function mR(e){let t,n,o,i,r,s,a,l,c,d,u,p=e[5]&&oR(e),g=e[4]&&sR(e);return{c(){t=Km("div"),n=Km("div"),o=Km("div"),i=Km("div"),i.textContent="Glossary",r=Jm(),s=Km("div"),a=Jm(),p&&p.c(),l=Jm(),g&&g.c(),c=Xm(),nh(i,"class","glossary-menu-text"),nh(s,"class","glossary-menu-toggle svelte-1ium3jp"),ch(s,"isGlossaryListExpanded",e[4]),nh(o,"class","glossary-menu-toggle-container svelte-1ium3jp"),nh(n,"class","glossary-menu"),nh(t,"class","glossary-menu-container svelte-1ium3jp"),ch(t,"isGlossaryListExpanded",e[4])},m(m,h){Gm(m,t,h),Hm(t,n),Hm(n,o),Hm(o,i),Hm(o,r),Hm(o,s),Hm(n,a),p&&p.m(n,null),Gm(m,l,h),g&&g.m(m,h),Gm(m,c,h),d||(u=Qm(o,"click",e[8]),d=!0)},p(e,[o]){16&o&&ch(s,"isGlossaryListExpanded",e[4]),e[5]?p?p.p(e,o):(p=oR(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null),16&o&&ch(t,"isGlossaryListExpanded",e[4]),e[4]?g?g.p(e,o):(g=sR(e),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null)},i:fm,o:fm,d(e){e&&(Wm(t),Wm(l),Wm(c)),p&&p.d(),g&&g.d(e),d=!1,u()}}}function hR(e,t,n){let o;Sm(e,Pv,(e=>n(2,o=e)));var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let{userHasZendeskPermissions:r}=t,s=[],a=!0,l=!1,c=[],d=null,u=[];const p=e=>{n(12,c=[...c,e])},g=e=>{const t=s.find((t=>t.id===e));t&&(Dm(Pv,o.zendeskActiveTermbase=t,o),Rn({action:Ln.dlTrackGlossaryEnabled,payload:{nicheIntegration:at.zendesk}}))},m=()=>i(void 0,void 0,void 0,(function*(){n(3,a=!0);try{const[e]=yield tB();n(1,s=e)}catch(e){ja()}finally{(()=>{if(!o.zendeskActiveTermbase)return;if(!s||0===s.length)return void Dm(Pv,o.zendeskActiveTermbase=null,o);const e=s.map((e=>e.id));if(o.zendeskActiveTermbase&&e.includes(o.zendeskActiveTermbase.id)){const e=s.find((e=>e.id===o.zendeskActiveTermbase.id));Dm(Pv,o.zendeskActiveTermbase=e,o)}else Dm(Pv,o.zendeskActiveTermbase=null,o)})(),n(3,a=!1)}})),h=e=>e.action===bc.uiActions.dlChangeActiveTabStatus&&(e.payload.isActive&&m(),!1);bh((()=>{m(),chrome.runtime.onMessage.addListener(h)})),yh((()=>{chrome.runtime.onMessage.removeListener(h)}));return e.$$set=e=>{"userHasZendeskPermissions"in e&&n(0,r=e.userHasZendeskPermissions)},e.$$.update=()=>{4098&e.$$.dirty&&n(6,u=s.map((e=>c.includes(e.id)||e.termDictionaries.length<=3?e:Object.assign(Object.assign({},e),{termDictionaries:e.termDictionaries.slice(0,3),hasAdditionalPairs:!0})))),4&e.$$.dirty&&(o.zendeskActiveTermbase||n(5,d=null)),4100&e.$$.dirty&&o.zendeskActiveTermbase&&(c.includes(o.zendeskActiveTermbase.id)||o.zendeskActiveTermbase.termDictionaries.length<=3?n(5,d=o.zendeskActiveTermbase):n(5,d=Object.assign(Object.assign({},o.zendeskActiveTermbase),{termDictionaries:o.zendeskActiveTermbase.termDictionaries.slice(0,3),hasAdditionalPairs:!0})))},[r,s,o,a,l,d,u,p,()=>{n(4,l=!l),l&&(r||Rn({action:Ln.dlTrackZendeskGlossaryOpened,payload:{glossaryConfigOpenedWithoutGlossaryPermissions:!0}}),r&&!a&&0==s.length&&Rn({action:Ln.dlTrackZendeskGlossaryOpened,payload:{glossaryConfigOpenedWithNoGlossariesFound:!0}}))},()=>{Dm(Pv,o.zendeskActiveTermbase=null,o),Rn({action:Ln.dlTrackGlossaryDisabled,payload:{nicheIntegration:at.zendesk}})},g,e=>{if(!e||!e.includes(">"))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} → ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`},c,()=>{p(d.id)},e=>{p(e.id)},e=>g(e.id)]}class fR extends rf{constructor(e){super(),of(this,e,hR,mR,Em,{userHasZendeskPermissions:0})}}function vR(e){let t,n,o,i,r,s;const a=e[1].default,l=Cm(a,e,e[0],null);return{c(){t=Km("div"),n=Km("div"),o=Zm("svg"),i=Zm("path"),r=Jm(),l&&l.c(),nh(i,"d","M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"),nh(i,"stroke","#D6A300"),nh(i,"stroke-width","1.5"),nh(i,"stroke-linecap","round"),nh(i,"stroke-linejoin","round"),nh(o,"width","24"),nh(o,"height","24"),nh(o,"viewBox","0 0 24 24"),nh(o,"fill","none"),nh(o,"xmlns","http://www.w3.org/2000/svg"),nh(n,"class","content svelte-hf4zwi"),nh(t,"class","container svelte-hf4zwi")},m(e,a){Gm(e,t,a),Hm(t,n),Hm(n,o),Hm(o,i),Hm(n,r),l&&l.m(n,null),s=!0},p(e,[t]){l&&l.p&&(!s||1&t)&&Am(l,a,e,e[0],s?Lm(a,e[0],t,null):Im(e[0]),null)},i(e){s||(Wh(l,e),s=!0)},o(e){Vh(l,e),s=!1},d(e){e&&Wm(t),l&&l.d(e)}}}function _R(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,o]}class wR extends rf{constructor(e){super(),of(this,e,_R,vR,Em,{})}}function bR(e){let t,n,o,i,r,s=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"";return{c(){t=Km("div"),n=Km("div"),o=Ym(e[0]),i=Jm(),r=Km("div"),nh(n,"class","info-text svelte-62gn63"),nh(r,"class","translation-info svelte-62gn63"),nh(t,"class","container svelte-62gn63")},m(e,a){Gm(e,t,a),Hm(t,n),Hm(n,o),Hm(t,i),Hm(t,r),r.innerHTML=s},p(e,[t]){1&t&&oh(o,e[0]),2&t&&s!==(s=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"")&&(r.innerHTML=s)},i:fm,o:fm,d(e){e&&Wm(t)}}}function yR(e,t,n){let{infoText:o}=t,{translationCount:i}=t;return e.$$set=e=>{"infoText"in e&&n(0,o=e.infoText),"translationCount"in e&&n(1,i=e.translationCount)},[o,i]}class ER extends rf{constructor(e){super(),of(this,e,yR,bR,Em,{infoText:0,translationCount:1})}}function TR(e){let t,n,o,i,r=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2].toString()])+"",s=chrome.i18n.getMessage("zendesk_popup_char_limit_content")+"";return{c(){t=Km("div"),n=Ym(r),o=Jm(),i=Ym(s),nh(t,"class","translation-count svelte-6kl6z0")},m(e,r){Gm(e,t,r),Hm(t,n),Gm(e,o,r),Gm(e,i,r)},p(e,t){4&t&&r!==(r=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2].toString()])+"")&&oh(n,r)},i:fm,o:fm,d(e){e&&(Wm(t),Wm(o),Wm(i))}}}function xR(e){let t,n;return t=new wR({props:{$$slots:{default:[CR]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function $R(e){let t,n;return t=new wR({props:{$$slots:{default:[kR]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function SR(e){let t,n,o,i,r,s;const a=[IR,AR,LR],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),null==t&&(t=!!Bn(e[1],xt.TRANSLATOR)),t?0:(null==n&&(n=!!Gn(e[1],xt.TRANSLATOR)),n?1:2)}return o=c(e,-1),i=l[o]=a[o](e),{c(){i.c(),r=Xm()},m(e,t){l[o].m(e,t),Gm(e,r,t),s=!0},p(e,t){let n=o;o=c(e,t),o===n?l[o].p(e,t):(zh(),Vh(l[n],1,1,(()=>{l[n]=null})),Gh(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Wh(i,1),i.m(r.parentNode,r))},i(e){s||(Wh(i),s=!0)},o(e){Vh(i),s=!1},d(e){e&&Wm(r),l[o].d(e)}}}function CR(e){let t,n;return t=new ER({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_infobox"),translationCount:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function kR(e){let t,n;return t=new ER({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function LR(e){let t,n,o,i;return{c(){t=Km("div"),n=Km("div"),o=Jm(),i=Km("div"),i.textContent=`${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,nh(n,"class","icon svelte-6kl6z0"),nh(i,"class","text svelte-6kl6z0"),nh(t,"class","upgrade-infobox svelte-6kl6z0")},m(e,r){Gm(e,t,r),Hm(t,n),Hm(t,o),Hm(t,i)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function AR(e){let t,n;return t=new wR({props:{$$slots:{default:[OR]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function IR(e){let t,n;return t=new wR({props:{$$slots:{default:[DR]},$$scope:{ctx:e}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function OR(e){let t,n;return t=new ER({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_free_account_infobox"),translationCount:e[2]}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function DR(e){let t,n;return t=new ER({props:{infoText:chrome.i18n.getMessage("zendesk_limit_info_text"),translationCount:e[2].toString()}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2].toString()),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function MR(e){let t,n,o,i,r,s;const a=[SR,$R,xR,TR],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),e[0]?0:(null==t&&(t=!!Bn(e[1],xt.TRANSLATOR)),t?1:(null==n&&(n=!!Gn(e[1],xt.TRANSLATOR)),n?2:3))}return o=c(e,-1),i=l[o]=a[o](e),{c(){i.c(),r=Xm()},m(e,t){l[o].m(e,t),Gm(e,r,t),s=!0},p(e,[t]){let n=o;o=c(e,t),o===n?l[o].p(e,t):(zh(),Vh(l[n],1,1,(()=>{l[n]=null})),Gh(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),Wh(i,1),i.m(r.parentNode,r))},i(e){s||(Wh(i),s=!0)},o(e){Vh(i),s=!1},d(e){e&&Wm(r),l[o].d(e)}}}function RR(e,t,n){let{limitReached:o}=t,{settings:i}=t,{remainingTranslations:r}=t;return e.$$set=e=>{"limitReached"in e&&n(0,o=e.limitReached),"settings"in e&&n(1,i=e.settings),"remainingTranslations"in e&&n(2,r=e.remainingTranslations)},[o,i,r]}class NR extends rf{constructor(e){super(),of(this,e,RR,MR,Em,{limitReached:0,settings:1,remainingTranslations:2})}}function PR(e){let t,n=chrome.i18n.getMessage("contact_admin_info_write_disabled")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function UR(e){let t;return{c(){t=Km("p"),t.textContent=`${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function qR(e){let t,n,o,i;function r(e,t){return e[0]===xt.TRANSLATOR?UR:e[0]===xt.WRITE?PR:void 0}let s=r(e),a=s&&s(e);return{c(){t=Km("div"),n=Km("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Jm(),i=Km("div"),a&&a.c(),nh(n,"class","icon svelte-16jsbww"),nh(i,"class","text svelte-16jsbww"),nh(t,"class","container svelte-16jsbww")},m(e,r){Gm(e,t,r),Hm(t,n),Hm(t,o),Hm(t,i),a&&a.m(i,null)},p(e,[t]){s===(s=r(e))&&a?a.p(e,t):(a&&a.d(1),a=s&&s(e),a&&(a.c(),a.m(i,null)))},i:fm,o:fm,d(e){e&&Wm(t),a&&a.d()}}}function BR(e,t,n){let{serviceName:o}=t;return e.$$set=e=>{"serviceName"in e&&n(0,o=e.serviceName)},[o]}class FR extends rf{constructor(e){super(),of(this,e,BR,qR,Em,{serviceName:0})}}function HR(e,t,n){const o=e.slice();return o[21]=t[n],o}function jR(e){let t,n,o,i,r,s,a,l;const c=[VR,WR,GR,zR],d=[];function u(e,t){return"onboarding"===e[5]?0:"user_has_reached_limit"===e[5]?1:"language_not_supported"===e[5]?2:3}i=u(e),r=d[i]=c[i](e);let p=!e[1]&&"onboarding"!==e[5]&&YR(e),g=(!e[3].isZendeskEnabled||"default"===e[5]||"onboarding"===e[5])&&!e[6]&&sN(e);return{c(){t=Km("div"),n=Km("div"),n.innerHTML='<div class="upgrade-infobox svelte-4wyki2"><div class="icon svelte-4wyki2"></div> <div class="text svelte-4wyki2">As of October 1, 2025, DeepL for Zendesk will be replaced by DeepL&#39;s\n            default <a href="https://support.deepl.com/hc/en-us/articles/4407516019218-Get-started-DeepL-browser-extensions" target="_blank" rel="noopener noreferrer" class="upgrade-link svelte-4wyki2">browser extension functionality</a>.</div></div>',o=Jm(),r.c(),s=Jm(),p&&p.c(),a=Jm(),g&&g.c(),nh(n,"class","modal-section svelte-4wyki2"),nh(t,"class","dl-zendesk-modal svelte-4wyki2"),ch(t,"onboarding","onboarding"===e[5])},m(e,r){Gm(e,t,r),Hm(t,n),Hm(t,o),d[i].m(t,null),Hm(t,s),p&&p.m(t,null),Hm(t,a),g&&g.m(t,null),l=!0},p(e,n){let o=i;i=u(e),i===o?d[i].p(e,n):(zh(),Vh(d[o],1,1,(()=>{d[o]=null})),Gh(),r=d[i],r?r.p(e,n):(r=d[i]=c[i](e),r.c()),Wh(r,1),r.m(t,s)),e[1]||"onboarding"===e[5]?p&&(p.d(1),p=null):p?p.p(e,n):(p=YR(e),p.c(),p.m(t,a)),e[3].isZendeskEnabled&&"default"!==e[5]&&"onboarding"!==e[5]||e[6]?g&&(zh(),Vh(g,1,1,(()=>{g=null})),Gh()):g?(g.p(e,n),104&n&&Wh(g,1)):(g=sN(e),g.c(),Wh(g,1),g.m(t,null)),(!l||32&n)&&ch(t,"onboarding","onboarding"===e[5])},i(e){l||(Wh(r),Wh(g),l=!0)},o(e){Vh(r),Vh(g),l=!1},d(e){e&&Wm(t),d[i].d(),p&&p.d(),g&&g.d()}}}function zR(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"",_=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"",w=e[1]&&KR(e),b=!e[1]&&ZR(e);return l=new zw({props:{value:e[3].selectedTargetLanguage,websiteSettings:L_,disabled:!e[3].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md",dropdownMaxHeight:150}}),l.$on("selection",e[16]),{c(){w&&w.c(),t=Jm(),b&&b.c(),n=Jm(),o=Km("div"),i=Ym(v),r=Jm(),s=Km("div"),a=Km("div"),ef(l.$$.fragment),c=Jm(),d=Km("div"),u=Km("button"),p=Ym(_),nh(a,"class","dropdown svelte-4wyki2"),nh(u,"class","btn-primary svelte-4wyki2"),u.disabled=g=!e[3].isZendeskEnabled,nh(d,"class","right svelte-4wyki2"),nh(s,"class","dropdown-container svelte-4wyki2"),nh(o,"class","modal-section language-selector svelte-4wyki2")},m(g,v){w&&w.m(g,v),Gm(g,t,v),b&&b.m(g,v),Gm(g,n,v),Gm(g,o,v),Hm(o,i),Hm(o,r),Hm(o,s),Hm(s,a),tf(l,a,null),Hm(s,c),Hm(s,d),Hm(d,u),Hm(u,p),m=!0,h||(f=Qm(u,"click",e[17]),h=!0)},p(e,o){e[1]?w?(w.p(e,o),2&o&&Wh(w,1)):(w=KR(e),w.c(),Wh(w,1),w.m(t.parentNode,t)):w&&(zh(),Vh(w,1,1,(()=>{w=null})),Gh()),e[1]?b&&(zh(),Vh(b,1,1,(()=>{b=null})),Gh()):b?(b.p(e,o),2&o&&Wh(b,1)):(b=ZR(e),b.c(),Wh(b,1),b.m(n.parentNode,n));const i={};8&o&&(i.value=e[3].selectedTargetLanguage),8&o&&(i.disabled=!e[3].isZendeskEnabled),l.$set(i),(!m||8&o&&g!==(g=!e[3].isZendeskEnabled))&&(u.disabled=g)},i(e){m||(Wh(w),Wh(b),Wh(l.$$.fragment,e),m=!0)},o(e){Vh(w),Vh(b),Vh(l.$$.fragment,e),m=!1},d(e){e&&(Wm(t),Wm(n),Wm(o)),w&&w.d(e),b&&b.d(e),nf(l),h=!1,f()}}}function GR(e){let t,n,o;return{c(){t=Km("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=Jm(),o=Km("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,nh(t,"class","modal-section language-not-supported svelte-4wyki2"),nh(o,"class","modal-section secondary-text svelte-4wyki2")},m(e,i){Gm(e,t,i),Gm(e,n,i),Gm(e,o,i)},p:fm,i:fm,o:fm,d(e){e&&(Wm(t),Wm(n),Wm(o))}}}function WR(e){let t,n,o;return n=new NR({props:{limitReached:!0,remainingTranslations:e[7],settings:e[3]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","modal-section reached-limit svelte-4wyki2")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};128&t&&(o.remainingTranslations=e[7]),8&t&&(o.settings=e[3]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function VR(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w,b=chrome.i18n.getMessage("zendesk_onboarding_content_one",[Tt.toString()])+"",y=chrome.i18n.getMessage("zendesk_onboarding_content_two")+"",E=chrome.i18n.getMessage("zendesk_onboarding_content_three")+"";return s=new QM({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new QM({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new QM({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Km("div"),n=Km("div"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,o=Jm(),i=Km("div"),r=Km("div"),ef(s.$$.fragment),a=Jm(),l=Km("div"),c=Jm(),d=Km("div"),ef(u.$$.fragment),p=Jm(),g=Km("div"),m=Jm(),h=Km("div"),ef(f.$$.fragment),v=Jm(),_=Km("div"),nh(n,"class","welcome svelte-4wyki2"),nh(l,"class","copy-text svelte-4wyki2"),nh(r,"class","copy svelte-4wyki2"),nh(g,"class","copy-text svelte-4wyki2"),nh(d,"class","copy svelte-4wyki2"),nh(_,"class","copy-text svelte-4wyki2"),nh(h,"class","copy svelte-4wyki2"),nh(i,"class","body svelte-4wyki2"),nh(t,"class","modal-section onboarding svelte-4wyki2")},m(e,T){Gm(e,t,T),Hm(t,n),Hm(t,o),Hm(t,i),Hm(i,r),tf(s,r,null),Hm(r,a),Hm(r,l),l.innerHTML=b,Hm(i,c),Hm(i,d),tf(u,d,null),Hm(d,p),Hm(d,g),g.innerHTML=y,Hm(i,m),Hm(i,h),tf(f,h,null),Hm(h,v),Hm(h,_),_.innerHTML=E,w=!0},p:fm,i(e){w||(Wh(s.$$.fragment,e),Wh(u.$$.fragment,e),Wh(f.$$.fragment,e),w=!0)},o(e){Vh(s.$$.fragment,e),Vh(u.$$.fragment,e),Vh(f.$$.fragment,e),w=!1},d(e){e&&Wm(t),nf(s),nf(u),nf(f)}}}function KR(e){let t,n,o;return n=new fR({props:{userHasZendeskPermissions:e[1]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","modal-section glossary svelte-4wyki2")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.userHasZendeskPermissions=e[1]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function ZR(e){let t,n,o;return n=new NR({props:{limitReached:!1,remainingTranslations:e[7],settings:e[3]}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","modal-section svelte-4wyki2")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},p(e,t){const o={};128&t&&(o.remainingTranslations=e[7]),8&t&&(o.settings=e[3]),n.$set(o)},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function YR(e){let t,n,o,i,r,s,a,l,c,d,u;function p(e,t){return 72&t&&(n=null),72&t&&(o=null),72&t&&(i=null),null==n&&(n=!(!Bn(e[3],xt.TRANSLATOR)||e[6])),n?eN:(null==o&&(o=!(!Bn(e[3],xt.TRANSLATOR)||!e[6])),o?QR:(null==i&&(i=!(!Gn(e[3],xt.TRANSLATOR)||e[6])),i?XR:e[6]?JR:void 0))}let g=p(e,-1),m=g&&g(e);function h(e,t){return 8&t&&(a=null),null==a&&(a=!!Bn(e[3],xt.TRANSLATOR)),a?nN:tN}let f=h(e,-1),v=f(e),_=Xh(Qf(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),w=[];for(let t=0;t<_.length;t+=1)w[t]=rN(HR(e,_,t));return{c(){t=Km("div"),m&&m.c(),r=Jm(),s=Km("button"),v.c(),l=Jm(),c=Km("div");for(let e=0;e<w.length;e+=1)w[e].c();nh(s,"class","upgrade-button svelte-4wyki2"),nh(c,"class","login-text svelte-4wyki2"),nh(t,"class","modal-section upgrade-button-container svelte-4wyki2")},m(n,o){Gm(n,t,o),m&&m.m(t,null),Hm(t,r),Hm(t,s),v.m(s,null),Hm(t,l),Hm(t,c);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(c,null);d||(u=Qm(s,"click",e[11]),d=!0)},p(e,n){if(g===(g=p(e,n))&&m?m.p(e,n):(m&&m.d(1),m=g&&g(e),m&&(m.c(),m.m(t,r))),f===(f=h(e,n))&&v?v.p(e,n):(v.d(1),v=f(e),v&&(v.c(),v.m(s,null))),1024&n){let t;for(_=Xh(Qf(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),t=0;t<_.length;t+=1){const o=HR(e,_,t);w[t]?w[t].p(o,n):(w[t]=rN(o),w[t].c(),w[t].m(c,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=_.length}},d(e){e&&Wm(t),m&&m.d(),v.d(),Vm(w,e),d=!1,u()}}}function JR(e){let t,n=chrome.i18n.getMessage("zendesk_limit_reached_content")+"";return{c(){t=Km("span"),nh(t,"class","svelte-4wyki2")},m(e,o){Gm(e,t,o),t.innerHTML=n},p:fm,d(e){e&&Wm(t)}}}function XR(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_content")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function QR(e){let t,n,o=chrome.i18n.getMessage("zendesk_limit_reached_pro_user_content")+"";return{c(){t=new uh(!1),n=Xm(),t.a=n},m(e,i){t.m(o,e,i),Gm(e,n,i)},p:fm,d(e){e&&(Wm(n),t.d())}}}function eN(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_content")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function tN(e){let t,n=chrome.i18n.getMessage("zendesk_try_pro_advanced_button")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function nN(e){let t,n=chrome.i18n.getMessage("zendesk_upgrade_cta")+"";return{c(){t=Ym(n)},m(e,n){Gm(e,t,n)},p:fm,d(e){e&&Wm(t)}}}function oN(e){let t,n,o=e[21].text+"";return{c(){t=new uh(!1),n=Xm(),t.a=n},m(e,i){t.m(o,e,i),Gm(e,n,i)},p:fm,d(e){e&&(Wm(n),t.d())}}}function iN(e){let t,n,o,i=e[21].text+"";return{c(){t=Km("span"),nh(t,"class","upgrade-link svelte-4wyki2")},m(r,s){Gm(r,t,s),t.innerHTML=i,n||(o=Qm(t,"click",e[10]),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function rN(e){let t;let n=function(e){return"loginLink"===e[21].block?iN:oN}(e),o=n(e);return{c(){o.c(),t=Xm()},m(e,n){o.m(e,n),Gm(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Wm(t),o.d(e)}}}function sN(e){let t,n,o,i,r,s,a,l,c,d,u=e[2]&&aN();return{c(){t=Km("div"),n=Km("div"),n.textContent=`${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,o=Jm(),i=Km("div"),r=Km("span"),r.innerHTML='<span class="svelte-4wyki2"></span>',s=Jm(),u&&u.c(),a=Xm(),nh(n,"class","text svelte-4wyki2"),nh(r,"class","on-off-switch svelte-4wyki2"),ch(r,"on",e[3].isZendeskEnabled),nh(i,"class","switch"),nh(t,"class","modal-section switch-container svelte-4wyki2")},m(p,g){Gm(p,t,g),Hm(t,n),Hm(t,o),Hm(t,i),Hm(i,r),Gm(p,s,g),u&&u.m(p,g),Gm(p,a,g),l=!0,c||(d=Qm(r,"click",th(eh(e[9]))),c=!0)},p(e,t){(!l||8&t)&&ch(r,"on",e[3].isZendeskEnabled),e[2]?u?4&t&&Wh(u,1):(u=aN(),u.c(),Wh(u,1),u.m(a.parentNode,a)):u&&(zh(),Vh(u,1,1,(()=>{u=null})),Gh())},i(e){l||(Wh(u),l=!0)},o(e){Vh(u),l=!1},d(e){e&&(Wm(t),Wm(s),Wm(a)),u&&u.d(e),c=!1,d()}}}function aN(e){let t,n,o;return n=new FR({props:{serviceName:xt.TRANSLATOR}}),{c(){t=Km("div"),ef(n.$$.fragment),nh(t,"class","admin-info svelte-4wyki2")},m(e,i){Gm(e,t,i),tf(n,t,null),o=!0},i(e){o||(Wh(n.$$.fragment,e),o=!0)},o(e){Vh(n.$$.fragment,e),o=!1},d(e){e&&Wm(t),nf(n)}}}function lN(e){let t,n,o,i,r,s,a=e[4]&&jR(e);return{c(){t=Km("div"),n=Km("button"),o=Jm(),a&&a.c(),nh(n,"class","dl-zendesk-top-icon svelte-4wyki2"),nh(t,"dir",Pa())},m(l,c){Gm(l,t,c),Hm(t,n),Hm(t,o),a&&a.m(t,null),i=!0,r||(s=[Qm(n,"click",e[15]),Mm(pm.call(null,t,{isShadow:!0})),Qm(t,"click_outside",e[8])],r=!0)},p(e,[n]){e[4]?a?(a.p(e,n),16&n&&Wh(a,1)):(a=jR(e),a.c(),Wh(a,1),a.m(t,null)):a&&(zh(),Vh(a,1,1,(()=>{a=null})),Gh())},i(e){i||(Wh(a),i=!0)},o(e){Vh(a),i=!1},d(e){e&&Wm(t),a&&a.d(),r=!1,bm(s)}}}function cN(e,t,n){let o;Sm(e,Pv,(e=>n(3,o=e)));var i,r,s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("text_direction",Pa());let a,l,{controller:c}=t,d=!1,u="default",p=!1,g=!1;const m=()=>{p?n(5,u="user_has_reached_limit"):o.isZendeskOnboarded?n(5,u="default"):(n(5,u="onboarding"),Dm(Pv,o.isZendeskOnboarded=!0,o),Rn({action:Ln.dlTrackOnboardingModalShown,payload:{nicheIntegration:at.zendesk}}),n(4,d=!0))},h=()=>{"onboarding"===u&&(Dm(Pv,o.isZendeskOnboarded=!0,o),n(5,u="default")),"welcome"===u&&n(5,u="default"),n(4,d=!1)};bh((()=>{m(),o.isZendeskEnabled&&(!o.zendeskActiveTermbase&&o.activeTermbaseId&&Dm(Pv,o.zendeskActiveTermbase={id:o.activeTermbaseId},o),o.zendeskActiveTermbase&&s(void 0,void 0,void 0,(function*(){if(!o.zendeskActiveTermbase)return;let e=[];try{const[t]=yield tB();e=t}catch(e){ja()}if(!e||0===e.length)return void Dm(Pv,o.zendeskActiveTermbase=null,o);const t=e.map((e=>e.id));if(o.zendeskActiveTermbase&&t.includes(o.zendeskActiveTermbase.id)){const t=e.find((e=>{var t;return e.id===(null===(t=o.zendeskActiveTermbase)||void 0===t?void 0:t.id)}));Dm(Pv,o.zendeskActiveTermbase=t,o)}else Dm(Pv,o.zendeskActiveTermbase=null,o)})))}));return e.$$set=e=>{"controller"in e&&n(0,c=e.controller)},e.$$.update=()=>{12&e.$$.dirty&&(n(2,l=Hn(o,xt.TRANSLATOR)),l&&Dm(Pv,o.isZendeskEnabled=!1,o)),24584&e.$$.dirty&&n(1,g=null===n(14,r=null===n(13,i=null==o?void 0:o.featureSet)||void 0===i?void 0:i.customizations)||void 0===r?void 0:r.includes("zendesk")),8&e.$$.dirty&&n(7,a=Tt-o.zendeskSuccessfulTranslations),10&e.$$.dirty&&(o.zendeskSuccessfulTranslations>=Tt&&!g?(n(6,p=!0),m()):(n(6,p=!1),m())),2&e.$$.dirty&&g&&(n(6,p=!1),n(5,u="default"))},[c,g,l,o,d,u,p,a,h,()=>{Dm(Pv,o.isZendeskEnabled=!l&&!o.isZendeskEnabled,o)},()=>{Rn({action:yn.dlRequestLogin})},function(){Rn({action:Ln.dlTrackUILocationClicked,payload:fe}),Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"zendesk_customization"}})},m,i,r,()=>{d?h():n(4,d=!0)},e=>{Dm(Pv,o.selectedTargetLanguage=e.detail.selectedOption.value,o),BN(c)},()=>{o.isZendeskEnabled&&h()}]}class dN extends rf{constructor(e){super(),of(this,e,cN,lN,Em,{controller:0,updateIconSettings:12})}get updateIconSettings(){return this.$$.ctx[12]}}class uN{static HTML_TAG_NAME="deepl-zendesk-top-icon";static createElement=(e=document)=>{const t=e.createElement(uN.HTML_TAG_NAME),n=new uN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerUpdateIconSettings=n.triggerUpdateIconSettings,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new dN({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};triggerUpdateIconSettings=()=>{this.domElement.mainComponent.updateIconSettings()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const{scope:pN}=hm(),gN=()=>document.querySelector("deepl-zendesk-controller"),mN=()=>lM.createElement(),hN=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},fN=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},vN=e=>e.querySelector("deepl-zendesk-ticket-controller"),_N=(e,t)=>{const n=UM.createElement();return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},wN=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||TN(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||xN(n,e),n.querySelector("deepl-zendesk-input-icon")||$N(n,e)):n.querySelector("deepl-zendesk-toolbar")||xN(n,e)}catch(e){ja(),Ka(e,pN)}},bN=()=>{EN(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},yN=()=>{EN(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},EN=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){ja(),Ka(e,pN)}},TN=(e,t)=>{const n=uN.createElement(),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const i=o.parentElement;return i?(i.prepend(n),n.createDOM({controller:t}),n):void 0},xN=(e,t)=>{const n=YM.createElement(),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},$N=(e,t)=>{const n=_M.createElement(),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"]'),i=o?o.querySelector('div[role="toolbar"]'):null,r=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(r&&i)return i.append(n),n.createDOM({controller:t,editable:r}),n},SN=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] div[data-test-id="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"]');return t?yt:n?Et:void 0},CN=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),kN=e=>{const t=CN(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime"),o=t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},LN=(e,t)=>{const n=CN(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime"),o=t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},AN=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),IN=async e=>{const t=kN(e);if(t){const e=t?AN(t).innerText:"";return await La(e)}},ON=async e=>{const t=LN(e,12),n=[];for(const e in t)try{const o=t[e],i=o?AN(o).innerText:"",r=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),s=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==i.length)continue;let a=n.find((e=>e.id===r));const l=i.includes(`: ${s}`)&&i.indexOf(`: ${s}`)+`: ${s}`.length===i.length,c=0===Number(e);a||(a={id:r,name:s,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(a)),l&&(a.isLikelyCustomer=!0),c&&(a.isFirstMessage=!0),a.messages.push({message:i,shouldBeSkipped:l||i.length<=3})}catch(e){ja()}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const i=o[0];if(i)return await La(i)},DN=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},MN=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},RN=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},NN=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},PN=e=>{try{const t=e.getPane(),n=CN(t);for(const t of n)UN(t)||qN(t,e)}catch(e){ja(),Ka(e,pN)}},UN=e=>e.querySelector("deepl-zendesk-message-controller"),qN=(e,t)=>{const n=LM.createElement(),o=AN(e);if(o)return o.after(n),n.createDOM({controller:t,message:e}),n},BN=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},FN=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},HN=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},jN=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),r=MM.createElement();return r.createDOM({controller:e,coords:o,containerCoords:i}),n.prepend(r),r},zN=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},GN="deepl-writing-ui-added",WN=5e3;function VN(e){let t,n,o,i,r,s,a,l,c,d,u,p,g=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Km("div"),n=Jm(),o=Km("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,i=Jm(),r=Km("div"),s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,c=Jm(),d=Km("button"),d.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,nh(t,"class","close-icon svelte-199hwwb"),nh(o,"class","title svelte-199hwwb"),nh(r,"class","body svelte-199hwwb"),nh(l,"class","secondary svelte-199hwwb"),nh(d,"class","primary svelte-199hwwb"),nh(a,"class","footer svelte-199hwwb")},m(m,h){Gm(m,t,h),Gm(m,n,h),Gm(m,o,h),Gm(m,i,h),Gm(m,r,h),r.innerHTML=g,Gm(m,s,h),Gm(m,a,h),Hm(a,l),Hm(a,c),Hm(a,d),u||(p=[Qm(t,"click",e[3]),Qm(l,"click",e[4]),Qm(d,"click",e[6])],u=!0)},p:fm,i:fm,o:fm,d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(i),Wm(r),Wm(s),Wm(a)),u=!1,bm(p)}}}function KN(e){let t,n,o,i,r,s,a,l,c,d,u=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Km("div"),n=Jm(),o=Km("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,i=Jm(),r=Km("div"),s=Jm(),a=Km("div"),l=Km("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,nh(t,"class","close-icon svelte-199hwwb"),nh(o,"class","title svelte-199hwwb"),nh(r,"class","body svelte-199hwwb"),nh(l,"class","primary svelte-199hwwb"),nh(a,"class","footer svelte-199hwwb")},m(p,g){Gm(p,t,g),Gm(p,n,g),Gm(p,o,g),Gm(p,i,g),Gm(p,r,g),r.innerHTML=u,Gm(p,s,g),Gm(p,a,g),Hm(a,l),c||(d=[Qm(t,"click",e[3]),Qm(l,"click",e[5])],c=!0)},p:fm,i:fm,o:fm,d(e){e&&(Wm(t),Wm(n),Wm(o),Wm(i),Wm(r),Wm(s),Wm(a)),c=!1,bm(d)}}}function ZN(e){let t,n;return t=new E_({props:{error:{error:e[0]},close:e[3],config:{nicheIntegration:at.gmail}}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function YN(e){let t,n,o,i,r,s;const a=[ZN,KN,VN],l=[];function c(e,t){return e[2]?0:e[1]?1:2}return n=c(e),o=l[n]=a[n](e),{c(){t=Km("div"),o.c(),nh(t,"class","dl-gmail-character-limit-popup svelte-199hwwb"),nh(t,"dir",Pa()),ch(t,"is-translator-limit",!e[2])},m(o,a){Gm(o,t,a),l[n].m(t,null),i=!0,r||(s=[Mm(pm.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container",".deepl-gmail-write-toolbar"]})),Qm(t,"click_outside",e[10])],r=!0)},p(e,[r]){let s=n;n=c(e),n===s?l[n].p(e,r):(zh(),Vh(l[s],1,1,(()=>{l[s]=null})),Gh(),o=l[n],o?o.p(e,r):(o=l[n]=a[n](e),o.c()),Wh(o,1),o.m(t,null)),(!i||4&r)&&ch(t,"is-translator-limit",!e[2])},i(e){i||(Wh(o),i=!0)},o(e){Vh(o),i=!1},d(e){e&&Wm(t),l[n].d(),r=!1,bm(s)}}}function JN(e,t,n){let o,i;Sm(e,Pv,(e=>n(9,i=e))),Th("text_direction",Pa());let{onCloseCharLimitPopup:r}=t,{cleanUpDOM:s}=t,{limitType:a}=t,l=!1,c=!1;const d=()=>{r&&r(),s&&s()};return e.$$set=e=>{"onCloseCharLimitPopup"in e&&n(7,r=e.onCloseCharLimitPopup),"cleanUpDOM"in e&&n(8,s=e.cleanUpDOM),"limitType"in e&&n(0,a=e.limitType)},e.$$.update=()=>{1&e.$$.dirty&&n(2,o=a===pl||a===gl),512&e.$$.dirty&&n(1,c=!0===i.isLoggedIn)},[a,c,o,d,()=>{l||(Rn({action:Ln.dlTrackUILocationClicked,payload:me}),l=!0,Rn({action:yn.dlRequestLogin}).then((()=>{l=!1,d()})).catch((()=>{l=!1})))},()=>{Rn({action:On.dlExternalURLRedirect,payload:{destination:lo,utmContent:"gmail_customization"}}),d()},()=>{Rn({action:yn.dlRequestSignUp}),d()},r,s,i,()=>{d()}]}class XN extends rf{constructor(e){super(),of(this,e,JN,YN,Em,{onCloseCharLimitPopup:7,cleanUpDOM:8,limitType:0})}}class QN{constructor(e){this.createDOM=({onCloseCharLimitPopup:e,limitType:t})=>{this.mainComponent=new XN({target:this.domElement.shadowContainer,props:{cleanUpDOM:this.domElement.cleanupDOM,onCloseCharLimitPopup:e,limitType:t}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function eP(e){let t,n,o,i;const r=[oP,nP],s=[];function a(e,t){return e[9]?0:1}return n=a(e),o=s[n]=r[n](e),{c(){t=Km("div"),o.c(),nh(t,"class","dl-gmail-translate-toolbar svelte-16i9xtu"),ch(t,"hasLoaded",e[4]),ch(t,"isExpanded",e[5])},m(e,o){Gm(e,t,o),s[n].m(t,null),i=!0},p(e,l){let c=n;n=a(e),n===c?s[n].p(e,l):(zh(),Vh(s[c],1,1,(()=>{s[c]=null})),Gh(),o=s[n],o?o.p(e,l):(o=s[n]=r[n](e),o.c()),Wh(o,1),o.m(t,null)),(!i||16&l[0])&&ch(t,"hasLoaded",e[4]),(!i||32&l[0])&&ch(t,"isExpanded",e[5])},i(e){i||(Wh(o),i=!0)},o(e){Vh(o),i=!1},d(e){e&&Wm(t),s[n].d()}}}function tP(e){let t,n,o,i,r,s,a,l,c;return o=new gb({props:{tooltip:chrome.i18n.getMessage("gmail_compose_undo_icon"),zIndex:e[15].z_index,$$slots:{default:[cP]},$$scope:{ctx:e}}}),s=new gb({props:{tooltip:chrome.i18n.getMessage("gmail_compose_accept_icon"),zIndex:e[15].z_index,$$slots:{default:[dP]},$$scope:{ctx:e}}}),{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),r=Km("div"),ef(s.$$.fragment),nh(n,"class","wrapper undo-wrapper svelte-16i9xtu"),nh(r,"class","wrapper accept-wrapper svelte-16i9xtu"),nh(t,"class","accept-changes svelte-16i9xtu")},m(d,u){Gm(d,t,u),Hm(t,n),tf(o,n,null),Hm(t,i),Hm(t,r),tf(s,r,null),a=!0,l||(c=[Mm(pm.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),Qm(t,"click_outside",e[18])],l=!0)},p(e,t){const n={};134217728&t[1]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const i={};134217728&t[1]&&(i.$$scope={dirty:t,ctx:e}),s.$set(i)},i(e){a||(Wh(o.$$.fragment,e),Wh(s.$$.fragment,e),a=!0)},o(e){Vh(o.$$.fragment,e),Vh(s.$$.fragment,e),a=!1},d(e){e&&Wm(t),nf(o),nf(s),l=!1,bm(c)}}}function nP(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_;r=new Nw({props:{selectedOption:e[1],items:e[8],placeholder:"...",allowLabelHtml:!0}}),r.$on("valueselected",e[23]),p=new zw({props:{value:e[13]||e[2].targetLanguageUserInput,disabled:!1,fontSize:"sm"}}),p.$on("selection",e[24]),h=new gb({props:{isEnabled:e[14],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),zIndex:e[15].z_index,multiline:!0,$$slots:{default:[rP]},$$scope:{ctx:e}}});let w=!e[2].hideWrite&&sP(e);return{c(){t=Km("div"),n=Km("div"),n.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_from")}`,o=Jm(),i=Km("div"),ef(r.$$.fragment),s=Jm(),a=Km("div"),l=Km("div"),l.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_into")}`,c=Jm(),d=Km("div"),u=Km("div"),ef(p.$$.fragment),g=Jm(),m=Km("div"),ef(h.$$.fragment),f=Jm(),w&&w.c(),v=Xm(),nh(n,"class","translation-label svelte-16i9xtu"),nh(i,"class","wrapper shortcode-wrapper svelte-16i9xtu"),nh(t,"class","translation-selection-wrapper svelte-16i9xtu"),nh(l,"class","translation-label svelte-16i9xtu"),nh(u,"class","dropdown"),nh(d,"class","wrapper language-wrapper svelte-16i9xtu"),nh(a,"class","translation-selection-wrapper svelte-16i9xtu"),nh(m,"class","wrapper button-wrapper")},m(e,b){Gm(e,t,b),Hm(t,n),Hm(t,o),Hm(t,i),tf(r,i,null),Gm(e,s,b),Gm(e,a,b),Hm(a,l),Hm(a,c),Hm(a,d),Hm(d,u),tf(p,u,null),Gm(e,g,b),Gm(e,m,b),tf(h,m,null),Gm(e,f,b),w&&w.m(e,b),Gm(e,v,b),_=!0},p(e,t){const n={};2&t[0]&&(n.selectedOption=e[1]),256&t[0]&&(n.items=e[8]),r.$set(n);const o={};8196&t[0]&&(o.value=e[13]||e[2].targetLanguageUserInput),p.$set(o);const i={};16384&t[0]&&(i.isEnabled=e[14]),24644&t[0]|134217728&t[1]&&(i.$$scope={dirty:t,ctx:e}),h.$set(i),e[2].hideWrite?w&&(zh(),Vh(w,1,1,(()=>{w=null})),Gh()):w?(w.p(e,t),4&t[0]&&Wh(w,1)):(w=sP(e),w.c(),Wh(w,1),w.m(v.parentNode,v))},i(e){_||(Wh(r.$$.fragment,e),Wh(p.$$.fragment,e),Wh(h.$$.fragment,e),Wh(w),_=!0)},o(e){Vh(r.$$.fragment,e),Vh(p.$$.fragment,e),Vh(h.$$.fragment,e),Vh(w),_=!1},d(e){e&&(Wm(t),Wm(s),Wm(a),Wm(g),Wm(m),Wm(f),Wm(v)),nf(r),nf(p),nf(h),w&&w.d(e)}}}function oP(e){let t,n;return t=new Uy({}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p:fm,i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function iP(e){let t,n;return t=new wb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function rP(e){let t,n,o,i,r,s,a,l=chrome.i18n.getMessage("gmail_compose_translate_button")+"",c=Bn(e[2],xt.TRANSLATOR),d=c&&iP();return{c(){t=Km("button"),n=Ym(l),o=Jm(),d&&d.c(),t.disabled=i=e[6]||!e[13]||e[14],nh(t,"class","svelte-16i9xtu"),ch(t,"isTranslating",e[6])},m(i,l){Gm(i,t,l),Hm(t,n),Hm(t,o),d&&d.m(t,null),r=!0,s||(a=Qm(t,"mousedown",th(eh(e[16]))),s=!0)},p(e,n){4&n[0]&&(c=Bn(e[2],xt.TRANSLATOR)),c?d?4&n[0]&&Wh(d,1):(d=iP(),d.c(),Wh(d,1),d.m(t,null)):d&&(zh(),Vh(d,1,1,(()=>{d=null})),Gh()),(!r||24640&n[0]&&i!==(i=e[6]||!e[13]||e[14]))&&(t.disabled=i),(!r||64&n[0])&&ch(t,"isTranslating",e[6])},i(e){r||(Wh(d),r=!0)},o(e){Vh(d),r=!1},d(e){e&&Wm(t),d&&d.d(),s=!1,a()}}}function sP(e){let t,n,o,i,r;return i=new gb({props:{isEnabled:!0,tooltip:Hn(e[2],xt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:e[15].z_index,multiline:!0,$$slots:{default:[lP]},$$scope:{ctx:e}}}),{c(){t=Km("div"),n=Jm(),o=Km("div"),ef(i.$$.fragment),nh(t,"class","divider svelte-16i9xtu"),nh(o,"class","wrapper button-wrapper")},m(e,s){Gm(e,t,s),Gm(e,n,s),Gm(e,o,s),tf(i,o,null),r=!0},p(e,t){const n={};4&t[0]&&(n.tooltip=Hn(e[2],xt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),196&t[0]|134217728&t[1]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i(e){r||(Wh(i.$$.fragment,e),r=!0)},o(e){Vh(i.$$.fragment,e),r=!1},d(e){e&&(Wm(t),Wm(n),Wm(o)),nf(i)}}}function aP(e){let t,n;return t=new wb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function lP(e){let t,n,o,i,r,s,a,l=chrome.i18n.getMessage("gmail_compose_improve_button")+"",c=Bn(e[2],xt.WRITE),d=c&&aP();return{c(){t=Km("button"),n=Ym(l),o=Jm(),d&&d.c(),t.disabled=i=Hn(e[2],xt.WRITE)||e[6]||!e[7],nh(t,"class","svelte-16i9xtu"),ch(t,"isTranslating",e[6])},m(i,l){Gm(i,t,l),Hm(t,n),Hm(t,o),d&&d.m(t,null),r=!0,s||(a=Qm(t,"mousedown",th(eh(e[17]))),s=!0)},p(e,n){4&n[0]&&(c=Bn(e[2],xt.WRITE)),c?d?4&n[0]&&Wh(d,1):(d=aP(),d.c(),Wh(d,1),d.m(t,null)):d&&(zh(),Vh(d,1,1,(()=>{d=null})),Gh()),(!r||196&n[0]&&i!==(i=Hn(e[2],xt.WRITE)||e[6]||!e[7]))&&(t.disabled=i),(!r||64&n[0])&&ch(t,"isTranslating",e[6])},i(e){r||(Wh(d),r=!0)},o(e){Vh(d),r=!1},d(e){e&&Wm(t),d&&d.d(),s=!1,a()}}}function cP(e){let t,n,o;return{c(){t=Km("button"),t.innerHTML='<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-16i9xtu"></path></svg>',nh(t,"class","confirm-button svelte-16i9xtu")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",th(eh(e[19]))),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function dP(e){let t,n,o;return{c(){t=Km("button"),t.innerHTML='<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-16i9xtu"></path></svg>',nh(t,"class","confirm-button right svelte-16i9xtu")},m(i,r){Gm(i,t,r),n||(o=Qm(t,"click",th(eh(e[18]))),n=!0)},p:fm,d(e){e&&Wm(t),n=!1,o()}}}function uP(e){let t,n,o,i,r,s,a,l,c,d,u,p;const g=[tP,eP],m=[];function h(e,t){return e[3]?0:1}return o=h(e),i=m[o]=g[o](e),l=new kb({props:{style:"width: 20px; height: 20px;",whiteLabelStyle:"width: 20px; height: 20px;"}}),{c(){t=Km("div"),n=Km("div"),i.c(),r=Jm(),s=Km("div"),a=Km("div"),ef(l.$$.fragment),nh(a,"class","wrapper icon-wrapper svelte-16i9xtu"),nh(s,"class","dl-toolbar-closed svelte-16i9xtu"),nh(n,"class","dl-toolbar-positioner svelte-16i9xtu"),nh(t,"class","deepl-gmail-write-toolbar svelte-16i9xtu"),nh(t,"style",c=`top: ${e[10]}px; left: ${e[11]}px`),nh(t,"dir",Pa())},m(i,c){Gm(i,t,c),Hm(t,n),m[o].m(n,null),Hm(n,r),Hm(n,s),Hm(s,a),tf(l,a,null),d=!0,u||(p=[Qm(a,"click",e[25]),Qm(t,"click",th(eh(e[26]))),Mm(pm.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),Qm(t,"click_outside",e[27])],u=!0)},p(e,s){let a=o;o=h(e),o===a?m[o].p(e,s):(zh(),Vh(m[a],1,1,(()=>{m[a]=null})),Gh(),i=m[o],i?i.p(e,s):(i=m[o]=g[o](e),i.c()),Wh(i,1),i.m(n,r)),(!d||3072&s[0]&&c!==(c=`top: ${e[10]}px; left: ${e[11]}px`))&&nh(t,"style",c)},i(e){d||(Wh(i),Wh(l.$$.fragment,e),d=!0)},o(e){Vh(i),Vh(l.$$.fragment,e),d=!1},d(e){e&&Wm(t),m[o].d(),nf(l),u=!1,bm(p)}}}function pP(e,t,n){let o,i,r;Sm(e,Pv,(e=>n(2,i=e))),Sm(e,Bv,(e=>n(22,r=e)));var s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("text_direction",Pa());const{deepl_inline_ui:a}=U;let{messageContainer:l}=t,{updateLockStatus:c}=t,{subjectInput:d}=t;const u="WRITE",p="TRANSLATE";let g,m,h,f,v,_,w,b,y,E,T,x,$,S,C,k=!1,L=!1,A=!1,I=!1;Th("deepl_settings",Pv),bh((()=>s(void 0,void 0,void 0,(function*(){l&&(l.addEventListener("input",D),l.addEventListener("paste",D),l.classList.add("deepl-gmail-message-container"),O(),d&&d.value&&(w=d.value)),n(8,v=GP(void 0,r)),n(13,C=i.targetLanguageUserInput),j(),W(),window.addEventListener("popstate",N)})))),yh((()=>{window.removeEventListener("popstate",N),l.removeEventListener("input",D),l.removeEventListener("paste",D),l.classList.remove("deepl-gmail-message-container"),z()}));const O=()=>s(void 0,void 0,void 0,(function*(){const e=Lg(l.innerHTML),t=e.replace(/<[^>]+>/g,"");const o=yield La(t);o.length&&(e=>{const t=v.find((t=>t.value===e));t&&n(1,h=t)})(o)})),D=()=>{k&&R(!1),M()},M=()=>{O()},R=(e,t=null)=>{if(!e)return n(3,k=!1),m=null,void(g=null);n(3,k=!0),m=t},N=()=>{document.querySelectorAll(QN.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},P=(e,t=!0)=>{for(;null!==e;){const n=e.getAttribute("role");if("TABLE"===e.tagName&&("dialog"===n||"presentation"===n))return t?e.parentElement:e;e=e.parentElement}return null},q=e=>{const t=P(l);t&&(b=QN.createElement(),b.createDOM({onCloseCharLimitPopup:N,limitType:e}),t.appendChild(b))},B=()=>{n(9,y=!0)},F=()=>{n(9,y=!1)},H=e=>{L_.update({error:e.message?e.message:e})},j=()=>{E=setInterval(G,800)},z=()=>{clearInterval(E)},G=()=>{const e=JSON.stringify(l.getBoundingClientRect());e!==T&&(T=e,W())},W=()=>{const e=Pa(),t=P(l),o=null==t?void 0:t.getBoundingClientRect();if(!t||!o)return;const i=(()=>{const e=P(l),t=null==e?void 0:e.getBoundingClientRect();if(!e||!t)return;return e.querySelector("[role=toolbar]")})(),r=(()=>{const e=P(l),t=null==e?void 0:e.getBoundingClientRect();if(!e||!t)return;const n=e.querySelector("[role='group']"),o=null==n?void 0:n.querySelectorAll("[role='button']");if(!n||!o)return;const i=Array.from(o);return i[i.length-1]})();if(i&&0!==i.getBoundingClientRect().top){const t=i.getBoundingClientRect();return r&&r.getBoundingClientRect()?(n(10,x=t.top-10),void n(11,$="ltr"===e?r.getBoundingClientRect().right-30:r.getBoundingClientRect().right+30)):(n(10,x=t.top-10),void n(11,$="ltr"===e?o.right-45:o.left+45))}if(!r||!r.getBoundingClientRect())return;const s=r.getBoundingClientRect();n(10,x=s.top-18),n(11,$="ltr"===e?s.right-30:s.right+30)},V=({lang:e,sourceLength:t,targetLang:n,targetLength:o})=>{g={lang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:at.gmail,trigger:un}},K=({sourceLang:e,sourceLength:t,targetLang:n,targetLength:o})=>{g={sourceLang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:at.gmail}},Z=e=>{const t=e?Mt:Rt;Rn({action:Ln.dlTrackTranslateAcceptOrRevertEvent,payload:{eventType:t,acceptOrRevertMetadata:g}})},Y=e=>{Rn({action:Ln.dlTrackGmailCharLimitReached,payload:{gmailActionType:e}})};return e.$$set=e=>{"messageContainer"in e&&n(20,l=e.messageContainer),"updateLockStatus"in e&&n(0,c=e.updateLockStatus),"subjectInput"in e&&n(21,d=e.subjectInput)},e.$$.update=()=>{4194306&e.$$.dirty[0]&&n(8,v=GP(h,r)),2&e.$$.dirty[0]&&h&&h.value&&n(7,I=Ra(h.value)),4&e.$$.dirty[0]&&n(14,o=Hn(i,xt.TRANSLATOR))},[c,h,i,k,L,A,f,I,v,y,x,$,S,C,o,a,()=>s(void 0,void 0,void 0,(function*(){var e,t;if(!l)return;_=Lg(l.innerHTML);const o=d&&d.value;o&&(w=d.value);const r=l.innerText,s=r.length>WN;if(!Bn(i,xt.TRANSLATOR)&&s)return q(),void Y(qt);B();const a=S?S.value:h.value;try{if(yield YA(l,{targetLang:C,nicheIntegration:at.gmail,isHtml:!0,clearInnerHTML:!0}),o){const o=yield Rn({action:Sn.dlRequestInputTranslation,payload:{requests:[{text:d.value}],domainName:window.location.hostname,websiteLanguage:a,targetLang:C,skipDapReporting:!0}});if(null===(e=o[0])||void 0===e?void 0:e.text){const e=null===(t=o[0])||void 0===t?void 0:t.text;n(21,d.value=e,d)}}n(6,f=!1),R(!0,p),F(),K({sourceLang:a,targetLang:C,sourceLength:r.length,targetLength:l.innerText.length})}catch(e){H(e),F(),n(6,f=!1),R(!1)}})),()=>s(void 0,void 0,void 0,(function*(){if(!l)return;const e=d&&d.value;_=Lg(l.innerHTML),e&&(w=d.value);const t=l.innerText;n(6,f=!0),B();const o=h.value,i="FR"===o||"ES"===o;try{if(yield YA(l,{isWriteRequest:!0,sourceLang:o,nicheIntegration:at.gmail,isHtml:!0,clearInnerHTML:!0,removeFormatting:i}),e){const e=yield Rn({action:xn.dlRequestImproveWriting,payload:{requests:[{text:d.value}],domainName:window.location.hostname,websiteLanguage:o,sourceLang:o,skipDapReporting:!0}});if(e.text){const t=e.text;n(21,d.value=t,d)}}V({lang:o,sourceLength:t.length,targetLength:l.innerText.length}),n(6,f=!1),R(!0,u),F()}catch(e){switch(e.error){case pl:case gl:q(e.error),Y(Bt);break;default:H(e)}n(6,f=!1),R(!1),F()}})),()=>{m===p?Z(!0):gB(Object.assign({eventType:It},g)),_=null,w=null,R(!1),O(),n(5,A=!1)},()=>{m===p?Z(!1):gB(Object.assign({eventType:Ot},g)),n(20,l.innerHTML=Lg(_),l),d&&w&&n(21,d.value=w,d),O(),R(!1)},l,d,r,e=>{n(12,S=e.detail.selectedOption)},async e=>{n(13,C=e.detail.selectedOption.value)},()=>{c(!0),n(5,A=!A),n(4,L=!0)},()=>{c(!0)},()=>{c(!1),n(5,A=!1)}]}QN.HTML_TAG_NAME="deepl-gmail-character-limit-popup",QN.createElement=(e=document)=>{const t=e.createElement(QN.HTML_TAG_NAME),n=new QN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class gP extends rf{constructor(e){super(),of(this,e,pP,uP,Em,{messageContainer:20,updateLockStatus:0,subjectInput:21},null,[-1,-1])}}class mP{constructor(e){this.createDOM=({container:e,subjectInput:t,updateLockStatus:n})=>{this.mainComponent=new gP({target:this.domElement.shadowContainer,props:{messageContainer:e,updateLockStatus:n,subjectInput:t}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function hP(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w,b;o=new kb({});let y=e[3]&&fP(),E=null!=e[4]&&vP(e);return c=new zw({props:{disabled:e[0],websiteSettings:L_,value:e[1].selectedTargetLanguage,extraPadding:!0}}),c.$on("selection",e[15]),p=new gb({props:{tooltip:chrome.i18n.getMessage("gmail_reading_translate_button"),multiline:!1,zIndex:3,isEnabled:e[7]<EP,$$slots:{default:[_P]},$$scope:{ctx:e}}}),h=new gb({props:{tooltip:chrome.i18n.getMessage("gmail_reading_view_original_button"),multiline:!1,zIndex:3,$$slots:{default:[wP]},$$scope:{ctx:e}}}),_=new gb({props:{tooltip:chrome.i18n.getMessage("gmail_reading_forward_button"),multiline:!1,zIndex:2,isEnabled:e[7]<EP,$$slots:{default:[bP]},$$scope:{ctx:e}}}),{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),y&&y.c(),r=Jm(),s=Km("div"),E&&E.c(),a=Jm(),l=Km("div"),ef(c.$$.fragment),d=Jm(),u=Km("div"),ef(p.$$.fragment),g=Jm(),m=Km("div"),ef(h.$$.fragment),f=Jm(),v=Km("div"),ef(_.$$.fragment),nh(s,"class","language-selection-wrapper svelte-1f8va30"),nh(l,"class","language-selection-wrapper svelte-1f8va30"),nh(n,"class","left-side svelte-1f8va30"),nh(v,"class","right-side svelte-1f8va30"),nh(t,"class","dl-gmail-email-toolbar svelte-1f8va30"),nh(t,"dir",Pa()),Dh((()=>e[16].call(t))),ch(t,"smallMode",e[7]<EP)},m(T,x){Gm(T,t,x),Hm(t,n),tf(o,n,null),Hm(n,i),y&&y.m(n,null),Hm(n,r),Hm(n,s),E&&E.m(s,null),Hm(n,a),Hm(n,l),tf(c,l,null),Hm(n,d),Hm(n,u),tf(p,u,null),Hm(n,g),Hm(n,m),tf(h,m,null),Hm(t,f),Hm(t,v),tf(_,v,null),w=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=Km("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=lh();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=Qm(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=Qm(n.contentWindow,"resize",t),t()}),Hm(e,n),()=>{(o||i&&n.contentWindow)&&i(),Wm(n)}}(t,e[16].bind(t)),b=!0},p(e,o){e[3]?y?8&o[0]&&Wh(y,1):(y=fP(),y.c(),Wh(y,1),y.m(n,r)):y&&(zh(),Vh(y,1,1,(()=>{y=null})),Gh()),null!=e[4]?E?(E.p(e,o),16&o[0]&&Wh(E,1)):(E=vP(e),E.c(),Wh(E,1),E.m(s,null)):E&&(zh(),Vh(E,1,1,(()=>{E=null})),Gh());const i={};1&o[0]&&(i.disabled=e[0]),2&o[0]&&(i.value=e[1].selectedTargetLanguage),c.$set(i);const a={};128&o[0]&&(a.isEnabled=e[7]<EP),1&o[0]|8&o[1]&&(a.$$scope={dirty:o,ctx:e}),p.$set(a);const l={};4&o[0]|8&o[1]&&(l.$$scope={dirty:o,ctx:e}),h.$set(l);const d={};128&o[0]&&(d.isEnabled=e[7]<EP),4&o[0]|8&o[1]&&(d.$$scope={dirty:o,ctx:e}),_.$set(d),(!b||128&o[0])&&ch(t,"smallMode",e[7]<EP)},i(e){b||(Wh(o.$$.fragment,e),Wh(y),Wh(E),Wh(c.$$.fragment,e),Wh(p.$$.fragment,e),Wh(h.$$.fragment,e),Wh(_.$$.fragment,e),b=!0)},o(e){Vh(o.$$.fragment,e),Vh(y),Vh(E),Vh(c.$$.fragment,e),Vh(p.$$.fragment,e),Vh(h.$$.fragment,e),Vh(_.$$.fragment,e),b=!1},d(e){e&&Wm(t),nf(o),y&&y.d(),E&&E.d(),nf(c),nf(p),nf(h),nf(_),w()}}}function fP(e){let t,n;return t=new wb({props:{size:24,translator:!0}}),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function vP(e){let t,n;return t=new zw({props:{disabled:e[0],value:e[4],websiteSettings:L_,customClass:"borderless",fontSize:"sm",extraPadding:!0}}),t.$on("selection",e[14]),{c(){ef(t.$$.fragment)},m(e,o){tf(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),16&n[0]&&(o.value=e[4]),t.$set(o)},i(e){n||(Wh(t.$$.fragment,e),n=!0)},o(e){Vh(t.$$.fragment,e),n=!1},d(e){nf(t,e)}}}function _P(e){let t,n,o,i,r,s;return{c(){t=Km("button"),n=Km("div"),n.innerHTML='<svg width="20px" height="20px" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path id="Icon" d="M1.5 3.16667H11.5M6.5 1.5V3.16667M7.37349 11.0833C6.10069 9.76482 5.06727 8.21371 4.34322 6.5M9.41667 14H15.25M8.16667 16.5L12.3333 8.16667L16.5 16.5M9.62594 3.16667C8.81922 7.97518 5.72474 12.0079 1.5 14.1075" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Jm(),i=Km("span"),i.textContent=`${chrome.i18n.getMessage("gmail_reading_translate_button")}`,nh(n,"class","icon svelte-1f8va30"),nh(i,"class","svelte-1f8va30"),nh(t,"class","translate-button svelte-1f8va30"),t.disabled=e[0]},m(a,l){Gm(a,t,l),Hm(t,n),Hm(t,o),Hm(t,i),r||(s=Qm(t,"click",th(eh(e[9]))),r=!0)},p(e,n){1&n[0]&&(t.disabled=e[0])},d(e){e&&Wm(t),r=!1,s()}}}function wP(e){let t,n,o,i,r,s;return{c(){t=Km("button"),n=Zm("svg"),o=Zm("path"),nh(o,"d","M7 16L3 12M3 12L7 8M3 12L21 12"),nh(o,"stroke",i=e[2]?"#000":"#848F9B"),nh(o,"stroke-width","1.5"),nh(o,"stroke-linecap","round"),nh(o,"stroke-linejoin","round"),nh(n,"width","24"),nh(n,"height","24"),nh(n,"viewBox","0 0 24 24"),nh(n,"fill","none"),nh(n,"xmlns","http://www.w3.org/2000/svg"),nh(n,"class","svelte-1f8va30"),nh(t,"class","show-original-button svelte-1f8va30"),ch(t,"enabled",e[2])},m(i,a){Gm(i,t,a),Hm(t,n),Hm(n,o),r||(s=Qm(t,"click",th(eh(e[8]))),r=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&nh(o,"stroke",i),4&n[0]&&ch(t,"enabled",e[2])},d(e){e&&Wm(t),r=!1,s()}}}function bP(e){let t,n,o,i,r,s,a,l,c;return{c(){t=Km("button"),n=Zm("svg"),o=Zm("path"),r=Jm(),s=Km("span"),s.textContent=`${chrome.i18n.getMessage("gmail_reading_forward_button")}`,nh(o,"d","M17 8L21 12M21 12L17 16M21 12L3 12"),nh(o,"stroke",i=e[2]?"#000":"#848F9B"),nh(o,"stroke-width","1.5"),nh(o,"stroke-linecap","round"),nh(o,"stroke-linejoin","round"),nh(n,"width","24"),nh(n,"height","24"),nh(n,"viewBox","0 0 24 24"),nh(n,"fill","none"),nh(n,"xmlns","http://www.w3.org/2000/svg"),nh(n,"class","svelte-1f8va30"),nh(s,"class","svelte-1f8va30"),t.disabled=a=!e[2],nh(t,"class","forward-button svelte-1f8va30")},m(i,a){Gm(i,t,a),Hm(t,n),Hm(n,o),Hm(t,r),Hm(t,s),l||(c=Qm(t,"click",e[10]),l=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&nh(o,"stroke",i),4&n[0]&&a!==(a=!e[2])&&(t.disabled=a)},d(e){e&&Wm(t),l=!1,c()}}}function yP(e){let t,n,o=e[5]&&e[6]&&hP(e);return{c(){o&&o.c(),t=Xm()},m(e,i){o&&o.m(e,i),Gm(e,t,i),n=!0},p(e,n){e[5]&&e[6]?o?(o.p(e,n),96&n[0]&&Wh(o,1)):(o=hP(e),o.c(),Wh(o,1),o.m(t.parentNode,t)):o&&(zh(),Vh(o,1,1,(()=>{o=null})),Gh())},i(e){n||(Wh(o),n=!0)},o(e){Vh(o),n=!1},d(e){e&&Wm(t),o&&o.d(e)}}}mP.HTML_TAG_NAME="deepl-gmail-message-write-ui",mP.createElement=(e=document)=>{const t=e.createElement(mP.HTML_TAG_NAME),n=new mP(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const EP=900;function TP(e,t,n){let o;Sm(e,Pv,(e=>n(1,o=e)));var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let r,s,a,l,c,d,u,p;Th("text_direction",Pa());let g,m,h,f,v=!1,_=!1,w=!1,b=!1,y=!1,{container:E}=t;bh((()=>i(void 0,void 0,void 0,(function*(){k(),L(),yield S(),setTimeout((()=>{n(6,y=!0)}),200),window.addEventListener("popstate",$)})))),yh((()=>{window.removeEventListener("popstate",$)}));const T=()=>{r&&s&&(r.innerText=s.innerText,r.innerHTML=Lg(s.innerHTML)),d&&c&&(d.innerText=c),n(12,_=!1)},x=e=>{d&&(e?d.classList.add("deepl-gmail-loading-skeleton"):d.classList.remove("deepl-gmail-loading-skeleton"))},$=()=>{document.querySelectorAll(QN.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},S=()=>i(void 0,void 0,void 0,(function*(){if(!a)return;if(u=yield La(a),n(5,h=Ca(u)),!h)return;const e=Da(ka(u));n(4,m=e)})),C=()=>i(void 0,void 0,void 0,(function*(){const e=`<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;let t;const o=Lg(r.innerHTML);if(v)t=o;else{t=`${o}<br>${`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`}`}const i=(new DOMParser).parseFromString(t,"text/html"),s={html:t,text:ev(i.body)},a=document.querySelector("[contenteditable='true']");a.focus(),setTimeout((()=>{a.focus(),RL(a,s,!1),n(13,b=!1)}),500)})),k=()=>{const e=Array.from(E.children).filter((e=>"div"===e.tagName.toLowerCase()));if(3!==e.length)return;const t=e[1];if(!t)return;const n=Array.from(t.children).filter((e=>"div"===e.tagName.toLowerCase()));if(!n||!n.length)return;const o=n[2];o&&(s=o.cloneNode(!0),r=o,a=o.innerText)},L=()=>{let e=null,t=null;if(e=document.querySelector("[data-subject-announcement]"),e&&(t=e.querySelector("h2")),!t){const e=document.querySelector("[data-thread-perm-id]");e&&(t=e)}t&&(d=t,l=t.innerText,c=t.innerText)};return e.$$set=e=>{"container"in e&&n(11,E=e.container)},e.$$.update=()=>{12289&e.$$.dirty[0]&&n(2,p=_&&!w&&!b),2&e.$$.dirty[0]&&n(3,v=Bn(o,xt.TRANSLATOR))},[w,o,p,v,m,h,y,f,T,()=>i(void 0,void 0,void 0,(function*(){var e,t,i;if(!r)return;const{domElements:s,strings:a,cloneContainer:c}=WA(r),u=a.reduce(((e,t)=>e+t.length),0);if(!v&&u>WN)return Rn({action:Ln.dlTrackGmailCharLimitReached,payload:{gmailActionType:Ut}}),g=QN.createElement(),g.createDOM({onCloseCharLimitPopup:$}),void document.body.appendChild(g);n(0,w=!0);const p=a.map((e=>({text:e}))),h=l?[{text:l}]:[{text:""}],f=FS(p.map((e=>e.text)));(e=>{if(!e)return;const{height:t}=e.getBoundingClientRect(),n=Math.floor(t/20),o=[];for(let e=0;e<n;e++)o.push(`<div style="width: ${i=35,r=99,Math.floor(Math.random()*(r-i+1))+i}%" class="deepl-gmail-loading-skeleton">line</div>`);var i,r;e.innerHTML=Lg(o.join(""))})(r),x(!!l);try{let[a,u]=yield Promise.all([Rn({action:Sn.dlRequestGmailReceivedEmailTranslation,payload:{targetLang:o.selectedTargetLanguage,sourceLang:m,requests:f.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname}}),Rn({action:Sn.dlRequestGmailReceivedEmailTranslation,payload:{targetLang:o.selectedTargetLanguage,sourceLang:m,requests:h,domainName:window.location.hostname}})]);if(a=a.map((e=>Object.assign(Object.assign({},e),{text:HS(f.map,e.text),texts:e.texts.map((e=>HS(f.map,e)))}))),dx({strings:null===(e=a[0])||void 0===e?void 0:e.texts,domElements:s}),r&&c&&(r.innerText=c.innerText,r.innerHTML=Lg(c.innerHTML)),x(!1),null===(t=u[0])||void 0===t?void 0:t.text){const e=null===(i=u[0])||void 0===i?void 0:i.text;l=e,d&&(d.innerText=e)}n(0,w=!1),n(12,_=!0)}catch(e){(e=>{L_.update({error:e.message?e.message:e})})(e),n(0,w=!1),T()}})),()=>{n(13,b=!0);if(!YP())return void n(13,b=!1);const e=JP();e?(e.scrollIntoView(),setTimeout((()=>{KP(e),ZP("[contenteditable='true']",C)}),300)):n(13,b=!1)},E,_,b,e=>{n(4,m=e.detail.selectedOption.value)},e=>{const t=e.detail.selectedOption;Pv.set({selectedTargetLanguage:t.value,isTargetLanguageConfirmed:!0,regionalVariant:t.regionalVariant||""})},function(){f=this.offsetWidth,n(7,f)}]}let xP=class extends rf{constructor(e){super(),of(this,e,TP,yP,Em,{container:11},null,[-1,-1])}};class $P{constructor(e){this.createDOM=({container:e})=>{this.mainComponent=new xP({target:this.domElement.shadowContainer,props:{container:e}})},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function SP(e){let t;return{c(){t=Km("div"),nh(t,"class","dot svelte-oj3rz3")},m(e,n){Gm(e,t,n)},d(e){e&&Wm(t)}}}function CP(e){let t,n,o,i,r,s,a,l,c,d,u,p,g=!e[0].wasGmailOnboardingShown&&kP();return c=new Eb({props:{checked:e[0].isGmailEnabled}}),c.$on("change",e[6]),{c(){t=Km("div"),n=Km("div"),g&&g.c(),o=Jm(),i=Km("div"),r=Km("div"),s=Km("div"),s.textContent=`${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,a=Jm(),l=Km("div"),ef(c.$$.fragment),nh(n,"class","svelte-oj3rz3"),ch(n,"content",!e[0].wasGmailOnboardingShown),nh(s,"class","switch-content svelte-oj3rz3"),nh(l,"class","switch"),nh(r,"class","switch-container svelte-oj3rz3"),ch(r,"topBorder",!e[0].wasGmailOnboardingShown),nh(i,"class","footer"),nh(t,"class","onboarding-popup svelte-oj3rz3")},m(m,h){Gm(m,t,h),Hm(t,n),g&&g.m(n,null),Hm(t,o),Hm(t,i),Hm(i,r),Hm(r,s),Hm(r,a),Hm(r,l),tf(c,l,null),d=!0,u||(p=[Mm(pm.call(null,t,{isShadow:!0,exceptions:["#dl-gmail-settings-icon"]})),Qm(t,"click_outside",e[7])],u=!0)},p(e,t){e[0].wasGmailOnboardingShown?g&&(zh(),Vh(g,1,1,(()=>{g=null})),Gh()):g?(g.p(e,t),1&t&&Wh(g,1)):(g=kP(),g.c(),Wh(g,1),g.m(n,null)),(!d||1&t)&&ch(n,"content",!e[0].wasGmailOnboardingShown);const o={};1&t&&(o.checked=e[0].isGmailEnabled),c.$set(o),(!d||1&t)&&ch(r,"topBorder",!e[0].wasGmailOnboardingShown)},i(e){d||(Wh(g),Wh(c.$$.fragment,e),d=!0)},o(e){Vh(g),Vh(c.$$.fragment,e),d=!1},d(e){e&&Wm(t),g&&g.d(),nf(c),u=!1,bm(p)}}}function kP(e){let t,n,o,i,r,s,a,l,c,d,u,p,g,m,h,f,v,_,w;return s=new QM({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new QM({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new QM({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Km("div"),n=Km("p"),n.textContent=`${chrome.i18n.getMessage("gmail_onboarding_title")}`,o=Jm(),i=Km("div"),r=Km("div"),ef(s.$$.fragment),a=Jm(),l=Km("div"),l.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,c=Jm(),d=Km("div"),ef(u.$$.fragment),p=Jm(),g=Km("div"),g.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,m=Jm(),h=Km("div"),ef(f.$$.fragment),v=Jm(),_=Km("div"),_.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,nh(n,"class","svelte-oj3rz3"),nh(t,"class","title svelte-oj3rz3"),nh(l,"class","copy-text svelte-oj3rz3"),nh(r,"class","copy svelte-oj3rz3"),nh(g,"class","copy-text svelte-oj3rz3"),nh(d,"class","copy svelte-oj3rz3"),nh(_,"class","copy-text svelte-oj3rz3"),nh(h,"class","copy svelte-oj3rz3"),nh(i,"class","body svelte-oj3rz3")},m(e,b){Gm(e,t,b),Hm(t,n),Gm(e,o,b),Gm(e,i,b),Hm(i,r),tf(s,r,null),Hm(r,a),Hm(r,l),Hm(i,c),Hm(i,d),tf(u,d,null),Hm(d,p),Hm(d,g),Hm(i,m),Hm(i,h),tf(f,h,null),Hm(h,v),Hm(h,_),w=!0},p:fm,i(e){w||(Wh(s.$$.fragment,e),Wh(u.$$.fragment,e),Wh(f.$$.fragment,e),w=!0)},o(e){Vh(s.$$.fragment,e),Vh(u.$$.fragment,e),Vh(f.$$.fragment,e),w=!1},d(e){e&&(Wm(t),Wm(o),Wm(i)),nf(s),nf(u),nf(f)}}}function LP(e){let t,n,o,i,r,s,a,l;o=new kb({props:{disabled:!e[0].isGmailEnabled,style:"border-radius: 4px;",whiteLabelStyle:"border-radius: 4px;"}});let c=e[2]&&SP(),d=e[1]&&CP(e);return{c(){t=Km("div"),n=Km("div"),ef(o.$$.fragment),i=Jm(),c&&c.c(),r=Jm(),d&&d.c(),nh(n,"class","icon-wrapper svelte-oj3rz3"),nh(n,"id","dl-gmail-settings-icon"),ch(n,"notification",e[2]),ch(n,"isOnboardingPopupOpen",e[1]),nh(t,"class","deepl-gmail-header-toolbar svelte-oj3rz3"),nh(t,"dir",Pa())},m(u,p){Gm(u,t,p),Hm(t,n),tf(o,n,null),Hm(t,i),c&&c.m(t,null),Hm(t,r),d&&d.m(t,null),s=!0,a||(l=Qm(n,"click",th(eh(e[5]))),a=!0)},p(e,[i]){const a={};1&i&&(a.disabled=!e[0].isGmailEnabled),o.$set(a),(!s||4&i)&&ch(n,"notification",e[2]),(!s||2&i)&&ch(n,"isOnboardingPopupOpen",e[1]),e[2]?c||(c=SP(),c.c(),c.m(t,r)):c&&(c.d(1),c=null),e[1]?d?(d.p(e,i),2&i&&Wh(d,1)):(d=CP(e),d.c(),Wh(d,1),d.m(t,null)):d&&(zh(),Vh(d,1,1,(()=>{d=null})),Gh())},i(e){s||(Wh(o.$$.fragment,e),Wh(d),s=!0)},o(e){Vh(o.$$.fragment,e),Vh(d),s=!1},d(e){e&&Wm(t),nf(o),c&&c.d(),d&&d.d(),a=!1,l()}}}function AP(e,t,n){let o;Sm(e,Pv,(e=>n(0,o=e)));var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Th("text_direction",Pa());let r=!1,s=!1;const a=e=>i(void 0,void 0,void 0,(function*(){n(1,r=e),e||o.wasGmailOnboardingShown||(yield Pv.set({wasGmailOnboardingShown:!0})),Rn({action:Ln.dlTrackUILocationClicked,payload:ge}),e&&Rn({action:Ln.dlTrackOnboardingModalShown,payload:{nicheIntegration:at.gmail}})})),l=e=>i(void 0,void 0,void 0,(function*(){yield Pv.set({isGmailEnabled:e}),Rn({action:Ln.dlTrackCustomizationEnabledEvent,payload:{nicheIntegration:at.gmail,uiLocation:pe,customizationEnabled:e}})}));return e.$$.update=()=>{1&e.$$.dirty&&n(2,s=!o.wasGmailOnboardingShown)},[o,r,s,a,l,()=>{a(!r)},e=>l(e.detail.checked),()=>{a(!1)}]}$P.HTML_TAG_NAME="deepl-gmail-translate-email-toolbar",$P.createElement=(e=document)=>{const t=e.createElement($P.HTML_TAG_NAME),n=new $P(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class IP extends rf{constructor(e){super(),of(this,e,AP,LP,Em,{})}}class OP{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new IP({target:this.domElement.shadowContainer})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function DP(e){let t;return{c(){t=Km("div"),nh(t,"class","dl-gmail"),nh(t,"dir",Pa())},m(e,n){Gm(e,t,n)},p:fm,i:fm,o:fm,d(e){e&&Wm(t)}}}function MP(e,t,n){let o;Sm(e,Pv,(e=>n(7,o=e))),Th("text_direction",Pa());let i,r,s,a,l=!1;const c=()=>{p(),o.isGmailEnabled?d():u()},d=()=>{g(),m()},u=()=>{const e=[QN.HTML_TAG_NAME,$P.HTML_TAG_NAME,mP.HTML_TAG_NAME];qP(e)},p=()=>{const e="data-has-dl-icon",t=document.querySelector("header");if(!t||"banner"!==t.getAttribute("role")||t.hasAttribute(e))return;const n=t.querySelector("[role='search']");if(!n)return;const o=n.parentNode;if(!o)return;const i=OP.createElement();o.insertAdjacentElement("afterend",i),i.createDOM(),t.setAttribute(e,!0)},g=()=>{if(BP()){const e=FP();if(!e)return;e.forEach((e=>{const t=zP(e);if(!t||HP(e))return;const n=t.parentNode;if(!n)return;const o=$P.createElement();n.after(o),o.createDOM({container:e})}))}},m=()=>{const e=document.activeElement;if(!e)return;const t=e.hasAttribute("contenteditable"),n=jP(e),o=e.hasAttribute(GN),i=e!==s,r=!a&&(!t||n||i),c=t&&(!o||i)&&!n;!r||c||l?(l=!1,r&&f(),c&&(f(),h(e))):l=!0},h=e=>{const t=mP.createElement();r=t,s=e,e.setAttribute(GN,"true"),document.body.appendChild(t);const n=(e=>{const t=function(e){let t=e;for(;null!==t;){if("dialog"===t.getAttribute("role"))return t;t=t.parentElement}return null}(e);return t?t.querySelector('input[name="subjectbox"]'):null})(e);t.createDOM({container:e,subjectInput:n,updateLockStatus:v})},f=()=>{r&&r.cleanupDOM();const e=Array.from(document.querySelectorAll(mP.HTML_TAG_NAME));for(const t of e)t.remove();document.querySelectorAll(`[contenteditable][${GN}="true"]`).forEach((e=>e.removeAttribute(GN))),r=null},v=e=>{a=e},_=e=>e.action===bc.uiActions.dlChangeActiveTabStatus&&(e.payload.isActive?w():b(),!1),w=()=>{i&&clearInterval(i),i=setInterval(c,800)},b=()=>{clearInterval(i)};return bh((()=>{w(),chrome.runtime.onMessage.addListener(_)})),yh((()=>{u(),i&&b(),chrome.runtime.onMessage.removeListener(_)})),[undefined,undefined]}OP.HTML_TAG_NAME="deepl-gmail-header-toolbar",OP.createElement=(e=document)=>{const t=e.createElement(OP.HTML_TAG_NAME),n=new OP(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class RP extends rf{constructor(e){super(),of(this,e,MP,DP,Em,{onClose:0,controller:1})}get onClose(){return this.$$.ctx[0]}get controller(){return this.$$.ctx[1]}}class NP{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new RP({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div");const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}NP.HTML_TAG_NAME="deepl-gmail-controller",NP.createElement=(e=document)=>{const t=e.createElement(NP.HTML_TAG_NAME),n=new NP(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t};const{scope:PP}=hm(),UP=()=>document.querySelector(NP.HTML_TAG_NAME),qP=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM&&t.cleanupDOM(),t.remove()}}catch(e){ja(),Ka(e,PP)}},BP=()=>document.querySelectorAll("[data-message-id]").length>0,FP=()=>document.querySelectorAll("[data-message-id]"),HP=e=>!!e&&!!e.querySelector($P.HTML_TAG_NAME),jP=e=>{const{bottom:t,right:n}=e.getBoundingClientRect(),o=t-30,i=n-30;let r=!1;return document.querySelectorAll('[role="dialog"]').forEach((t=>{const n=(s=i,a=o,l=t.getBoundingClientRect(),s>=l.left&&s<=l.right&&a>=l.top&&a<=l.bottom);var s,a,l;const c=t.contains(e);n&&!c&&(r=!0)})),r},zP=e=>{if(e)return e.querySelector("table")},GP=(e,t)=>{const n=Aa(t),o=n.filter((e=>void 0===e.regionalVariant)).map((e=>({value:e.value,label:e.isNew?`<strong>${e.value}</strong> - ${e.label}*`:`<strong>${e.value}</strong> - ${e.label}`,selectedOptionLabel:e.value}))),i=n.find((e=>"EN-GB"===e.value)),r=n.find((e=>"PT-PT"===e.value));return[...[...o,...[Object.assign(Object.assign({},i),{value:"EN",selectedOptionLabel:"EN",label:`<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`}),Object.assign(Object.assign({},r),{value:"PT",selectedOptionLabel:"PT",label:`<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`})]].map((t=>e&&t.value===e.value?Object.assign(Object.assign({},t),{label:`${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`}):t))].sort(((e,t)=>e.value.localeCompare(t.value)))},WP=e=>{const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}},VP=(e,t)=>{var n;const o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:e,clientY:t});null===(n=document.elementFromPoint(e,t))||void 0===n||n.dispatchEvent(o)},KP=e=>{const{x:t,y:n}=WP(e);VP(t,n)},ZP=(e,t)=>{const n=document.body;new MutationObserver(((o,i)=>{for(const r of o)if("childList"===r.type&&n.querySelector(e)){i.disconnect(),t(n.querySelector(e));break}})).observe(n,{childList:!0,subtree:!0})},YP=()=>{const e=document.querySelectorAll("[data-message-id]");for(const t of e){const e=t.nextElementSibling;if(e&&"DIV"===e.tagName)return e}return null},JP=()=>{const e=document.querySelectorAll('span[role="link"]');let t;for(let n=0;n<e.length;n++){const o=e[n],i=o.previousElementSibling;if(i&&"SPAN"===i.tagName&&"link"===i.getAttribute("role")){const e=o.parentElement,n=e.querySelectorAll('span[role="link"]'),i=Array.from(e.children).filter((e=>e.matches("span")));2!==(2===n.length&&i.length)&&3!==(3===n.length&&i.length)||(t=o)}}return t};class XP extends DOMRect{contains(e,t){return this.left<=e&&this.top<=t&&this.right>=e&&this.bottom>=t}equals(e){return this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom}distance(e){const t=Math.max(this.left-e.right,e.left-this.right,0),n=Math.max(this.top-e.bottom,e.top-this.bottom,0);return Math.hypot(t,n)}intersection(e){const t=Math.max(this.left,e.left),n=Math.max(this.top,e.top),o=Math.min(this.right,e.right)-t,i=Math.min(this.bottom,e.bottom)-n;return o<=0||i<=0?null:this.createInstance(t,n,o,i)}union(e){const t=[this,...e],n=Math.min(...t.map((e=>e.left))),o=Math.min(...t.map((e=>e.top))),i=Math.max(...t.map((e=>e.right))),r=Math.max(...t.map((e=>e.bottom)));return this.createInstance(n,o,i-n,r-o)}}class QP extends XP{constructor(e,t,n,o){super(e,t,n,o)}createInstance(e,t,n,o){return new QP(e,t,n,o)}toEditorRect(e){const t=e.getBoundingClientRect();return new eU(this.left-t.left,this.top-t.top,this.width,this.height)}toEditorContentRect(e){const t=e.getBoundingClientRect(),n=e.getScrollTop(),o=e.getScrollLeft(),i=e.getContentAreaOffsetLeft(),r=e.getContentAreaOffsetTop();return new tU(this.left-t.left-i+o,this.top-t.top-r+n,this.width,this.height)}static fromDOMRect(e){return new QP(e.left,e.top,e.width,e.height)}}class eU extends XP{constructor(e,t,n,o){super(e,t,n,o)}createInstance(e,t,n,o){return new eU(e,t,n,o)}toViewportRect(e){const t=e.getBoundingClientRect();return new QP(this.left+t.left,this.top+t.top,this.width,this.height)}toEditorContentRect(e){const t=e.getScrollTop(),n=e.getScrollLeft(),o=e.getContentAreaOffsetLeft(),i=e.getContentAreaOffsetTop();return new tU(this.left-o+n,this.top-i+t,this.width,this.height)}}class tU extends XP{constructor(e,t,n,o){super(e,t,n,o)}createInstance(e,t,n,o){return new tU(e,t,n,o)}toViewportRect(e){const t=e.getBoundingClientRect(),n=e.getScrollTop(),o=e.getScrollLeft(),i=e.getContentAreaOffsetLeft(),r=e.getContentAreaOffsetTop();return new QP(this.left-o+i+t.left,this.top-n+r+t.top,this.width,this.height)}toEditorRect(e){const t=e.getScrollTop(),n=e.getScrollLeft(),o=e.getContentAreaOffsetLeft(),i=e.getContentAreaOffsetTop();return new eU(this.left-n+o,this.top-t+i,this.width,this.height)}}class nU{constructor(e,t){this.start=e,this.length=t}get end(){return this.start+this.length}toStartEnd(){return{start:this.start,end:this.end}}contains(e){return e>=this.start&&e<=this.end}containsRange(e){return e.start>=this.start&&e.end<=this.end}equals(e){return this.start===e.start&&this.length===e.length}isEmpty(){return this.length<=0}static fromStartEnd(e,t){return new nU(e,t-e)}}class oU{static groupBy(e,t){const n={};for(const o of e){const e=t(o);n[e]=n[e]||[],n[e].push(o)}return Object.values(n)}static chunk(e,t){const n=[];for(let o=0;o<e.length;o+=t)n.push(e.slice(o,o+t));return n}static distinct(e){return e.filter(((e,t,n)=>n.indexOf(e)===t))}}function iU(e){for(const t of e)try{t()}catch(e){Ga()}}class rU{constructor(e,t,n="p"){this.start=e,this.text=t,this.semanticTag=n}get end(){return this.start+this.text.length}intersects(e,t){const n=this.start<=e&&this.end>=e,o=this.start<=t&&this.end>=t,i=e<=this.start&&t>=this.end;return n||o||i}}const sU=Symbol("block-break");class aU{constructor(e){this.blocks=e}emptyOrWhitespace(){return 0===this.blocks.length||this.blocks.every((e=>0===e.text.trim().length))}equals(e){return this.blocks.length===e.blocks.length&&this.blocks.every(((t,n)=>t.text===e.blocks[n].text&&t.start===e.blocks[n].start))}fullText(){return this.blocks.map((e=>e.text)).join("")}fullTextWithBreaks(){const e=[];for(const t of this.blocks){for(const n of t.text)e.push(n);e.push(sU)}return e}}class lU{constructor(e){this.textChangeCallbacks=[],this.focusCallbacks=[],this.blurCallbacks=[],this.textSizeChangeCallbacks=[],this.boundingClientRectChangeCallbacks=[],this.selectionChangeCallbacks=[],this.editorDestroyedCallbacks=[],this.element=e}getScrollTop(){var e;const t=this.getElement();return null!==(e=null==t?void 0:t.scrollTop)&&void 0!==e?e:0}getScrollLeft(){var e;const t=this.getElement();return null!==(e=null==t?void 0:t.scrollLeft)&&void 0!==e?e:0}onFocus(e){return this.focusCallbacks.push(e),()=>this.focusCallbacks.splice(this.focusCallbacks.indexOf(e),1)}onBlur(e){return this.blurCallbacks.push(e),()=>this.blurCallbacks.splice(this.blurCallbacks.indexOf(e),1)}onTextSizeChange(e){return this.textSizeChangeCallbacks.push(e),()=>this.textSizeChangeCallbacks.splice(this.textSizeChangeCallbacks.indexOf(e),1)}onBoundingClientRectChange(e){return this.boundingClientRectChangeCallbacks.push(e),()=>this.boundingClientRectChangeCallbacks.splice(this.boundingClientRectChangeCallbacks.indexOf(e),1)}onTextChange(e){return this.textChangeCallbacks.push(e),()=>this.textChangeCallbacks.splice(this.textChangeCallbacks.indexOf(e),1)}onEditorDestroyed(e){return this.editorDestroyedCallbacks.push(e),()=>this.editorDestroyedCallbacks.splice(this.editorDestroyedCallbacks.indexOf(e),1)}onSelectionChange(e){return this.selectionChangeCallbacks.push(e),()=>this.selectionChangeCallbacks.splice(this.selectionChangeCallbacks.indexOf(e),1)}isValid(){return this.element&&this.element.isConnected}getElement(){return this.element}getOffsetParent(){var e;const t=this.getElement();if(!t)return document.body;if(t instanceof HTMLElement)return null!==(e=t.offsetParent)&&void 0!==e?e:document.body;let n=t.parentElement;for(;n&&!(n instanceof HTMLElement);)n=n.parentElement;if(n instanceof HTMLElement){const e=n.offsetParent;return e instanceof HTMLElement?e:n}return document.body}destroy(){this.textChangeCallbacks=[],this.focusCallbacks=[],this.blurCallbacks=[],this.textSizeChangeCallbacks=[],this.boundingClientRectChangeCallbacks=[],this.selectionChangeCallbacks=[],this.editorDestroyedCallbacks=[],this.element=null}notifyTextChange(e){iU(this.textChangeCallbacks.map((t=>()=>t(e))))}notifyFocus(){iU(this.focusCallbacks)}notifyBlur(){iU(this.blurCallbacks)}notifyTextSizeChange(e){iU(this.textSizeChangeCallbacks.map((t=>()=>t(e))))}notifyBoundingClientRectChange(e){iU(this.boundingClientRectChangeCallbacks.map((t=>()=>t(e))))}notifySelectionChange(e){iU(this.selectionChangeCallbacks.map((t=>()=>t(e))))}notifyEditorDestroyed(){iU(this.editorDestroyedCallbacks)}}class cU{diff(e,t,n={}){let o;"function"==typeof n?(o=n,n={}):"callback"in n&&(o=n.callback);const i=this.castInput(e,n),r=this.castInput(t,n),s=this.removeEmpty(this.tokenize(i,n)),a=this.removeEmpty(this.tokenize(r,n));return this.diffWithOptionsObj(s,a,n,o)}diffWithOptionsObj(e,t,n,o){var i;const r=e=>(e=this.postProcess(e,n),o?void setTimeout((function(){o(e)}),0):e),s=t.length,a=e.length;let l=1,c=s+a;null!=n.maxEditLength&&(c=Math.min(c,n.maxEditLength));const d=null!==(i=n.timeout)&&void 0!==i?i:1/0,u=Date.now()+d,p=[{oldPos:-1,lastComponent:void 0}];let g=this.extractCommon(p[0],t,e,0,n);if(p[0].oldPos+1>=a&&g+1>=s)return r(this.buildValues(p[0].lastComponent,t,e));let m=-1/0,h=1/0;const f=()=>{for(let o=Math.max(m,-l);o<=Math.min(h,l);o+=2){let i;const l=p[o-1],c=p[o+1];l&&(p[o-1]=void 0);let d=!1;if(c){const e=c.oldPos-o;d=c&&0<=e&&e<s}const u=l&&l.oldPos+1<a;if(d||u){if(i=!u||d&&l.oldPos<c.oldPos?this.addToPath(c,!0,!1,0,n):this.addToPath(l,!1,!0,1,n),g=this.extractCommon(i,t,e,o,n),i.oldPos+1>=a&&g+1>=s)return r(this.buildValues(i.lastComponent,t,e))||!0;p[o]=i,i.oldPos+1>=a&&(h=Math.min(h,o-1)),g+1>=s&&(m=Math.max(m,o+1))}else p[o]=void 0}l++};if(o)!function e(){setTimeout((function(){if(l>c||Date.now()>u)return o(void 0);f()||e()}),0)}();else for(;l<=c&&Date.now()<=u;){const e=f();if(e)return e}}addToPath(e,t,n,o,i){const r=e.lastComponent;return r&&!i.oneChangePerToken&&r.added===t&&r.removed===n?{oldPos:e.oldPos+o,lastComponent:{count:r.count+1,added:t,removed:n,previousComponent:r.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:t,removed:n,previousComponent:r}}}extractCommon(e,t,n,o,i){const r=t.length,s=n.length;let a=e.oldPos,l=a-o,c=0;for(;l+1<r&&a+1<s&&this.equals(n[a+1],t[l+1],i);)l++,a++,c++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!i.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,l}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){const t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){const o=[];let i;for(;e;)o.push(e),i=e.previousComponent,delete e.previousComponent,e=i;o.reverse();const r=o.length;let s=0,a=0,l=0;for(;s<r;s++){const e=o[s];if(e.removed)e.value=this.join(n.slice(l,l+e.count)),l+=e.count;else{if(!e.added&&this.useLongestToken){let o=t.slice(a,a+e.count);o=o.map((function(e,t){const o=n[l+t];return o.length>e.length?o:e})),e.value=this.join(o)}else e.value=this.join(t.slice(a,a+e.count));a+=e.count,e.added||(l+=e.count)}}return o}}const dU=new class extends cU{tokenize(e){return e.slice()}join(e){return e}removeEmpty(e){return e}};function uU(e,t,n){return dU.diff(e,t,n)}class pU{static calculateMutations(e,t){return this.calculateTextMutations(e.fullTextWithBreaks(),t.fullTextWithBreaks())}static calculateTextMutations(e,t){const n=[],o=e=>!!e&&/\s/.test(e),i=uU(e,t,{comparator:(e,t)=>e===t||e!==sU&&t!==sU&&((e,t)=>e===t||o(e)&&o(t))(e,t)});let r=0;for(const e of i)if(e.removed)for(let t=0;t<e.value.length;t++){const o=e.value[t];o===sU?n.push({type:"delete-block-break",start:r,break:"before"}):n.push({type:"delete",start:r,length:o.length})}else if(e.added)for(let t=0;t<e.value.length;t++)if(e.value[t]===sU)n.push({type:"insert-block-break",start:r,break:"before"});else{const o=e.value[t];n.push({type:"insert",start:r,text:o}),r+=o.length}else r+=e.value.filter((e=>e!=sU)).join("").length;return n}}class gU{constructor(e){this.mirrorElement=null,this.sourceElement=e,this.create()}create(){this.mirrorElement||(this.mirrorElement=document.createElement("div"),this.update(),document.body.appendChild(this.mirrorElement))}update(){this.mirrorElement&&(this.copyStyles(),this.copyContent(),this.syncSize())}destroy(){var e;null===(e=this.mirrorElement)||void 0===e||e.remove(),this.mirrorElement=null}getText(){var e;if(!this.mirrorElement)return Ga(),"";let t="";for(const n of this.mirrorElement.childNodes)n.nodeType===Node.TEXT_NODE&&(t+=n.textContent||""),n.nodeType===Node.ELEMENT_NODE&&"br"===(null===(e=n.tagName)||void 0===e?void 0:e.toLowerCase())&&(t+="\n");return t}getTextRangeBounds(e,t){var n,o,i;if(!this.mirrorElement)return Ga(),[];const r=[];let s=-1,a=-1,l=-1,c=-1,d=0,u=0;try{const p=Array.from(this.mirrorElement.childNodes).reverse();for(;p.length>0;){const g=p.pop();if(g.nodeType===Node.TEXT_NODE){r.push(g);const i=null!==(o=null===(n=g.textContent)||void 0===n?void 0:n.length)&&void 0!==o?o:0;-1===s&&e>=u&&e<u+i&&(s=d,a=e-u),-1!==s&&-1===l&&e+t<=u+i&&(l=d,c=e+t-u),u+=i,d++}else if(g.nodeType===Node.ELEMENT_NODE){if("br"===(null===(i=g.tagName)||void 0===i?void 0:i.toLowerCase())){u+=1;continue}const e=g.childNodes;for(let t=e.length-1;t>=0;t--)p.push(e[t])}}if(-1===s||-1===l)return Ga(),[];const g=document.createRange();g.setStart(r[s],a),g.setEnd(r[l],c);const m=Array.from(g.getClientRects()),h=this.mirrorElement.getBoundingClientRect();return m.map((e=>new eU(e.left-h.left,e.top-h.top,e.width,e.height)))}catch(e){return Ga(),[]}}copyStyles(){if(!this.mirrorElement)return;const e=window.getComputedStyle(this.sourceElement),t=["fontFamily","fontSize","fontWeight","fontStyle","fontVariant","fontStretch","letterSpacing","wordSpacing","lineHeight","textTransform","textRendering","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","border","borderWidth","borderStyle","width","height","minWidth","maxWidth","minHeight","maxHeight","margin","marginTop","marginRight","marginBottom","marginLeft","textAlign","textIndent","textJustify","direction","verticalAlign","writingMode","unicodeBidi","boxSizing","display","whiteSpace","overflowWrap","wordBreak","wordWrap","overflowX","overflowY","overflow","textOverflow","columnCount","columnWidth","columnGap","transform","transformOrigin","backfaceVisibility","tabSize","hyphens","color","opacity","filter","resize","outline"];for(const n of t)this.mirrorElement.style[n]=e[n];this.mirrorElement.style.position="absolute",this.mirrorElement.style.pointerEvents="none",this.mirrorElement.style.visibility="hidden",this.mirrorElement.style.overflow="hidden","input"===this.sourceElement.tagName.toLowerCase()&&(this.mirrorElement.style.display="flex",this.mirrorElement.style.alignItems="center")}copyContent(){if(!this.mirrorElement)return;const e=this.sourceElement,t=e.value||e.textContent||"";if("input"===this.sourceElement.tagName.toLowerCase()){this.mirrorElement.innerHTML="";const e=document.createElement("span");e.textContent=t,this.mirrorElement.appendChild(e)}else this.mirrorElement.textContent=t}syncSize(){if(!this.mirrorElement)return;const e=window.getComputedStyle(this.sourceElement),t="border-box"===e.boxSizing,n=parseFloat(e.borderLeftWidth)||0,o=parseFloat(e.borderRightWidth)||0,i=parseFloat(e.borderTopWidth)||0,r=parseFloat(e.borderBottomWidth)||0,s=parseFloat(e.paddingLeft)||0,a=parseFloat(e.paddingRight)||0,l=parseFloat(e.paddingTop)||0,c=parseFloat(e.paddingBottom)||0;let d,u;"textarea"===this.sourceElement.tagName.toLowerCase()?(d=this.sourceElement.clientWidth,t?d+=n+o:d-=s+a):(d=this.sourceElement.scrollWidth,t?d+=n+o:d-=s+a),u=this.sourceElement.scrollHeight,t?u+=i+r:u-=l+c,this.mirrorElement.style.width=`${d}px`,this.mirrorElement.style.height=`${u}px`}}class mU extends lU{getOwnerDocument(){return this.element.ownerDocument||document}getComposedActiveElement(){var e;let t=this.getOwnerDocument().activeElement;for(;t&&(null===(e=t.shadowRoot)||void 0===e?void 0:e.activeElement);)t=t.shadowRoot.activeElement;return t}constructor(e){super(e),this.name="StandardTextEditor",this.text=new aU([]),this.textChangeObserver=null,this.resizeObserver=null,this.cleanupFunctions=[],this.previousSelection=null,this.mirror=new gU(e),this.setupEventListeners(),this.hasFocus()&&(this.text=this.getText(),this.startTrackingTextChanges(),this.startTrackingBoundingClientRectChanges())}setupEventListeners(){const e=this.element;e.addEventListener("focus",(()=>{this.mirror.create(),this.text=this.getText(),this.startTrackingTextChanges(),this.startTrackingBoundingClientRectChanges(),this.notifyFocus()})),e.addEventListener("blur",(()=>{this.mirror.destroy(),this.stopTrackingTextChanges(),this.stopTrackingSizeChanges(),this.notifyBlur(),this.notifySelectionChange(null)})),e.addEventListener("DOMNodeRemoved",(()=>{this.stopTrackingTextChanges(),this.stopTrackingSizeChanges(),this.notifyEditorDestroyed(),this.destroy()}))}startTrackingTextChanges(){this.text=this.getText(),this.previousSelection=this.getSelection();const e=()=>{var e,t;if(!this.hasFocus())return;const n=this.getSelection();(null==n?void 0:n.start)===(null===(e=this.previousSelection)||void 0===e?void 0:e.start)&&(null==n?void 0:n.end)===(null===(t=this.previousSelection)||void 0===t?void 0:t.end)||(this.previousSelection=n,this.notifySelectionChange(n))},t=this.getOwnerDocument();t.addEventListener("selectionchange",e),this.cleanupFunctions.push((()=>{t.removeEventListener("selectionchange",e)}));const n=this.element,o=()=>{this.mirror.update();const e=this.getText();if(this.text.equals(e))return;const t=pU.calculateMutations(this.text,e);this.text=e,this.notifyTextChange(t)};n.addEventListener("input",o),this.cleanupFunctions.push((()=>{n.removeEventListener("input",o)})),n.addEventListener("paste",o),this.cleanupFunctions.push((()=>{n.removeEventListener("paste",o)})),n.addEventListener("cut",o),this.cleanupFunctions.push((()=>{n.removeEventListener("cut",o)}));const i=new ResizeObserver(o);i.observe(this.element),this.cleanupFunctions.push((()=>{i.disconnect()}))}stopTrackingTextChanges(){this.textChangeObserver&&(this.textChangeObserver.disconnect(),this.textChangeObserver=null),this.cleanupFunctions.forEach((e=>e())),this.cleanupFunctions=[],this.text=new aU([]),this.previousSelection=null}startTrackingBoundingClientRectChanges(){this.resizeObserver=new ResizeObserver((()=>{this.notifyBoundingClientRectChange("size-changed")})),this.resizeObserver.observe(this.element);const e=()=>{this.notifyBoundingClientRectChange("scroll")};window.addEventListener("scroll",e,{capture:!0}),this.cleanupFunctions.push((()=>{window.removeEventListener("scroll",e,{capture:!0})}))}stopTrackingSizeChanges(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}hasFocus(){const e=this.element,t=this.getComposedActiveElement();return!!t&&(t===e||e.contains(t))}getText(){return new aU([new rU(0,this.mirror.getText())])}getSelection(){const e=this.element;if(!this.hasFocus())return null;const t=e.selectionStart,n=e.selectionEnd;return null===t?null:{start:t,end:null!=n?n:t}}getBoundingClientRect(){const e=this.element.getBoundingClientRect();return QP.fromDOMRect(e)}getContentAreaOffsetLeft(){return this.element instanceof HTMLElement?this.element.clientLeft:0}getContentAreaOffsetTop(){return this.element instanceof HTMLElement?this.element.clientTop:0}getTextRangeBounds(e){const t=this.mirror.getTextRangeBounds(e.start,e.length),n=this.element.scrollTop,o=this.element.scrollLeft;return t.map((e=>new eU(e.left-o,e.top-n,e.width,e.height)))}getTextRangesBounds(e){return e.map((e=>this.getTextRangeBounds(e)))}setSelection(e){const t=this.element;this.hasFocus()||t.focus(),t.selectionStart=e.start,t.selectionEnd=e.end}updateText(e,t){const n=this.element,o=n.value,i=o.substring(0,t.start)+e+o.substring(t.end);if(o===i)return;n.value=i;const r=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(r)}insertText(e,t){const n=this.element;n.value=n.value.slice(0,t)+e+n.value.slice(t);const o=new Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(o)}}class hU{constructor(e,t){this.geometryChangedCallbacks=[],this.cleanupFunctions=[],this.targetElement=e,this.parent=null!=t?t:null,this.contentSizeMirror=document.createElement("div"),this.contentSizeMirror.style.position="absolute",this.contentSizeMirror.style.pointerEvents="none",this.contentSizeMirror.style.overflow="hidden",this.contentSizeMirror.style.boxSizing="border-box",this.contentSizeMirror.style.left="0px",this.contentSizeMirror.style.top="0px",this.contentSizeMirror.style.width="0px",this.contentSizeMirror.style.height="0px",this.contentSizeMirror.dataset.contentSizeMirror="true",this.startTrackingGeometryChanges()}startTrackingGeometryChanges(){const e=()=>this.notifyGeometryChanged("scroll"),t=new wU(100,(()=>this.notifyGeometryChanged("resize")));t.observe(this.targetElement),this.cleanupFunctions.push((()=>{t.disconnect()})),this.parent||(window.addEventListener("scroll",e,{passive:!0}),this.cleanupFunctions.push((()=>{window.removeEventListener("scroll",e)})))}onGeometryChanged(e){return this.geometryChangedCallbacks.push(e),()=>{this.geometryChangedCallbacks.splice(this.geometryChangedCallbacks.indexOf(e),1)}}destroy(){this.cleanupFunctions.forEach((e=>e())),this.cleanupFunctions=[],this.geometryChangedCallbacks=[]}getClipWindowMirror(){return this.contentSizeMirror}getContentSizeMirror(){return this.contentSizeMirror}updateGeometry(e){const t=this.targetElement.getBoundingClientRect();e.queueMutation((()=>{this.contentSizeMirror.style.width=`${t.width}px`,this.contentSizeMirror.style.height=`${t.height}px`}));let n=0,o=0;if(this.parent){const e=this.parent.clipWindowMirror.getBoundingClientRect(),i=t.left-e.left,r=t.top-e.top;n=i+this.parent.clipWindowMirror.scrollLeft,o=r+this.parent.clipWindowMirror.scrollTop}else{const e=this.getOffsetParent().getBoundingClientRect();n=t.left-e.left,o=t.top-e.top}e.queueMutation((()=>{this.contentSizeMirror.style.left=`${n}px`,this.contentSizeMirror.style.top=`${o}px`}))}getOffsetParent(){var e;const t=this.targetElement;if(!t)return document.body;if(t instanceof HTMLElement)return null!==(e=t.offsetParent)&&void 0!==e?e:document.body;let n=t.parentElement;for(;n&&!(n instanceof HTMLElement);)n=n.parentElement;if(n instanceof HTMLElement){const e=n.offsetParent;return e instanceof HTMLElement?e:n}return document.body}notifyGeometryChanged(e){iU(this.geometryChangedCallbacks.map((t=>()=>t(e))))}}class fU{constructor(e,t){this.underlyingEditor=null,this.shadowHost=null,this.shadowRoot=null,this.geometryMirrorRoot=null,this.editorGeometryMirror=null,this.geometryChangedCallbacks=[],this.cleanup=[],this.underlyingEditor=e,this.mirrorGeometry(),this.updateGeometry(t)}onGeometryChanged(e){return this.geometryChangedCallbacks.push(e),()=>{this.geometryChangedCallbacks.splice(this.geometryChangedCallbacks.indexOf(e),1)}}getVisibleRectWithRespectToClipWindows(){if(!this.editorGeometryMirror)throw new Error("EditorGeometryMirror not initialized");let e=QP.fromDOMRect(this.editorGeometryMirror.getClipWindowMirror().getBoundingClientRect()),t=this.editorGeometryMirror.parent;for(;t;){const n=QP.fromDOMRect(t.clipWindowMirror.getBoundingClientRect());if(e=e.intersection(n),null==e)return null;t=t.parent}const n=new QP(0,0,window.innerWidth,window.innerHeight);return e=e.intersection(n),null==e||e.width<=0||e.height<=0?null:e}getElement(){if(!this.editorGeometryMirror)throw new Error("EditorGeometryMirror not initialized");return this.editorGeometryMirror.getContentSizeMirror()}updateGeometry(e){var t;null===(t=this.geometryMirrorRoot)||void 0===t||t.updateGeometry(e)}destroy(){var e,t,n;this.underlyingEditor=null,null===(t=null===(e=this.shadowHost)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.shadowHost),null===(n=this.geometryMirrorRoot)||void 0===n||n.destroy(),this.geometryMirrorRoot=null,this.editorGeometryMirror=null,this.shadowHost=null,this.shadowRoot=null,this.geometryChangedCallbacks=[],this.cleanup.forEach((e=>e())),this.cleanup=[]}mirrorGeometry(){var e,t;const n=null===(e=this.underlyingEditor)||void 0===e?void 0:e.getElement();if(!n)return;const o=null===(t=this.underlyingEditor)||void 0===t?void 0:t.getOffsetParent();this.shadowHost=document.createElement("div"),this.shadowHost.dataset.deeplHighlightOverlay="true",this.shadowHost.style.position="absolute",this.shadowHost.style.top="0",this.shadowHost.style.left="0",this.shadowHost.style.pointerEvents="none",this.shadowRoot=this.shadowHost.attachShadow({mode:"closed"}),this.editorGeometryMirror=n instanceof SVGSVGElement?new hU(n):new vU(n);const i=[this.editorGeometryMirror];let r=n.parentElement;for(;r!==o;){const e=window.getComputedStyle(r);if("visible"===e.overflow){r=r.parentElement;continue}if("clip"===e.overflow){Ga(),r=r.parentElement;continue}const t=r instanceof SVGSVGElement?new hU(r):new vU(r);i.push(t),r=r.parentElement}for(const e of i)this.cleanup.push(e.onGeometryChanged((e=>{iU(this.geometryChangedCallbacks.map((t=>()=>t(e))))})));let s=this.editorGeometryMirror;for(const e of i.slice(1)){if(!(e instanceof vU))throw new Error("Last mirror is not a GeometryMirrorElement");e.appendChild(s),s=e}this.geometryMirrorRoot=s,this.shadowRoot.appendChild(this.geometryMirrorRoot.getClipWindowMirror()),o.appendChild(this.shadowHost)}}class vU{constructor(e){this.children=[],this.geometryChangedCallbacks=[],this.cleanupFunctions=[],this.targetElement=e,this.clipWindowMirror=document.createElement("div"),this.clipWindowMirror.style.position="absolute",this.clipWindowMirror.style.pointerEvents="none",this.clipWindowMirror.style.overflow="hidden",this.clipWindowMirror.style.boxSizing="border-box",this.clipWindowMirror.dataset.clipWindowMirror="true",this.contentSizeMirror=document.createElement("div"),this.contentSizeMirror.style.position="absolute",this.contentSizeMirror.style.left="0px",this.contentSizeMirror.style.top="0px",this.contentSizeMirror.style.width="0px",this.contentSizeMirror.style.height="0px",this.contentSizeMirror.dataset.contentSizeMirror="true",this.clipWindowMirror.appendChild(this.contentSizeMirror),this.startTrackingGeometryChanges()}startTrackingGeometryChanges(){const e=()=>this.notifyGeometryChanged("scroll");this.targetElement.addEventListener("scroll",e,{passive:!0}),this.cleanupFunctions.push((()=>{this.targetElement.removeEventListener("scroll",e)}));const t=new wU(100,(()=>this.notifyGeometryChanged("resize")));t.observe(this.targetElement),this.cleanupFunctions.push((()=>{t.disconnect()}))}onGeometryChanged(e){return this.geometryChangedCallbacks.push(e),()=>{this.geometryChangedCallbacks.splice(this.geometryChangedCallbacks.indexOf(e),1)}}destroy(){this.children.forEach((e=>e.destroy())),this.cleanupFunctions.forEach((e=>e())),this.cleanupFunctions=[]}getClipWindowMirror(){return this.clipWindowMirror}getContentSizeMirror(){return this.contentSizeMirror}appendChild(e){e.parent=this,this.children.push(e),this.clipWindowMirror.appendChild(e.getClipWindowMirror())}updateGeometry(e){const t=this.targetElement.getBoundingClientRect();let n,o;if(e.queueMutation((()=>{this.clipWindowMirror.style.width=`${t.width}px`,this.clipWindowMirror.style.height=`${t.height}px`})),this.parent){const e=this.parent.targetElement.getBoundingClientRect(),i=t.left-e.left,r=t.top-e.top;n=i+this.parent.targetElement.scrollLeft,o=r+this.parent.targetElement.scrollTop}else n=this.targetElement.offsetLeft,o=this.targetElement.offsetTop;e.queueMutation((()=>{this.clipWindowMirror.style.left=`${n}px`,this.clipWindowMirror.style.top=`${o}px`}));const i=this.targetElement.scrollLeft,r=this.targetElement.scrollTop;e.queueMutation((()=>{this.clipWindowMirror.scrollLeft=i,this.clipWindowMirror.scrollTop=r}));const s=this.targetElement.scrollWidth,a=this.targetElement.scrollHeight,l=this.targetElement.clientLeft,c=this.targetElement.clientTop;e.queueMutation((()=>{this.contentSizeMirror.style.left=`${l}px`,this.contentSizeMirror.style.top=`${c}px`,this.contentSizeMirror.style.width=`${s+l}px`,this.contentSizeMirror.style.height=`${a+c}px`}));for(const t of this.children)t.updateGeometry(e)}notifyGeometryChanged(e){iU(this.geometryChangedCallbacks.map((t=>()=>t(e))))}}class _U{constructor(){this.queue=[],this.frameRequested=!1}queueMutation(e){this.queue.push(e),this.ensureFrame()}flush(){this.applyNow()}ensureFrame(){this.frameRequested||(this.frameRequested=!0,requestAnimationFrame((()=>this.applyNow())))}applyNow(){const e=this.queue.splice(0);this.frameRequested=!1;for(const t of e)try{t()}catch(e){Ga()}}}class wU{constructor(e,t){this.resizeObserver=null,this.lastEventTime=0,this.rafId=null,this.inactivityTimeoutId=null,this.active=!1,this.inactivityThresholdMs=e,this.onDuringResize=t}observe(e){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.resizeObserver=new ResizeObserver((()=>{this.notifyResizeEvent()})),this.resizeObserver.observe(e)}notifyResizeEvent(){const e=performance.now();if(this.lastEventTime=e,!this.active){this.active=!0;try{this.onDuringResize()}catch(e){}const e=()=>{if(this.active){try{this.onDuringResize()}catch(e){}this.rafId=requestAnimationFrame(e)}};try{this.onDuringResize()}catch(e){}this.rafId=requestAnimationFrame(e)}null!=this.inactivityTimeoutId&&clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=setTimeout((()=>this.finishIfInactive()),this.inactivityThresholdMs)}finishIfInactive(){const e=performance.now();if(e-this.lastEventTime<this.inactivityThresholdMs){const t=this.inactivityThresholdMs-(e-this.lastEventTime);this.inactivityTimeoutId=setTimeout((()=>this.finishIfInactive()),t)}else this.stop()}stop(){this.active&&(this.active=!1,null!=this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),null!=this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null))}disconnect(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.stop()}}class bU extends lU{getOwnerDocument(){return this.element.ownerDocument||document}getTextRangesBounds(e){var t,n;if(!e||0===e.length)return[];const o=[];let i=0;try{const r=Array.from(this.element.childNodes).reverse();for(;r.length>0;){const e=r.pop();if(!(e instanceof HTMLElement)||e.isContentEditable)if(e.nodeType===Node.TEXT_NODE){const r=e,s=null!==(n=null===(t=r.textContent)||void 0===t?void 0:t.length)&&void 0!==n?n:0;s>0&&o.push({node:r,start:i,end:i+s}),i+=s}else if(e.nodeType===Node.ELEMENT_NODE){const t=e.childNodes;for(let e=t.length-1;e>=0;e--)r.push(t[e])}}if(0===o.length)return e.map((()=>[]));const s=e=>{let t=0,n=o.length-1;for(;t<=n;){const i=t+n>>1,r=o[i];if(e<r.start)n=i-1;else{if(!(e>=r.end))return i;t=i+1}}return-1},a=new Array(e.length),l=this.getBoundingClientRect(),c=this.createRange();for(let t=0;t<e.length;t++){const{start:n,length:i}=e[t];if(i<=0){a[t]=[];continue}const r=n+i,d=s(n);if(-1===d){a[t]=[];continue}const u=r-1;if(u<0){a[t]=[];continue}const p=s(u);if(-1===p){a[t]=[];continue}const g=o[d],m=o[p],h=n-g.start,f=r-m.start;c.setStart(g.node,h),c.setEnd(m.node,f);const v=Array.from(c.getClientRects());a[t]=v.map((e=>new eU(e.left-l.left,e.top-l.top,e.width,e.height)))}return a}catch(t){return Ga(),e.map((()=>[]))}}getComposedActiveElement(){var e;let t=this.getOwnerDocument().activeElement;for(;t&&(null===(e=t.shadowRoot)||void 0===e?void 0:e.activeElement);)t=t.shadowRoot.activeElement;return t}createRange(){return this.getOwnerDocument().createRange()}execCommand(e,t,n){return this.getOwnerDocument().execCommand(e,t,n)}getSelectionObject(){const e=this.getOwnerDocument();return"function"==typeof e.getSelection?e.getSelection():window.getSelection()}constructor(e){super(e),this.name="ContentEditableEditor",this.text=new aU([]),this.textChangeObserver=null,this.elementResizeActivityDetector=null,this.documentResizeActivityDetector=null,this.cleanupFunctions=[],this.previousSelection=null,this.setupEventListeners(),this.hasFocus()&&(this.text=this.getText(),this.startTrackingTextChanges(),this.startTrackingBoundingClientRectChanges())}setupEventListeners(){const e=this.element;e.addEventListener("focus",(()=>{this.text=this.getText(),this.startTrackingTextChanges(),this.startTrackingBoundingClientRectChanges(),this.notifyFocus()})),e.addEventListener("blur",(()=>{this.stopTrackingTextChanges(),this.stopTrackingSizeChanges(),this.notifyBlur(),this.notifySelectionChange(null)})),e.addEventListener("DOMNodeRemoved",(()=>{this.stopTrackingTextChanges(),this.stopTrackingSizeChanges(),this.notifyEditorDestroyed(),this.destroy()}))}startTrackingTextChanges(){this.previousSelection=this.getSelection();const e=()=>{var e,t;if(!this.hasFocus())return;const n=this.getSelection();(null==n?void 0:n.start)===(null===(e=this.previousSelection)||void 0===e?void 0:e.start)&&(null==n?void 0:n.end)===(null===(t=this.previousSelection)||void 0===t?void 0:t.end)||(this.previousSelection=n,this.notifySelectionChange(n))},t=this.getOwnerDocument();t.addEventListener("selectionchange",e),this.cleanupFunctions.push((()=>{t.removeEventListener("selectionchange",e)})),this.textChangeObserver=new MutationObserver((()=>{var e;const t=this.getText();if(null===(e=this.text)||void 0===e?void 0:e.equals(t))return;const n=this.text,o=t,i=pU.calculateMutations(n,o);this.text=t,this.notifyTextChange(i)})),this.textChangeObserver.observe(this.element,{childList:!0,characterData:!0,subtree:!0})}startTrackingBoundingClientRectChanges(){this.elementResizeActivityDetector=new wU(100,(()=>{this.notifyBoundingClientRectChange("size-changed")})),this.elementResizeActivityDetector.observe(this.element),this.documentResizeActivityDetector=new wU(100,(()=>{this.notifyBoundingClientRectChange("window-size-changed")})),this.documentResizeActivityDetector.observe(window.document.documentElement);const e=()=>{this.notifyBoundingClientRectChange("scroll")};window.addEventListener("scroll",e,{capture:!0}),this.cleanupFunctions.push((()=>{window.removeEventListener("scroll",e,{capture:!0})}))}stopTrackingTextChanges(){this.textChangeObserver&&(this.textChangeObserver.disconnect(),this.textChangeObserver=null),this.cleanupFunctions.forEach((e=>e())),this.cleanupFunctions=[],this.text=new aU([]),this.previousSelection=null}stopTrackingSizeChanges(){this.elementResizeActivityDetector&&(this.elementResizeActivityDetector.disconnect(),this.elementResizeActivityDetector=null),this.documentResizeActivityDetector&&(this.documentResizeActivityDetector.disconnect(),this.documentResizeActivityDetector=null)}hasFocus(){const e=this.getComposedActiveElement();return!!e&&(e===this.element||this.element.contains(e))}getText(){var e,t;const n=[],o=Array.from(this.element.childNodes).reverse().map((e=>({node:e,exiting:!1,semanticTag:"p"})));let i=0,r="p";for(;o.length>0;){const{node:s,exiting:a,semanticTag:l}=o.pop();if(s instanceof HTMLElement&&!s.isContentEditable)continue;r=l;const c=s.nodeType===Node.ELEMENT_NODE&&this.isBlockElementOrBr(s);if(a)n.push(new rU(i,"",r));else if(s.nodeType===Node.TEXT_NODE){let o=n[n.length-1];o?o.text+=s.textContent||"":n.push(new rU(i,s.textContent||"",r)),i+=null!==(t=null===(e=s.textContent)||void 0===e?void 0:e.length)&&void 0!==t?t:0}else if(s.nodeType===Node.ELEMENT_NODE){const e=this.getSemanticTag(s),t="p"!==l?l:null!=e?e:"p";c&&(n.push(new rU(i,"",t)),o.push({node:s,exiting:!0,semanticTag:t}));const r=s.childNodes;for(let e=r.length-1;e>=0;e--)o.push({node:r[e],exiting:!1,semanticTag:t})}}return new aU(n.filter((e=>e.text.length>0)))}getSemanticTag(e){const t=e.tagName;return/^H[1-6]$/.test(t)||"TH"===t?"heading":"LI"===t?"list-item":null}getSelection(){var e,t;if(!this.hasFocus())return null;const n=this.getSelectionObject();if(!n||0===n.rangeCount)return null;if(1!=n.rangeCount)return null;const o=[],i=Array.from(this.element.childNodes).reverse();for(;i.length>0;){const e=i.pop();if(!(e instanceof HTMLElement)||e.isContentEditable)if(e.nodeType===Node.TEXT_NODE)o.push(e);else if(e.nodeType===Node.ELEMENT_NODE){const t=e.childNodes;for(let e=t.length-1;e>=0;e--)i.push(t[e])}}const r=n.getRangeAt(0);let s=-1,a=-1,l=0;for(const n of o){const o=null!==(t=null===(e=n.textContent)||void 0===e?void 0:e.length)&&void 0!==t?t:0;-1===s&&r.startContainer.contains(n)&&(s=r.startContainer.nodeType===Node.TEXT_NODE?l+r.startOffset:l+o),-1===a&&r.endContainer.contains(n)&&(a=r.endContainer.nodeType===Node.TEXT_NODE?l+r.endOffset:l+o),l+=o}return-1===s||-1===a?null:{start:s,end:a}}setSelection(e){const t=(e,t)=>{var n,o;const i=Array.from(this.element.childNodes).reverse();let r=0;for(;i.length>0;){const s=i.pop();if(!(s instanceof HTMLElement)||s.isContentEditable)if(s.nodeType===Node.TEXT_NODE){const i=null!==(o=null===(n=s.textContent)||void 0===n?void 0:n.length)&&void 0!==o?o:0;if(t&&e<r+i){return{node:s,offset:e-r}}if(!t&&e<=r+i){return{node:s,offset:e-r}}r+=i}else if(s.nodeType===Node.ELEMENT_NODE){const e=s.childNodes;for(let t=e.length-1;t>=0;t--)i.push(e[t])}}return null},n=t(e.start,!0),o=t(e.end,!1);if(!n||!o)return;this.hasFocus()||this.element.focus();const i=this.createRange();i.setStart(n.node,n.offset),i.setEnd(o.node,o.offset);const r=this.getSelectionObject();r&&(r.removeAllRanges(),r.addRange(i))}getBoundingClientRect(){const e=this.element.getBoundingClientRect();return QP.fromDOMRect(e)}getContentAreaOffsetLeft(){return this.element instanceof HTMLElement?this.element.clientLeft:0}getContentAreaOffsetTop(){return this.element instanceof HTMLElement?this.element.clientTop:0}getTextRangeBounds(e){var t,n;if(e.isEmpty())return[];let o=null,i=-1,r=null,s=-1,a=0;const l=e.end;try{const c=Array.from(this.element.childNodes).reverse();for(;c.length>0&&null===r;){const d=c.pop();if(!(d instanceof HTMLElement)||d.isContentEditable)if(d.nodeType===Node.TEXT_NODE){const c=d,u=null!==(n=null===(t=c.textContent)||void 0===t?void 0:t.length)&&void 0!==n?n:0;null===o&&e.start>=a&&e.start<a+u&&(o=c,i=e.start-a),null!==o&&l<=a+u&&(r=c,s=l-a),a+=u}else if(d.nodeType===Node.ELEMENT_NODE){const e=d.childNodes;for(let t=e.length-1;t>=0;t--)c.push(e[t])}}if(null===o||null===r)return Ga((e.start,e.length)),[];const d=this.createRange();d.setStart(o,i),d.setEnd(r,s);const u=Array.from(d.getClientRects()),p=this.getBoundingClientRect();return u.map((e=>new eU(e.left-p.left,e.top-p.top,e.width,e.height)))}catch(e){return Ga(),[]}}updateText(e,t){const n=this.getText().fullText(),o=n.substring(0,t.start),i=n.substring(t.end);if(n!==o+e+i){this.setSelection({start:t.start,end:t.end}),this.hasFocus()||this.element.focus();try{this.execCommand("insertText",!1,e)}catch(e){Ga()}}}insertText(e,t){this.setSelection({start:t,end:t}),this.hasFocus()||this.element.focus();try{this.execCommand("insertText",!1,e)}catch(e){Ga()}}isBlockElementOrBr(e){if("BR"===e.nodeName)return!0;const t=window.getComputedStyle(e).display;return"block"===t||"flex"===t||"grid"===t||"table"===t||"list-item"===t}}function yU(e){const t=[],n=new Set,o=i=>{(e=>{for(const o of e)n.has(o)||(n.add(o),t.push(o))})(i.querySelectorAll(e));const r=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT);let s=r.nextNode();for(;s;){const e=s.shadowRoot;e&&"open"===e.mode&&o(e),s=r.nextNode()}};return o(document),t}class EU{queryEditors(){const e=yU('input[type="text"], textarea').filter((e=>this.isEligible(e)));return new Map(e.map((e=>[e,()=>new mU(e)])))}isEligible(e){const t=e;if(!this.passesCommonSizeCheck(t))return!1;const n=t.tagName.toLowerCase(),o="textarea"===n,i=o&&t.rows||0;if(o&&!(i>1||RA()))return!1;const r=(t.getAttribute("role")||"").toLowerCase(),s=(t.getAttribute("name")||"").toLowerCase(),a=(t.id||"").toLowerCase(),l=(t.getAttribute("aria-label")||"").toLowerCase(),c=(t.placeholder||"").toLowerCase(),d=(t.autocomplete||t.getAttribute("autocomplete")||"").toLowerCase()||"",u=(t.getAttribute("class")||"").toLowerCase(),p="input"===n?(t.type||"").toLowerCase():"";if("password"===p||"search"===p||"url"===p||"email"===p)return!1;if("searchbox"===r)return!1;if(/(cc-|credit|card|csc|cvc|cvv|exp|expiry|expiration)/.test(d))return!1;if(/(one-time-code|new-password|current-password)/.test(d))return!1;const g=[s,a,l,c,u].join(" ");return!/(^|\b)(search|find)(\b|$)/.test(g)&&(!/(^|\b)(email|e-mail)(\b|$)/.test(g)&&(!/(^|\b)(url|website|http|https)(\b|$)/.test(g)&&!/(^|\b)(cc|credit|card|cvc|cvv|exp|expiry|expiration)(\b|$)/.test(`${s} ${a}`)))}passesCommonSizeCheck(e){try{if(e.getBoundingClientRect().height<20)return!1}catch(e){return!1}return!0}}class TU{queryEditors(){const e=yU('[contenteditable="true"], [contenteditable="plaintext-only"]').filter((e=>this.passesCommonSizeCheck(e)));return new Map(e.map((e=>[e,()=>new bU(e)])))}passesCommonSizeCheck(e){try{if(e.getBoundingClientRect().height<20)return!1}catch(e){return!1}return!0}}class xU{constructor(){this.detectors=[]}register(e){this.detectors.push(e)}getDetectors(){return[...this.detectors]}}class $U{constructor(e,t){this.underlyingEditor=null,this.editorOverlay=null,this.highlights=[],this.dirtyHighlights=[],this.highlightHoverDetector=null,this.highlightOcclusionDetector=new MU,this.updateQueue=[],this.domBatcher=new _U,this.cleanup=[],this.idleCallbackId=null,this.idleCallbackTimeoutId=null,this.animationFrameId=null,this.pendingScrollUpdate=!1,this.annotationEnterCallbacks=[],this.annotationLeaveCallbacks=[],this.annotationClickCallbacks=[],this.annotationDestroyCallbacks=[],this.annotationShownCallbacks=[],this.underlyingEditor=e,this.editorOverlay=new fU(e,this.domBatcher),this.highlights=this.filterValidAnnotations(t).map((e=>this.createRenderedHighlight(e)));for(const e of this.highlights)e.isDirty=!0,e.isNew=!0;this.highlights.length>0&&this.scheduleOverlayUpdate({reason:"restored annotations"}),this.cleanup.push(this.editorOverlay.onGeometryChanged((e=>{if("scroll"===e)this.scheduleScrollUpdate();else{for(const e of this.highlights)e.isDirty=!0;this.scheduleOverlayUpdate({reason:`geometry changed: ${e}`})}}))),this.setupEventListeners(),this.setupHighlightHoverDetector(),this.setupIdleCallback(),this.domBatcher.flush()}destroy(){var e,t;this.underlyingEditor=null,null===(e=this.editorOverlay)||void 0===e||e.destroy(),this.editorOverlay=null,null===(t=this.highlightHoverDetector)||void 0===t||t.stop(),this.highlightHoverDetector=null;for(const e of this.highlights)this.notifyAnnotationDestroy(e.annotation);this.cleanup.forEach((e=>e())),this.cleanup=[],null!=this.idleCallbackId&&cancelIdleCallback(this.idleCallbackId),null!=this.idleCallbackTimeoutId&&clearTimeout(this.idleCallbackTimeoutId),null!=this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.annotationEnterCallbacks=[],this.annotationLeaveCallbacks=[],this.annotationClickCallbacks=[],this.annotationShownCallbacks=[],this.annotationDestroyCallbacks=[]}onAnnotationEnter(e){return this.annotationEnterCallbacks.push(e),()=>this.annotationEnterCallbacks.splice(this.annotationEnterCallbacks.indexOf(e),1)}onAnnotationLeave(e){return this.annotationLeaveCallbacks.push(e),()=>this.annotationLeaveCallbacks.splice(this.annotationLeaveCallbacks.indexOf(e),1)}onAnnotationClick(e){return this.annotationClickCallbacks.push(e),()=>this.annotationClickCallbacks.splice(this.annotationClickCallbacks.indexOf(e),1)}onAnnotationShown(e){return this.annotationShownCallbacks.push(e),()=>this.annotationShownCallbacks.splice(this.annotationShownCallbacks.indexOf(e),1)}onAnnotationDestroy(e){return this.annotationDestroyCallbacks.push(e),()=>this.annotationDestroyCallbacks.splice(this.annotationDestroyCallbacks.indexOf(e),1)}dismissAnnotation(e){const t=this.highlights.find((t=>t.annotation.id===e));t?(t.annotation.dismissed=!0,t.isDirty=!0,this.notifyAnnotationDestroy(t.annotation),this.scheduleOverlayUpdate({reason:"annotation dismissed"})):Ga(this.highlights.map((e=>e.annotation.id)))}applyAnnotation(e){const t=this.highlights.find((t=>t.annotation.id===e));t?(t.annotation.applied=!0,t.isDirty=!0,this.notifyAnnotationDestroy(t.annotation),this.scheduleOverlayUpdate({reason:"annotation applied"})):Ga(this.highlights.map((e=>e.annotation.id)))}getAnnotations(){return this.highlights.filter((e=>!e.isDeleted)).map((e=>e.annotation))}updateAnnotations(e,t){if(!this.underlyingEditor)return;const n=this.underlyingEditor.getText().fullText(),o=this.highlights.filter((e=>!e.isDeleted&&!e.annotation.applied&&!e.annotation.dismissed&&t.containsRange(e.annotation.range))),{applied:i,dismissed:r}=this.validateResolvedHighlights(n);for(const t of e){if(this.isAnnotationBlockedByResolvedHighlights(t,i,r))continue;const e=o.find((e=>t.range.containsRange(e.annotation.range)));if(e){const n=e.annotation.id;e.annotation=t,e.annotation.id=n,e.isDirty=!0}else{const e=this.createRenderedHighlight(t);this.highlights.push(e),this.notifyAnnotationShown(t)}}this.removeStaleHighlights(o),this.scheduleOverlayUpdate({reason:"annotation range updated"})}scheduleScrollUpdate(){this.pendingScrollUpdate||(this.pendingScrollUpdate=!0,queueMicrotask((()=>{var e;this.pendingScrollUpdate=!1,null===(e=this.editorOverlay)||void 0===e||e.updateGeometry(this.domBatcher),this.domBatcher.flush()})))}scheduleOverlayUpdate(e){this.updateQueue.push(e),null==this.animationFrameId&&(this.animationFrameId=requestAnimationFrame((()=>{this.animationFrameId=null,performance.mark("processOverlayUpdatesStart"),this.processOverlayUpdates(),performance.mark("processOverlayUpdatesEnd"),performance.measure("processOverlayUpdates:"+e.reason,"processOverlayUpdatesStart","processOverlayUpdatesEnd")})))}processOverlayUpdates(e=2){var t;const n=performance.now();null===(t=this.editorOverlay)||void 0===t||t.updateGeometry(this.domBatcher),this.domBatcher.flush();const o=this.highlights.filter((e=>e.isDeleted));this.highlights=this.highlights.filter((e=>!e.isDeleted)),this.dirtyHighlights=this.sortHighlightsBasedOnDistanceToViewableArea(this.dirtyHighlights.filter((e=>!e.isDeleted))),Ga(this.dirtyHighlights.length);for(const e of o)this.domBatcher.queueMutation((()=>{var t;for(const n of e.elements)null===(t=this.editorOverlay)||void 0===t||t.getElement().removeChild(n)}));if(this.dirtyHighlights.length>0){const t=n+e-performance.now();if(this.processDirtyHighlights(t),this.dirtyHighlights.length>0)return this.domBatcher.flush(),void(this.animationFrameId=requestAnimationFrame((()=>{this.animationFrameId=null,performance.mark("processOverlayUpdatesStart:dirtyHighlights"),this.processOverlayUpdates(),performance.mark("processOverlayUpdatesEnd:dirtyHighlights"),performance.measure("processOverlayUpdates:dirtyHighlights","processOverlayUpdatesStart:dirtyHighlights","processOverlayUpdatesEnd:dirtyHighlights")})))}if(0===this.updateQueue.length)return void this.domBatcher.flush();oU.distinct(this.updateQueue.map((e=>e.reason)));this.updateQueue.splice(0,this.updateQueue.length),this.dirtyHighlights=this.sortHighlightsBasedOnDistanceToViewableArea(this.highlights.filter((e=>e.isDirty))),Ga(),Ga(this.dirtyHighlights.length);const i=n+e-performance.now();this.processDirtyHighlights(i),this.domBatcher.flush(),this.dirtyHighlights.length>0&&(this.animationFrameId=requestAnimationFrame((()=>{this.animationFrameId=null,performance.mark("processOverlayUpdatesStart:dirtyHighlights:end"),this.processOverlayUpdates(),performance.mark("processOverlayUpdatesEnd:dirtyHighlights:end"),performance.measure("processOverlayUpdates:dirtyHighlights:end","processOverlayUpdatesStart:dirtyHighlights:end","processOverlayUpdatesEnd:dirtyHighlights:end")})))}processDirtyHighlights(e){const t=performance.now(),n=[];for(const o of oU.chunk(this.dirtyHighlights,100)){for(const e of o)e.boundingRects=[];this.updateHightlightBoundingRects(o),n.push(...o);if(t+e-performance.now()<=0)break}const o=t+e-performance.now();this.updateRenderedRects(o);for(const e of this.highlights)this.updateDocumentElements(e);for(const e of n)e.isDirty=!1,e.isNew=!1;this.dirtyHighlights=this.dirtyHighlights.filter((e=>!n.includes(e)))}sortHighlightsBasedOnDistanceToViewableArea(e){if(!this.underlyingEditor||!this.editorOverlay)return e;const t=this.editorOverlay.getVisibleRectWithRespectToClipWindows();if(t){const n=new Map;for(const o of e)if(o.boundingRects.length>0){const e=o.boundingRects[0].toViewportRect(this.underlyingEditor);n.set(o,e.distance(t))}else n.set(o,Number.MIN_VALUE);e.sort(((e,t)=>{var o,i;return(null!==(o=n.get(e))&&void 0!==o?o:Number.MAX_VALUE)-(null!==(i=n.get(t))&&void 0!==i?i:Number.MAX_VALUE)}))}return e}updateHightlightBoundingRects(e){if(!this.underlyingEditor||!this.editorOverlay)return;const t=this.underlyingEditor.getTextRangesBounds(e.map((e=>e.annotation.range)));for(let n=0;n<e.length;n++){const o=e[n],i=t[n],r=oU.groupBy(i,(e=>`${e.top},${e.height}`)).map((e=>e[0].union(e.slice(1))));for(const e of r){const t=e.toEditorContentRect(this.underlyingEditor),n=2,i=new tU(t.left-.5,t.top+t.height-.5,t.width+1,n);o.boundingRects.push(i)}o.renderedRects=o.boundingRects.map((e=>e))}}updateRenderedRects(e){if(e<=0)return;if(!this.underlyingEditor||!this.editorOverlay)return;const t=this.underlyingEditor.getElement(),n=this.editorOverlay.getVisibleRectWithRespectToClipWindows();if(null==n)return;const o=this.underlyingEditor.getBoundingClientRect(),i=n.intersection(o);if(null==i)return;const r=[];for(const e of this.highlights){if(0===e.boundingRects.length)continue;const t=e.boundingRects.map((e=>e.toViewportRect(this.underlyingEditor)));for(const e of t){const t=e.intersection(i);null!=t&&r.push(t)}}const s=this.highlightOcclusionDetector.detectOcclusions(r,n,t,this.editorOverlay.getElement(),e,(e=>e==t||t.contains(e))).map((e=>e.toEditorContentRect(this.underlyingEditor)));for(const e of this.highlights){e.renderedRects=[];for(const t of e.boundingRects){const n=PU.calculateVisiblePartsOfRect(t,s);e.renderedRects.push(...n)}}}updateDocumentElements(e){if(!this.underlyingEditor||!this.editorOverlay)return;if(e.annotation.dismissed||e.annotation.applied){for(const t of e.elements)this.domBatcher.queueMutation((()=>{var e;null===(e=this.editorOverlay)||void 0===e||e.getElement().removeChild(t)}));return void(e.elements=[])}const t=e.elements.map((e=>e));for(const n of e.renderedRects){let o=t.shift();o||(o=document.createElement("div"),o.dataset.deeplHighlight="true",o.style.position="absolute",o.style.borderRadius="2px",o.style.pointerEvents="none",o.style.background="rgb(153, 186, 220)",e.elements.push(o),this.domBatcher.queueMutation((()=>{var e;null===(e=this.editorOverlay)||void 0===e||e.getElement().appendChild(o)})));const i=e.isNew;this.domBatcher.queueMutation((()=>{o.style.left=`${n.left}px`,o.style.top=`${n.top}px`,o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,i&&(o.style.opacity="0",o.style.transition="opacity 0.2s ease-out",requestAnimationFrame((()=>{o.style.opacity="1"})))}))}for(const n of t)e.elements.splice(e.elements.indexOf(n),1),this.domBatcher.queueMutation((()=>{var e;null===(e=this.editorOverlay)||void 0===e||e.getElement().removeChild(n)}))}isAnnotationStillValid(e,t){const{range:n,details:o,applied:i}=e,r=n.start,s=Math.max(0,r-o.leftContext.length);if(t.slice(s,r)!==o.leftContext)return!1;const a=i?o.rephrased:o.original;if(r<0||n.end>t.length)return!1;if(t.slice(r,n.end)!==a)return!1;return t.slice(n.end,n.end+o.rightContext.length)===o.rightContext}validateResolvedHighlights(e){const t=[],n=[];for(const o of this.highlights)o.isDeleted||(o.annotation.applied||o.annotation.dismissed)&&(this.isAnnotationStillValid(o.annotation,e)?o.annotation.applied?t.push(o):n.push(o):(o.isDeleted=!0,o.isDirty=!0));return{applied:t,dismissed:n}}isAnnotationBlockedByResolvedHighlights(e,t,n){if(t.some((t=>new nU(t.annotation.range.start,t.annotation.details.rephrased.length).containsRange(e.range))))return!0;return n.some((t=>t.annotation.range.containsRange(e.range)))}createRenderedHighlight(e){return{annotation:e,isNew:!0,isDeleted:!1,isDirty:!0,boundingRects:[],renderedRects:[],elements:[]}}removeStaleHighlights(e){for(const t of e)t.isDirty||(t.isDeleted=!0,t.isDirty=!0,this.notifyAnnotationDestroy(t.annotation))}filterValidAnnotations(e){if(!this.underlyingEditor)return[];const t=this.underlyingEditor.getText().fullText();return e.filter((e=>this.isAnnotationStillValid(e,t)))}setupEventListeners(){this.underlyingEditor&&(this.cleanup.push(this.underlyingEditor.onTextChange((e=>{for(const t of this.highlights){const n=RU.rebase(t.annotation.range,e);if(!t.annotation.applied&&!t.annotation.dismissed)switch(n){case"no-change":break;case"updated":case"deleted":case"block-break-within":t.isDeleted=!0,t.isDirty=!0,this.notifyAnnotationDestroy(t.annotation);break;case"position-changed":t.isDirty=!0}}this.scheduleOverlayUpdate({reason:"text change"})}))),this.cleanup.push(this.underlyingEditor.onTextSizeChange((()=>{this.highlights.forEach((e=>{e.isDirty=!0})),this.scheduleOverlayUpdate({reason:"text size change"})}))),this.cleanup.push(this.underlyingEditor.onBoundingClientRectChange((e=>{"scroll"===e?this.scheduleScrollUpdate():(this.highlights.forEach((e=>{e.isDirty=!0})),this.scheduleOverlayUpdate({reason:"bounding client rect change"}))}))))}setupIdleCallback(){const e=()=>{for(const e of this.highlights)e.isDirty=!0;this.updateQueue.push({reason:"idle callback"}),performance.mark("processOverlayUpdatesStart:idleCallback"),this.processOverlayUpdates(500),performance.mark("processOverlayUpdatesEnd:idleCallback"),performance.measure("processOverlayUpdates:idleCallback","processOverlayUpdatesStart:idleCallback","processOverlayUpdatesEnd:idleCallback"),this.idleCallbackTimeoutId=setTimeout((()=>{this.idleCallbackId=requestIdleCallback(e)}),33)};this.idleCallbackTimeoutId=setTimeout((()=>{this.idleCallbackId=requestIdleCallback(e)}),33)}setupHighlightHoverDetector(){if(!this.underlyingEditor||!this.editorOverlay)return;let e=null;this.highlightHoverDetector=new NU((()=>{if(!this.editorOverlay||!this.underlyingEditor)return[];const e=[],t=this.editorOverlay.getVisibleRectWithRespectToClipWindows();if(null==t)return[];const n=this.underlyingEditor.getBoundingClientRect(),o=t.intersection(n);if(null==o)return[];for(const t of this.highlights){if(t.annotation.dismissed||t.annotation.applied)continue;const n=this.underlyingEditor.getTextRangeBounds(t.annotation.range),i=oU.groupBy(n,(e=>`${e.top},${e.height}`)).map((e=>e[0].union(e.slice(1))));for(const n of i){const i=n.toViewportRect(this.underlyingEditor).intersection(o);null!=i&&e.push({rect:i,context:t})}}return e}),(t=>{e=t.context.annotation,this.notifyAnnotationEnter(t.context.annotation)}),(()=>{e&&(this.notifyAnnotationLeave(e),e=null)}),(e=>{this.notifyAnnotationClick(e.context.annotation)})),this.highlightHoverDetector.start()}notifyAnnotationEnter(e){iU(this.annotationEnterCallbacks.map((t=>()=>t(e))))}notifyAnnotationLeave(e){iU(this.annotationLeaveCallbacks.map((t=>()=>t(e))))}notifyAnnotationClick(e){iU(this.annotationClickCallbacks.map((t=>()=>t(e))))}notifyAnnotationShown(e){iU(this.annotationShownCallbacks.map((t=>()=>t(e))))}notifyAnnotationDestroy(e){iU(this.annotationDestroyCallbacks.map((t=>()=>t(e))))}}class SU{constructor(e,t,n,o,i){this.annotation=null,this.popup=null,this.tailShadow=null,this.tailTop=null,this.shadowHost=null,this.shadowRoot=null,this.onClickCallback=null,this.onDismissCallback=null,this.onMouseEnterCallback=null,this.onMouseLeaveCallback=null,this.editor=null,this.anchorIndex=null,this.rafId=null,this.dismissButton=null,this.annotation=e,this.onClickCallback=t||null,this.onDismissCallback=n||null,this.onMouseEnterCallback=o||null,this.onMouseLeaveCallback=i||null,Ga(this.onClickCallback),this.createPopupInShadowRoot()}destroy(){null!=this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.shadowHost&&this.shadowHost.parentElement&&this.shadowHost.parentElement.removeChild(this.shadowHost),this.popup=null,this.tailShadow=null,this.tailTop=null,this.shadowHost=null,this.shadowRoot=null,this.editor=null,this.anchorIndex=null,this.dismissButton=null}createPopupInShadowRoot(){this.shadowHost=document.createElement("div"),this.shadowHost.style.position="fixed",this.shadowHost.style.pointerEvents="auto",this.shadowHost.style.zIndex="2147483647",this.shadowRoot=this.shadowHost.attachShadow({mode:"closed"});const e=document.createElement("style");e.textContent="\n.annotation-popup {\n  position: fixed;\n  z-index: 2147483648;\n  --popup-bg: #ffffff;\n  background-color: var(--popup-bg);\n  border-radius: 4px;\n  box-shadow: rgba(60, 64, 67, 0.15) 0px 2px 6px 3px;\n  padding: 12px;\n  font-family: Roboto, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  max-width: 400px;\n  width: max-content;\n  pointer-events: auto;\n  cursor: pointer;\n  animation: fadeIn 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n  transform: translateZ(0);\n  transition: background-color 0.15s ease-out;\n}\n\n.annotation-popup:hover {\n  --popup-bg: #f5f5f5;\n  background-color: var(--popup-bg);\n}\n\n/* Ensure the tails match the popup hover background */\n.annotation-popup:hover ~ .annotation-popup-tail,\n.annotation-popup:hover ~ .annotation-popup-tail-shadow {\n  background-color: #f5f5f5;\n}\n\n/* Rotated square tail shadow behind the popup */\n.annotation-popup-tail-shadow {\n  position: fixed;\n  width: 8px;\n  height: 8px;\n  background-color: var(--popup-bg, #ffffff);\n  transform: rotate(45deg);\n  box-shadow: rgba(60, 64, 67, 0.15) 0px 2px 6px 3px;\n  z-index: 2147483647; /* below .annotation-popup */\n  pointer-events: none;\n  transition: background-color 0.15s ease-out;\n  animation: fadeInOpacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Rotated square tail on top of the popup without shadow */\n.annotation-popup-tail {\n  position: fixed;\n  width: 8px;\n  height: 8px;\n  background-color: var(--popup-bg, #ffffff);\n  transform: rotate(45deg);\n  z-index: 2147483649; /* above .annotation-popup */\n  pointer-events: none;\n  transition: background-color 0.15s ease-out;\n  animation: fadeInOpacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.annotation-popup-caption {\n  font-weight: 500;\n  margin-bottom: 8px;\n  color: rgba(0, 0, 0, 0.87);\n  font-size: 14px;\n}\n\n.annotation-popup-details {\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.annotation-popup-diff {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  align-items: center;\n  padding-right: 16px;\n}\n\n.annotation-popup-diff-text {\n  font-family: Roboto, sans-serif;\n  font-size: 13px;\n  line-height: 1.4;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  word-wrap: break-word;\n}\n\n.annotation-popup-diff-text.original {\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.annotation-popup-diff-text.rephrased {\n  color: hsl(224, 100%, 22%);\n  font-weight: 700;\n}\n\n.annotation-popup-context {\n  color: rgba(0, 0, 0, 0.4);\n  font-style: italic;\n  font-weight: 400;\n}\n\n.annotation-popup-dismiss {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  width: 22px;\n  height: 22px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  color: rgba(0, 0, 0, 0.25);\n  transition: all 0.15s ease-out;\n  opacity: 0;\n}\n\n.annotation-popup:hover .annotation-popup-dismiss {\n  opacity: 1;\n}\n\n.annotation-popup-dismiss:hover {\n  color: rgba(0, 0, 0, 0.6);\n  background: rgba(0, 0, 0, 0.06);\n}\n\n.annotation-popup-dismiss:active {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n@keyframes fadeIn {\n  from { \n    opacity: 0; \n    transform: translateY(-4px);\n  }\n  to { \n    opacity: 1; \n    transform: translateY(0);\n  }\n}\n \n@keyframes fadeInOpacity {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n",this.shadowRoot.appendChild(e),this.popup=document.createElement("div"),this.popup.classList.add("annotation-popup"),this.popup.style.display="none",this.tailShadow=document.createElement("div"),this.tailShadow.classList.add("annotation-popup-tail-shadow"),this.tailShadow.style.display="none",this.tailTop=document.createElement("div"),this.tailTop.classList.add("annotation-popup-tail"),this.tailTop.style.display="none";this.popup.addEventListener("click",(e=>{if(e.stopPropagation(),e.preventDefault(),Ga(this.onClickCallback),this.onClickCallback){Ga();try{this.onClickCallback()}catch(e){Ga()}}else Ga()}),!0),this.shadowHost.addEventListener("mouseenter",(()=>{this.onMouseEnterCallback&&this.onMouseEnterCallback()})),this.shadowHost.addEventListener("mouseleave",(()=>{this.onMouseLeaveCallback&&this.onMouseLeaveCallback()}));const t=document.createElement("div");t.classList.add("annotation-popup-caption");const n=document.createElement("div");n.classList.add("annotation-popup-details"),this.dismissButton=document.createElement("button"),this.dismissButton.classList.add("annotation-popup-dismiss"),this.dismissButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 20 20"><path fill="currentColor" fill-rule="evenodd" d="M7.71783 2.71783C7.51059 2.92507 7.41667 3.16059 7.41667 3.33333V4.25H12.5833V3.33333C12.5833 3.16059 12.4894 2.92507 12.2822 2.71783C12.0749 2.51059 11.8394 2.41667 11.6667 2.41667H8.33333C8.16059 2.41667 7.92507 2.51059 7.71783 2.71783ZM14.0833 4.25V3.33333C14.0833 2.67274 13.7606 2.07493 13.3428 1.65717C12.9251 1.23941 12.3273 0.916668 11.6667 0.916668H8.33333C7.67274 0.916668 7.07493 1.23941 6.65717 1.65717C6.23941 2.07493 5.91667 2.67274 5.91667 3.33333V4.25H2.5C2.08579 4.25 1.75 4.58579 1.75 5C1.75 5.41421 2.08579 5.75 2.5 5.75H3.41667V16.6667C3.41667 17.3273 3.73941 17.9251 4.15717 18.3428C4.57493 18.7606 5.17274 19.0833 5.83333 19.0833H14.1667C14.8273 19.0833 15.4251 18.7606 15.8428 18.3428C16.2606 17.9251 16.5833 17.3273 16.5833 16.6667V5.75H17.5C17.9142 5.75 18.25 5.41421 18.25 5C18.25 4.58579 17.9142 4.25 17.5 4.25H14.0833ZM4.91667 5.75V16.6667C4.91667 16.8394 5.01059 17.0749 5.21783 17.2822C5.42507 17.4894 5.66059 17.5833 5.83333 17.5833H14.1667C14.3394 17.5833 14.5749 17.4894 14.7822 17.2822C14.9894 17.0749 15.0833 16.8394 15.0833 16.6667V5.75H4.91667ZM8.33333 8.41667C8.74755 8.41667 9.08333 8.75245 9.08333 9.16667V14.1667C9.08333 14.5809 8.74755 14.9167 8.33333 14.9167C7.91912 14.9167 7.58333 14.5809 7.58333 14.1667V9.16667C7.58333 8.75245 7.91912 8.41667 8.33333 8.41667ZM11.6667 8.41667C12.0809 8.41667 12.4167 8.75245 12.4167 9.16667V14.1667C12.4167 14.5809 12.0809 14.9167 11.6667 14.9167C11.2525 14.9167 10.9167 14.5809 10.9167 14.1667V9.16667C10.9167 8.75245 11.2525 8.41667 11.6667 8.41667Z" clip-rule="evenodd"/></svg>',this.dismissButton.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault(),Ga(),this.onDismissCallback&&this.onDismissCallback()})),t.style.pointerEvents="auto",n.style.pointerEvents="auto",this.popup.appendChild(t),this.popup.appendChild(n),this.popup.appendChild(this.dismissButton),this.shadowRoot.appendChild(this.tailShadow),this.shadowRoot.appendChild(this.popup),this.shadowRoot.appendChild(this.tailTop);const o=e=>{const t=e,n=t.target;if(Ga(null==n||n.tagName,this.popup),n&&this.popup&&(n===this.popup||this.popup.contains(n))){if(t.stopPropagation(),t.preventDefault(),this.dismissButton&&(n===this.dismissButton||this.dismissButton.contains(n))){if(Ga(),this.onDismissCallback)try{this.onDismissCallback()}catch(e){Ga()}return}if(Ga(this.onClickCallback),this.onClickCallback){Ga();try{this.onClickCallback()}catch(e){Ga()}}else Ga()}};this.shadowRoot.addEventListener("click",o,!0),this.shadowRoot.addEventListener("mousedown",o,!0),document.body.appendChild(this.shadowHost)}showFor(e,t){if(!this.popup)return void Ga();this.editor=e,this.anchorIndex=t.range.start;const n=this.popup.querySelector(".annotation-popup-caption"),o=this.popup.querySelector(".annotation-popup-details");if(n&&o)if(n.style.display="none",t.details){const e=`\n          <div class="annotation-popup-diff">\n            <div class="annotation-popup-diff-text original">\n              <span class="annotation-popup-context">...${t.details.leftContext}</span>${t.details.original}<span class="annotation-popup-context">${t.details.rightContext}...</span>\n            </div>\n            <div class="annotation-popup-diff-text rephrased">\n              <span class="annotation-popup-context">...${t.details.leftContext}</span>${t.details.rephrased}<span class="annotation-popup-context">${t.details.rightContext}...</span>\n            </div>\n          </div>\n        `;o.innerHTML=e}else o.innerHTML="";this.popup.style.display="block",this.startAnimationLoop()}hide(){this.popup&&(this.popup.style.display="none"),this.tailShadow&&(this.tailShadow.style.display="none"),this.tailTop&&(this.tailTop.style.display="none")}startAnimationLoop(){const e=()=>{this.rafId=null,this.updatePositionFromEditor(),this.rafId=requestAnimationFrame(e)};null!=this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.rafId=requestAnimationFrame(e)}updatePositionFromEditor(){if(this.popup&&this.editor&&null!=this.anchorIndex)try{const e=this.editor.getTextRangeBounds(new nU(this.anchorIndex,1));if(!e||0===e.length)return void this.hide();const t=e[0].toViewportRect(this.editor);this.positionPopup(t.left,t.top,t.top+t.height)}catch(e){this.hide()}}positionPopup(e,t,n){if(!this.popup||!this.dismissButton)return;const o=this.popup.offsetHeight||120,i=this.popup.offsetWidth||300,r=10,s=window.innerWidth,a=window.innerHeight;let l=e;e+i>s&&(l=s-(i+10));const c=a-n<o+r,d=t>=o+r,u=c&&d;let p;if(this.popup.classList.remove("annotation-popup--above","annotation-popup--below"),this.popup.classList.add(u?"annotation-popup--above":"annotation-popup--below"),p=c&&d?t-o-r:n+r,p<0&&(p=r),p+o>a){const e=t-o-r;p=e>=0&&e+o<=a?e:Math.max(r,a-o-r)}this.popup.style.left=`${l}px`,this.popup.style.top=`${p}px`,this.popup.style.visibility="visible";const g=l+(e+12-l)-4,m=u?p+o-4:p-4;if(this.tailShadow&&(this.tailShadow.style.left=`${g}px`,this.tailShadow.style.top=`${m}px`,this.tailShadow.style.display="block"),this.tailTop&&(this.tailTop.style.left=`${g}px`,this.tailTop.style.top=`${m}px`,this.tailTop.style.display="block"),this.shadowHost){let e,r;u?(e=p,r=t):(e=n,r=p+o),this.shadowHost.style.left=`${l}px`,this.shadowHost.style.top=`${e}px`,this.shadowHost.style.width=`${i}px`,this.shadowHost.style.height=r-e+"px"}}}function CU(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:OU(e),b:OU(t)};let o;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),o=e;const i=IU(AU(n.a)),r=IU(AU(n.b));if(i===r){const e=o.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)};let i=e.length;for(;i--;){const n=e[i];if(n===t.a)return 1;if(n===t.b)return-1}}return Math.sign(i-r)}const kU=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function LU(e){const t=getComputedStyle(e);return"fixed"===t.position||(!!("auto"!==t.zIndex&&"static"!==t.position||function(e){const t=getComputedStyle(DU(e)).display;return"flex"===t||"inline-flex"===t}(e))||(+t.opacity<1||("transform"in t&&"none"!==t.transform||("webkitTransform"in t&&"none"!==t.webkitTransform||("mixBlendMode"in t&&"normal"!==t.mixBlendMode||("filter"in t&&"none"!==t.filter||("webkitFilter"in t&&"none"!==t.webkitFilter||("isolation"in t&&"isolate"===t.isolation||(!!kU.test(t.willChange)||"touch"===t.webkitOverflowScrolling)))))))))}function AU(e){let t=e.length;for(;t--;)if(LU(e[t]))return e[t];return null}function IU(e){return e&&Number(getComputedStyle(e).zIndex)||0}function OU(e){const t=[];for(;e;)t.push(e),e=DU(e);return t}function DU(e){return e.parentNode?.host||e.parentNode}class MU{constructor(){this.cachedOverlays=new Set,this.cachedUnproblematicElements=new Set}detectOcclusions(e,t,n,o,i,r){const s=performance.now(),a=[];for(const e of this.cachedOverlays){const n=QP.fromDOMRect(e.getBoundingClientRect());null!=t.intersection(n)?a.push(n):this.cachedOverlays.delete(e)}const l=[];for(const t of e){const e=this.generateSamplePoints(t);l.push(...e)}l.sort((()=>Math.random()));for(const e of l){if(performance.now()-s>i)break;if(a.some((t=>t.contains(e.x,e.y))))continue;const t=this.getEditorOverlappingRectAtPoint(e.x,e.y,n,o,r);null!=t&&a.push(t)}return a.map((e=>e.intersection(t))).filter((e=>null!=e))}generateSamplePoints(e){const t=[];return e.width<2||e.height<2?(t.push({x:e.left+e.width/2,y:e.top+e.height/2}),t):(t.push({x:e.left+1,y:e.top+1},{x:e.right-1,y:e.top+1},{x:e.left+1,y:e.bottom-1},{x:e.right-1,y:e.bottom-1}),t)}getEditorOverlappingRectAtPoint(e,t,n,o,i){let r=document.elementFromPoint(e,t);if(r&&r.dataset&&"true"===r.dataset.debugElement){r=document.elementsFromPoint(e,t).find((e=>{var t;return"true"!==(null===(t=e.dataset)||void 0===t?void 0:t.debugPoint)}))}if(!(r&&r instanceof HTMLElement))return null;if(this.cachedUnproblematicElements.has(r))return null;const s=window.getComputedStyle(r);if("none"===s.display||"hidden"===s.visibility||"0"===s.opacity)return null;if(i(r))return null;try{if(1===CU(r,o))return this.cachedUnproblematicElements.add(r),null}catch(e){return Ga(),null}try{if(-1===CU(r,n))return this.cachedUnproblematicElements.add(r),null}catch(e){return Ga(),null}this.cachedOverlays.add(r);const a=r.getBoundingClientRect();return new QP(a.left,a.top,a.width,a.height)}}class RU{static rebase(e,t){const n=[];for(const o of t)switch(o.type){case"insert":{const t=RU.applyInsert(e,o);n.push(t);break}case"delete":{const t=RU.applyDelete(e,o);n.push(t);break}case"insert-block-break":{const t=RU.applyInsertBlockBreak(e,o);n.push(t);break}}return RU.getMostSevereResult(n)}static applyInsert(e,t){const{start:n,text:o}=t,i=o.length;return n<e.start?(e.start+=i,"position-changed"):n<e.end?(e.length+=i,"updated"):"no-change"}static applyDelete(e,t){const{start:n,length:o}=t,i=n+o,r=e.end;if(i<=e.start)return e.start-=o,"position-changed";if(n>=r)return"no-change";if(n<=e.start&&i<r){const t=i-e.start;return e.start=n,e.length-=t,"updated"}if(n>e.start&&i>=r){const t=r-n;return e.length-=t,"updated"}return n>e.start&&i<r?(e.length-=o,"updated"):n<=e.start&&i>=r?(e.length=0,"deleted"):"no-change"}static applyInsertBlockBreak(e,t){const n=e.end;switch(t.break){case"before":if(t.start>e.start&&t.start<=n)return"block-break-within";break;case"after":if(t.start>=e.start&&t.start<n)return"block-break-within"}return"no-change"}static getMostSevereResult(e){return e.includes("deleted")?"deleted":e.includes("block-break-within")?"block-break-within":e.includes("updated")?"updated":e.includes("position-changed")?"position-changed":"no-change"}}class NU{constructor(e,t,n,o){this.activeArea=null,this.getHoverAreas=e,this.onEnter=t,this.onLeave=n,this.onClick=o,this.handleMoveBound=this.handleMove.bind(this),this.handleClickBound=this.handleClick.bind(this),this.handleScrollBound=this.handleScroll.bind(this)}start(){document.addEventListener("mousemove",this.handleMoveBound,{capture:!0,passive:!0}),document.addEventListener("click",this.handleClickBound,{capture:!0,passive:!0}),window.addEventListener("scroll",this.handleScrollBound,{capture:!0,passive:!0})}stop(){document.removeEventListener("mousemove",this.handleMoveBound,{capture:!0}),document.removeEventListener("click",this.handleClickBound,{capture:!0}),window.removeEventListener("scroll",this.handleScrollBound,{capture:!0})}handleMove(e){const t=this.getHoverAreas();if(0===t.length)return void(null!=this.activeArea&&(this.onLeave(),this.activeArea=null));const{clientX:n,clientY:o}=e;let i=null;for(const e of t)if(n>=e.rect.left&&n<=e.rect.right&&o>=e.rect.top&&o<=e.rect.bottom){i=e;break}i?null!=this.activeArea&&this.activeArea.context===i.context||(this.activeArea=i,this.onEnter(i)):null!=this.activeArea&&(this.activeArea=null,this.onLeave())}handleScroll(){this.onLeave()}handleClick(e){const t=this.getHoverAreas();if(0===t.length)return;const{clientX:n,clientY:o}=e;let i=null;for(const e of t)if(n>=e.rect.left&&n<=e.rect.right&&o>=e.rect.top&&o<=e.rect.bottom){i=e;break}i&&this.onClick(i)}}class PU{static calculateVisiblePartsOfRect(e,t){let n=[e];for(const e of t){const t=[];for(const o of n){const n=o.intersection(e);if(n){if(o.top<n.top&&t.push(new tU(o.left,o.top,o.width,n.top-o.top)),n.bottom<o.bottom&&t.push(new tU(o.left,n.bottom,o.width,o.bottom-n.bottom)),o.left<n.left){const e=Math.max(o.top,n.top),i=Math.min(o.bottom,n.bottom);i>e&&t.push(new tU(o.left,e,n.left-o.left,i-e))}if(n.right<o.right){const e=Math.max(o.top,n.top),i=Math.min(o.bottom,n.bottom);i>e&&t.push(new tU(n.right,e,o.right-n.right,i-e))}}else t.push(o)}n=t}return n}}function UU(e,t={}){const{targetChunkLength:n=500,maxLength:o=1e3}=t;let i=function(e){const t=[],n=/[\n\r\t]|\u00A0{2,}|\s{2,}|[\u2000-\u200A]{2,}/g;let o,i=0;for(;null!==(o=n.exec(e));)o.index>i&&t.push({text:e.slice(i,o.index),startIndex:i,isWhitespace:!1}),t.push({text:o[0],startIndex:o.index,isWhitespace:!0}),i=o.index+o[0].length;i<e.length&&t.push({text:e.slice(i),startIndex:i,isWhitespace:!1});return t}(e);return i=function(e,t){const n=[];for(const o of e)o.isWhitespace?n.push(o):n.push(...qU(o,t));return n}(i,n),i=function(e,t){const n=[];for(const o of e)if(o.text.length<=t)n.push(o);else{let e=0;for(;e<o.text.length;){const i=o.text.substring(e,e+t);n.push({text:i,startIndex:o.startIndex+e,isWhitespace:o.isWhitespace}),e+=t}}return n}(i,o),i}function qU(e,t){if(e.text.length<=t)return[e];const n=[];for(let t=0;t<e.text.length;t++)FU(e.text,t)&&t+1<e.text.length&&n.push(t);if(0===n.length)return[e];const o=e.text.length/2;let i=n[0],r=Math.abs(i-o);for(let e=1;e<n.length;e++){const t=Math.abs(n[e]-o);t<r&&(r=t,i=n[e])}const s=i+1,a=e.text.slice(0,s),l=e.text.slice(s),c={text:a,startIndex:e.startIndex,isWhitespace:e.isWhitespace},d={text:l,startIndex:e.startIndex+s,isWhitespace:e.isWhitespace};return[...qU(c,t),...qU(d,t)]}const BU=/[A-ZÀÁÂÄÆÇÈÉÊËÌÍÎÏÑÒÓÔÖÙÚÛÜŒŸ]/;function FU(e,t){const n=e[t],o=e[t+1],i=e[t+2];return/[.!?]/.test(n)&&(void 0===o||/\s/.test(o))&&(void 0===i||BU.test(i))}class HU{static select(e,t){if(null==t)return{blockIndex:0,blockOffset:0,texts:e.blocks.map((e=>e.text))};const n=e.blocks.filter((e=>e.intersects(t.start,t.end)));if(0===n.length)return{blockIndex:0,blockOffset:0,texts:[]};const o=n[0];let i=-1;for(let e=Math.max(t.start-o.start,0);e>=0;e--){if(0===e){for(i=0;i<o.text.length&&/\s/.test(o.text[i]);)i++;break}if(FU(o.text,e)){for(i=e+1;i<o.text.length&&/\s/.test(o.text[i]);)i++;break}}const r=n[n.length-1];let s=-1;for(let e=Math.min(t.end-r.start,r.text.length);e<=r.text.length;e++){if(e===r.text.length){for(s=r.text.length-1;s>=0&&/\s/.test(r.text[s]);)s--;break}if(FU(r.text,e)){for(s=e+1;s>=0&&/\s/.test(r.text[s]);)s--;break}}i=Math.max(i,0),s=Math.min(s,r.text.length);const a=[];if(o!==r){a.push(o.text.slice(i));for(let e=1;e<n.length-1;e++)a.push(n[e].text);a.push(r.text.slice(0,s+1))}else a.push(o.text.slice(i,s+1));return{blockIndex:e.blocks.indexOf(o),blockOffset:i,texts:a}}}const jU={heading:"h1","list-item":"li",p:"p"};class zU{static wrapText(e,t){const n=jU[t];return`<${n}>${e}</${n}>`}static unwrapText(e,t){const n=jU[t];return e.replace(`<${n}>`,"").replace(`</${n}>`,"")}static correctSegments(e){return t(this,void 0,void 0,(function*(){const t=e.filter((e=>!e.isWhitespace&&e.text.length>=10));if(0===t.length)return{improved:e.map((e=>e.text)),language:null,failed:!1};try{const n=yield Rn({action:xn.dlRequestImproveWriting,payload:{requests:t.map((e=>{var t;return{text:this.wrapText(e.text,null!==(t=e.semanticTag)&&void 0!==t?t:"p")}})),domainName:window.location.hostname,skipDapReporting:!1,trigger:pn,sourceLang:void 0,nicheIntegration:null,correctionsOnly:!0,fallbackOnPartialFailure:!0}});let o=0;return{improved:e.map((e=>{var t,i;let r=e.isWhitespace||e.text.length<10?e.text:null!==(i=this.unwrapText(n.texts[o++],null!==(t=e.semanticTag)&&void 0!==t?t:"p"))&&void 0!==i?i:e.text;return r=this.ignoreAddedOrRemovedPunctationAndWhitespaces(e.text,r),r})),language:n.detected_source_language,failed:!1}}catch(t){return Ga(),{improved:e.map((e=>e.text)),language:null,failed:!0}}}))}static ignoreAddedOrRemovedPunctationAndWhitespaces(e,t){const n=/^(:\)|[.!?:,;\s])*/,o=/(:\)|[.!?:,;\s])*$/,i=e.match(n),r=e.match(o),s=i?i[0]:"",a=r?r[0]:"";return s+t.replace(n,"").replace(o,"")+a}}class GU{static computeAnnotationsForSegment(e,t,n){if(e===t)return[];const o=this.diffText(e,t);let i=this.toRawAnnotations(o);return i=this.filterTrivial(i,n),0===i.length?[]:(i=this.mergeAdjacent(i,this.MAX_MERGE_GAP,e),this.supportsWordBoundaryExpansion(n)&&(i=this.expandToWordBoundaries(i,e,o),i=this.mergeAdjacent(i,0,e)),this.generateDetails(i,e))}static diffText(e,t){return uU(e.replace(/\s/g," ").split(""),t.replace(/\s/g," ").split(""),{oneChangePerToken:!0})}static toRawAnnotations(e){const t=[];let n=0,o=0;for(;o<e.length;){const i=e[o];if(i.added||i.removed){const i=n;let r="",s="";for(;o<e.length&&(e[o].added||e[o].removed);){const t=e[o];t.removed&&(r+=t.value.join(""),n+=t.value.length),t.added&&(s+=t.value.join("")),o++}t.push({range:new nU(i,r.length),originalText:r,rephrasedText:s})}else n+=i.value.length,o++}return t}static filterTrivial(e,t){return e.filter((e=>{const n=e.originalText,o=e.rephrasedText;if(!n&&!o)return!1;if("en"===t){if(""===n&&","===o)return!1;if(","===n&&""===o)return!1}return!this.areEquivalentTypography(n,o)&&(!n.trim()||n.trim()!==o.trim())}))}static areEquivalentTypography(e,t){if(!e||!t)return!1;const n=[this.QUOTES,this.DASHES];for(const o of n){const n=[...e].every((e=>o.has(e))),i=[...t].every((e=>o.has(e)));if(n&&i)return!0}return!!this.areEquivalentEllipsis(e,t)}static areEquivalentEllipsis(e,t){const n=e=>e.replace(/\.\.\./g,"…");return n(e)===n(t)}static mergeAdjacent(e,t,n){if(0===e.length)return[];const o=[];let i=Object.assign({},e[0]);for(let r=1;r<e.length;r++){const s=e[r],a=s.range.start-i.range.end;if(a<=t){if(s.range.end<=i.range.end)continue;const e=Math.max(0,i.range.end-s.range.start),t=a>0?n.slice(i.range.end,s.range.start):"",o=s.originalText.slice(e),r=s.rephrasedText.slice(e);i={range:nU.fromStartEnd(i.range.start,s.range.end),originalText:i.originalText+t+o,rephrasedText:i.rephrasedText+t+r}}else o.push(i),i=Object.assign({},s)}return o.push(i),o}static supportsWordBoundaryExpansion(e){return!!e&&!this.WORD_BOUNDARY_UNSUPPORTED_LANGUAGES.includes(e)}static expandToWordBoundaries(e,t,n){return e.map((e=>{let o=e.range.start,i=e.range.end;for(;o>0&&!/\s/.test(t[o-1]);)o--;for(;i<t.length&&!/\s/.test(t[i]);)i++;if(o===e.range.start&&i===e.range.end)return e;const r=this.computeRephrasedSlice(n,o,i);return{range:nU.fromStartEnd(o,i),originalText:t.slice(o,i),rephrasedText:r}}))}static computeRephrasedSlice(e,t,n){const o=[];let i=0;for(const r of e){const e=r.added?0:r.value.length;if(r.added)i>=t&&i<=n&&o.push(r.value.join(""));else if(r.removed)i+=r.value.length;else{const s=Math.max(t,i),a=Math.min(n,i+e);if(s<a){const e=s-i,t=a-i;o.push(r.value.join("").slice(e,t))}i+=r.value.length}}return o.join("")}static escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}static generateDetails(e,t){return e.map((e=>{const n=e.range.start,o=e.range.end,i=Math.max(0,n-this.CONTEXT_LENGTH),r=Math.min(t.length,o+this.CONTEXT_LENGTH);return{id:"annotation-"+this.annotationIdCounter++,range:new nU(e.range.start,e.range.length),details:{original:this.escapeHtml(e.originalText),rephrased:this.escapeHtml(e.rephrasedText),leftContext:this.escapeHtml(t.slice(i,n)),rightContext:this.escapeHtml(t.slice(o,r))}}}))}}function WU(e,t){const n=[];for(const o of e){const e={id:o.id,range:new nU(o.range.start,o.range.length),details:Object.assign({},o.details)},i=RU.rebase(e.range,t);"deleted"!==i&&"block-break-within"!==i&&(e.range.length>0&&n.push(e))}return n}GU.QUOTES=new Set(["'","‘","’","`","´","′","‚",'"',"“","”","„","″","«","»","‹","›"]),GU.DASHES=new Set(["-","–","—","‐","‑","‒","―","−"]),GU.ELLIPSIS_CHARS=new Set(["…","."]),GU.WORD_BOUNDARY_UNSUPPORTED_LANGUAGES=["zh","zh-hans","ja"],GU.MAX_MERGE_GAP=10,GU.CONTEXT_LENGTH=7,GU.annotationIdCounter=0;class VU{constructor(){this.ranges=[]}print(){for(const e of this.ranges)Ga((e.start,e.end,e.version));Ga()}updateAndGetValidRanges(e,t,n){if(e>=t)return{validRanges:[],invalidRanges:[]};const o=[],i=[],r=[];let s=0,a=e;for(;s<this.ranges.length&&this.ranges[s].end<=e;)r.push(this.ranges[s]),s++;if(s<this.ranges.length&&this.ranges[s].start<e){const t=this.ranges[s];this.pushOrMerge(r,{start:t.start,end:e,version:t.version})}for(;a<t;){if(s>=this.ranges.length){o.push({start:a,end:t}),this.pushOrMerge(r,{start:a,end:t,version:n}),a=t;break}const e=this.ranges[s];if(a<e.start){const i=Math.min(t,e.start);o.push({start:a,end:i}),this.pushOrMerge(r,{start:a,end:i,version:n}),a=i;continue}const l=Math.min(t,e.end);n>e.version?(o.push({start:a,end:l}),this.pushOrMerge(r,{start:a,end:l,version:n})):(this.pushOrMerge(r,{start:a,end:l,version:e.version}),e.version>n?i.push({start:a,end:l}):o.push({start:a,end:l})),e.end,a=l,a>=e.end&&s++}if(s<this.ranges.length&&this.ranges[s].start<t&&this.ranges[s].end>t){const e=this.ranges[s];this.pushOrMerge(r,{start:t,end:e.end,version:e.version}),s++}for(;s<this.ranges.length;)r.push(this.ranges[s]),s++;return this.ranges=r,{validRanges:o,invalidRanges:i}}rebase(e){const t=[];for(const n of this.ranges){const o=nU.fromStartEnd(n.start,n.end);if("deleted"===RU.rebase(o,e))continue;if(o.isEmpty())continue;const{start:i,end:r}=o.toStartEnd();t.push({start:i,end:r,version:n.version})}this.ranges=this.mergeRanges(t)}pushOrMerge(e,t){if(e.length>0){const n=e[e.length-1];if(n.end===t.start&&n.version===t.version)return void(n.end=t.end)}e.push(t)}mergeRanges(e){if(0===e.length)return[];e.sort(((e,t)=>e.start-t.start));const t=[];let n=e[0];for(let o=1;o<e.length;o++){const i=e[o];i.start<=n.end&&i.version===n.version?n.end=Math.max(n.end,i.end):(t.push(n),n=i)}return t.push(n),t}}class KU{constructor(e){this.timeoutDuration=3e4,this.documentVersion=0,this.versionMap=new VU,this.isStopped=!1,this.editor=e,this.unsubscribeVersionMap=e.onTextChange((e=>this.versionMap.rebase(e)))}stop(){this.isStopped=!0,this.unsubscribeVersionMap()}processInChunks(e,n){return t(this,void 0,void 0,(function*(){const t=this.tryGetMockAnnotations();if(t)return void e(t);this.documentVersion++;const o=this.documentVersion,i=this.editor;Ga(),this.versionMap.print();const r=i.getText();if(r.emptyOrWhitespace())return;const s=this.collectSegments(r,n);if(0===s.length)return;const a=[],l=i.onTextChange((e=>a.push(...e)));try{for(const t of this.chunkSegments(s)){if(this.isStopped||this.isTimedOut(i)){Ga();break}const{improved:n,language:r,failed:s}=yield zU.correctSegments(this.toTextSegments(t));if(s){Ga(),this.setTimeoutForEditor(i);break}const l=WU(this.computeAnnotationsForChunk(t,n,r),a),c=Math.min(...t.map((e=>e.editorOffset))),d=Math.max(...t.map((e=>e.editorOffset+e.text.length))),u=nU.fromStartEnd(c,d);RU.rebase(u,a);const{validRanges:p,invalidRanges:g}=this.versionMap.updateAndGetValidRanges(u.start,u.end,o),m=l.filter((e=>p.some((t=>e.range.start>=t.start&&e.range.end<=t.end))));Ga(m.length);const h=this.splitRange(c,d,g);for(const t of h){const n=nU.fromStartEnd(t.start,t.end),o=m.filter((e=>n.containsRange(e.range)));e({annotations:o,range:n})}if(this.isStopped){Ga();break}}}finally{Ga(),this.versionMap.print(),l()}}))}splitRange(e,t,n){const o=[];let i=e;for(const e of n)e.start>i&&(o.push({start:i,end:e.start}),i=e.end);return i<t&&o.push({start:i,end:t}),o}collectSegments(e,t){var n;const o=HU.select(e,t);if(null===o||0===o.texts.length)return[];const i=[],r=e.blocks[o.blockIndex].start+o.blockOffset;let s=0;for(let t=0;t<o.texts.length;t++){const a=o.texts[t],l=e.blocks[o.blockIndex+t],c=null!==(n=null==l?void 0:l.semanticTag)&&void 0!==n?n:"p",d=UU(a);for(const e of d)i.push({text:e.text,editorOffset:r+s+e.startIndex,isWhitespace:e.isWhitespace,semanticTag:c});s+=a.length}return i}computeAnnotationsForChunk(e,t,n){const o=[];for(let i=0;i<e.length;i++){const r=e[i],s=t[i];if(r.isWhitespace||r.text===s)continue;const a=GU.computeAnnotationsForSegment(r.text,s,n);for(const e of a)e.range.start+=r.editorOffset,o.push(e)}return o}toTextSegments(e){return e.map((e=>({text:e.text,startIndex:0,isWhitespace:e.isWhitespace,semanticTag:e.semanticTag})))}*chunkSegments(e){let t=[],n=0;for(const o of e)t.push(o),n+=o.text.length,t.length>=KU.CHUNK_SIZE&&(yield t,t=[],n=0),n>=KU.MAX_TOTAL_CHARACTERS_PER_CHUNK&&(yield t,t=[],n=0);t.length>0&&(yield t)}isTimedOut(e){const t=KU.timeoutPerEditor.get(e);return null!=t&&t>new Date}setTimeoutForEditor(e){KU.timeoutPerEditor.set(e,new Date(Date.now()+this.timeoutDuration))}tryGetMockAnnotations(){const e=localStorage.getItem("__DEEPL_MOCK_ANNOTATIONS__");if(!e)return null;try{const t=JSON.parse(e),n=this.editor.getText();return{annotations:t.map((e=>Object.assign(Object.assign({},e),{range:new nU(e.range.start,e.range.length)}))),range:new nU(0,n.fullText().length)}}catch(e){return Ga(),null}}}KU.timeoutPerEditor=new WeakMap,KU.CHUNK_SIZE=50,KU.MAX_TOTAL_CHARACTERS_PER_CHUNK=1e3;var ZU,YU={exports:{}},JU=YU.exports;
/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var XU=(ZU||(ZU=1,function(e,t){!function(n){var o=t,i=e.exports==o&&e,r="object"==typeof ya&&ya;r.global!==r&&r.window!==r||(n=r);var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,l=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,d={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},u=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},g=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,f={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},v={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},_={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],b=String.fromCharCode,y={}.hasOwnProperty,E=function(e,t){return y.call(e,t)},T=function(e,t){if(!e)return t;var n,o={};for(n in t)o[n]=E(e,n)?e[n]:t[n];return o},x=function(e,t){var n="";return e>=55296&&e<=57343||e>1114111?(t&&C("character reference outside the permissible Unicode range"),"�"):E(_,e)?(t&&C("disallowed character reference"),_[e]):(t&&function(e,t){for(var n=-1,o=e.length;++n<o;)if(e[n]==t)return!0;return!1}(w,e)&&C("disallowed character reference"),e>65535&&(n+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=b(e))},$=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},S=function(e){return"&#"+e+";"},C=function(e){throw Error("Parse error: "+e)},k=function(e,t){(t=T(t,k.options)).strict&&m.test(e)&&C("forbidden code point");var n=t.encodeEverything,o=t.useNamedReferences,i=t.allowUnsafeSymbols,r=t.decimal?S:$,p=function(e){return r(e.charCodeAt(0))};return n?(e=e.replace(a,(function(e){return o&&E(d,e)?"&"+d[e]+";":p(e)})),o&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),o&&(e=e.replace(c,(function(e){return"&"+d[e]+";"})))):o?(i||(e=e.replace(u,(function(e){return"&"+d[e]+";"}))),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(c,(function(e){return"&"+d[e]+";"}))):i||(e=e.replace(u,p)),e.replace(s,(function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return r(1024*(t-55296)+n-56320+65536)})).replace(l,p)};k.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var L=function(e,t){var n=(t=T(t,L.options)).strict;return n&&g.test(e)&&C("malformed character reference"),e.replace(h,(function(e,o,i,r,s,a,l,c,d){var u,p,g,m,h,_;return o?f[h=o]:i?(h=i,(_=r)&&t.isAttributeValue?(n&&"="==_&&C("`&` did not start a character reference"),e):(n&&C("named character reference was not terminated by a semicolon"),v[h]+(_||""))):s?(g=s,p=a,n&&!p&&C("character reference was not terminated by a semicolon"),u=parseInt(g,10),x(u,n)):l?(m=l,p=c,n&&!p&&C("character reference was not terminated by a semicolon"),u=parseInt(m,16),x(u,n)):(n&&C("named character reference was not terminated by a semicolon"),e)}))};L.options={isAttributeValue:!1,strict:!1};var A={version:"1.2.0",encode:k,decode:L,escape:function(e){return e.replace(u,(function(e){return p[e]}))},unescape:L};if(o&&!o.nodeType)if(i)i.exports=A;else for(var I in A)E(A,I)&&(o[I]=A[I]);else n.he=A}(JU)}(YU,YU.exports)),YU.exports),QU=Ea(XU);class eq{constructor(){this.editors=new Map,this.focusedEditor=null,this.annotationPipeline=null,this.annotationEditorOverlay=null,this.scanForEditorsCallbackId=null,this.scanForEditorsTimeoutId=null,this.textMutationsSinceLastRequest=[],this.currentPopup=null,this.isMouseOverPopup=!1,this.isMouseOverHighlight=!1,this.hidePopupTimeoutId=null,this.highlightShownCount=0,this.highlightShownTimeoutId=null,this.storedAnnotations=new WeakMap,this.unsubscribeSettings=null,this.isEnabled=!0,this.requestAnnotationsDebounced=function(e,t){let n=null;return function(...o){n&&clearTimeout(n),n=window.setTimeout((()=>{n=null,e(...o)}),t)}}((e=>t(this,void 0,void 0,(function*(){var t;if(!e.hasFocus())return;const n=this.textMutationsSinceLastRequest;if(this.textMutationsSinceLastRequest=[],0===n.length)return;const o={start:Math.max(0,Math.min(...n.map((e=>e.start)))-1),end:Math.max(...n.map((e=>e.start)))+1};try{yield null===(t=this.annotationPipeline)||void 0===t?void 0:t.processInChunks((t=>{var n;e.hasFocus()&&(null===(n=this.annotationEditorOverlay)||void 0===n||n.updateAnnotations(t.annotations,t.range))}),o)}catch(e){Ga()}}))),1e3),"true"===localStorage.getItem("__DEEPL_INLINE_HIGHLIGHTS_TEST_MODE__")&&(this.isEnabled=!0),this.registerEditors(),this.setupSettingsSubscription(),this.init()}destroy(){var e;null===(e=this.unsubscribeSettings)||void 0===e||e.call(this),this.unsubscribeSettings=null,this.disable()}registerEditors(){this.editorRegistry=new xU,this.editorRegistry.register(new TU),this.editorRegistry.register(new EU)}init(){if(null!==this.scanForEditorsCallbackId||null!==this.scanForEditorsTimeoutId||!this.isEnabled)return;const e=()=>{this.editorRegistry.getDetectors().forEach((e=>{const n=e.queryEditors();for(const[e,o]of n.entries()){if(this.editors.has(e))continue;const n=o();this.editors.set(e,n);const i=()=>t(this,void 0,void 0,(function*(){var t,o,i;null===(t=this.annotationEditorOverlay)||void 0===t||t.destroy(),this.annotationEditorOverlay=null,null===(o=this.currentPopup)||void 0===o||o.destroy(),this.currentPopup=null,this.textMutationsSinceLastRequest=[],null===(i=this.annotationPipeline)||void 0===i||i.stop(),this.focusedEditor=n,this.annotationPipeline=new KU(n);const r=this.storedAnnotations.get(e);this.annotationEditorOverlay=new $U(n,r||[]),this.annotationEditorOverlay.onAnnotationEnter((e=>this.handleAnnotationEnter(e))),this.annotationEditorOverlay.onAnnotationLeave((e=>this.handleAnnotationLeave(e))),this.annotationEditorOverlay.onAnnotationClick((e=>this.handleAnnotationClick(e))),this.annotationEditorOverlay.onAnnotationShown((()=>this.handleAnnotationShown())),this.annotationEditorOverlay.onAnnotationDestroy((e=>this.handleAnnotationDestroy(e)));try{yield this.annotationPipeline.processInChunks((e=>{var t;n.hasFocus()&&(null===(t=this.annotationEditorOverlay)||void 0===t||t.updateAnnotations(e.annotations,e.range))}))}catch(e){Ga()}}));n.hasFocus()&&i(),n.onFocus(i),n.onBlur((()=>{var t,o,i;if(this.focusedEditor===n){if(this.annotationEditorOverlay){const t=this.annotationEditorOverlay.getAnnotations();this.storedAnnotations.set(e,t)}this.focusedEditor=null,null===(t=this.annotationEditorOverlay)||void 0===t||t.destroy(),this.annotationEditorOverlay=null,this.textMutationsSinceLastRequest=[],null===(o=this.currentPopup)||void 0===o||o.destroy(),this.currentPopup=null,null===(i=this.annotationPipeline)||void 0===i||i.stop(),this.annotationPipeline=null}})),n.onTextChange((e=>{this.focusedEditor===n&&(this.textMutationsSinceLastRequest.push(...e),this.requestAnnotationsDebounced(n))})),n.onEditorDestroyed((()=>{var t,o,i;this.editors.delete(e),this.storedAnnotations.delete(e),this.focusedEditor===n&&(this.focusedEditor=null,null===(t=this.annotationEditorOverlay)||void 0===t||t.destroy(),this.annotationEditorOverlay=null,this.textMutationsSinceLastRequest=[],null===(o=this.currentPopup)||void 0===o||o.destroy(),this.currentPopup=null,null===(i=this.annotationPipeline)||void 0===i||i.stop(),this.annotationPipeline=null)}))}})),this.scanForEditorsTimeoutId=setTimeout((()=>{this.scanForEditorsCallbackId=requestIdleCallback(e,{timeout:100})}),1e3)};e()}setupSettingsSubscription(){let e=this.isEnabled;this.unsubscribeSettings=Pv.subscribe((t=>{const n="true"===localStorage.getItem("__DEEPL_INLINE_HIGHLIGHTS_TEST_MODE__")||!0===(null==t?void 0:t.enableInlineHighlights)&&!0!==jn(t);n!==e&&(e=n,this.isEnabled=n,n?this.init():this.disable())}))}disable(){var e,t,n;null===(e=this.annotationEditorOverlay)||void 0===e||e.destroy(),this.annotationEditorOverlay=null,null===(t=this.currentPopup)||void 0===t||t.destroy(),this.currentPopup=null,this.scanForEditorsTimeoutId&&(clearTimeout(this.scanForEditorsTimeoutId),this.scanForEditorsTimeoutId=null),this.scanForEditorsCallbackId&&(cancelIdleCallback(this.scanForEditorsCallbackId),this.scanForEditorsCallbackId=null);for(const e of this.editors.values())e.destroy();this.editors.clear(),this.focusedEditor=null,null===(n=this.annotationPipeline)||void 0===n||n.stop(),this.annotationPipeline=null,this.textMutationsSinceLastRequest=[]}handleAnnotationEnter(e){var t;if(this.focusedEditor){if(this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),this.currentPopup&&(null===(t=this.currentPopup.annotation)||void 0===t?void 0:t.id)!==e.id){if(this.isMouseOverPopup)return;this.currentPopup.destroy(),this.currentPopup=null,this.isMouseOverPopup=!1}this.isMouseOverHighlight=!0,null==this.currentPopup&&(this.currentPopup=new SU(e,(()=>this.applyCorrection(e)),(()=>this.dismissCorrection(e)),(()=>{this.isMouseOverPopup=!0,this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null)}),(()=>{this.isMouseOverPopup=!1,this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),this.hidePopupTimeoutId=setTimeout((()=>{this.checkAndHidePopup(),this.hidePopupTimeoutId=null}),200)})),this.currentPopup.showFor(this.focusedEditor,e),Rn({action:Ln.dlTrackIconHover,payload:{uiLocation:Ie,domainName:window.location.host}}))}}handleAnnotationLeave(e){this.isMouseOverHighlight=!1,this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),this.hidePopupTimeoutId=setTimeout((()=>{this.checkAndHidePopup(),this.hidePopupTimeoutId=null}),200)}checkAndHidePopup(){var e;this.isMouseOverHighlight||this.isMouseOverPopup||(this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),null===(e=this.currentPopup)||void 0===e||e.destroy(),this.currentPopup=null,this.isMouseOverPopup=!1)}handleAnnotationClick(e){}applyCorrection(e){var t,n,o;Ga(),null===(t=this.annotationEditorOverlay)||void 0===t||t.applyAnnotation(e.id),null===(n=this.focusedEditor)||void 0===n||n.updateText(QU.decode(e.details.rephrased),e.range),this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),this.isMouseOverHighlight=!1,this.isMouseOverPopup=!1,null===(o=this.currentPopup)||void 0===o||o.destroy(),this.currentPopup=null,Rn({action:Ln.dlTrackReplaceInField,payload:{replacementType:hn}})}dismissCorrection(e){var t,n;Ga(),this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),this.isMouseOverHighlight=!1,this.isMouseOverPopup=!1,null===(t=this.currentPopup)||void 0===t||t.destroy(),this.currentPopup=null,null===(n=this.annotationEditorOverlay)||void 0===n||n.dismissAnnotation(e.id),Rn({action:Ln.dlTrackUILocationClicked,payload:Oe})}handleAnnotationShown(){this.highlightShownCount++,this.highlightShownTimeoutId||(this.highlightShownTimeoutId=setTimeout((()=>{Rn({action:Ln.dlTrackInlineHighlightsShown,payload:{numberOfCorrections:this.highlightShownCount}}),this.highlightShownCount=0,this.highlightShownTimeoutId=null}),1e3))}handleAnnotationDestroy(e){var t,n,o;(null===(n=null===(t=this.currentPopup)||void 0===t?void 0:t.annotation)||void 0===n?void 0:n.id)===e.id&&(this.hidePopupTimeoutId&&(clearTimeout(this.hidePopupTimeoutId),this.hidePopupTimeoutId=null),this.isMouseOverHighlight=!1,this.isMouseOverPopup=!1,null===(o=this.currentPopup)||void 0===o||o.destroy(),this.currentPopup=null)}}let tq,nq,oq,iq,rq,sq,aq,lq,cq,dq,uq,pq;const{scope:gq}=hm(),{deepl_inline_ui:mq}=U;function hq({websiteData:e,platformBehaviour:t=at.default,onRemove:n=()=>{},textProcessingMode:o,isInput:i=!1}){try{let r;switch(fq(),pq=iM.createElement(),pq.platformBehaviour=t,pq.textProcessingMode=o,pq.style.zIndex=mq.z_index,document.documentElement.appendChild(pq),t){case at.gdocs:r=Mg;break;case at.default:default:r=ox}pq.createDOM(r,(()=>fq(n)),e,i),L_.update({isReviewTranslateWriteWindowInjected:!0})}catch(e){ja(),Ka(e,gq)}}function fq(e){try{pq&&(pq.cleanupDOM(),Array.from(document.getElementsByTagName(iM.HTML_TAG_NAME),(e=>e.remove())),L_.update({isReviewTranslateWriteWindowInjected:!1}),nq=void 0,e&&e())}catch(e){ja(),Ka(e,gq)}}function vq({websiteData:e,platformBehaviour:t=at.default,textProcessingMode:n=dt.translate}){try{let o;switch(_q(),nq=oT.createElement(),nq.platformBehaviour=t,nq.textProcessingMode=n,nq.style.zIndex=mq.z_index,document.documentElement.appendChild(nq),t){case at.gdocs:o=Mg;break;case at.default:default:o=ox}nq.createDOM(o,_q,e),L_.update({isTranslationTooltipInjected:!0})}catch(e){ja(),Ka(e,gq)}}function _q(){try{nq&&(nq.cleanupDOM(),Array.from(document.getElementsByTagName(oT.HTML_TAG_NAME),(e=>e.remove())),L_.update({isTranslationTooltipInjected:!1}),nq=void 0)}catch(e){ja(),Ka(e,gq)}}function wq(e=at.default){try{if(oq)return;let t;switch(oq=Ty.createElement(),oq.style.zIndex=mq.z_index,document.documentElement.appendChild(oq),e){case at.gdocs:t="deepl-gdocs-icon";break;case at.default:default:t=wx.HTML_TAG_NAME}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:r,bottom:s,height:a,width:l}=t;return{x:i-n.left,y:s-n.top,top:o,bottom:s,right:n.width-r,left:i+window.pageXOffset,width:l,height:a}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));oq.createDOM(n,bq),L_.update({isInlineTranslateSettingsTooltipInjected:!0}),gm((()=>{bq()}))}catch(e){ja(),Ka(e,gq)}}function bq(){try{if(!oq)return;oq.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),L_.update({isInlineTranslateSettingsTooltipInjected:!1}),oq=void 0}catch(e){ja(),Ka(e,gq)}}function yq(){return t(this,void 0,void 0,(function*(){try{if(document.querySelector(wL.HTML_TAG_NAME))return;if(yield fO())return;tq=wL.createElement(),document.documentElement.appendChild(tq),tq.createDOM(),document.addEventListener("click",Tq),gm((()=>Tq()))}catch(e){ja(),Ka(e,gq)}}))}function Eq(){return t(this,void 0,void 0,(function*(){try{yield yq(),Gk(void 0,"inline");try{Rn({action:Ln.dlTrackRightClick,payload:{translationType:_,domainName:window.location.host}})}catch(e){}}catch(e){ja(),Ka(e,gq)}}))}function Tq(){try{tq&&(tq.cleanupDOM(),Array.from(document.getElementsByTagName(wL.HTML_TAG_NAME),(e=>e.remove())),tq=void 0,document.removeEventListener("click",Tq))}catch(e){ja(),Ka(e,gq)}}function xq(){try{if(document.querySelector(Hb.HTML_TAG_NAME))return;lq=Hb.createElement(),document.documentElement.appendChild(lq),lq.createDOM(),gm((()=>{Sq()}))}catch(e){ja(),Ka(e,gq)}}function $q(){try{if(document.querySelector(wA.HTML_TAG_NAME))return;cq=wA.createElement(),document.documentElement.appendChild(cq),cq.createDOM(),gm((()=>{Cq()}))}catch(e){ja(),Ka(e,gq)}}function Sq(){try{lq&&(lq.cleanupDOM(),Array.from(document.getElementsByTagName(Hb.HTML_TAG_NAME),(e=>e.remove())),lq=void 0,document.removeEventListener("click",Sq))}catch(e){ja(),Ka(e,gq)}}function Cq(){try{cq&&(cq.cleanupDOM(),Array.from(document.getElementsByTagName(wA.HTML_TAG_NAME),(e=>e.remove())),cq=void 0,document.removeEventListener("click",Cq))}catch(e){ja(),Ka(e,gq)}}function kq(){try{dq&&(dq.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),dq=void 0,document.removeEventListener("click",kq))}catch(e){ja(),Ka(e,gq)}}function Lq(){try{if(document.querySelector(CI.HTML_TAG_NAME))return;sq=CI.createElement(),document.body.appendChild(sq),sq.createDOM({useIconForShortcutOnly:!1}),gm((()=>{Mq()}))}catch(e){ja(),Ka(e,gq)}}function Aq(){try{if(UP())return;uq=NP.createElement(),document.documentElement.appendChild(uq),uq.createDOM(),gm((()=>{Iq()}))}catch(e){ja(),Ka(e,gq)}}function Iq(){try{uq&&(uq.cleanupDOM(),Array.from(document.getElementsByTagName(NP.HTML_TAG_NAME),(e=>e.remove())),uq=void 0,document.removeEventListener("click",Iq))}catch(e){ja(),Ka(e,gq)}}let Oq;function Dq(){try{if(Oq)return;Oq=new eq,gm((()=>{null==Oq||Oq.destroy(),Oq=void 0}))}catch(e){ja(),Ka(e,gq)}}function Mq(){try{if(sq){sq.cleanupDOM();const e=Array.from(document.querySelectorAll(CI.HTML_TAG_NAME));for(const t of e)t.remove();sq=void 0,document.removeEventListener("click",Mq)}}catch(e){ja(),Ka(e,gq)}}function Rq(e){return t(this,void 0,void 0,(function*(){try{if(!iq)return;iq.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),iq=void 0;if(!(yield gp(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(iq)){try{Rn({action:Ln.dlTrackCloseInlineHighlighter,payload:{trigger:rt}})}catch(e){}Pv.set({isInlineHighlighterShown:!0})}}catch(e){ja(),Ka(e,gq)}}))}function Nq(){return t(this,void 0,void 0,(function*(){try{if(!rq)return;rq.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-input-selection-trigger"),(e=>e.remove())),rq=void 0}catch(e){ja(),Ka(e.message)}}))}function Pq(e,t){Rq();try{iq=wx.createElement(),iq.style.zIndex=mq.z_index,document.documentElement.appendChild(iq),iq.createDOM(e,t),gm((()=>{Rq()}))}catch(e){ja(),Ka(e,gq)}}function Uq(e){return t(this,void 0,void 0,(function*(){const n=n=>t(this,void 0,void 0,(function*(){requestAnimationFrame((()=>t(this,void 0,void 0,(function*(){var o,i,r,s,a,l;if(!n||!n.target)return;const c=window.getSelection();if(!(null===(o=M_(window))||void 0===o?void 0:o.trim()))return;if(2===n.button)return;const d="TEXTAREA"===n.target.tagName;if(c.isCollapsed||(null===(r=null===(i=c.anchorNode)||void 0===i?void 0:i.parentNode)||void 0===r?void 0:r.isContentEditable)||!c.getRangeAt){if((null===(l=null===(a=c.anchorNode)||void 0===a?void 0:a.parentNode)||void 0===l?void 0:l.isContentEditable)||d||(e=>{if(!e)return!1;const t=e.childNodes;for(let e=0;e<t.length;e++){const n=t[e];if(n.isContentEditable||"TEXTAREA"===n.tagName)return t[e]}return!1})(c.anchorNode)){let e={clientX:n.clientX||0,pageY:n.pageY||0,detail:(null==n?void 0:n.detail)||0,isOutsideOfView:Fq(n)};yield function(e){return t(this,void 0,void 0,(function*(){yield Nq();try{rq=bx.createElement(),rq.style.zIndex=mq.z_index,document.documentElement.appendChild(rq);const n=document.activeElement;rq.createDOM(n,e);const o=()=>t(this,void 0,void 0,(function*(){yield Nq()}));n.addEventListener("input",o),gm((()=>t(this,void 0,void 0,(function*(){yield Nq(),n.removeEventListener("input",o)}))))}catch(e){ja(),Ka(e.message)}}))}(e)}}else{const t=null===(s=c.getRangeAt(0))||void 0===s?void 0:s.commonAncestorContainer;if(!t.contains(n.target)&&!n.target.contains(t))return;let o={clientX:n.clientX||0,pageY:n.pageY||0,detail:(null==n?void 0:n.detail)||0,isOutsideOfView:Fq(n)};Pq(e,o)}}))))})),o=()=>t(this,void 0,void 0,(function*(){var e,t,n,o;const i=document.activeElement||void 0;if(i&&((null===(e=i.closest)||void 0===e?void 0:e.call(i,"deepl-input-selection-trigger"))||(null===(t=i.closest)||void 0===t?void 0:t.call(i,"deepl-inline-translate-tooltip"))||(null===(n=i.closest)||void 0===n?void 0:n.call(i,"deepl-inline-translate-settings-tooltip"))||(null===(o=i.closest)||void 0===o?void 0:o.call(i,"deepl-inline-trigger"))))return;M_(window)||(Rq(),Nq())})),i=e=>{"Escape"===e.key&&Nq()};document.addEventListener("mouseup",n),document.addEventListener("mousedown",Rq),document.addEventListener("selectionchange",o),document.addEventListener("keydown",i),gm((()=>{document.removeEventListener("mouseup",n),document.removeEventListener("mousedown",Rq),document.removeEventListener("selectionchange",o),document.removeEventListener("keydown",i)}))}))}function qq(e,t){try{aq=Yx.createElement(),aq.style.zIndex=mq.z_index,document.documentElement.appendChild(aq),aq.createDOM(e,t),gm((()=>{null==aq||aq.cleanupDOM()}))}catch(e){ja(),Ka(e,gq)}}const Bq=(e=nt.initial)=>{const t=LA.createElement();document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),gm((()=>{t.cleanupDOM()}))};function Fq({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}const Hq=new Set(["www.google.com","web.whatsapp.com","chatgpt.com","translate.google.com","www.canva.com","outlook.office.com","gemini.google.com","x.com","mail.google.com","www.facebook.com","github.com","www.notion.so","aistudio.google.com","www.linkedin.com","docs.google.com","www.bing.com","www.youtube.com","discord.com","www.overleaf.com","www.instagram.com","studio.youtube.com","app.slack.com","chat.deepseek.com","app.intercom.com","grok.com","www.baidu.com","outlook.office365.com","labs.google","suno.com","keep.google.com","app.chat-space.ai","www.midjourney.com","quillbot.com","sora.chatgpt.com","outlook.live.com","www.doubao.com","sellercentral.amazon.com","fanyi.youdao.com","gamma.app","web.telegram.org","colab.research.google.com","www.reddit.com","teams.microsoft.com","forms.office.com","miro.com","www.google.com.hk","claude.ai","www.etsy.com","elevenlabs.io","translate.google.co.jp","www.perplexity.ai","app.grammarly.com","character.ai","tinder.com","app.klingai.com","business.facebook.com","www.upwork.com","cn.overleaf.com","mail.yahoo.com","app.clickup.com","fanyi.baidu.com","dev.azure.com","papago.naver.com","trello.com","notebooklm.google.com","quizlet.com","classroom.google.com","my.livechatinc.com","coda.grammarly.com","app.asana.com","www.tiktok.com","www.ebay.com","www.seaart.ai","higgsfield.ai","cn.bing.com","www.fiverr.com","app.hubspot.com","pixai.art","app.leonardo.ai","calendar.google.com","novelai.net","janitorai.com","www.kleinanzeigen.de","admin.booking.com","www.messenger.com","translate.google.com.hk","www.freepik.com","nebula-expert.com","agentseller.temu.com","translate.google.com.ua","lmarena.ai","message.alibaba.com","adsmanager.facebook.com","www.reverso.net","translate.google.co.kr","meet.google.com","www.twitch.tv","admin.shopify.com","drive.google.com","sellercentral.amazon.de","preply.com","translate.yandex.ru","app.immersivetranslate.com","www.duolingo.com","app.helpdesk.com","translate.yandex.com","csp.aliexpress.com","sellercentral.amazon.co.uk","languagetool.org","artlist.io","advertising.amazon.com","copilot.microsoft.com","www.patreon.com","loop.cloud.microsoft","www.aliexpress.com","translate.google.com.tr","www.canva.cn","app.eu.intercom.com","m365.cloud.microsoft","openart.ai","app.diagrams.net","wenku.baidu.com","www.coursera.org","medium.com","platform.openai.com","ads.google.com","translate.google.pl","www.amazon.com","console.cloud.google.com","translate.google.com.br","yandex.ru","translate.google.fr","translate.google.ru","www.zerogpt.com","web.arbeitsagentur.de","web.facebook.com","www.ebay.de","yandex.com","inbox.shopify.com","kick.com","www.meta.ai","mail.yahoo.co.jp","weixin.qq.com","mp.weixin.qq.com","line.me","threads.net","bsky.app","stackoverflow.com","stackexchange.com","quora.com","office.com","word.office.com","confluence.atlassian.com","coda.io","paper.dropbox.com","wordpress.com","substack.com","blogger.com","tumblr.com","gitlab.com","bitbucket.org","jira.atlassian.com","monday.com","smartsheet.com","airtable.com","basecamp.com","linear.app","servicenow.com","zendesk.com","freshdesk.com","salesforce.com","crm.zoho.com","pipedrive.com","workday.com","bamboohr.com","adp.com","rippling.com","okta.com","admin.duo.com","1password.com","lastpass.com","dropbox.com","box.com","docusign.com","adobe.com","figma.com","figjam.com","lucidchart.com","calendly.com","doodle.com","gmail.com","sheets.google.com","slides.google.com","chat.google.com","sites.google.com","sharepoint.com","onedrive.live.com","yammer.com","zoom.us","webex.com","gotomeeting.com","weibo.com","vk.com","wattpad.com","archiveofourown.org","kakaotalk.com","qq.com"]),jq=new Set(["jira","atlassian","confluence","bitbucket","gitlab","github","slack","zoom","webex","microsoft","office","sharepoint","onedrive","yammer","teams","salesforce","servicenow","zendesk","freshdesk","hubspot","workday","okta","dropbox","box","figma","miro","notion","linear","asana","monday","clickup","trello","airtable","smartsheet","basecamp","azure","git."]),zq=()=>{const e=window.location.hostname;if(Hq.has(e))return!0;const t=e.toLowerCase();for(const e of jq)if(t.includes(e.toLowerCase()))return!0;return!1},Gq=()=>t(void 0,void 0,void 0,(function*(){const e=document.createElement("div");let t;e.id="screenshot-overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0, 0, 0, 0.1)",e.style.cursor="crosshair",e.style.zIndex="999999",document.body.appendChild(e);const n=new Promise((e=>{t=e}));let o,i;const r=e=>{o=e.clientX,i=e.clientY;const t=document.createElement("div");t.id="selection-box",t.style.position="fixed",t.style.border="2px solid #0095ff",t.style.backgroundColor="rgba(0, 149, 255, 0.1)",t.style.zIndex="999999",document.body.appendChild(t)},s=e=>{const t=document.getElementById("selection-box");if(!t)return;const n=e.clientX,r=e.clientY,s=Math.abs(n-o),a=Math.abs(r-i),l=Math.min(n,o),c=Math.min(r,i);t.style.left=l+"px",t.style.top=c+"px",t.style.width=s+"px",t.style.height=a+"px"},a=()=>{const e=document.getElementById("selection-box");if(!e)return;const n=e.getBoundingClientRect();document.removeEventListener("mousedown",r),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.getElementById("selection-box").remove(),document.getElementById("screenshot-overlay").remove(),new Promise((e=>setTimeout(e,100))).then((()=>{var e,o,i,r,s,a,l,c,d,u;return t({captureRect:n,visualViewport:{width:null!==(o=null===(e=window.visualViewport)||void 0===e?void 0:e.width)&&void 0!==o?o:window.innerWidth,height:null!==(r=null===(i=window.visualViewport)||void 0===i?void 0:i.height)&&void 0!==r?r:window.innerHeight,offsetLeft:null!==(a=null===(s=window.visualViewport)||void 0===s?void 0:s.offsetLeft)&&void 0!==a?a:0,offsetTop:null!==(c=null===(l=window.visualViewport)||void 0===l?void 0:l.offsetTop)&&void 0!==c?c:0,scale:null!==(u=null===(d=window.visualViewport)||void 0===d?void 0:d.scale)&&void 0!==u?u:1}})}))};return document.addEventListener("mousedown",r),document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),n})),Wq=()=>t(void 0,void 0,void 0,(function*(){const e=yield Rn({action:$n.dlGetAppSettings});oB().then((()=>ZI(e.selectedTargetLanguage,!1,dt.translate))),Rn({action:Ln.dlTrackRightClick,payload:{translationType:f,domainName:window.location.host}})})),Vq=(e,n)=>t(void 0,void 0,void 0,(function*(){let t=5e3;if(n===xt.WRITE&&(t=2e3),e.length<=t)return!1;const o=yield iB();return!Bn(o,n)})),Kq=(e,n)=>t(void 0,void 0,void 0,(function*(){const t=e.length,o=yield iB(),i=Bn(o,xt.TRANSLATOR),r=Bn(o,xt.WRITE);if(n===dt.write){const e=o.isLoggedIn?A:L;if(i&&!r&&t>e)throw new _l(e,"Char limit exceeded (Translator Pro, Write Free)");if(!r&&t>e)throw new vl(e,"Char limit exceeded (Write Free Or Anonymous)")}else{if(!o.isLoggedIn&&t>C)throw new fl(C,"Limit exceeded (anonymous user). Please upgrade");if(o.isLoggedIn&&!Bn(o,xt.TRANSLATOR)&&t>k)throw new hl(k,"Limit exceeded (free account). Please upgrade")}})),Zq=e=>t(void 0,void 0,void 0,(function*(){const{event:t,targetLang:n}=e,o=document.querySelector("deepl-gdocs-icon");if(n&&o){const{originalText:e,textLines:i,entities:r,contentReference:s,originalObject:a}=Pg(t);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||vq({websiteData:L_,platformBehaviour:at.gdocs}),yield Vq(e,xt.TRANSLATOR))return void L_.update({translationState:g.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:e});L_.update({translationState:g.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{let t,l,c;t="auto",l=i.map(((e,t)=>[t])),c=[];const d=yield Rn({action:Sn.dlRequestGDocsProcessContent,payload:{mode:Ac,sentences:c,sourceLang:t,targetLang:n,domain:window.location.host,textLines:i}});let u;const p=i.map(((e,t)=>({text:e,prefix:"",id:t+1})));u=d.translations.map(((e,t)=>({prefix:p[t].prefix,text:e.text}))),t=d.translations[0].detected_source_language,o.setContentProcessBuildingBlocks({detectedSourceLanguage:t,targetLang:n,sentences:c,processedSentences:u,textLines:i,textLinesComponents:l,entities:r,contentReference:s,originalObject:a}),L_.update({translationState:g.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:t,originalSnippet:e,websiteLanguage:t})}catch(t){L_.update({translationState:g.none,originalSnippet:e,error:t.message?t.message:t})}}})),Yq=e=>t(void 0,[e],void 0,(function*({event:e,lang:t}){const{originalText:n,textLines:o,entities:i,contentReference:r,originalObject:s}=Pg(e);document.getElementsByTagName("deepl-inline-translate-tooltip").length||vq({websiteData:L_,platformBehaviour:at.gdocs,textProcessingMode:dt.write});const a=document.querySelector("deepl-gdocs-icon"),l={lang:t,sourceLength:n.length,targetLength:0,nicheIntegration:at.gdocs,error:"",trigger:un};if(yield Vq(n,xt.WRITE))return L_.update({translationState:g.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:n}),void(a&&a.setDeeplWriteTrackingData(l));L_.update({translationState:g.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{let e,t,c;e="auto",t=o.map(((e,t)=>[t])),c=[];const d=yield Rn({action:Sn.dlRequestGDocsProcessContent,payload:{mode:Ic,sentences:c,sourceLang:e,targetLang:e,domain:window.location.host,textLines:o}});let u;const p=o.map(((e,t)=>({text:e,prefix:"",id:t+1})));u=d.improvements.map(((e,t)=>({prefix:p[t].prefix,text:e.text}))),e=d.improvements[0].detected_source_language,a.setContentProcessBuildingBlocks({detectedSourceLanguage:e,targetLang:e,sentences:c,processedSentences:u,textLines:o,textLinesComponents:t,entities:i,contentReference:r,originalObject:s}),a.setDeeplWriteTrackingData(l),L_.update({translationState:g.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:e,originalSnippet:n,websiteLanguage:e})}catch(e){const t=e.message?e.message:e;L_.update({translationState:g.none,originalSnippet:n,error:t}),gB(Object.assign(Object.assign({eventType:Dt},l),{error:t}))}})),Jq=e=>t(void 0,void 0,void 0,(function*(){var t;const{sentences:n,targetLang:o,sourceLang:i,mode:r}=e;if(o){yield Kq(n.join(""),r);try{const{emptyStringIndices:e,validTranslateableSentences:s}=cm(n),a=yield Rn({action:Sn.dlRequestInputTranslation,payload:{requests:s.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:o,targetLang:o,sourceLang:i,platformBehavior:at.gslides,isWriteRequest:r===dt.write}}),l=null===(t=a[0])||void 0===t?void 0:t.texts;return dm(n,l,e)}catch(e){throw Error(e)}}})),Xq=e=>t(void 0,[e],void 0,(function*({event:e,targetLang:t,sourceLang:n,mode:o}){if(t){const{textLines:i,entities:r,contentReference:s,originalObject:a}=Pg(e);yield Kq(i.join(""),o);try{const e=yield Rn({action:Sn.dlRequestInputTranslation,payload:{requests:i.map((e=>({text:e}))),domainName:window.location.hostname,targetLang:t,sourceLang:n,platformBehavior:at.gslides,isWriteRequest:o===dt.write}}),{processedText:l,processedEntities:c}=Hg({textLines:e.map((e=>e.text)),entities:r,contentReference:s});return Wg({entities:c,text:l,originalObject:a})}catch(e){}}})),Qq=e=>t(void 0,void 0,void 0,(function*(){var t,n;const{element:o,targetLang:i,content:r}=e;let s,a="";if(i)try{const s=null===(t=(yield Rn({action:Sn.dlRequestZendeskInputTranslation,payload:Object.assign({content:r,domainName:window.location.hostname,websiteLanguage:i,targetLang:i},e.formality&&{formality:e.formality})}))[0])||void 0===t?void 0:t.texts;a=null===(n=null==s?void 0:s[0])||void 0===n?void 0:n.join(""),o.innerHTML="",Rn({action:Ln.dlOnSuccessfulZendeskTranslation})}catch(e){s=e}return[a,s]})),eB=e=>t(void 0,void 0,void 0,(function*(){const{targetLang:t,sourceLang:n,text:o,trigger:i}=e;let r,s="";if(n&&t)try{s=yield Rn({action:Sn.dlRequestZendeskMessageTranslation,payload:{domainName:window.location.hostname,sourceLang:n,targetLang:t,text:o,trigger:i}})}catch(e){r=e}return[s,r]})),tB=()=>t(void 0,void 0,void 0,(function*(){let e,t=[];try{const[n,o]=yield Rn({action:Cn.dlRequestTermbases});o?e=o:t=n}catch(t){e=t}return[t,e]})),nB=()=>t(void 0,void 0,void 0,(function*(){var e;let t=document.body.innerText.substring(0,200);if(!t||1===t.length){const e=document.title;e.length>=t.length&&(t=e)}let n="";const o=yield chrome.i18n.detectLanguage(t);o&&(null===(e=o.languages)||void 0===e?void 0:e.length)>0&&(n=$a(o.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language).toUpperCase());try{Rn({action:Ln.dlTrackDetectLanguage,payload:{language:n,domainName:window.location.host}})}catch(e){}return n})),oB=()=>t(void 0,void 0,void 0,(function*(){let n=document.documentElement.lang;!n&&e.websiteData.websiteLanguage&&(n=e.websiteData.websiteLanguage);const o=()=>t(void 0,void 0,void 0,(function*(){let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return $a(t).toUpperCase();try{L_.update({translationState:g.ongoingAutoDetection});const e=yield nB();return L_.update({translationState:g.none}),e}catch(e){L_.update({translationState:g.none,error:e.message?e.message:chrome.i18n.getMessage(e)})}})),i=()=>{const e=document.documentElement.className;return/translated/g.test(e)},r=function(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(window.location.href)||(()=>{if("file:"!==document.location.protocol)return!1;switch(document.contentType){case"text/html":return!document.location.href.endsWith(".mhtml");case"text/xml":case"application/xml":return!0;default:return!1}})(),s=yield o();L_.update({websiteLanguage:s,hostname:window.location.hostname,isSupportedLanguage:Ca(s),isGoogleTranslatedActive:i(),isValidUrlForFullPageTranslation:r});const a=new MutationObserver((()=>t(void 0,void 0,void 0,(function*(){const e=yield o();L_.update({websiteLanguage:e,isSupportedLanguage:Ca(e),isGoogleTranslatedActive:i(),isValidUrlForFullPageTranslation:r})}))));a.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),gm((()=>{a.disconnect()}))})),iB=()=>t(void 0,void 0,void 0,(function*(){return yield Rn({action:yn.dlGetUserState})})),rB=(n,...o)=>t(void 0,[n,...o],void 0,(function*(t,n=!1){if(t&&!t.isTrusted&&!n)return;const o=yield Rn({action:$n.dlGetAppSettings});yield lB(),yield oB();const i=yield iB();Bn(i,xt.TRANSLATOR)&&(Ca(e.websiteData.websiteLanguage)&&(Sa(o.selectedTargetLanguage,e.websiteData.websiteLanguage)&&!e.websiteData.isGoogleTranslatedActive||Ma(e.websiteData.websiteLanguage,o.languagesForTranslation,p)||o.blacklistDomains.includes(e.websiteData.hostname)||my(window.location.host,gy)||(Ma(e.websiteData.websiteLanguage,o.languagesForTranslation,u)&&Gk(e.websiteData.websiteLanguage,b),o.enableFullPageTranslation&&window===window.parent&&(yield yq(),Rn({action:Ln.dlTrackFptPopupOpen,payload:{trigger:bn}})))))})),sB=()=>t(void 0,void 0,void 0,(function*(){yield oB(),document.getElementsByTagName("deepl-input-controller").length||Lq()})),aB=()=>t(void 0,void 0,void 0,(function*(){yield oB(),yield Uq(L_)})),lB=()=>t(void 0,void 0,void 0,(function*(){Ag()&&xq(),Zg()&&$q(),um()&&Aq(),(yield cB())&&Dq()})),cB=()=>t(void 0,void 0,void 0,(function*(){var e;if("true"===localStorage.getItem("__DEEPL_INLINE_HIGHLIGHTS_TEST_MODE__"))return!0;if(yield t(void 0,void 0,void 0,(function*(){var e;const t=yield Bl();return null!==(e=null==t?void 0:t.hideWrite)&&void 0!==e&&e})))return!1;if(yield t(void 0,void 0,void 0,(function*(){var e;const t=yield Bl();return null!==(e=null==t?void 0:t.requireLogin)&&void 0!==e&&e})))return!1;if(!zq())return!1;if(Ep())return!1;const n=chrome.i18n.getUILanguage(),o=n?$a(n).toLowerCase():null;if(!o||!["en","de","es","fr","it"].includes(o))return!1;const i=yield iB();if(Hn(i,xt.WRITE))return!1;if(jn(i))return!1;const r=yield Rn({action:$n.dlGetAppSettings});if(hy(window.location.host,window.location.href)||(null!==(e=r.blacklistDomainsForWriting)&&void 0!==e?e:[]).includes(window.location.host))return!1;try{const e=yield Rn({action:An.dlGetExperiments,payload:{forceFetch:!1}});return 2===Ol(e,Il)}catch(e){return!1}})),dB=e=>{cf.set(e)},uB=e=>t(void 0,void 0,void 0,(function*(){const t=()=>{var t,n;for(const t of Object.keys(Qe))if(Qe[t]&&e.match(Qe[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),o=e&&(null===(n=null===(t=new URL(e.getAttribute("action")))||void 0===t?void 0:t.hostname)||void 0===n?void 0:n.toLowerCase());if(o)for(const e of Object.keys(et))if(et[e]&&o.includes(et[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys(tt))if(tt[e]&&document.querySelector(`#${tt[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},n=t();n?Rn({action:Ln.dlTrackLandingOnWebsite,payload:{website:n}}):setTimeout((()=>{const e=t();e&&Rn({action:Ln.dlTrackLandingOnWebsite,payload:{website:e}})}),2e3)})),pB=e=>t(void 0,[e],void 0,(function*({eventType:e,controller:t,sourceTextLength:n,targetTextLength:o,error:i,metaDataOverride:r={}}){const s=null==t?void 0:t.getTicketLanguageInformation(),a=yield Rn({action:$n.dlGetAppSettings}),l=Object.assign({agentLanguage:a.selectedTargetLanguage,ticketLanguage:null==s?void 0:s.language,isTicketLanguageAutodetected:null==s?void 0:s.isDetected,isTicketLanguageSupported:null==s?void 0:s.isSupported,isAutoTranslateEnabled:t.getIsAutoTranslatedEnabled(),sourceTextLength:n,targetTextLength:o,inputHasSelection:t.getInputHasSelection(),error:i},r);yield Rn({action:Ln.dlTrackZendeskCustomizationEvent,payload:{eventType:e,zendeskMetaData:l}})})),gB=e=>t(void 0,[e],void 0,(function*({eventType:e,lang:t,sourceLength:n,targetLength:o,nicheIntegration:i=at.default,error:r,metaDataOverride:s={},trigger:a}){yield Rn({action:Ln.dlTrackDeeplWriteEvent,payload:{eventType:e,deeplWriteMetaData:Object.assign({lang:t,sourceLength:n,targetLength:o,nicheIntegration:i,error:r,trigger:a},s)}})}));function mB(e){k_(e)}function hB(){return t(this,void 0,void 0,(function*(){if(yield Hl())return;const e=Tp();e&&Nn(W,{theme:K.ads_theme,matchedWord:e})}))}const fB="pt-1375_brex_servicenow_inject_icons",vB=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"deepl.com"===`${e.at(-2)}.${e.at(-1)}`},_B=()=>bB()||wB(),wB=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&("service-now.com"===e.hostname||"servicenow.com"===e.hostname)},bB=()=>/\.service-now\.com$/.test(window.location.hostname),yB=()=>t(void 0,void 0,void 0,(function*(){if(vB())return!1;if(_B())try{return yield Rn({action:In.dlCheckFeatureFlagEnabled,payload:{featureFlagName:fB}})}catch(e){return!1}return!0})),EB=()=>t(void 0,void 0,void 0,(function*(){if(vB())return!1;if(_B())try{return yield Rn({action:In.dlCheckFeatureFlagEnabled,payload:{featureFlagName:fB}})}catch(e){return!1}return!0})),TB={log:console.log,error:console.error,warn:console.warn,info:console.info,debug:console.debug},xB=(e,n={})=>{if(!{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.LOGGING.SEQ_ENABLED)return;const o=(o,...i)=>{try{let r="";try{for(const e of i)r+=JSON.stringify(e)+" "}catch(e){r=i.toString()}((e,n,...o)=>{t(void 0,[e,n,...o],void 0,(function*(e,t,n={}){try{return yield fetch("http://localhost:5579/api/events/raw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Events:[{Timestamp:(new Date).toISOString(),Level:e,MessageTemplate:t,Properties:n}]})})}catch(e){}}))})(o,r.trim(),Object.assign({scope:e},n))}catch(e){}};console.log=(...e)=>{TB.log(...e),o("Information",...e)},console.error=(...e)=>{TB.error(...e),o("Error",...e)},console.warn=(...e)=>{TB.warn(...e),o("Warning",...e)},console.info=(...e)=>{TB.info(...e),o("Information",...e)},console.debug=(...e)=>{TB.debug(...e),o("Debug",...e)}};ja()&&xB("content-script",{page:window.location.href}),ja()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";Wa(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";Wa(t)&&e.preventDefault()})));const{client:$B,scope:SB}=hm();if($B.init(),ja()&&{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.HOT_RELOAD.active&&!Ep()){new WebSocket(`ws://localhost:${{IS_PROD:!0,BASE_URLS:{auth:"https://auth.deepl.com",legacyAuth:"https://www.deepl.com",dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.71.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.71.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiFree:"https://oneshot-free.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.www.deepl.com/v1",login:"https://www.deepl.com/auth/login",ssoLogin:"https://w.deepl.com/oidc/auth",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",allBrowserFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_5hVyvZAQlQOL5RQ",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chromewebstore.google.com/detail/deepl-translate-and-write/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-and-writ/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization",learnWhyGeoBlocked:"https://www.deepl.com/restricted-territories"},APP_VERSION:"1.71.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,IMPROVE_WRITING:!0,INLINE_HIGHLIGHTS:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!1,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!0}}.HOT_RELOAD.webSocketServerPort}`).addEventListener("message",(e=>{"file-change"===e.data&&chrome.runtime.sendMessage("reload")}))}document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(vO),gm((()=>{L_.update({translationState:g.showOriginal}),I_(),chrome.runtime.onMessage.removeListener(vO)}))}catch(e){Ka(e,SB)}function CB(){chrome.runtime.lastError&&ja(),document.hasFocus()?setTimeout((()=>{kB()}),1e3):window.addEventListener("focus",kB)}function kB(){window.removeEventListener("focus",kB);{const e=io();ja();const t=chrome.runtime.connect({name:e});return bO(t),lO(t),t.onDisconnect.addListener(CB),t}}try{$k(window.location.host),uB(window.location.host),Sk(window.location.href),"complete"===document.readyState?rB(null,!0):window.addEventListener("load",rB),function(){t(this,void 0,void 0,(function*(){(yield yB())&&sB(),(yield EB())&&aB()}))}(),xk(window.location.host),kB(),hB()}catch(e){Ka(e,SB)}function LB(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function AB(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function IB(e,t){var n,o,i,r,s;const a=AB(e),l=AB(t),c=function(e,t){const n=(e,t)=>e===t,o=(()=>{let o=0;for(;n(e[o],t[o])&&o<e.length;)++o;return o})();if(o===e.length&&e.length===t.length)return[o];const i=(()=>{let i=e.length-1,r=t.length-1;for(;n(e[i],t[r])&&i>o&&r>o;)--i,--r;return e.length-i-1})(),r=e.length-o-i+1,s=t.length-o-i+1,a=r+s,l=new Map,c=new Map;l.set(1,0),c.set(1,null);for(let d=0;d<=a;++d)for(let a=-d;a<=d;a+=2){let u,p,g;for(a==-d||a!=d&&l.get(a-1)<l.get(a+1)?(u=l.get(a+1),g=[c.get(a+1),void 0,void 0]):(u=l.get(a-1)+1,g=[c.get(a-1),void 0,void 0]),p=u-a;u<r&&p<s&&n(e[u+o],t[p+o]);)++u,++p;if(u>=r&&p>=s){g[1]=r+i-1,g[2]=s+i-1;let e=-1,t=-1;const n=[];for(;g;)n.push([g[1],g[2]]),g=g[0];let a=[],l=null;for(;n.length;){const o=n.pop(),i=o[0],r=o[1],s=i-e,c=r-t,d=Math.min(s,c);s>d&&(l?l[0]+=s-d:(l=[s-d,0],a.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],a.push(l))),d>0&&(a.push(d),l=null),e=i,t=r}return a[0]=a[0]-1+o,a}l.set(a,u),g[1]=u,g[2]=p,c.set(a,g)}throw new Error("[diff]","should not happen?")}(a,l),d=[];let u=0,p=0,g=0;for(;u<c.length;){const e=c[u];let t=0;for(let o=p+e-1;o>=p;o-=1)t+=(null===(n=a[o])||void 0===n?void 0:n.match(/^\s/))?2:1;p+=e,g+=e;let m=0,h=0;if(p<a.length&&g<l.length&&(null===(o=a[p])||void 0===o?void 0:o.match(/^\s/))&&(null===(i=l[g])||void 0===i?void 0:i.match(/^\s/))&&(m-=1,h-=1,t+=1),d.push(t),u+=1,u<c.length){const[e,t]=c[u];for(let t=p+e-1;t>=p;t-=1)m+=(null===(r=a[t])||void 0===r?void 0:r.match(/^\s/))?2:1;for(let e=g+t-1;e>=g;e-=1)h+=(null===(s=l[e])||void 0===s?void 0:s.match(/^\s/))?2:1;d.push([Math.max(m,0),Math.max(h,0)]),u+=1,p+=e,g+=t}}return[d,a,l,c]}return e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER=1500,e.GMAIL_CHAR_LIMIT_FREE_USER=WN,e.GMAIL_INTERVAL=800,e.GMAIL_UI_ADDED_ATTRIBUTE=GN,e.applyMutationsToIntersectionObserver=vS,e.assertNotNull=R_,e.autodetectLanguage=nB,e.backgroundPortListener=EO,e.buildGDocsPasteData=Wg,e.calculateNewIconPosition=Rg,e.canInjectInlineTranslation=EB,e.canInjectInputTranslation=yB,e.canTranslateElementForDomain=kk,e.checkCharacterLimit=Kq,e.checkForIntersectionWithOpenDialogs=jP,e.checkIfInputHasSelection=HN,e.clearMessageControllers=BN,e.clickAtCoordinates=VP,e.clickOnElement=KP,e.contentScriptMessagingActions=bc,e.createAlert=k_,e.createGmailController=Aq,e.createGmailControllerUtil=()=>document.createElement(NP.HTML_TAG_NAME),e.createGoogleDocsIcon=xq,e.createGoogleSlidesController=$q,e.createHighlightingController=Dq,e.createHighlightsForSentence=function(e,t){const n=IB(t,e),o=[];let i=0,r=0,s=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(r,r+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=s,c.originalLength=l.length,c.originalOffset=a,s+=t.length,a+=l.length,o.push(c)}i+=e[0],r+=e[1]}else{let t=0;n[2].slice(r,r+e).forEach((e=>t+=e.length)),s+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,r+=e}})),o},e.createInlineTranslateSettingsTooltip=wq,e.createInlineTranslateTooltip=vq,e.createInlineTranslationTrigger=Pq,e.createInlineTranslationTriggerListener=Uq,e.createInputTranslationController=Lq,e.createNotification=qq,e.createPageLoadPopup=yq,e.createReviewTranslateWriteWindow=hq,e.createSubmitButtonTooltip=jN,e.createTicketController=_N,e.createZendeskController=function(){try{if(gN())return;dq=mN(),document.documentElement.appendChild(dq),dq.createDOM(),gm((()=>{kq()}))}catch(e){ja(),Ka(e,gq)}},e.createZendeskControllerElement=mN,e.customizePage=xk,e.dataSetKeys=bS,e.defaultTranslationStrategy=Lk,e.detectTicketLanguageInLiveChat=ON,e.detectTicketLanguageInTicket=IN,e.detectTicketType=SN,e.disableExtension=yN,e.displayAds=hB,e.doesElementOnlyHoldSingleTranslatableChild=Ik,e.doesNodeOnlyWrapIndividualSemanticBlocks=Rk,e.elementHasTranslateToolbar=HP,e.executeFullpageTranslation=zk,e.extractSentencesAndEntitiesFromData=Xg,e.findEditableContent=function n(o,i){return t(this,void 0,void 0,(function*(){try{if(i.dataset&&"true"===i.dataset.dlInputTranslation||i.dataset&&"true"===i.dataset.dlNoInputTranslation)return;if("true"===i.contentEditable||"TEXTAREA"===i.nodeName&&i.rows>1){if("none"===window.getComputedStyle(i).display)return;if(!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(i))return;if(!Ck(i,e.websiteData.hostname))return;i.dataset.dlInputTranslation="true",o.push(i)}for(const e of i.childNodes)n(o,e)}catch(e){ja(),Ka(e,PA)}}))},e.findEmailToAndFromAddressTable=zP,e.findForwardButtonInDocument=JP,e.findOriginalElement=LS,e.findSiblingDivWithAnyMessageId=YP,e.fptState=rS,e.generateLanguagesWithShortcodeForDropdown=GP,e.getActivePane=fN,e.getActiveTermbases=()=>{const e=gN();return e?e.getActiveTermbases():[]},e.getBlocksFromString=function(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[r,s]=LB(e,t,o);if("end"===r&&(i=!0),o<s&&n.push({block:"main",text:e.substring(o,s)}),i)break;const a=e.indexOf(`</${r}>`,s);-1===a?(n.push({block:r,text:e.substring(s+`<${r}>`.length)}),i=!0):(n.push({block:r,text:e.substring(s+`<${r}>`.length,a)}),o=a+`</${r}>`.length)}return n},e.getContextMessages=e=>{const t=[],n=CN(e).map(AN).map((e=>e.innerText)),o=[],i=[];for(let e=0;e<n.length;e++){const r=e%2==0?"start":"end";let s=Math.floor(e/2);if("end"===r&&(s=n.length-1-s),t.includes(s))break;if([...o,...i].reduce(((e,t)=>e+t.length),0)+n[s].length>3e3)break;"end"===r?i.unshift(n[s]):o.push(n[s]),t.push(s)}return[...o,...i]},e.getControllerFromMessage=UN,e.getCoordsOfWord=(e,t,n,o,i)=>{const r=document.createRange();if("#text"===e.nodeName)r.setStart(e,t),r.setEnd(e,t+n);else{if(!e.firstChild||"#text"!==e.firstChild.nodeName)return null;{const o=e.firstChild;r.setStart(o,t),r.setEnd(o,t+n)}}const s=r.getBoundingClientRect();return{top:s.top,left:s.left,right:s.right,bottom:s.bottom,original:o,replace:i,textNode:e,changeIndex:t,changeLength:n}},e.getDeepLExperimentsContext=()=>xh("deepl_experiments"),e.getDeepLSettingsContext=Xw,e.getDeepLSettingsPageNavigationContext=()=>xh("deepl_settings_page_navigation"),e.getDeepLWebsiteSettingsContext=Qw,e.getDeeplOnboardingNavigationContext=()=>xh("deepl_onboarding_navigation"),e.getElementCenterCoordinates=WP,e.getEnableAdvancedTriggerIcon=D_,e.getGDocsisEditMode=Ng,e.getGmailControllerUtil=UP,e.getIFrameAndEditable=Ig,e.getIconCoordinates=Mg,e.getItaInputEnabled=function(){return!0},e.getItaTranslateEnabled=function(){return!0},e.getItaWriteEnabled=O_,e.getMessageContent=AN,e.getMessageViewContainers=FP,e.getMessageWriteContainers=()=>{const e=Array.from(document.querySelectorAll('[role="textbox"]')).filter((e=>"true"===e.getAttribute("contenteditable")));return e},e.getMessagesFromTicket=CN,e.getScrollableElements=BA,e.getSelectedText=M_,e.getSelectionContent=Dg,e.getSentryClient=hm,e.getSentryContext=()=>xh("Sentry"),e.getSourceLangFromSlide=Yg,e.getTermbases=tB,e.getTextDirectionContext=()=>xh("text_direction"),e.getTicketController=vN,e.getTicketId=hN,e.getTicketStartingMessage=kN,e.getTicketStartingMessages=LN,e.getTranslatabilityInformation=Ak,e.getUserState=iB,e.getWebsiteSettings=oB,e.getWordsFromSentence=e=>{const{characterMappings:t,cleanSentence:n}=Gg(e),o=/[^\s.,:;!?"()*｟｠｡｢｣､･、。〈〉《》「」『』【】〔〕〖〗〘〙〚〛〝〞〟 〪 〫 〬 〭]/,i=[];let r="",s=0,a=!1;for(let e=0;e<n.length;e++){const l=n[e],c=o.test(l);c!==a&&r.length>0&&(i.push({text:r,isWord:a,offsetStart:s,offsetLength:r.length,offsetStartRaw:t[s],offsetLengthRaw:t[s+r.length]}),r=""),a=c,r+=l,1===r.length&&(s=e)}return r&&i.push({text:r,isWord:a,offsetStart:s,offsetLength:r.length,offsetStartRaw:t[s],offsetLengthRaw:t[s+r.length]}),i},e.getZendeskController=gN,e.handleInlineTrigger=ZI,e.handleItaTranslateBackendIdle=JI,e.handleItaWriteBackendIdle=XI,e.hasImmediateNonEmptyTextChild=Ok,e.hasNoTranslateFlag=kS,e.improveGDocsSelectionContent=Yq,e.initializeVisibilityObserver=fS,e.injectAskAReviewPopup=Bq,e.injectControllerInMessage=qN,e.injectInlineTranslation=aB,e.injectInputTranslation=sB,e.injectMissingMessageControllers=PN,e.injectMissingUIElements=wN,e.isAlreadyTranslated=yS,e.isChatGPT=RA,e.isDeepLCom=vB,e.isElementVisible=mS,e.isGDocs=Ag,e.isGSlides=Zg,e.isGmail=um,e.isIframeInView=$S,e.isInView=xS,e.isIncludedInTheText=function(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)},e.isInputArea=UA,e.isNonSubmitInput=DS,e.isOnMessageViewScreen=BP,e.isPlainTextElement=IS,e.isPreformattedElement=MS,e.isServiceNow=_B,e.isTextArea=OS,e.isTextNodeOnlySpecialCharacters=Mk,e.isWhiteListedForInlineHighlights=zq,e.isZendesk=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},e.onOpenPage=rB,e.pageListener=vO,e.pageListenerInner=_O,e.processEntityAfterTranslation=Qg,e.processGDocsCopyEvent=Pg,e.processIntersectionObserverChange=hS,e.querySidePanelOpenState=fO,e.reassembleGDocsTranslatedResult=Hg,e.reconnectItaSessionIfPresent=lO,e.reconstructSentencesWithEmptyStrings=dm,e.registerResetEventListener=dS,e.removeAllAttributes=Uk,e.removeAllDeeplElements=function(){!function(e){const t=document.getElementsByTagName(e);if(!t.length)return;for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}("deepl-input-controller")},e.removeGDocsEntities=jg,e.removeGmailController=Iq,e.removeGoogleDocsIcon=Sq,e.removeGoogleSlidesController=Cq,e.removeInlineTranslateSettingsTooltip=bq,e.removeInlineTranslateTooltip=_q,e.removeInlineTranslateTrigger=Rq,e.removeInputTextProcessorTrigger=Nq,e.removeInputTranslationController=Mq,e.removePageLoadPopup=Tq,e.removeReviewTranslateWriteWindow=fq,e.removeUIElementsFromList=qP,e.removeZendeskController=kq,e.removeZendeskToolbar=zN,e.removeZendeskUIElements=bN,e.replaceTranslatedGDocsContent=zg,e.resetFptStateSubscriptions=uS,e.restoreOriginalChildElements=AS,e.retrieveNestedElements=RS,e.revertTranslationState=sS,e.runCustomScriptsForDomain=$k,e.runCustomScriptsForSpecificUrl=Sk,e.sanitizeSentencesForEmptyStrings=cm,e.selectArea=Gq,e.sendActionToCurrentTab=e=>chrome.tabs.query({active:!0,currentWindow:!0},(t=>{chrome.tabs.sendMessage(t[0].id,e)})),e.sendMessageToBackgroundPort=yO,e.sendTranslationRequest=US,e.setAlreadyTranslated=ES,e.setBackgroundPort=bO,e.setDeepLExperimentsContext=()=>Th("deepl_experiments",qv),e.setDeepLSettingsContext=()=>Th("deepl_settings",Pv),e.setDeepLSettingsPageNavigationContext=()=>Th("deepl_settings_page_navigation",{SCREENS:Yw,currentScreen:Jw}),e.setDeeplOnboardingNavigationContext=(e,t)=>Th("deepl_onboarding_navigation",{currentStep:e,settings:Pv,trackStepChange:t}),e.setErrorVisibility=dB,e.setSentryContext=e=>Th("Sentry",e),e.setTextDirectionContext=()=>Th("text_direction",Pa()),e.setupEventTriggers=wS,e.shouldInjectInputIcon=Ck,e.shouldShowInlineHighlights=cB,e.showAlert=mB,e.simulateGSLidesSelectAll=Jg,e.swapChildren=SS,e.swapElements=CS,e.trackDeeplWriteEvent=gB,e.trackIFrameTranslationFailed=PS,e.trackPageLandingIfNeeded=uB,e.trackSuccessfulIFrameTranslation=NS,e.trackZendeskCustomizationEvent=pB,e.translateDomNodes=jS,e.translateGDocsSelectionContent=Zq,e.translateGSlidesInbloxkSelectionContent=Xq,e.translateGSlidesSelectionContent=Jq,e.translateInlineText=t=>{var n;if(t.targetLang&&(null===(n=window.getSelection())||void 0===n?void 0:n.toString())){const t=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||vq({websiteData:L_}),L_.update({translationState:g.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),Rn({action:Sn.dlRequestInlineTranslation,payload:{requests:[{text:t}],domainName:window.location.hostname,trigger:w,sourceLang:"auto",websiteLanguage:e.websiteData.websiteLanguage}}).then((e=>{L_.update({translationState:g.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:t,websiteLanguage:e[0].detected_source_language})})).catch((e=>{L_.update({translationState:g.none,originalSnippet:t,error:e.message?e.message:e})}))}},e.translateSelectionRightClick=Wq,e.translateWebPageRightClick=Eq,e.translateWebsite=Gk,e.translateZendeskMessage=eB,e.translateZendeskSelectionContent=Qq,e.triggerCopyEvent=Og,e.twitterState=TC,e.unsubscribeToWebsiteState=I_,e.updateInputIconLanguageInformation=NN,e.updateInputPositionerCoords=qA,e.updateIntegrationPanelIfExists=FN,e.updateToolbarAutoTranslateStatus=MN,e.updateToolbarLanguageInformation=DN,e.updateTopIconLanguageInformation=RN,e.updateWebsiteStateWithError=WI,e.updateWebsiteStateWithITADocumentState=sO,e.updateWebsiteStateWithITAFormality=e=>{L_.update({formality:e})},e.updateWebsiteStateWithITASourceLanguage=tO,e.updateWebsiteStateWithITASourceLanguageAutoDetected=iO,e.updateWebsiteStateWithITATargetText=QI,e.updateWebsiteStateWithITATranslateSourceLanguageUnsupported=cO,e.updateWebsiteStateWithITATranslateTargetLanguage=nO,e.updateWebsiteStateWithITATranslateTargetTextAlternatives=hO,e.updateWebsiteStateWithITAWriteDocumentState=aO,e.updateWebsiteStateWithITAWriteSourceLanguage=oO,e.updateWebsiteStateWithITAWriteSourceLanguageAutoDetected=rO,e.updateWebsiteStateWithITAWriteSourceLanguageUnsupported=dO,e.updateWebsiteStateWithITAWriteTargetText=eO,e.updateWebsiteStateWithITAWriteTargetTextAlternatives=mO,e.updateWebsiteStateWithTranslateGenericError=uO,e.updateWebsiteStateWithTranslateGeoBlockedError=pO,e.updateWebsiteStateWithWriteGenericError=gO,e.waitForElement=ZP,e.walkToClientRectResolveableElement=TS,e.websiteState=L_,e.whatsAppState=eC,e.youTubeState=sk,e}({});
//# sourceMappingURL=content.js.map
